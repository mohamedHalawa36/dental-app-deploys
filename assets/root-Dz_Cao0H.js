const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/web-BNbpXRz6.js","assets/QueryClientProvider-CKge5JBp.js","assets/chunk-SYFQ2XB5-BeKHOpyI.js","assets/auth-BmuYmWE-.js","assets/useAttachBackBtn-C76GWlTi.js","assets/query-D8PQ8-s7.js","assets/web-BEm8cm-q.js"])))=>i.map(i=>d[i]);
var se=t=>{throw TypeError(t)};var re=(t,e,i)=>e.has(t)||se("Cannot "+i);var r=(t,e,i)=>(re(t,e,"read from private field"),i?i.call(t):e.get(t)),P=(t,e,i)=>e.has(t)?se("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,i),m=(t,e,i,a)=>(re(t,e,"write to private field"),a?a.call(t,i):e.set(t,i),i);var Y=(t,e,i,a)=>({set _(n){m(t,e,n,i)},get _(){return r(t,e,a)}});import{u as Oe,t as N,_ as be,A as Ee,S as Pe,h as je,n as j,m as oe,M as Le,a as de,b as M,e as Ce,c as Ae,d as Qe,f as Me,o as ce,r as le,g as Se,i as pe,p as he,s as qe,Q as De,T as Fe,w as Te,j as Ue}from"./QueryClientProvider-CKge5JBp.js";import{r as ee,o as $e,n as c,N as ue,p as _e,M as Re,L as He,S as Ie,q as Ke,O as Be,t as We}from"./chunk-SYFQ2XB5-BeKHOpyI.js";import{g as Ge,a as Ve}from"./auth-BmuYmWE-.js";import{P as ze,u as Je}from"./useAttachBackBtn-C76GWlTi.js";import{Q as Ye}from"./query-D8PQ8-s7.js";const Xe="/assets/app-BGVKYJ-u.css",Ze=[{rel:"apple-touch-icon",href:"icons/apple-icon-180.png"},{rel:"apple-touch-startup-image",href:"icons/apple-splash-2048-2732.jpg",media:"(device-width: 1024px) and (device-height: 1366px) and (-webkit-device-pixel-ratio: 2) and (orientation: portrait)"},{rel:"apple-touch-startup-image",href:"icons/apple-splash-2732-2048.jpg",media:"(device-width: 1024px) and (device-height: 1366px) and (-webkit-device-pixel-ratio: 2) and (orientation: landscape)"},{rel:"apple-touch-startup-image",href:"icons/apple-splash-1668-2388.jpg",media:"(device-width: 834px) and (device-height: 1194px) and (-webkit-device-pixel-ratio: 2) and (orientation: portrait)"},{rel:"apple-touch-startup-image",href:"icons/apple-splash-2388-1668.jpg",media:"(device-width: 834px) and (device-height: 1194px) and (-webkit-device-pixel-ratio: 2) and (orientation: landscape)"},{rel:"apple-touch-startup-image",href:"icons/apple-splash-1536-2048.jpg",media:"(device-width: 768px) and (device-height: 1024px) and (-webkit-device-pixel-ratio: 2) and (orientation: portrait)"},{rel:"apple-touch-startup-image",href:"icons/apple-splash-2048-1536.jpg",media:"(device-width: 768px) and (device-height: 1024px) and (-webkit-device-pixel-ratio: 2) and (orientation: landscape)"},{rel:"apple-touch-startup-image",href:"icons/apple-splash-1640-2360.jpg",media:"(device-width: 820px) and (device-height: 1180px) and (-webkit-device-pixel-ratio: 2) and (orientation: portrait)"},{rel:"apple-touch-startup-image",href:"icons/apple-splash-2360-1640.jpg",media:"(device-width: 820px) and (device-height: 1180px) and (-webkit-device-pixel-ratio: 2) and (orientation: landscape)"},{rel:"apple-touch-startup-image",href:"icons/apple-splash-1668-2224.jpg",media:"(device-width: 834px) and (device-height: 1112px) and (-webkit-device-pixel-ratio: 2) and (orientation: portrait)"},{rel:"apple-touch-startup-image",href:"icons/apple-splash-2224-1668.jpg",media:"(device-width: 834px) and (device-height: 1112px) and (-webkit-device-pixel-ratio: 2) and (orientation: landscape)"},{rel:"apple-touch-startup-image",href:"icons/apple-splash-1620-2160.jpg",media:"(device-width: 810px) and (device-height: 1080px) and (-webkit-device-pixel-ratio: 2) and (orientation: portrait)"},{rel:"apple-touch-startup-image",href:"icons/apple-splash-2160-1620.jpg",media:"(device-width: 810px) and (device-height: 1080px) and (-webkit-device-pixel-ratio: 2) and (orientation: landscape)"},{rel:"apple-touch-startup-image",href:"icons/apple-splash-1488-2266.jpg",media:"(device-width: 744px) and (device-height: 1133px) and (-webkit-device-pixel-ratio: 2) and (orientation: portrait)"},{rel:"apple-touch-startup-image",href:"icons/apple-splash-2266-1488.jpg",media:"(device-width: 744px) and (device-height: 1133px) and (-webkit-device-pixel-ratio: 2) and (orientation: landscape)"},{rel:"apple-touch-startup-image",href:"icons/apple-splash-1320-2868.jpg",media:"(device-width: 440px) and (device-height: 956px) and (-webkit-device-pixel-ratio: 3) and (orientation: portrait)"},{rel:"apple-touch-startup-image",href:"icons/apple-splash-2868-1320.jpg",media:"(device-width: 440px) and (device-height: 956px) and (-webkit-device-pixel-ratio: 3) and (orientation: landscape)"},{rel:"apple-touch-startup-image",href:"icons/apple-splash-1206-2622.jpg",media:"(device-width: 402px) and (device-height: 874px) and (-webkit-device-pixel-ratio: 3) and (orientation: portrait)"},{rel:"apple-touch-startup-image",href:"icons/apple-splash-2622-1206.jpg",media:"(device-width: 402px) and (device-height: 874px) and (-webkit-device-pixel-ratio: 3) and (orientation: landscape)"},{rel:"apple-touch-startup-image",href:"icons/apple-splash-1290-2796.jpg",media:"(device-width: 430px) and (device-height: 932px) and (-webkit-device-pixel-ratio: 3) and (orientation: portrait)"},{rel:"apple-touch-startup-image",href:"icons/apple-splash-2796-1290.jpg",media:"(device-width: 430px) and (device-height: 932px) and (-webkit-device-pixel-ratio: 3) and (orientation: landscape)"},{rel:"apple-touch-startup-image",href:"icons/apple-splash-1179-2556.jpg",media:"(device-width: 393px) and (device-height: 852px) and (-webkit-device-pixel-ratio: 3) and (orientation: portrait)"},{rel:"apple-touch-startup-image",href:"icons/apple-splash-2556-1179.jpg",media:"(device-width: 393px) and (device-height: 852px) and (-webkit-device-pixel-ratio: 3) and (orientation: landscape)"},{rel:"apple-touch-startup-image",href:"icons/apple-splash-1170-2532.jpg",media:"(device-width: 390px) and (device-height: 844px) and (-webkit-device-pixel-ratio: 3) and (orientation: portrait)"},{rel:"apple-touch-startup-image",href:"icons/apple-splash-2532-1170.jpg",media:"(device-width: 390px) and (device-height: 844px) and (-webkit-device-pixel-ratio: 3) and (orientation: landscape)"},{rel:"apple-touch-startup-image",href:"icons/apple-splash-1284-2778.jpg",media:"(device-width: 428px) and (device-height: 926px) and (-webkit-device-pixel-ratio: 3) and (orientation: portrait)"},{rel:"apple-touch-startup-image",href:"icons/apple-splash-2778-1284.jpg",media:"(device-width: 428px) and (device-height: 926px) and (-webkit-device-pixel-ratio: 3) and (orientation: landscape)"},{rel:"apple-touch-startup-image",href:"icons/apple-splash-1125-2436.jpg",media:"(device-width: 375px) and (device-height: 812px) and (-webkit-device-pixel-ratio: 3) and (orientation: portrait)"},{rel:"apple-touch-startup-image",href:"icons/apple-splash-2436-1125.jpg",media:"(device-width: 375px) and (device-height: 812px) and (-webkit-device-pixel-ratio: 3) and (orientation: landscape)"},{rel:"apple-touch-startup-image",href:"icons/apple-splash-1242-2688.jpg",media:"(device-width: 414px) and (device-height: 896px) and (-webkit-device-pixel-ratio: 3) and (orientation: portrait)"},{rel:"apple-touch-startup-image",href:"icons/apple-splash-2688-1242.jpg",media:"(device-width: 414px) and (device-height: 896px) and (-webkit-device-pixel-ratio: 3) and (orientation: landscape)"},{rel:"apple-touch-startup-image",href:"icons/apple-splash-828-1792.jpg",media:"(device-width: 414px) and (device-height: 896px) and (-webkit-device-pixel-ratio: 2) and (orientation: portrait)"},{rel:"apple-touch-startup-image",href:"icons/apple-splash-1792-828.jpg",media:"(device-width: 414px) and (device-height: 896px) and (-webkit-device-pixel-ratio: 2) and (orientation: landscape)"},{rel:"apple-touch-startup-image",href:"icons/apple-splash-1242-2208.jpg",media:"(device-width: 414px) and (device-height: 736px) and (-webkit-device-pixel-ratio: 3) and (orientation: portrait)"},{rel:"apple-touch-startup-image",href:"icons/apple-splash-2208-1242.jpg",media:"(device-width: 414px) and (device-height: 736px) and (-webkit-device-pixel-ratio: 3) and (orientation: landscape)"},{rel:"apple-touch-startup-image",href:"icons/apple-splash-750-1334.jpg",media:"(device-width: 375px) and (device-height: 667px) and (-webkit-device-pixel-ratio: 2) and (orientation: portrait)"},{rel:"apple-touch-startup-image",href:"icons/apple-splash-1334-750.jpg",media:"(device-width: 375px) and (device-height: 667px) and (-webkit-device-pixel-ratio: 2) and (orientation: landscape)"},{rel:"apple-touch-startup-image",href:"icons/apple-splash-640-1136.jpg",media:"(device-width: 320px) and (device-height: 568px) and (-webkit-device-pixel-ratio: 2) and (orientation: portrait)"},{rel:"apple-touch-startup-image",href:"icons/apple-splash-1136-640.jpg",media:"(device-width: 320px) and (device-height: 568px) and (-webkit-device-pixel-ratio: 2) and (orientation: landscape)"}];function Ne({children:t}){const[e,i]=ee.useState(!0),{user:a,setUser:n}=Oe(),{pathname:s}=$e();ee.useEffect(()=>{(async()=>{var p;const{data:h,error:w}=await Ge();if(w){n(null),i(!1),N.error("لم نستطع العثور على معلومات المستخدم، برجاء تسجيل الدخول");return}const x=(p=h==null?void 0:h.session)==null?void 0:p.user,d=(x==null?void 0:x.id)===(a==null?void 0:a.id);if(!x)n(null);else if(!d){const{data:Q,error:k}=await Ve(x.id);k||n(Q)}i(!1)})()},[n,a==null?void 0:a.id]);const o=s==="/login";return e?c.jsx(ze,{}):a?o?c.jsx(ue,{to:"/",replace:!0}):t:o?t:c.jsx(ue,{to:"/login",replace:!0})}const X=()=>{N.dismiss(),navigator.onLine||N.error("No internet connection"),navigator.onLine&&N.success("Connection Restored")};/*! Capacitor: https://capacitorjs.com/ - MIT License */var B;(function(t){t.Unimplemented="UNIMPLEMENTED",t.Unavailable="UNAVAILABLE"})(B||(B={}));class ae extends Error{constructor(e,i,a){super(e),this.message=e,this.code=i,this.data=a}}const et=t=>{var e,i;return t!=null&&t.androidBridge?"android":!((i=(e=t==null?void 0:t.webkit)===null||e===void 0?void 0:e.messageHandlers)===null||i===void 0)&&i.bridge?"ios":"web"},tt=t=>{const e=t.CapacitorCustomPlatform||null,i=t.Capacitor||{},a=i.Plugins=i.Plugins||{},n=()=>e!==null?e.name:et(t),s=()=>n()!=="web",o=d=>{const p=w.get(d);return!!(p!=null&&p.platforms.has(n())||l(d))},l=d=>{var p;return(p=i.PluginHeaders)===null||p===void 0?void 0:p.find(Q=>Q.name===d)},h=d=>t.console.error(d),w=new Map,x=(d,p={})=>{const Q=w.get(d);if(Q)return console.warn(`Capacitor plugin "${d}" already registered. Cannot register plugins twice.`),Q.proxy;const k=n(),b=l(d);let y;const ie=async()=>(!y&&k in p?y=typeof p[k]=="function"?y=await p[k]():y=p[k]:e!==null&&!y&&"web"in p&&(y=typeof p.web=="function"?y=await p.web():y=p.web),y),V=(f,g)=>{var C,D;if(b){const F=b==null?void 0:b.methods.find(E=>g===E.name);if(F)return F.rtype==="promise"?E=>i.nativePromise(d,g.toString(),E):(E,z)=>i.nativeCallback(d,g.toString(),E,z);if(f)return(C=f[g])===null||C===void 0?void 0:C.bind(f)}else{if(f)return(D=f[g])===null||D===void 0?void 0:D.bind(f);throw new ae(`"${d}" plugin is not implemented on ${k}`,B.Unimplemented)}},v=f=>{let g;const C=(...D)=>{const F=ie().then(E=>{const z=V(E,f);if(z){const J=z(...D);return g=J==null?void 0:J.remove,J}else throw new ae(`"${d}.${f}()" is not implemented on ${k}`,B.Unimplemented)});return f==="addListener"&&(F.remove=async()=>g()),F};return C.toString=()=>`${f.toString()}() { [capacitor code] }`,Object.defineProperty(C,"name",{value:f,writable:!1,configurable:!1}),C},O=v("addListener"),q=v("removeListener"),_=(f,g)=>{const C=O({eventName:f},g),D=async()=>{const E=await C;q({eventName:f,callbackId:E},g)},F=new Promise(E=>C.then(()=>E({remove:D})));return F.remove=async()=>{console.warn("Using addListener() without 'await' is deprecated."),await D()},F},W=new Proxy({},{get(f,g){switch(g){case"$$typeof":return;case"toJSON":return()=>({});case"addListener":return b?_:O;case"removeListener":return q;default:return v(g)}}});return a[d]=W,w.set(d,{name:d,proxy:W,platforms:new Set([...Object.keys(p),...b?[k]:[]])}),W};return i.convertFileSrc||(i.convertFileSrc=d=>d),i.getPlatform=n,i.handleError=h,i.isNativePlatform=s,i.isPluginAvailable=o,i.registerPlugin=x,i.Exception=ae,i.DEBUG=!!i.DEBUG,i.isLoggingEnabled=!!i.isLoggingEnabled,i},it=t=>t.Capacitor=tt(t),ne=it(typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{}),te=ne.registerPlugin;class ke{constructor(){this.listeners={},this.retainedEventArguments={},this.windowListeners={}}addListener(e,i){let a=!1;this.listeners[e]||(this.listeners[e]=[],a=!0),this.listeners[e].push(i);const s=this.windowListeners[e];s&&!s.registered&&this.addWindowListener(s),a&&this.sendRetainedArgumentsForEvent(e);const o=async()=>this.removeListener(e,i);return Promise.resolve({remove:o})}async removeAllListeners(){this.listeners={};for(const e in this.windowListeners)this.removeWindowListener(this.windowListeners[e]);this.windowListeners={}}notifyListeners(e,i,a){const n=this.listeners[e];if(!n){if(a){let s=this.retainedEventArguments[e];s||(s=[]),s.push(i),this.retainedEventArguments[e]=s}return}n.forEach(s=>s(i))}hasListeners(e){return!!this.listeners[e].length}registerWindowListener(e,i){this.windowListeners[i]={registered:!1,windowEventName:e,pluginEventName:i,handler:a=>{this.notifyListeners(i,a)}}}unimplemented(e="not implemented"){return new ne.Exception(e,B.Unimplemented)}unavailable(e="not available"){return new ne.Exception(e,B.Unavailable)}async removeListener(e,i){const a=this.listeners[e];if(!a)return;const n=a.indexOf(i);this.listeners[e].splice(n,1),this.listeners[e].length||this.removeWindowListener(this.windowListeners[e])}addWindowListener(e){window.addEventListener(e.windowEventName,e.handler),e.registered=!0}removeWindowListener(e){e&&(window.removeEventListener(e.windowEventName,e.handler),e.registered=!1)}sendRetainedArgumentsForEvent(e){const i=this.retainedEventArguments[e];i&&(delete this.retainedEventArguments[e],i.forEach(a=>{this.notifyListeners(e,a)}))}}const fe=t=>encodeURIComponent(t).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape),ge=t=>t.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent);class at extends ke{async getCookies(){const e=document.cookie,i={};return e.split(";").forEach(a=>{if(a.length<=0)return;let[n,s]=a.replace(/=/,"CAP_COOKIE").split("CAP_COOKIE");n=ge(n).trim(),s=ge(s).trim(),i[n]=s}),i}async setCookie(e){try{const i=fe(e.key),a=fe(e.value),n=`; expires=${(e.expires||"").replace("expires=","")}`,s=(e.path||"/").replace("path=",""),o=e.url!=null&&e.url.length>0?`domain=${e.url}`:"";document.cookie=`${i}=${a||""}${n}; path=${s}; ${o};`}catch(i){return Promise.reject(i)}}async deleteCookie(e){try{document.cookie=`${e.key}=; Max-Age=0`}catch(i){return Promise.reject(i)}}async clearCookies(){try{const e=document.cookie.split(";")||[];for(const i of e)document.cookie=i.replace(/^ +/,"").replace(/=.*/,`=;expires=${new Date().toUTCString()};path=/`)}catch(e){return Promise.reject(e)}}async clearAllCookies(){try{await this.clearCookies()}catch(e){return Promise.reject(e)}}}te("CapacitorCookies",{web:()=>new at});const nt=async t=>new Promise((e,i)=>{const a=new FileReader;a.onload=()=>{const n=a.result;e(n.indexOf(",")>=0?n.split(",")[1]:n)},a.onerror=n=>i(n),a.readAsDataURL(t)}),st=(t={})=>{const e=Object.keys(t);return Object.keys(t).map(n=>n.toLocaleLowerCase()).reduce((n,s,o)=>(n[s]=t[e[o]],n),{})},rt=(t,e=!0)=>t?Object.entries(t).reduce((a,n)=>{const[s,o]=n;let l,h;return Array.isArray(o)?(h="",o.forEach(w=>{l=e?encodeURIComponent(w):w,h+=`${s}=${l}&`}),h.slice(0,-1)):(l=e?encodeURIComponent(o):o,h=`${s}=${l}`),`${a}&${h}`},"").substr(1):null,ot=(t,e={})=>{const i=Object.assign({method:t.method||"GET",headers:t.headers},e),n=st(t.headers)["content-type"]||"";if(typeof t.data=="string")i.body=t.data;else if(n.includes("application/x-www-form-urlencoded")){const s=new URLSearchParams;for(const[o,l]of Object.entries(t.data||{}))s.set(o,l);i.body=s.toString()}else if(n.includes("multipart/form-data")||t.data instanceof FormData){const s=new FormData;if(t.data instanceof FormData)t.data.forEach((l,h)=>{s.append(h,l)});else for(const l of Object.keys(t.data))s.append(l,t.data[l]);i.body=s;const o=new Headers(i.headers);o.delete("content-type"),i.headers=o}else(n.includes("application/json")||typeof t.data=="object")&&(i.body=JSON.stringify(t.data));return i};class dt extends ke{async request(e){const i=ot(e,e.webFetchExtra),a=rt(e.params,e.shouldEncodeUrlParams),n=a?`${e.url}?${a}`:e.url,s=await fetch(n,i),o=s.headers.get("content-type")||"";let{responseType:l="text"}=s.ok?e:{};o.includes("application/json")&&(l="json");let h,w;switch(l){case"arraybuffer":case"blob":w=await s.blob(),h=await nt(w);break;case"json":h=await s.json();break;case"document":case"text":default:h=await s.text()}const x={};return s.headers.forEach((d,p)=>{x[p]=d}),{data:h,headers:x,status:s.status,url:s.url}}async get(e){return this.request(Object.assign(Object.assign({},e),{method:"GET"}))}async post(e){return this.request(Object.assign(Object.assign({},e),{method:"POST"}))}async put(e){return this.request(Object.assign(Object.assign({},e),{method:"PUT"}))}async patch(e){return this.request(Object.assign(Object.assign({},e),{method:"PATCH"}))}async delete(e){return this.request(Object.assign(Object.assign({},e),{method:"DELETE"}))}}te("CapacitorHttp",{web:()=>new dt});const ct=te("App",{web:()=>be(()=>import("./web-BNbpXRz6.js"),__vite__mapDeps([0,1,2,3,4,5])).then(t=>new t.AppWeb)}),lt=te("SplashScreen",{web:()=>be(()=>import("./web-BEm8cm-q.js"),__vite__mapDeps([6,1,2,3,4,5])).then(t=>new t.SplashScreenWeb)});function pt({children:t}){ee.useEffect(()=>(window.addEventListener("online",X),window.addEventListener("offline",X),()=>{window.removeEventListener("online",X),window.removeEventListener("offline",X)}),[]),ee.useEffect(()=>{const i=()=>{lt.hide()};return i(),document.addEventListener("DOMContentLoaded",i),()=>document.removeEventListener("DOMContentLoaded",i)},[]);const e=_e();return Je(({canGoBack:i})=>{const a=document.body;a.querySelector("span[data-radix-focus-guard]")||a.getAttribute("data-scroll-locked")==="1"||(i?e(-1):ct.minimizeApp())},[]),c.jsx(Ee,{children:c.jsx(Ne,{children:c.jsx("div",{className:"h-screen w-screen overflow-hidden",children:t})})})}var A,we,ht=(we=class extends Pe{constructor(e={}){super();P(this,A);this.config=e,m(this,A,new Map)}build(e,i,a){const n=i.queryKey,s=i.queryHash??je(n,i);let o=this.get(s);return o||(o=new Ye({cache:this,queryKey:n,queryHash:s,options:e.defaultQueryOptions(i),state:a,defaultOptions:e.getQueryDefaults(n)}),this.add(o)),o}add(e){r(this,A).has(e.queryHash)||(r(this,A).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const i=r(this,A).get(e.queryHash);i&&(e.destroy(),i===e&&r(this,A).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){j.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return r(this,A).get(e)}getAll(){return[...r(this,A).values()]}find(e){const i={exact:!0,...e};return this.getAll().find(a=>oe(i,a))}findAll(e={}){const i=this.getAll();return Object.keys(e).length>0?i.filter(a=>oe(e,a)):i}notify(e){j.batch(()=>{this.listeners.forEach(i=>{i(e)})})}onFocus(){j.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){j.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},A=new WeakMap,we),S,L,G,ye,ut=(ye=class extends Pe{constructor(e={}){super();P(this,S);P(this,L);P(this,G);this.config=e,m(this,S,new Set),m(this,L,new Map),m(this,G,0)}build(e,i,a){const n=new Le({mutationCache:this,mutationId:++Y(this,G)._,options:e.defaultMutationOptions(i),state:a});return this.add(n),n}add(e){r(this,S).add(e);const i=Z(e);if(typeof i=="string"){const a=r(this,L).get(i);a?a.push(e):r(this,L).set(i,[e])}this.notify({type:"added",mutation:e})}remove(e){if(r(this,S).delete(e)){const i=Z(e);if(typeof i=="string"){const a=r(this,L).get(i);if(a)if(a.length>1){const n=a.indexOf(e);n!==-1&&a.splice(n,1)}else a[0]===e&&r(this,L).delete(i)}}this.notify({type:"removed",mutation:e})}canRun(e){const i=Z(e);if(typeof i=="string"){const a=r(this,L).get(i),n=a==null?void 0:a.find(s=>s.state.status==="pending");return!n||n===e}else return!0}runNext(e){var a;const i=Z(e);if(typeof i=="string"){const n=(a=r(this,L).get(i))==null?void 0:a.find(s=>s!==e&&s.state.isPaused);return(n==null?void 0:n.continue())??Promise.resolve()}else return Promise.resolve()}clear(){j.batch(()=>{r(this,S).forEach(e=>{this.notify({type:"removed",mutation:e})}),r(this,S).clear(),r(this,L).clear()})}getAll(){return Array.from(r(this,S))}find(e){const i={exact:!0,...e};return this.getAll().find(a=>de(i,a))}findAll(e={}){return this.getAll().filter(i=>de(e,i))}notify(e){j.batch(()=>{this.listeners.forEach(i=>{i(e)})})}resumePausedMutations(){const e=this.getAll().filter(i=>i.state.isPaused);return j.batch(()=>Promise.all(e.map(i=>i.continue().catch(M))))}},S=new WeakMap,L=new WeakMap,G=new WeakMap,ye);function Z(t){var e;return(e=t.options.scope)==null?void 0:e.id}function me(t){return{onFetch:(e,i)=>{var x,d,p,Q,k;const a=e.options,n=(p=(d=(x=e.fetchOptions)==null?void 0:x.meta)==null?void 0:d.fetchMore)==null?void 0:p.direction,s=((Q=e.state.data)==null?void 0:Q.pages)||[],o=((k=e.state.data)==null?void 0:k.pageParams)||[];let l={pages:[],pageParams:[]},h=0;const w=async()=>{let b=!1;const y=v=>{Object.defineProperty(v,"signal",{enumerable:!0,get:()=>(e.signal.aborted?b=!0:e.signal.addEventListener("abort",()=>{b=!0}),e.signal)})},ie=Ce(e.options,e.fetchOptions),V=async(v,O,q)=>{if(b)return Promise.reject();if(O==null&&v.pages.length)return Promise.resolve(v);const _={queryKey:e.queryKey,pageParam:O,direction:q?"backward":"forward",meta:e.options.meta};y(_);const W=await ie(_),{maxPages:f}=e.options,g=q?Ae:Qe;return{pages:g(v.pages,W,f),pageParams:g(v.pageParams,O,f)}};if(n&&s.length){const v=n==="backward",O=v?ft:ve,q={pages:s,pageParams:o},_=O(a,q);l=await V(q,_,v)}else{const v=t??s.length;do{const O=h===0?o[0]??a.initialPageParam:ve(a,l);if(h>0&&O==null)break;l=await V(l,O),h++}while(h<v)}return l};e.options.persister?e.fetchFn=()=>{var b,y;return(y=(b=e.options).persister)==null?void 0:y.call(b,w,{queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},i)}:e.fetchFn=w}}}function ve(t,{pages:e,pageParams:i}){const a=e.length-1;return e.length>0?t.getNextPageParam(e[a],e,i[a],i):void 0}function ft(t,{pages:e,pageParams:i}){var a;return e.length>0?(a=t.getPreviousPageParam)==null?void 0:a.call(t,e[0],e,i[0],i):void 0}var u,T,U,R,H,$,I,K,xe,gt=(xe=class{constructor(t={}){P(this,u);P(this,T);P(this,U);P(this,R);P(this,H);P(this,$);P(this,I);P(this,K);m(this,u,t.queryCache||new ht),m(this,T,t.mutationCache||new ut),m(this,U,t.defaultOptions||{}),m(this,R,new Map),m(this,H,new Map),m(this,$,0)}mount(){Y(this,$)._++,r(this,$)===1&&(m(this,I,Me.subscribe(async t=>{t&&(await this.resumePausedMutations(),r(this,u).onFocus())})),m(this,K,ce.subscribe(async t=>{t&&(await this.resumePausedMutations(),r(this,u).onOnline())})))}unmount(){var t,e;Y(this,$)._--,r(this,$)===0&&((t=r(this,I))==null||t.call(this),m(this,I,void 0),(e=r(this,K))==null||e.call(this),m(this,K,void 0))}isFetching(t){return r(this,u).findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return r(this,T).findAll({...t,status:"pending"}).length}getQueryData(t){var i;const e=this.defaultQueryOptions({queryKey:t});return(i=r(this,u).get(e.queryHash))==null?void 0:i.state.data}ensureQueryData(t){const e=this.defaultQueryOptions(t),i=r(this,u).build(this,e),a=i.state.data;return a===void 0?this.fetchQuery(t):(t.revalidateIfStale&&i.isStaleByTime(le(e.staleTime,i))&&this.prefetchQuery(e),Promise.resolve(a))}getQueriesData(t){return r(this,u).findAll(t).map(({queryKey:e,state:i})=>{const a=i.data;return[e,a]})}setQueryData(t,e,i){const a=this.defaultQueryOptions({queryKey:t}),n=r(this,u).get(a.queryHash),s=n==null?void 0:n.state.data,o=Se(e,s);if(o!==void 0)return r(this,u).build(this,a).setData(o,{...i,manual:!0})}setQueriesData(t,e,i){return j.batch(()=>r(this,u).findAll(t).map(({queryKey:a})=>[a,this.setQueryData(a,e,i)]))}getQueryState(t){var i;const e=this.defaultQueryOptions({queryKey:t});return(i=r(this,u).get(e.queryHash))==null?void 0:i.state}removeQueries(t){const e=r(this,u);j.batch(()=>{e.findAll(t).forEach(i=>{e.remove(i)})})}resetQueries(t,e){const i=r(this,u),a={type:"active",...t};return j.batch(()=>(i.findAll(t).forEach(n=>{n.reset()}),this.refetchQueries(a,e)))}cancelQueries(t,e={}){const i={revert:!0,...e},a=j.batch(()=>r(this,u).findAll(t).map(n=>n.cancel(i)));return Promise.all(a).then(M).catch(M)}invalidateQueries(t,e={}){return j.batch(()=>{if(r(this,u).findAll(t).forEach(a=>{a.invalidate()}),(t==null?void 0:t.refetchType)==="none")return Promise.resolve();const i={...t,type:(t==null?void 0:t.refetchType)??(t==null?void 0:t.type)??"active"};return this.refetchQueries(i,e)})}refetchQueries(t,e={}){const i={...e,cancelRefetch:e.cancelRefetch??!0},a=j.batch(()=>r(this,u).findAll(t).filter(n=>!n.isDisabled()).map(n=>{let s=n.fetch(void 0,i);return i.throwOnError||(s=s.catch(M)),n.state.fetchStatus==="paused"?Promise.resolve():s}));return Promise.all(a).then(M)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const i=r(this,u).build(this,e);return i.isStaleByTime(le(e.staleTime,i))?i.fetch(e):Promise.resolve(i.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(M).catch(M)}fetchInfiniteQuery(t){return t.behavior=me(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(M).catch(M)}ensureInfiniteQueryData(t){return t.behavior=me(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return ce.isOnline()?r(this,T).resumePausedMutations():Promise.resolve()}getQueryCache(){return r(this,u)}getMutationCache(){return r(this,T)}getDefaultOptions(){return r(this,U)}setDefaultOptions(t){m(this,U,t)}setQueryDefaults(t,e){r(this,R).set(pe(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...r(this,R).values()],i={};return e.forEach(a=>{he(t,a.queryKey)&&Object.assign(i,a.defaultOptions)}),i}setMutationDefaults(t,e){r(this,H).set(pe(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...r(this,H).values()];let i={};return e.forEach(a=>{he(t,a.mutationKey)&&(i={...i,...a.defaultOptions})}),i}defaultQueryOptions(t){if(t._defaulted)return t;const e={...r(this,U).queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=je(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.queryFn===qe&&(e.enabled=!1),e}defaultMutationOptions(t){return t!=null&&t._defaulted?t:{...r(this,U).mutations,...(t==null?void 0:t.mutationKey)&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){r(this,u).clear(),r(this,T).clear()}},u=new WeakMap,T=new WeakMap,U=new WeakMap,R=new WeakMap,H=new WeakMap,$=new WeakMap,I=new WeakMap,K=new WeakMap,xe);function mt({children:t}){const e=new gt({defaultOptions:{queries:{refetchOnWindowFocus:!1}}});return c.jsx(De,{client:e,children:c.jsxs(c.Fragment,{children:[t,c.jsx(Fe,{richColors:!0,position:"top-left",theme:"light",closeButton:!0})]})})}const jt=()=>[{rel:"preconnect",href:"https://fonts.googleapis.com"},{rel:"preconnect",href:"https://fonts.gstatic.com",crossOrigin:"anonymous"},{rel:"stylesheet",href:"https://fonts.googleapis.com/css2?family=Alexandria:wght@100..900&display=swap"},{rel:"stylesheet",href:Xe},{rel:"manifest",href:"/manifest.webmanifest"},...Ze];function kt({children:t}){return c.jsxs("html",{lang:"ar",dir:"rtl",children:[c.jsxs("head",{children:[c.jsx("meta",{charSet:"utf-8"}),c.jsx("meta",{name:"viewport",content:"width=device-width, initial-scale=1"}),c.jsx("meta",{name:"mobile-web-app-capable",content:"yes"}),c.jsx(Re,{}),c.jsx(He,{})]}),c.jsxs("body",{className:"h-screen w-screen",children:[t,c.jsx(Ie,{}),c.jsx(Ke,{})]})]})}const Ot=Te(function(){return c.jsx(mt,{children:c.jsx(pt,{children:c.jsx(Be,{})})})}),Et=Ue(function({error:e}){let i="Oops!",a="An unexpected error occurred.",n;return We(e)&&(i=e.status===404?"404":"Error",a=e.status===404?"The requested page could not be found.":e.statusText||a),c.jsxs("main",{className:"container mx-auto p-4 pt-16",children:[c.jsx("h1",{children:i}),c.jsx("p",{children:a}),n]})});export{Et as E,kt as L,ke as W,jt as l,Ot as r};
