const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/web-B3ZFGxYG.js","assets/chunk-PVWAREVJ-chYXeG9N.js","assets/QueryClientProvider-BG5Uz7gk.js","assets/auth-B6PTLUuL.js","assets/useAttachBackBtn-DMXAl3MB.js","assets/query-Cdk5QfBS.js","assets/web-DlLuOi3k.js"])))=>i.map(i=>d[i]);
var re=t=>{throw TypeError(t)};var ae=(t,e,s)=>e.has(t)||re("Cannot "+s);var a=(t,e,s)=>(ae(t,e,"read from private field"),s?s.call(t):e.get(t)),x=(t,e,s)=>e.has(t)?re("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,s),_=(t,e,s,n)=>(ae(t,e,"write to private field"),n?n.call(t,s):e.set(t,s),s);var X=(t,e,s,n)=>({set _(i){_(t,e,i,s)},get _(){return a(t,e,n)}});import{r as ee,q as Ee,p as d,t as oe,v as ke,w as Le,x as Ae,M as Ce,L as Me,S as je,y as Qe,O as Se,i as De}from"./chunk-PVWAREVJ-chYXeG9N.js";import{u as qe,t as N,_ as we,A as Fe,e as Te,a as Ue,b as $e,S as be,M as Re,n as O,m as ce,c as Q,h as xe,d as de,f as He,o as le,r as ue,g as Ie,i as he,p as pe,s as Ke,Q as Be,T as We}from"./QueryClientProvider-BG5Uz7gk.js";import{g as Ge,a as Ve}from"./auth-B6PTLUuL.js";import{P as ze,u as Je}from"./useAttachBackBtn-DMXAl3MB.js";import{Q as Xe}from"./query-Cdk5QfBS.js";const Ye="/assets/app-DJAY9cJu.css",Ze=[{rel:"apple-touch-startup-image",href:"splash_screens/iPhone_16_Pro_Max_landscape.png",media:"screen and (device-width: 440px) and (device-height: 956px) and (-webkit-device-pixel-ratio: 3) and (orientation: landscape)"},{rel:"apple-touch-startup-image",href:"splash_screens/iPhone_16_Pro_landscape.png",media:"screen and (device-width: 402px) and (device-height: 874px) and (-webkit-device-pixel-ratio: 3) and (orientation: landscape)"},{rel:"apple-touch-startup-image",href:"splash_screens/iPhone_16_Plus__iPhone_15_Pro_Max__iPhone_15_Plus__iPhone_14_Pro_Max_landscape.png",media:"screen and (device-width: 430px) and (device-height: 932px) and (-webkit-device-pixel-ratio: 3) and (orientation: landscape)"},{rel:"apple-touch-startup-image",href:"splash_screens/iPhone_16__iPhone_15_Pro__iPhone_15__iPhone_14_Pro_landscape.png",media:"screen and (device-width: 393px) and (device-height: 852px) and (-webkit-device-pixel-ratio: 3) and (orientation: landscape)"},{rel:"apple-touch-startup-image",href:"splash_screens/iPhone_14_Plus__iPhone_13_Pro_Max__iPhone_12_Pro_Max_landscape.png",media:"screen and (device-width: 428px) and (device-height: 926px) and (-webkit-device-pixel-ratio: 3) and (orientation: landscape)"},{rel:"apple-touch-startup-image",href:"splash_screens/iPhone_16e__iPhone_14__iPhone_13_Pro__iPhone_13__iPhone_12_Pro__iPhone_12_landscape.png",media:"screen and (device-width: 390px) and (device-height: 844px) and (-webkit-device-pixel-ratio: 3) and (orientation: landscape)"},{rel:"apple-touch-startup-image",href:"splash_screens/iPhone_13_mini__iPhone_12_mini__iPhone_11_Pro__iPhone_XS__iPhone_X_landscape.png",media:"screen and (device-width: 375px) and (device-height: 812px) and (-webkit-device-pixel-ratio: 3) and (orientation: landscape)"},{rel:"apple-touch-startup-image",href:"splash_screens/iPhone_11_Pro_Max__iPhone_XS_Max_landscape.png",media:"screen and (device-width: 414px) and (device-height: 896px) and (-webkit-device-pixel-ratio: 3) and (orientation: landscape)"},{rel:"apple-touch-startup-image",href:"splash_screens/iPhone_11__iPhone_XR_landscape.png",media:"screen and (device-width: 414px) and (device-height: 896px) and (-webkit-device-pixel-ratio: 2) and (orientation: landscape)"},{rel:"apple-touch-startup-image",href:"splash_screens/iPhone_8_Plus__iPhone_7_Plus__iPhone_6s_Plus__iPhone_6_Plus_landscape.png",media:"screen and (device-width: 414px) and (device-height: 736px) and (-webkit-device-pixel-ratio: 3) and (orientation: landscape)"},{rel:"apple-touch-startup-image",href:"splash_screens/iPhone_8__iPhone_7__iPhone_6s__iPhone_6__4.7__iPhone_SE_landscape.png",media:"screen and (device-width: 375px) and (device-height: 667px) and (-webkit-device-pixel-ratio: 2) and (orientation: landscape)"},{rel:"apple-touch-startup-image",href:"splash_screens/4__iPhone_SE__iPod_touch_5th_generation_and_later_landscape.png",media:"screen and (device-width: 320px) and (device-height: 568px) and (-webkit-device-pixel-ratio: 2) and (orientation: landscape)"},{rel:"apple-touch-startup-image",href:"splash_screens/13__iPad_Pro_M4_landscape.png",media:"screen and (device-width: 1032px) and (device-height: 1376px) and (-webkit-device-pixel-ratio: 2) and (orientation: landscape)"},{rel:"apple-touch-startup-image",href:"splash_screens/12.9__iPad_Pro_landscape.png",media:"screen and (device-width: 1024px) and (device-height: 1366px) and (-webkit-device-pixel-ratio: 2) and (orientation: landscape)"},{rel:"apple-touch-startup-image",href:"splash_screens/11__iPad_Pro_M4_landscape.png",media:"screen and (device-width: 834px) and (device-height: 1210px) and (-webkit-device-pixel-ratio: 2) and (orientation: landscape)"},{rel:"apple-touch-startup-image",href:"splash_screens/11__iPad_Pro__10.5__iPad_Pro_landscape.png",media:"screen and (device-width: 834px) and (device-height: 1194px) and (-webkit-device-pixel-ratio: 2) and (orientation: landscape)"},{rel:"apple-touch-startup-image",href:"splash_screens/10.9__iPad_Air_landscape.png",media:"screen and (device-width: 820px) and (device-height: 1180px) and (-webkit-device-pixel-ratio: 2) and (orientation: landscape)"},{rel:"apple-touch-startup-image",href:"splash_screens/10.5__iPad_Air_landscape.png",media:"screen and (device-width: 834px) and (device-height: 1112px) and (-webkit-device-pixel-ratio: 2) and (orientation: landscape)"},{rel:"apple-touch-startup-image",href:"splash_screens/10.2__iPad_landscape.png",media:"screen and (device-width: 810px) and (device-height: 1080px) and (-webkit-device-pixel-ratio: 2) and (orientation: landscape)"},{rel:"apple-touch-startup-image",href:"splash_screens/9.7__iPad_Pro__7.9__iPad_mini__9.7__iPad_Air__9.7__iPad_landscape.png",media:"screen and (device-width: 768px) and (device-height: 1024px) and (-webkit-device-pixel-ratio: 2) and (orientation: landscape)"},{rel:"apple-touch-startup-image",href:"splash_screens/8.3__iPad_Mini_landscape.png",media:"screen and (device-width: 744px) and (device-height: 1133px) and (-webkit-device-pixel-ratio: 2) and (orientation: landscape)"}];function Ne({children:t}){const[e,s]=ee.useState(!0),{user:n,setUser:i}=qe(),{pathname:r}=Ee();ee.useEffect(()=>{(async()=>{var u;const{data:h,error:v}=await Ge();if(v){i(null),s(!1),N.error("لم نستطع العثور على معلومات المستخدم، برجاء تسجيل الدخول");return}const P=(u=h==null?void 0:h.session)==null?void 0:u.user,c=(P==null?void 0:P.id)===(n==null?void 0:n.id);if(!P)i(null);else if(!c){const{data:j,error:E}=await Ve(P.id);E||i(j)}s(!1)})()},[i,n==null?void 0:n.id]);const o=r==="/login";return e?d.jsx(ze,{}):n?o?d.jsx(oe,{to:"/",replace:!0}):t:o?t:d.jsx(oe,{to:"/login",replace:!0})}const Y=()=>{N.dismiss(),navigator.onLine||N.error("No internet connection"),navigator.onLine&&N.success("Connection Restored")};/*! Capacitor: https://capacitorjs.com/ - MIT License */var K;(function(t){t.Unimplemented="UNIMPLEMENTED",t.Unavailable="UNAVAILABLE"})(K||(K={}));class ne extends Error{constructor(e,s,n){super(e),this.message=e,this.code=s,this.data=n}}const et=t=>{var e,s;return t!=null&&t.androidBridge?"android":!((s=(e=t==null?void 0:t.webkit)===null||e===void 0?void 0:e.messageHandlers)===null||s===void 0)&&s.bridge?"ios":"web"},tt=t=>{const e=t.CapacitorCustomPlatform||null,s=t.Capacitor||{},n=s.Plugins=s.Plugins||{},i=()=>e!==null?e.name:et(t),r=()=>i()!=="web",o=c=>{const u=v.get(c);return!!(u!=null&&u.platforms.has(i())||l(c))},l=c=>{var u;return(u=s.PluginHeaders)===null||u===void 0?void 0:u.find(j=>j.name===c)},h=c=>t.console.error(c),v=new Map,P=(c,u={})=>{const j=v.get(c);if(j)return console.warn(`Capacitor plugin "${c}" already registered. Cannot register plugins twice.`),j.proxy;const E=i(),w=l(c);let y;const se=async()=>(!y&&E in u?y=typeof u[E]=="function"?y=await u[E]():y=u[E]:e!==null&&!y&&"web"in u&&(y=typeof u.web=="function"?y=await u.web():y=u.web),y),G=(f,g)=>{var b,L;if(w){const q=w==null?void 0:w.methods.find(A=>g===A.name);if(q)return q.rtype==="promise"?A=>s.nativePromise(c,g.toString(),A):(A,z)=>s.nativeCallback(c,g.toString(),A,z);if(f)return(b=f[g])===null||b===void 0?void 0:b.bind(f)}else{if(f)return(L=f[g])===null||L===void 0?void 0:L.bind(f);throw new ne(`"${c}" plugin is not implemented on ${E}`,K.Unimplemented)}},m=f=>{let g;const b=(...L)=>{const q=se().then(A=>{const z=G(A,f);if(z){const J=z(...L);return g=J==null?void 0:J.remove,J}else throw new ne(`"${c}.${f}()" is not implemented on ${E}`,K.Unimplemented)});return f==="addListener"&&(q.remove=async()=>g()),q};return b.toString=()=>`${f.toString()}() { [capacitor code] }`,Object.defineProperty(b,"name",{value:f,writable:!1,configurable:!1}),b},k=m("addListener"),D=m("removeListener"),V=(f,g)=>{const b=k({eventName:f},g),L=async()=>{const A=await b;D({eventName:f,callbackId:A},g)},q=new Promise(A=>b.then(()=>A({remove:L})));return q.remove=async()=>{console.warn("Using addListener() without 'await' is deprecated."),await L()},q},B=new Proxy({},{get(f,g){switch(g){case"$$typeof":return;case"toJSON":return()=>({});case"addListener":return w?V:k;case"removeListener":return D;default:return m(g)}}});return n[c]=B,v.set(c,{name:c,proxy:B,platforms:new Set([...Object.keys(u),...w?[E]:[]])}),B};return s.convertFileSrc||(s.convertFileSrc=c=>c),s.getPlatform=i,s.handleError=h,s.isNativePlatform=r,s.isPluginAvailable=o,s.registerPlugin=P,s.Exception=ne,s.DEBUG=!!s.DEBUG,s.isLoggingEnabled=!!s.isLoggingEnabled,s},st=t=>t.Capacitor=tt(t),ie=st(typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{}),te=ie.registerPlugin;class Oe{constructor(){this.listeners={},this.retainedEventArguments={},this.windowListeners={}}addListener(e,s){let n=!1;this.listeners[e]||(this.listeners[e]=[],n=!0),this.listeners[e].push(s);const r=this.windowListeners[e];r&&!r.registered&&this.addWindowListener(r),n&&this.sendRetainedArgumentsForEvent(e);const o=async()=>this.removeListener(e,s);return Promise.resolve({remove:o})}async removeAllListeners(){this.listeners={};for(const e in this.windowListeners)this.removeWindowListener(this.windowListeners[e]);this.windowListeners={}}notifyListeners(e,s,n){const i=this.listeners[e];if(!i){if(n){let r=this.retainedEventArguments[e];r||(r=[]),r.push(s),this.retainedEventArguments[e]=r}return}i.forEach(r=>r(s))}hasListeners(e){var s;return!!(!((s=this.listeners[e])===null||s===void 0)&&s.length)}registerWindowListener(e,s){this.windowListeners[s]={registered:!1,windowEventName:e,pluginEventName:s,handler:n=>{this.notifyListeners(s,n)}}}unimplemented(e="not implemented"){return new ie.Exception(e,K.Unimplemented)}unavailable(e="not available"){return new ie.Exception(e,K.Unavailable)}async removeListener(e,s){const n=this.listeners[e];if(!n)return;const i=n.indexOf(s);this.listeners[e].splice(i,1),this.listeners[e].length||this.removeWindowListener(this.windowListeners[e])}addWindowListener(e){window.addEventListener(e.windowEventName,e.handler),e.registered=!0}removeWindowListener(e){e&&(window.removeEventListener(e.windowEventName,e.handler),e.registered=!1)}sendRetainedArgumentsForEvent(e){const s=this.retainedEventArguments[e];s&&(delete this.retainedEventArguments[e],s.forEach(n=>{this.notifyListeners(e,n)}))}}const fe=t=>encodeURIComponent(t).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape),ge=t=>t.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent);class nt extends Oe{async getCookies(){const e=document.cookie,s={};return e.split(";").forEach(n=>{if(n.length<=0)return;let[i,r]=n.replace(/=/,"CAP_COOKIE").split("CAP_COOKIE");i=ge(i).trim(),r=ge(r).trim(),s[i]=r}),s}async setCookie(e){try{const s=fe(e.key),n=fe(e.value),i=`; expires=${(e.expires||"").replace("expires=","")}`,r=(e.path||"/").replace("path=",""),o=e.url!=null&&e.url.length>0?`domain=${e.url}`:"";document.cookie=`${s}=${n||""}${i}; path=${r}; ${o};`}catch(s){return Promise.reject(s)}}async deleteCookie(e){try{document.cookie=`${e.key}=; Max-Age=0`}catch(s){return Promise.reject(s)}}async clearCookies(){try{const e=document.cookie.split(";")||[];for(const s of e)document.cookie=s.replace(/^ +/,"").replace(/=.*/,`=;expires=${new Date().toUTCString()};path=/`)}catch(e){return Promise.reject(e)}}async clearAllCookies(){try{await this.clearCookies()}catch(e){return Promise.reject(e)}}}te("CapacitorCookies",{web:()=>new nt});const it=async t=>new Promise((e,s)=>{const n=new FileReader;n.onload=()=>{const i=n.result;e(i.indexOf(",")>=0?i.split(",")[1]:i)},n.onerror=i=>s(i),n.readAsDataURL(t)}),rt=(t={})=>{const e=Object.keys(t);return Object.keys(t).map(i=>i.toLocaleLowerCase()).reduce((i,r,o)=>(i[r]=t[e[o]],i),{})},at=(t,e=!0)=>t?Object.entries(t).reduce((n,i)=>{const[r,o]=i;let l,h;return Array.isArray(o)?(h="",o.forEach(v=>{l=e?encodeURIComponent(v):v,h+=`${r}=${l}&`}),h.slice(0,-1)):(l=e?encodeURIComponent(o):o,h=`${r}=${l}`),`${n}&${h}`},"").substr(1):null,ot=(t,e={})=>{const s=Object.assign({method:t.method||"GET",headers:t.headers},e),i=rt(t.headers)["content-type"]||"";if(typeof t.data=="string")s.body=t.data;else if(i.includes("application/x-www-form-urlencoded")){const r=new URLSearchParams;for(const[o,l]of Object.entries(t.data||{}))r.set(o,l);s.body=r.toString()}else if(i.includes("multipart/form-data")||t.data instanceof FormData){const r=new FormData;if(t.data instanceof FormData)t.data.forEach((l,h)=>{r.append(h,l)});else for(const l of Object.keys(t.data))r.append(l,t.data[l]);s.body=r;const o=new Headers(s.headers);o.delete("content-type"),s.headers=o}else(i.includes("application/json")||typeof t.data=="object")&&(s.body=JSON.stringify(t.data));return s};class ct extends Oe{async request(e){const s=ot(e,e.webFetchExtra),n=at(e.params,e.shouldEncodeUrlParams),i=n?`${e.url}?${n}`:e.url,r=await fetch(i,s),o=r.headers.get("content-type")||"";let{responseType:l="text"}=r.ok?e:{};o.includes("application/json")&&(l="json");let h,v;switch(l){case"arraybuffer":case"blob":v=await r.blob(),h=await it(v);break;case"json":h=await r.json();break;case"document":case"text":default:h=await r.text()}const P={};return r.headers.forEach((c,u)=>{P[u]=c}),{data:h,headers:P,status:r.status,url:r.url}}async get(e){return this.request(Object.assign(Object.assign({},e),{method:"GET"}))}async post(e){return this.request(Object.assign(Object.assign({},e),{method:"POST"}))}async put(e){return this.request(Object.assign(Object.assign({},e),{method:"PUT"}))}async patch(e){return this.request(Object.assign(Object.assign({},e),{method:"PATCH"}))}async delete(e){return this.request(Object.assign(Object.assign({},e),{method:"DELETE"}))}}te("CapacitorHttp",{web:()=>new ct});const dt=te("App",{web:()=>we(()=>import("./web-B3ZFGxYG.js"),__vite__mapDeps([0,1,2,3,4,5])).then(t=>new t.AppWeb)}),lt=te("SplashScreen",{web:()=>we(()=>import("./web-DlLuOi3k.js"),__vite__mapDeps([6,1,2,3,4,5])).then(t=>new t.SplashScreenWeb)});function ut({children:t}){ee.useEffect(()=>(window.addEventListener("online",Y),window.addEventListener("offline",Y),()=>{window.removeEventListener("online",Y),window.removeEventListener("offline",Y)}),[]),ee.useEffect(()=>{const s=()=>{lt.hide()};return s(),document.addEventListener("DOMContentLoaded",s),()=>document.removeEventListener("DOMContentLoaded",s)},[]);const e=ke();return Je(({canGoBack:s})=>{const n=document.body;n.querySelector("span[data-radix-focus-guard]")||n.getAttribute("data-scroll-locked")==="1"||(s?e(-1):dt.minimizeApp())},[]),d.jsx(Fe,{children:d.jsx(Ne,{children:d.jsx("div",{className:"h-screen w-screen overflow-hidden",children:t})})})}function _e(t){return{onFetch:(e,s)=>{var P,c,u,j,E;const n=e.options,i=(u=(c=(P=e.fetchOptions)==null?void 0:P.meta)==null?void 0:c.fetchMore)==null?void 0:u.direction,r=((j=e.state.data)==null?void 0:j.pages)||[],o=((E=e.state.data)==null?void 0:E.pageParams)||[];let l={pages:[],pageParams:[]},h=0;const v=async()=>{let w=!1;const y=m=>{Object.defineProperty(m,"signal",{enumerable:!0,get:()=>(e.signal.aborted?w=!0:e.signal.addEventListener("abort",()=>{w=!0}),e.signal)})},se=Te(e.options,e.fetchOptions),G=async(m,k,D)=>{if(w)return Promise.reject();if(k==null&&m.pages.length)return Promise.resolve(m);const B=(()=>{const L={client:e.client,queryKey:e.queryKey,pageParam:k,direction:D?"backward":"forward",meta:e.options.meta};return y(L),L})(),f=await se(B),{maxPages:g}=e.options,b=D?Ue:$e;return{pages:b(m.pages,f,g),pageParams:b(m.pageParams,k,g)}};if(i&&r.length){const m=i==="backward",k=m?ht:me,D={pages:r,pageParams:o},V=k(n,D);l=await G(D,V,m)}else{const m=t??r.length;do{const k=h===0?o[0]??n.initialPageParam:me(n,l);if(h>0&&k==null)break;l=await G(l,k),h++}while(h<m)}return l};e.options.persister?e.fetchFn=()=>{var w,y;return(y=(w=e.options).persister)==null?void 0:y.call(w,v,{client:e.client,queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},s)}:e.fetchFn=v}}}function me(t,{pages:e,pageParams:s}){const n=e.length-1;return e.length>0?t.getNextPageParam(e[n],e,s[n],s):void 0}function ht(t,{pages:e,pageParams:s}){var n;return e.length>0?(n=t.getPreviousPageParam)==null?void 0:n.call(t,e[0],e,s[0],s):void 0}var S,C,W,ve,pt=(ve=class extends be{constructor(e={}){super();x(this,S);x(this,C);x(this,W);this.config=e,_(this,S,new Set),_(this,C,new Map),_(this,W,0)}build(e,s,n){const i=new Re({mutationCache:this,mutationId:++X(this,W)._,options:e.defaultMutationOptions(s),state:n});return this.add(i),i}add(e){a(this,S).add(e);const s=Z(e);if(typeof s=="string"){const n=a(this,C).get(s);n?n.push(e):a(this,C).set(s,[e])}this.notify({type:"added",mutation:e})}remove(e){if(a(this,S).delete(e)){const s=Z(e);if(typeof s=="string"){const n=a(this,C).get(s);if(n)if(n.length>1){const i=n.indexOf(e);i!==-1&&n.splice(i,1)}else n[0]===e&&a(this,C).delete(s)}}this.notify({type:"removed",mutation:e})}canRun(e){const s=Z(e);if(typeof s=="string"){const n=a(this,C).get(s),i=n==null?void 0:n.find(r=>r.state.status==="pending");return!i||i===e}else return!0}runNext(e){var n;const s=Z(e);if(typeof s=="string"){const i=(n=a(this,C).get(s))==null?void 0:n.find(r=>r!==e&&r.state.isPaused);return(i==null?void 0:i.continue())??Promise.resolve()}else return Promise.resolve()}clear(){O.batch(()=>{a(this,S).forEach(e=>{this.notify({type:"removed",mutation:e})}),a(this,S).clear(),a(this,C).clear()})}getAll(){return Array.from(a(this,S))}find(e){const s={exact:!0,...e};return this.getAll().find(n=>ce(s,n))}findAll(e={}){return this.getAll().filter(s=>ce(e,s))}notify(e){O.batch(()=>{this.listeners.forEach(s=>{s(e)})})}resumePausedMutations(){const e=this.getAll().filter(s=>s.state.isPaused);return O.batch(()=>Promise.all(e.map(s=>s.continue().catch(Q))))}},S=new WeakMap,C=new WeakMap,W=new WeakMap,ve);function Z(t){var e;return(e=t.options.scope)==null?void 0:e.id}var M,ye,ft=(ye=class extends be{constructor(e={}){super();x(this,M);this.config=e,_(this,M,new Map)}build(e,s,n){const i=s.queryKey,r=s.queryHash??xe(i,s);let o=this.get(r);return o||(o=new Xe({client:e,queryKey:i,queryHash:r,options:e.defaultQueryOptions(s),state:n,defaultOptions:e.getQueryDefaults(i)}),this.add(o)),o}add(e){a(this,M).has(e.queryHash)||(a(this,M).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const s=a(this,M).get(e.queryHash);s&&(e.destroy(),s===e&&a(this,M).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){O.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return a(this,M).get(e)}getAll(){return[...a(this,M).values()]}find(e){const s={exact:!0,...e};return this.getAll().find(n=>de(s,n))}findAll(e={}){const s=this.getAll();return Object.keys(e).length>0?s.filter(n=>de(e,n)):s}notify(e){O.batch(()=>{this.listeners.forEach(s=>{s(e)})})}onFocus(){O.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){O.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},M=new WeakMap,ye),p,F,T,$,R,U,H,I,Pe,gt=(Pe=class{constructor(t={}){x(this,p);x(this,F);x(this,T);x(this,$);x(this,R);x(this,U);x(this,H);x(this,I);_(this,p,t.queryCache||new ft),_(this,F,t.mutationCache||new pt),_(this,T,t.defaultOptions||{}),_(this,$,new Map),_(this,R,new Map),_(this,U,0)}mount(){X(this,U)._++,a(this,U)===1&&(_(this,H,He.subscribe(async t=>{t&&(await this.resumePausedMutations(),a(this,p).onFocus())})),_(this,I,le.subscribe(async t=>{t&&(await this.resumePausedMutations(),a(this,p).onOnline())})))}unmount(){var t,e;X(this,U)._--,a(this,U)===0&&((t=a(this,H))==null||t.call(this),_(this,H,void 0),(e=a(this,I))==null||e.call(this),_(this,I,void 0))}isFetching(t){return a(this,p).findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return a(this,F).findAll({...t,status:"pending"}).length}getQueryData(t){var s;const e=this.defaultQueryOptions({queryKey:t});return(s=a(this,p).get(e.queryHash))==null?void 0:s.state.data}ensureQueryData(t){const e=this.defaultQueryOptions(t),s=a(this,p).build(this,e),n=s.state.data;return n===void 0?this.fetchQuery(t):(t.revalidateIfStale&&s.isStaleByTime(ue(e.staleTime,s))&&this.prefetchQuery(e),Promise.resolve(n))}getQueriesData(t){return a(this,p).findAll(t).map(({queryKey:e,state:s})=>{const n=s.data;return[e,n]})}setQueryData(t,e,s){const n=this.defaultQueryOptions({queryKey:t}),i=a(this,p).get(n.queryHash),r=i==null?void 0:i.state.data,o=Ie(e,r);if(o!==void 0)return a(this,p).build(this,n).setData(o,{...s,manual:!0})}setQueriesData(t,e,s){return O.batch(()=>a(this,p).findAll(t).map(({queryKey:n})=>[n,this.setQueryData(n,e,s)]))}getQueryState(t){var s;const e=this.defaultQueryOptions({queryKey:t});return(s=a(this,p).get(e.queryHash))==null?void 0:s.state}removeQueries(t){const e=a(this,p);O.batch(()=>{e.findAll(t).forEach(s=>{e.remove(s)})})}resetQueries(t,e){const s=a(this,p);return O.batch(()=>(s.findAll(t).forEach(n=>{n.reset()}),this.refetchQueries({type:"active",...t},e)))}cancelQueries(t,e={}){const s={revert:!0,...e},n=O.batch(()=>a(this,p).findAll(t).map(i=>i.cancel(s)));return Promise.all(n).then(Q).catch(Q)}invalidateQueries(t,e={}){return O.batch(()=>(a(this,p).findAll(t).forEach(s=>{s.invalidate()}),(t==null?void 0:t.refetchType)==="none"?Promise.resolve():this.refetchQueries({...t,type:(t==null?void 0:t.refetchType)??(t==null?void 0:t.type)??"active"},e)))}refetchQueries(t,e={}){const s={...e,cancelRefetch:e.cancelRefetch??!0},n=O.batch(()=>a(this,p).findAll(t).filter(i=>!i.isDisabled()&&!i.isStatic()).map(i=>{let r=i.fetch(void 0,s);return s.throwOnError||(r=r.catch(Q)),i.state.fetchStatus==="paused"?Promise.resolve():r}));return Promise.all(n).then(Q)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const s=a(this,p).build(this,e);return s.isStaleByTime(ue(e.staleTime,s))?s.fetch(e):Promise.resolve(s.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(Q).catch(Q)}fetchInfiniteQuery(t){return t.behavior=_e(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(Q).catch(Q)}ensureInfiniteQueryData(t){return t.behavior=_e(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return le.isOnline()?a(this,F).resumePausedMutations():Promise.resolve()}getQueryCache(){return a(this,p)}getMutationCache(){return a(this,F)}getDefaultOptions(){return a(this,T)}setDefaultOptions(t){_(this,T,t)}setQueryDefaults(t,e){a(this,$).set(he(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...a(this,$).values()],s={};return e.forEach(n=>{pe(t,n.queryKey)&&Object.assign(s,n.defaultOptions)}),s}setMutationDefaults(t,e){a(this,R).set(he(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...a(this,R).values()],s={};return e.forEach(n=>{pe(t,n.mutationKey)&&Object.assign(s,n.defaultOptions)}),s}defaultQueryOptions(t){if(t._defaulted)return t;const e={...a(this,T).queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=xe(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.queryFn===Ke&&(e.enabled=!1),e}defaultMutationOptions(t){return t!=null&&t._defaulted?t:{...a(this,T).mutations,...(t==null?void 0:t.mutationKey)&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){a(this,p).clear(),a(this,F).clear()}},p=new WeakMap,F=new WeakMap,T=new WeakMap,$=new WeakMap,R=new WeakMap,U=new WeakMap,H=new WeakMap,I=new WeakMap,Pe);function _t({children:t}){const e=new gt({defaultOptions:{queries:{refetchOnWindowFocus:!1}}});return d.jsx(Be,{client:e,children:d.jsxs(d.Fragment,{children:[t,d.jsx(We,{richColors:!0,position:"top-left",theme:"light",closeButton:!0})]})})}const xt=()=>[{rel:"preconnect",href:"https://fonts.googleapis.com"},{rel:"preconnect",href:"https://fonts.gstatic.com",crossOrigin:"anonymous"},{rel:"stylesheet",href:"https://fonts.googleapis.com/css2?family=Alexandria:wght@100..900&display=swap"},{rel:"stylesheet",href:Ye},{rel:"manifest",href:"/manifest.webmanifest?v=2"},...Ze];function Ot({children:t}){return d.jsxs("html",{lang:"ar",dir:"rtl",children:[d.jsxs("head",{children:[d.jsx("meta",{charSet:"utf-8"}),d.jsx("meta",{name:"viewport",content:"width=device-width, initial-scale=1"}),d.jsx("meta",{name:"mobile-web-app-capable",content:"yes"}),d.jsx(Ce,{}),d.jsx(Me,{})]}),d.jsxs("body",{className:"h-screen w-screen",children:[t,d.jsx(je,{}),d.jsx(Qe,{})]})]})}const Et=Le(function(){return d.jsx(_t,{children:d.jsx(ut,{children:d.jsx(Se,{})})})}),kt=Ae(function({error:e}){let s="Oops!",n="An unexpected error occurred.",i;return De(e)&&(s=e.status===404?"404":"Error",n=e.status===404?"The requested page could not be found.":e.statusText||n),d.jsxs("main",{className:"container mx-auto p-4 pt-16",children:[d.jsx("h1",{children:s}),d.jsx("p",{children:n}),i]})});export{kt as E,Ot as L,Oe as W,xt as l,Et as r};
