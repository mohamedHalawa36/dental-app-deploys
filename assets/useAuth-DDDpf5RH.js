import{k as o,H as a,t as c,D as g}from"./supabase-KehxAqls.js";import{r,n as l}from"./chunk-SYFQ2XB5-BFxPMBKg.js";const i=r.createContext({user:null,setUser:()=>{},isChecking:!1,setIsChecking:()=>{}}),m=({children:e})=>{const[t,s]=r.useState(null),[n,u]=r.useState(!0);return l.jsx(i.Provider,{value:{user:t,setUser:s,isChecking:n,setIsChecking:u},children:e})},h=async e=>{const{data:t,error:s}=await o.from("profiles").select().eq("id",e).single();if(s)throw new a(s.message,void 0,s.code);return t},w=async e=>{const{data:t,error:s}=await o.auth.signInWithPassword(e);if(s)throw new a(s.message,s.status,s.code);{const{user:{id:n}}=t;return await h(n)}},p=async()=>{const{error:e}=await o.auth.signOut();e&&c.error(g)},x=()=>r.useContext(i);export{m as A,h as g,p as l,w as s,x as u};
