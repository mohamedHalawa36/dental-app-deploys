import{t as p,w as g}from"./index-CqN0-kB3.js";import{n as e,r as b,w as f}from"./chunk-SYFQ2XB5-cOOTfj5h.js";import{b as v,k as h,l as i,r as l,h as d,u as y,F as j,p as w,q as m,C as N,g as E}from"./auth-bJp5kT8k.js";import"./QueryClientProvider-DhYsH4_f.js";function F({label:r,disabled:a,className:n,variant:t="primary",type:s="submit"}){return e.jsx("button",{disabled:a,type:s,className:v("border border-transparent p-3 font-semibold transition hover:opacity-80 disabled:bg-gray-400 max-sm:w-full",{"rounded-xl bg-primary text-muted":t==="primary","border-foreground bg-transparent text-foreground":t==="secondary"},n),children:r})}function S({children:r}){return e.jsx("span",{className:"border-s-4 border-s-secondary bg-secondary/10 px-2 py-3 text-center text-sm font-semibold text-secondary max-sm:text-xs",children:r})}const{invalidEmail:q}=d.error.auth,C=h({email:i().email(q).required(l),password:i().required(l)});function M(){const[r,a]=b.useState(null),n=f(),{mutate:t,isPending:s}=y({mutationFn:N,onMutate:()=>a(null),onSuccess:()=>n("/"),onError:o=>{const{code:c,statusCode:u}=o;if(u===400&&c==="invalid_credentials"){const{invalidCredentials:x}=d.error.auth;a(x)}else p.error(E)}});return e.jsx(j,{initialValues:{email:"",password:""},validationSchema:C,onSubmit:o=>t(o),children:e.jsx(w,{className:"flex-1",children:e.jsxs("div",{className:"flex flex-1 flex-col gap-3 overflow-auto px-7",children:[e.jsx(m,{className:"[&>div]:border-primary/50 [&>div]:transition",name:"email",label:"البريد الإلكتروني",disabled:s}),e.jsx(m,{className:"[&>div]:border-primary/50 [&>div]:transition",name:"password",label:"كلمة السر",disabled:s}),r&&e.jsx(S,{children:r}),e.jsx(F,{variant:"primary",label:"تسجيل الدخول",className:"w-full",disabled:s,type:"submit"})]})})})}const $=g(function(){return e.jsx("div",{className:"flex h-full w-full items-center justify-center bg-[linear-gradient(45deg,rgb(var(--secondary)),rgb(var(--primary)))]",children:e.jsxs("div",{className:"flex max-h-[90%] min-h-[28rem] w-[25rem] flex-col gap-5 rounded-[50px] bg-white pb-8 pt-3 max-sm:max-w-[90%] max-sm:rounded-3xl",children:[e.jsx("img",{src:"/images/full-logo.png",alt:"logo",className:"mx-auto w-48 object-contain max-sm:w-40"}),e.jsx(M,{})]})})});export{$ as default};
