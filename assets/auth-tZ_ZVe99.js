const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/browser-Cvtw24-P.js","assets/chunk-SYFQ2XB5-cOOTfj5h.js"])))=>i.map(i=>d[i]);
var ja=Object.defineProperty;var Hn=r=>{throw TypeError(r)};var Ca=(r,e,t)=>e in r?ja(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t;var Gt=(r,e,t)=>Ca(r,typeof e!="symbol"?e+"":e,t),Fr=(r,e,t)=>e.has(r)||Hn("Cannot "+t);var B=(r,e,t)=>(Fr(r,e,"read from private field"),t?t.call(r):e.get(r)),nt=(r,e,t)=>e.has(r)?Hn("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(r):e.set(r,t),st=(r,e,t,n)=>(Fr(r,e,"write to private field"),n?n.call(r,t):e.set(r,t),t),it=(r,e,t)=>(Fr(r,e,"access private method"),t);import{r as _,z as Pa,A as ae,n as we,B as Ws}from"./chunk-SYFQ2XB5-cOOTfj5h.js";import{S as Ra,l as Ia,i as Jn,A as Fa,n as Zs,w as Da}from"./QueryClientProvider-DhYsH4_f.js";import{t as La}from"./index-CqN0-kB3.js";var Ce,Pe,Z,_e,ve,Qt,Jr,Ks,Ua=(Ks=class extends Ra{constructor(e,t){super();nt(this,ve);nt(this,Ce);nt(this,Pe);nt(this,Z);nt(this,_e);st(this,Ce,e),this.setOptions(t),this.bindMethods(),it(this,ve,Qt).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(e){var n;const t=this.options;this.options=B(this,Ce).defaultMutationOptions(e),Ia(this.options,t)||B(this,Ce).getMutationCache().notify({type:"observerOptionsUpdated",mutation:B(this,Z),observer:this}),t!=null&&t.mutationKey&&this.options.mutationKey&&Jn(t.mutationKey)!==Jn(this.options.mutationKey)?this.reset():((n=B(this,Z))==null?void 0:n.state.status)==="pending"&&B(this,Z).setOptions(this.options)}onUnsubscribe(){var e;this.hasListeners()||(e=B(this,Z))==null||e.removeObserver(this)}onMutationUpdate(e){it(this,ve,Qt).call(this),it(this,ve,Jr).call(this,e)}getCurrentResult(){return B(this,Pe)}reset(){var e;(e=B(this,Z))==null||e.removeObserver(this),st(this,Z,void 0),it(this,ve,Qt).call(this),it(this,ve,Jr).call(this)}mutate(e,t){var n;return st(this,_e,t),(n=B(this,Z))==null||n.removeObserver(this),st(this,Z,B(this,Ce).getMutationCache().build(B(this,Ce),this.options)),B(this,Z).addObserver(this),B(this,Z).execute(e)}},Ce=new WeakMap,Pe=new WeakMap,Z=new WeakMap,_e=new WeakMap,ve=new WeakSet,Qt=function(){var t;const e=((t=B(this,Z))==null?void 0:t.state)??Fa();st(this,Pe,{...e,isPending:e.status==="pending",isSuccess:e.status==="success",isError:e.status==="error",isIdle:e.status==="idle",mutate:this.mutate,reset:this.reset})},Jr=function(e){Zs.batch(()=>{var t,n,s,i,a,o,u,l;if(B(this,_e)&&this.hasListeners()){const c=B(this,Pe).variables,d=B(this,Pe).context;(e==null?void 0:e.type)==="success"?((n=(t=B(this,_e)).onSuccess)==null||n.call(t,e.data,c,d),(i=(s=B(this,_e)).onSettled)==null||i.call(s,e.data,null,c,d)):(e==null?void 0:e.type)==="error"&&((o=(a=B(this,_e)).onError)==null||o.call(a,e.error,c,d),(l=(u=B(this,_e)).onSettled)==null||l.call(u,void 0,e.error,c,d))}this.listeners.forEach(c=>{c(B(this,Pe))})})},Ks);function Ma(r,e){return typeof r=="function"?r(...e):!!r}function Na(){}function ug(r,e){const t=Da(),[n]=_.useState(()=>new Ua(t,r));_.useEffect(()=>{n.setOptions(r)},[n,r]);const s=_.useSyncExternalStore(_.useCallback(a=>n.subscribe(Zs.batchCalls(a)),[n]),()=>n.getCurrentResult(),()=>n.getCurrentResult()),i=_.useCallback((a,o)=>{n.mutate(a,o).catch(Na)},[n]);if(s.error&&Ma(n.options.throwOnError,[s.error]))throw s.error;return{...s,mutate:i,mutateAsync:s.mutate}}const za={success:{patient:{add:"تم إضافة المريض بنجاح",update:"تم تعديل المريض بنجاح",delete:"تم حذف المريض"},appointment:{add:"تم حجز الموعد",update:"تم تعديل الموعد بنجاح",delete:"تم إلغاء الموعد"}},error:{somethingWentWrong:"حدث خطأ ما، برجاء المحاولة مجددا",patient:{conflict:"لا يمكن حذف المريض لأن لديه حجوزات أو سجلات مرتبطة."},appointment:{conflict:"تم حجز موعد للمريض في نفس اليوم مسبقا"},auth:{invalidCredentials:"البريد الإلكتروني أو كلمة المرور غير صحيحة",invalidEmail:"بريد إلكتروني غير صحيح"}}},Ba=za.error.somethingWentWrong,lg="مطلوب",Va="modulepreload",qa=function(r){return"/"+r},Kn={},pt=function(e,t,n){let s=Promise.resolve();if(t&&t.length>0){document.getElementsByTagName("link");const a=document.querySelector("meta[property=csp-nonce]"),o=(a==null?void 0:a.nonce)||(a==null?void 0:a.getAttribute("nonce"));s=Promise.allSettled(t.map(u=>{if(u=qa(u),u in Kn)return;Kn[u]=!0;const l=u.endsWith(".css"),c=l?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${u}"]${c}`))return;const d=document.createElement("link");if(d.rel=l?"stylesheet":Va,l||(d.as="script"),d.crossOrigin="",d.href=u,o&&d.setAttribute("nonce",o),document.head.appendChild(d),l)return new Promise((h,p)=>{d.addEventListener("load",h),d.addEventListener("error",()=>p(new Error(`Unable to preload CSS for ${u}`)))})}))}function i(a){const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=a,window.dispatchEvent(o),!o.defaultPrevented)throw a}return s.then(a=>{for(const o of a||[])o.status==="rejected"&&i(o.reason);return e().catch(i)})},Ga=r=>{let e;return r?e=r:typeof fetch>"u"?e=(...t)=>pt(async()=>{const{default:n}=await Promise.resolve().then(()=>yt);return{default:n}},void 0).then(({default:n})=>n(...t)):e=fetch,(...t)=>e(...t)};class gn extends Error{constructor(e,t="FunctionsError",n){super(e),this.name=t,this.context=n}}class Ha extends gn{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class Ja extends gn{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class Ka extends gn{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var Kr;(function(r){r.Any="any",r.ApNortheast1="ap-northeast-1",r.ApNortheast2="ap-northeast-2",r.ApSouth1="ap-south-1",r.ApSoutheast1="ap-southeast-1",r.ApSoutheast2="ap-southeast-2",r.CaCentral1="ca-central-1",r.EuCentral1="eu-central-1",r.EuWest1="eu-west-1",r.EuWest2="eu-west-2",r.EuWest3="eu-west-3",r.SaEast1="sa-east-1",r.UsEast1="us-east-1",r.UsWest1="us-west-1",r.UsWest2="us-west-2"})(Kr||(Kr={}));var Wa=function(r,e,t,n){function s(i){return i instanceof t?i:new t(function(a){a(i)})}return new(t||(t=Promise))(function(i,a){function o(c){try{l(n.next(c))}catch(d){a(d)}}function u(c){try{l(n.throw(c))}catch(d){a(d)}}function l(c){c.done?i(c.value):s(c.value).then(o,u)}l((n=n.apply(r,e||[])).next())})};class Za{constructor(e,{headers:t={},customFetch:n,region:s=Kr.Any}={}){this.url=e,this.headers=t,this.region=s,this.fetch=Ga(n)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e,t={}){var n;return Wa(this,void 0,void 0,function*(){try{const{headers:s,method:i,body:a}=t;let o={},{region:u}=t;u||(u=this.region),u&&u!=="any"&&(o["x-region"]=u);let l;a&&(s&&!Object.prototype.hasOwnProperty.call(s,"Content-Type")||!s)&&(typeof Blob<"u"&&a instanceof Blob||a instanceof ArrayBuffer?(o["Content-Type"]="application/octet-stream",l=a):typeof a=="string"?(o["Content-Type"]="text/plain",l=a):typeof FormData<"u"&&a instanceof FormData?l=a:(o["Content-Type"]="application/json",l=JSON.stringify(a)));const c=yield this.fetch(`${this.url}/${e}`,{method:i||"POST",headers:Object.assign(Object.assign(Object.assign({},o),this.headers),s),body:l}).catch(y=>{throw new Ha(y)}),d=c.headers.get("x-relay-error");if(d&&d==="true")throw new Ja(c);if(!c.ok)throw new Ka(c);let h=((n=c.headers.get("Content-Type"))!==null&&n!==void 0?n:"text/plain").split(";")[0].trim(),p;return h==="application/json"?p=yield c.json():h==="application/octet-stream"?p=yield c.blob():h==="text/event-stream"?p=c:h==="multipart/form-data"?p=yield c.formData():p=yield c.text(),{data:p,error:null}}catch(s){return{data:null,error:s}}})}}var Y={},mn={},ar={},Ut={},or={},ur={},Ya=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},gt=Ya();const Xa=gt.fetch,Ys=gt.fetch.bind(gt),Xs=gt.Headers,Qa=gt.Request,eo=gt.Response,yt=Object.freeze(Object.defineProperty({__proto__:null,Headers:Xs,Request:Qa,Response:eo,default:Ys,fetch:Xa},Symbol.toStringTag,{value:"Module"})),to=Pa(yt);var lr={};Object.defineProperty(lr,"__esModule",{value:!0});let ro=class extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}};lr.default=ro;var Qs=ae&&ae.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(ur,"__esModule",{value:!0});const no=Qs(to),so=Qs(lr);let io=class{constructor(e){this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=e.headers,this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=e.shouldThrowOnError,this.signal=e.signal,this.isMaybeSingle=e.isMaybeSingle,e.fetch?this.fetch=e.fetch:typeof fetch>"u"?this.fetch=no.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,t){return this.headers=Object.assign({},this.headers),this.headers[e]=t,this}then(e,t){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const n=this.fetch;let s=n(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async i=>{var a,o,u;let l=null,c=null,d=null,h=i.status,p=i.statusText;if(i.ok){if(this.method!=="HEAD"){const w=await i.text();w===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?c=w:c=JSON.parse(w))}const m=(a=this.headers.Prefer)===null||a===void 0?void 0:a.match(/count=(exact|planned|estimated)/),g=(o=i.headers.get("content-range"))===null||o===void 0?void 0:o.split("/");m&&g&&g.length>1&&(d=parseInt(g[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(c)&&(c.length>1?(l={code:"PGRST116",details:`Results contain ${c.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},c=null,d=null,h=406,p="Not Acceptable"):c.length===1?c=c[0]:c=null)}else{const m=await i.text();try{l=JSON.parse(m),Array.isArray(l)&&i.status===404&&(c=[],l=null,h=200,p="OK")}catch{i.status===404&&m===""?(h=204,p="No Content"):l={message:m}}if(l&&this.isMaybeSingle&&(!((u=l==null?void 0:l.details)===null||u===void 0)&&u.includes("0 rows"))&&(l=null,h=200,p="OK"),l&&this.shouldThrowOnError)throw new so.default(l)}return{error:l,data:c,count:d,status:h,statusText:p}});return this.shouldThrowOnError||(s=s.catch(i=>{var a,o,u;return{error:{message:`${(a=i==null?void 0:i.name)!==null&&a!==void 0?a:"FetchError"}: ${i==null?void 0:i.message}`,details:`${(o=i==null?void 0:i.stack)!==null&&o!==void 0?o:""}`,hint:"",code:`${(u=i==null?void 0:i.code)!==null&&u!==void 0?u:""}`},data:null,count:null,status:0,statusText:""}})),s.then(e,t)}};ur.default=io;var ao=ae&&ae.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(or,"__esModule",{value:!0});const oo=ao(ur);let uo=class extends oo.default{select(e){let t=!1;const n=(e??"*").split("").map(s=>/\s/.test(s)&&!t?"":(s==='"'&&(t=!t),s)).join("");return this.url.searchParams.set("select",n),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(e,{ascending:t=!0,nullsFirst:n,foreignTable:s,referencedTable:i=s}={}){const a=i?`${i}.order`:"order",o=this.url.searchParams.get(a);return this.url.searchParams.set(a,`${o?`${o},`:""}${e}.${t?"asc":"desc"}${n===void 0?"":n?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:t,referencedTable:n=t}={}){const s=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(s,`${e}`),this}range(e,t,{foreignTable:n,referencedTable:s=n}={}){const i=typeof s>"u"?"offset":`${s}.offset`,a=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(i,`${e}`),this.url.searchParams.set(a,`${t-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:e=!1,verbose:t=!1,settings:n=!1,buffers:s=!1,wal:i=!1,format:a="text"}={}){var o;const u=[e?"analyze":null,t?"verbose":null,n?"settings":null,s?"buffers":null,i?"wal":null].filter(Boolean).join("|"),l=(o=this.headers.Accept)!==null&&o!==void 0?o:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${a}; for="${l}"; options=${u};`,a==="json"?this:this}rollback(){var e;return((e=this.headers.Prefer)!==null&&e!==void 0?e:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}};or.default=uo;var lo=ae&&ae.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Ut,"__esModule",{value:!0});const co=lo(or);let ho=class extends co.default{eq(e,t){return this.url.searchParams.append(e,`eq.${t}`),this}neq(e,t){return this.url.searchParams.append(e,`neq.${t}`),this}gt(e,t){return this.url.searchParams.append(e,`gt.${t}`),this}gte(e,t){return this.url.searchParams.append(e,`gte.${t}`),this}lt(e,t){return this.url.searchParams.append(e,`lt.${t}`),this}lte(e,t){return this.url.searchParams.append(e,`lte.${t}`),this}like(e,t){return this.url.searchParams.append(e,`like.${t}`),this}likeAllOf(e,t){return this.url.searchParams.append(e,`like(all).{${t.join(",")}}`),this}likeAnyOf(e,t){return this.url.searchParams.append(e,`like(any).{${t.join(",")}}`),this}ilike(e,t){return this.url.searchParams.append(e,`ilike.${t}`),this}ilikeAllOf(e,t){return this.url.searchParams.append(e,`ilike(all).{${t.join(",")}}`),this}ilikeAnyOf(e,t){return this.url.searchParams.append(e,`ilike(any).{${t.join(",")}}`),this}is(e,t){return this.url.searchParams.append(e,`is.${t}`),this}in(e,t){const n=Array.from(new Set(t)).map(s=>typeof s=="string"&&new RegExp("[,()]").test(s)?`"${s}"`:`${s}`).join(",");return this.url.searchParams.append(e,`in.(${n})`),this}contains(e,t){return typeof t=="string"?this.url.searchParams.append(e,`cs.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cs.{${t.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(t)}`),this}containedBy(e,t){return typeof t=="string"?this.url.searchParams.append(e,`cd.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cd.{${t.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(t)}`),this}rangeGt(e,t){return this.url.searchParams.append(e,`sr.${t}`),this}rangeGte(e,t){return this.url.searchParams.append(e,`nxl.${t}`),this}rangeLt(e,t){return this.url.searchParams.append(e,`sl.${t}`),this}rangeLte(e,t){return this.url.searchParams.append(e,`nxr.${t}`),this}rangeAdjacent(e,t){return this.url.searchParams.append(e,`adj.${t}`),this}overlaps(e,t){return typeof t=="string"?this.url.searchParams.append(e,`ov.${t}`):this.url.searchParams.append(e,`ov.{${t.join(",")}}`),this}textSearch(e,t,{config:n,type:s}={}){let i="";s==="plain"?i="pl":s==="phrase"?i="ph":s==="websearch"&&(i="w");const a=n===void 0?"":`(${n})`;return this.url.searchParams.append(e,`${i}fts${a}.${t}`),this}match(e){return Object.entries(e).forEach(([t,n])=>{this.url.searchParams.append(t,`eq.${n}`)}),this}not(e,t,n){return this.url.searchParams.append(e,`not.${t}.${n}`),this}or(e,{foreignTable:t,referencedTable:n=t}={}){const s=n?`${n}.or`:"or";return this.url.searchParams.append(s,`(${e})`),this}filter(e,t,n){return this.url.searchParams.append(e,`${t}.${n}`),this}};Ut.default=ho;var fo=ae&&ae.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(ar,"__esModule",{value:!0});const St=fo(Ut);let po=class{constructor(e,{headers:t={},schema:n,fetch:s}){this.url=e,this.headers=t,this.schema=n,this.fetch=s}select(e,{head:t=!1,count:n}={}){const s=t?"HEAD":"GET";let i=!1;const a=(e??"*").split("").map(o=>/\s/.test(o)&&!i?"":(o==='"'&&(i=!i),o)).join("");return this.url.searchParams.set("select",a),n&&(this.headers.Prefer=`count=${n}`),new St.default({method:s,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(e,{count:t,defaultToNull:n=!0}={}){const s="POST",i=[];if(this.headers.Prefer&&i.push(this.headers.Prefer),t&&i.push(`count=${t}`),n||i.push("missing=default"),this.headers.Prefer=i.join(","),Array.isArray(e)){const a=e.reduce((o,u)=>o.concat(Object.keys(u)),[]);if(a.length>0){const o=[...new Set(a)].map(u=>`"${u}"`);this.url.searchParams.set("columns",o.join(","))}}return new St.default({method:s,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}upsert(e,{onConflict:t,ignoreDuplicates:n=!1,count:s,defaultToNull:i=!0}={}){const a="POST",o=[`resolution=${n?"ignore":"merge"}-duplicates`];if(t!==void 0&&this.url.searchParams.set("on_conflict",t),this.headers.Prefer&&o.push(this.headers.Prefer),s&&o.push(`count=${s}`),i||o.push("missing=default"),this.headers.Prefer=o.join(","),Array.isArray(e)){const u=e.reduce((l,c)=>l.concat(Object.keys(c)),[]);if(u.length>0){const l=[...new Set(u)].map(c=>`"${c}"`);this.url.searchParams.set("columns",l.join(","))}}return new St.default({method:a,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}update(e,{count:t}={}){const n="PATCH",s=[];return this.headers.Prefer&&s.push(this.headers.Prefer),t&&s.push(`count=${t}`),this.headers.Prefer=s.join(","),new St.default({method:n,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}delete({count:e}={}){const t="DELETE",n=[];return e&&n.push(`count=${e}`),this.headers.Prefer&&n.unshift(this.headers.Prefer),this.headers.Prefer=n.join(","),new St.default({method:t,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}};ar.default=po;var cr={},dr={};Object.defineProperty(dr,"__esModule",{value:!0});dr.version=void 0;dr.version="0.0.0-automated";Object.defineProperty(cr,"__esModule",{value:!0});cr.DEFAULT_HEADERS=void 0;const go=dr;cr.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${go.version}`};var ei=ae&&ae.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(mn,"__esModule",{value:!0});const mo=ei(ar),yo=ei(Ut),bo=cr;let _o=class ti{constructor(e,{headers:t={},schema:n,fetch:s}={}){this.url=e,this.headers=Object.assign(Object.assign({},bo.DEFAULT_HEADERS),t),this.schemaName=n,this.fetch=s}from(e){const t=new URL(`${this.url}/${e}`);return new mo.default(t,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(e){return new ti(this.url,{headers:this.headers,schema:e,fetch:this.fetch})}rpc(e,t={},{head:n=!1,get:s=!1,count:i}={}){let a;const o=new URL(`${this.url}/rpc/${e}`);let u;n||s?(a=n?"HEAD":"GET",Object.entries(t).filter(([c,d])=>d!==void 0).map(([c,d])=>[c,Array.isArray(d)?`{${d.join(",")}}`:`${d}`]).forEach(([c,d])=>{o.searchParams.append(c,d)})):(a="POST",u=t);const l=Object.assign({},this.headers);return i&&(l.Prefer=`count=${i}`),new yo.default({method:a,url:o,headers:l,schema:this.schemaName,body:u,fetch:this.fetch,allowEmpty:!1})}};mn.default=_o;var bt=ae&&ae.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Y,"__esModule",{value:!0});Y.PostgrestError=Y.PostgrestBuilder=Y.PostgrestTransformBuilder=Y.PostgrestFilterBuilder=Y.PostgrestQueryBuilder=Y.PostgrestClient=void 0;const ri=bt(mn);Y.PostgrestClient=ri.default;const ni=bt(ar);Y.PostgrestQueryBuilder=ni.default;const si=bt(Ut);Y.PostgrestFilterBuilder=si.default;const ii=bt(or);Y.PostgrestTransformBuilder=ii.default;const ai=bt(ur);Y.PostgrestBuilder=ai.default;const oi=bt(lr);Y.PostgrestError=oi.default;var wo=Y.default={PostgrestClient:ri.default,PostgrestQueryBuilder:ni.default,PostgrestFilterBuilder:si.default,PostgrestTransformBuilder:ii.default,PostgrestBuilder:ai.default,PostgrestError:oi.default};const{PostgrestClient:vo,PostgrestQueryBuilder:gg,PostgrestFilterBuilder:mg,PostgrestTransformBuilder:yg,PostgrestBuilder:bg,PostgrestError:_g}=wo,xo="2.11.2",So={"X-Client-Info":`realtime-js/${xo}`},To="1.0.0",ui=1e4,Eo=1e3;var ht;(function(r){r[r.connecting=0]="connecting",r[r.open=1]="open",r[r.closing=2]="closing",r[r.closed=3]="closed"})(ht||(ht={}));var ee;(function(r){r.closed="closed",r.errored="errored",r.joined="joined",r.joining="joining",r.leaving="leaving"})(ee||(ee={}));var ue;(function(r){r.close="phx_close",r.error="phx_error",r.join="phx_join",r.reply="phx_reply",r.leave="phx_leave",r.access_token="access_token"})(ue||(ue={}));var Wr;(function(r){r.websocket="websocket"})(Wr||(Wr={}));var Ne;(function(r){r.Connecting="connecting",r.Open="open",r.Closing="closing",r.Closed="closed"})(Ne||(Ne={}));class ko{constructor(){this.HEADER_LENGTH=1}decode(e,t){return e.constructor===ArrayBuffer?t(this._binaryDecode(e)):t(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){const t=new DataView(e),n=new TextDecoder;return this._decodeBroadcast(e,t,n)}_decodeBroadcast(e,t,n){const s=t.getUint8(1),i=t.getUint8(2);let a=this.HEADER_LENGTH+2;const o=n.decode(e.slice(a,a+s));a=a+s;const u=n.decode(e.slice(a,a+i));a=a+i;const l=JSON.parse(n.decode(e.slice(a,e.byteLength)));return{ref:null,topic:o,event:u,payload:l}}}class li{constructor(e,t){this.callback=e,this.timerCalc=t,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=t}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var F;(function(r){r.abstime="abstime",r.bool="bool",r.date="date",r.daterange="daterange",r.float4="float4",r.float8="float8",r.int2="int2",r.int4="int4",r.int4range="int4range",r.int8="int8",r.int8range="int8range",r.json="json",r.jsonb="jsonb",r.money="money",r.numeric="numeric",r.oid="oid",r.reltime="reltime",r.text="text",r.time="time",r.timestamp="timestamp",r.timestamptz="timestamptz",r.timetz="timetz",r.tsrange="tsrange",r.tstzrange="tstzrange"})(F||(F={}));const Wn=(r,e,t={})=>{var n;const s=(n=t.skipTypes)!==null&&n!==void 0?n:[];return Object.keys(e).reduce((i,a)=>(i[a]=$o(a,r,e,s),i),{})},$o=(r,e,t,n)=>{const s=e.find(o=>o.name===r),i=s==null?void 0:s.type,a=t[r];return i&&!n.includes(i)?ci(i,a):Zr(a)},ci=(r,e)=>{if(r.charAt(0)==="_"){const t=r.slice(1,r.length);return Co(e,t)}switch(r){case F.bool:return Oo(e);case F.float4:case F.float8:case F.int2:case F.int4:case F.int8:case F.numeric:case F.oid:return Ao(e);case F.json:case F.jsonb:return jo(e);case F.timestamp:return Po(e);case F.abstime:case F.date:case F.daterange:case F.int4range:case F.int8range:case F.money:case F.reltime:case F.text:case F.time:case F.timestamptz:case F.timetz:case F.tsrange:case F.tstzrange:return Zr(e);default:return Zr(e)}},Zr=r=>r,Oo=r=>{switch(r){case"t":return!0;case"f":return!1;default:return r}},Ao=r=>{if(typeof r=="string"){const e=parseFloat(r);if(!Number.isNaN(e))return e}return r},jo=r=>{if(typeof r=="string")try{return JSON.parse(r)}catch(e){return console.log(`JSON parse error: ${e}`),r}return r},Co=(r,e)=>{if(typeof r!="string")return r;const t=r.length-1,n=r[t];if(r[0]==="{"&&n==="}"){let i;const a=r.slice(1,t);try{i=JSON.parse("["+a+"]")}catch{i=a?a.split(","):[]}return i.map(o=>ci(e,o))}return r},Po=r=>typeof r=="string"?r.replace(" ","T"):r,di=r=>{let e=r;return e=e.replace(/^ws/i,"http"),e=e.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),e.replace(/\/+$/,"")};class Dr{constructor(e,t,n={},s=ui){this.channel=e,this.event=t,this.payload=n,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,t){var n;return this._hasReceived(e)&&t((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:e,callback:t}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=t=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=t,this._matchReceive(t)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,t){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:t})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:t}){this.recHooks.filter(n=>n.status===e).forEach(n=>n.callback(t))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var Zn;(function(r){r.SYNC="sync",r.JOIN="join",r.LEAVE="leave"})(Zn||(Zn={}));class At{constructor(e,t){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(t==null?void 0:t.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},s=>{const{onJoin:i,onLeave:a,onSync:o}=this.caller;this.joinRef=this.channel._joinRef(),this.state=At.syncState(this.state,s,i,a),this.pendingDiffs.forEach(u=>{this.state=At.syncDiff(this.state,u,i,a)}),this.pendingDiffs=[],o()}),this.channel._on(n.diff,{},s=>{const{onJoin:i,onLeave:a,onSync:o}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=At.syncDiff(this.state,s,i,a),o())}),this.onJoin((s,i,a)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:i,newPresences:a})}),this.onLeave((s,i,a)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:i,leftPresences:a})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,t,n,s){const i=this.cloneDeep(e),a=this.transformState(t),o={},u={};return this.map(i,(l,c)=>{a[l]||(u[l]=c)}),this.map(a,(l,c)=>{const d=i[l];if(d){const h=c.map(g=>g.presence_ref),p=d.map(g=>g.presence_ref),y=c.filter(g=>p.indexOf(g.presence_ref)<0),m=d.filter(g=>h.indexOf(g.presence_ref)<0);y.length>0&&(o[l]=y),m.length>0&&(u[l]=m)}else o[l]=c}),this.syncDiff(i,{joins:o,leaves:u},n,s)}static syncDiff(e,t,n,s){const{joins:i,leaves:a}={joins:this.transformState(t.joins),leaves:this.transformState(t.leaves)};return n||(n=()=>{}),s||(s=()=>{}),this.map(i,(o,u)=>{var l;const c=(l=e[o])!==null&&l!==void 0?l:[];if(e[o]=this.cloneDeep(u),c.length>0){const d=e[o].map(p=>p.presence_ref),h=c.filter(p=>d.indexOf(p.presence_ref)<0);e[o].unshift(...h)}n(o,c,u)}),this.map(a,(o,u)=>{let l=e[o];if(!l)return;const c=u.map(d=>d.presence_ref);l=l.filter(d=>c.indexOf(d.presence_ref)<0),e[o]=l,s(o,l,u),l.length===0&&delete e[o]}),e}static map(e,t){return Object.getOwnPropertyNames(e).map(n=>t(n,e[n]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((t,n)=>{const s=e[n];return"metas"in s?t[n]=s.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):t[n]=s,t},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Yn;(function(r){r.ALL="*",r.INSERT="INSERT",r.UPDATE="UPDATE",r.DELETE="DELETE"})(Yn||(Yn={}));var Xn;(function(r){r.BROADCAST="broadcast",r.PRESENCE="presence",r.POSTGRES_CHANGES="postgres_changes",r.SYSTEM="system"})(Xn||(Xn={}));var ye;(function(r){r.SUBSCRIBED="SUBSCRIBED",r.TIMED_OUT="TIMED_OUT",r.CLOSED="CLOSED",r.CHANNEL_ERROR="CHANNEL_ERROR"})(ye||(ye={}));class yn{constructor(e,t={config:{}},n){this.topic=e,this.params=t,this.socket=n,this.bindings={},this.state=ee.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},t.config),this.timeout=this.socket.timeout,this.joinPush=new Dr(this,ue.join,this.params,this.timeout),this.rejoinTimer=new li(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=ee.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(s=>s.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=ee.closed,this.socket._remove(this)}),this._onError(s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=ee.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=ee.errored,this.rejoinTimer.scheduleTimeout())}),this._on(ue.reply,{},(s,i)=>{this._trigger(this._replyEventName(i),s)}),this.presence=new At(this),this.broadcastEndpointURL=di(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(e,t=this.timeout){var n,s;if(this.socket.isConnected()||this.socket.connect(),this.joinedOnce)throw"tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance";{const{config:{broadcast:i,presence:a,private:o}}=this.params;this._onError(c=>e==null?void 0:e(ye.CHANNEL_ERROR,c)),this._onClose(()=>e==null?void 0:e(ye.CLOSED));const u={},l={broadcast:i,presence:a,postgres_changes:(s=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(c=>c.filter))!==null&&s!==void 0?s:[],private:o};this.socket.accessTokenValue&&(u.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:l},u)),this.joinedOnce=!0,this._rejoin(t),this.joinPush.receive("ok",async({postgres_changes:c})=>{var d;if(this.socket.setAuth(),c===void 0){e==null||e(ye.SUBSCRIBED);return}else{const h=this.bindings.postgres_changes,p=(d=h==null?void 0:h.length)!==null&&d!==void 0?d:0,y=[];for(let m=0;m<p;m++){const g=h[m],{filter:{event:w,schema:S,table:z,filter:R}}=g,L=c&&c[m];if(L&&L.event===w&&L.schema===S&&L.table===z&&L.filter===R)y.push(Object.assign(Object.assign({},g),{id:L.id}));else{this.unsubscribe(),e==null||e(ye.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=y,e&&e(ye.SUBSCRIBED);return}}).receive("error",c=>{e==null||e(ye.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(c).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(ye.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,t={}){return await this.send({type:"presence",event:"track",payload:e},t.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,t,n){return this._on(e,t,n)}async send(e,t={}){var n,s;if(!this._canPush()&&e.type==="broadcast"){const{event:i,payload:a}=e,u={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:a,private:this.private}]})};try{const l=await this._fetchWithTimeout(this.broadcastEndpointURL,u,(n=t.timeout)!==null&&n!==void 0?n:this.timeout);return await((s=l.body)===null||s===void 0?void 0:s.cancel()),l.ok?"ok":"error"}catch(l){return l.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var a,o,u;const l=this._push(e.type,e,t.timeout||this.timeout);e.type==="broadcast"&&!(!((u=(o=(a=this.params)===null||a===void 0?void 0:a.config)===null||o===void 0?void 0:o.broadcast)===null||u===void 0)&&u.ack)&&i("ok"),l.receive("ok",()=>i("ok")),l.receive("error",()=>i("error")),l.receive("timeout",()=>i("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=ee.leaving;const t=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(ue.close,"leave",this._joinRef())};return this.rejoinTimer.reset(),this.joinPush.destroy(),new Promise(n=>{const s=new Dr(this,ue.leave,{},e);s.receive("ok",()=>{t(),n("ok")}).receive("timeout",()=>{t(),n("timed out")}).receive("error",()=>{n("error")}),s.send(),this._canPush()||s.trigger("ok",{})})}async _fetchWithTimeout(e,t,n){const s=new AbortController,i=setTimeout(()=>s.abort(),n),a=await this.socket.fetch(e,Object.assign(Object.assign({},t),{signal:s.signal}));return clearTimeout(i),a}_push(e,t,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new Dr(this,e,t,n);return this._canPush()?s.send():(s.startTimeout(),this.pushBuffer.push(s)),s}_onMessage(e,t,n){return t}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,t,n){var s,i;const a=e.toLocaleLowerCase(),{close:o,error:u,leave:l,join:c}=ue;if(n&&[o,u,l,c].indexOf(a)>=0&&n!==this._joinRef())return;let h=this._onMessage(a,t,n);if(t&&!h)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(a)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(p=>{var y,m,g;return((y=p.filter)===null||y===void 0?void 0:y.event)==="*"||((g=(m=p.filter)===null||m===void 0?void 0:m.event)===null||g===void 0?void 0:g.toLocaleLowerCase())===a}).map(p=>p.callback(h,n)):(i=this.bindings[a])===null||i===void 0||i.filter(p=>{var y,m,g,w,S,z;if(["broadcast","presence","postgres_changes"].includes(a))if("id"in p){const R=p.id,L=(y=p.filter)===null||y===void 0?void 0:y.event;return R&&((m=t.ids)===null||m===void 0?void 0:m.includes(R))&&(L==="*"||(L==null?void 0:L.toLocaleLowerCase())===((g=t.data)===null||g===void 0?void 0:g.type.toLocaleLowerCase()))}else{const R=(S=(w=p==null?void 0:p.filter)===null||w===void 0?void 0:w.event)===null||S===void 0?void 0:S.toLocaleLowerCase();return R==="*"||R===((z=t==null?void 0:t.event)===null||z===void 0?void 0:z.toLocaleLowerCase())}else return p.type.toLocaleLowerCase()===a}).map(p=>{if(typeof h=="object"&&"ids"in h){const y=h.data,{schema:m,table:g,commit_timestamp:w,type:S,errors:z}=y;h=Object.assign(Object.assign({},{schema:m,table:g,commit_timestamp:w,eventType:S,new:{},old:{},errors:z}),this._getPayloadRecords(y))}p.callback(h,n)})}_isClosed(){return this.state===ee.closed}_isJoined(){return this.state===ee.joined}_isJoining(){return this.state===ee.joining}_isLeaving(){return this.state===ee.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,t,n){const s=e.toLocaleLowerCase(),i={type:s,filter:t,callback:n};return this.bindings[s]?this.bindings[s].push(i):this.bindings[s]=[i],this}_off(e,t){const n=e.toLocaleLowerCase();return this.bindings[n]=this.bindings[n].filter(s=>{var i;return!(((i=s.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===n&&yn.isEqual(s.filter,t))}),this}static isEqual(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(e[n]!==t[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(ue.close,{},e)}_onError(e){this._on(ue.error,{},t=>e(t))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=ee.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const t={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(t.new=Wn(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(t.old=Wn(e.columns,e.old_record)),t}}const Ro=()=>{},Io=typeof WebSocket<"u",Fo=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class Do{constructor(e,t){var n;this.accessTokenValue=null,this.apiKey=null,this.channels=[],this.endPoint="",this.httpEndpoint="",this.headers=So,this.params={},this.timeout=ui,this.heartbeatIntervalMs=3e4,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.ref=0,this.logger=Ro,this.conn=null,this.sendBuffer=[],this.serializer=new ko,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=i=>{let a;return i?a=i:typeof fetch>"u"?a=(...o)=>pt(async()=>{const{default:u}=await Promise.resolve().then(()=>yt);return{default:u}},void 0).then(({default:u})=>u(...o)):a=fetch,(...o)=>a(...o)},this.endPoint=`${e}/${Wr.websocket}`,this.httpEndpoint=di(e),t!=null&&t.transport?this.transport=t.transport:this.transport=null,t!=null&&t.params&&(this.params=t.params),t!=null&&t.headers&&(this.headers=Object.assign(Object.assign({},this.headers),t.headers)),t!=null&&t.timeout&&(this.timeout=t.timeout),t!=null&&t.logger&&(this.logger=t.logger),t!=null&&t.heartbeatIntervalMs&&(this.heartbeatIntervalMs=t.heartbeatIntervalMs);const s=(n=t==null?void 0:t.params)===null||n===void 0?void 0:n.apikey;if(s&&(this.accessTokenValue=s,this.apiKey=s),this.reconnectAfterMs=t!=null&&t.reconnectAfterMs?t.reconnectAfterMs:i=>[1e3,2e3,5e3,1e4][i-1]||1e4,this.encode=t!=null&&t.encode?t.encode:(i,a)=>a(JSON.stringify(i)),this.decode=t!=null&&t.decode?t.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new li(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(t==null?void 0:t.fetch),t!=null&&t.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(t==null?void 0:t.worker)||!1,this.workerUrl=t==null?void 0:t.workerUrl}this.accessToken=(t==null?void 0:t.accessToken)||null}connect(){if(!this.conn){if(this.transport){this.conn=new this.transport(this.endpointURL(),void 0,{headers:this.headers});return}if(Io){this.conn=new WebSocket(this.endpointURL()),this.setupConnection();return}this.conn=new Lo(this.endpointURL(),void 0,{close:()=>{this.conn=null}}),pt(async()=>{const{default:e}=await import("./browser-Cvtw24-P.js").then(t=>t.b);return{default:e}},__vite__mapDeps([0,1])).then(({default:e})=>{this.conn=new e(this.endpointURL(),void 0,{headers:this.headers}),this.setupConnection()})}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:To}))}disconnect(e,t){this.conn&&(this.conn.onclose=function(){},e?this.conn.close(e,t??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset())}getChannels(){return this.channels}async removeChannel(e){const t=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),t}async removeAllChannels(){const e=await Promise.all(this.channels.map(t=>t.unsubscribe()));return this.disconnect(),e}log(e,t,n){this.logger(e,t,n)}connectionState(){switch(this.conn&&this.conn.readyState){case ht.connecting:return Ne.Connecting;case ht.open:return Ne.Open;case ht.closing:return Ne.Closing;default:return Ne.Closed}}isConnected(){return this.connectionState()===Ne.Open}channel(e,t={config:{}}){const n=new yn(`realtime:${e}`,t,this);return this.channels.push(n),n}push(e){const{topic:t,event:n,payload:s,ref:i}=e,a=()=>{this.encode(e,o=>{var u;(u=this.conn)===null||u===void 0||u.send(o)})};this.log("push",`${t} ${n} (${i})`,s),this.isConnected()?a():this.sendBuffer.push(a)}async setAuth(e=null){let t=e||this.accessToken&&await this.accessToken()||this.accessTokenValue;if(t){let n=null;try{n=JSON.parse(atob(t.split(".")[1]))}catch{}if(n&&n.exp&&!(Math.floor(Date.now()/1e3)-n.exp<0))return this.log("auth",`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${n.exp}`),Promise.reject(`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${n.exp}`);this.accessTokenValue=t,this.channels.forEach(s=>{t&&s.updateJoinPayload({access_token:t}),s.joinedOnce&&s._isJoined()&&s._push(ue.access_token,{access_token:t})})}}async sendHeartbeat(){var e;if(this.isConnected()){if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),(e=this.conn)===null||e===void 0||e.close(Eo,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.setAuth()}}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let t=this.channels.find(n=>n.topic===e&&(n._isJoined()||n._isJoining()));t&&(this.log("transport",`leaving duplicate topic "${e}"`),t.unsubscribe())}_remove(e){this.channels=this.channels.filter(t=>t._joinRef()!==e._joinRef())}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_onConnMessage(e){this.decode(e.data,t=>{let{topic:n,event:s,payload:i,ref:a}=t;a&&a===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${i.status||""} ${n} ${s} ${a&&"("+a+")"||""}`,i),this.channels.filter(o=>o._isMember(n)).forEach(o=>o._trigger(s,i,a)),this.stateChangeCallbacks.message.forEach(o=>o(t))})}async _onConnOpen(){if(this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),!this.worker)this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs);else{this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=t=>{this.log("worker","worker error",t.message),this.workerRef.terminate()},this.workerRef.onmessage=t=>{t.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}this.stateChangeCallbacks.open.forEach(e=>e())}_onConnClose(e){this.log("transport","close",e),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(t=>t(e))}_onConnError(e){this.log("transport",e.message),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(t=>t(e))}_triggerChanError(){this.channels.forEach(e=>e._trigger(ue.error))}_appendParams(e,t){if(Object.keys(t).length===0)return e;const n=e.match(/\?/)?"&":"?",s=new URLSearchParams(t);return`${e}${n}${s}`}_workerObjectUrl(e){let t;if(e)t=e;else{const n=new Blob([Fo],{type:"application/javascript"});t=URL.createObjectURL(n)}return t}}class Lo{constructor(e,t,n){this.binaryType="arraybuffer",this.onclose=()=>{},this.onerror=()=>{},this.onmessage=()=>{},this.onopen=()=>{},this.readyState=ht.connecting,this.send=()=>{},this.url=null,this.url=e,this.close=n.close}}class bn extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function V(r){return typeof r=="object"&&r!==null&&"__isStorageError"in r}class Uo extends bn{constructor(e,t){super(e),this.name="StorageApiError",this.status=t}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class Yr extends bn{constructor(e,t){super(e),this.name="StorageUnknownError",this.originalError=t}}var Mo=function(r,e,t,n){function s(i){return i instanceof t?i:new t(function(a){a(i)})}return new(t||(t=Promise))(function(i,a){function o(c){try{l(n.next(c))}catch(d){a(d)}}function u(c){try{l(n.throw(c))}catch(d){a(d)}}function l(c){c.done?i(c.value):s(c.value).then(o,u)}l((n=n.apply(r,e||[])).next())})};const hi=r=>{let e;return r?e=r:typeof fetch>"u"?e=(...t)=>pt(async()=>{const{default:n}=await Promise.resolve().then(()=>yt);return{default:n}},void 0).then(({default:n})=>n(...t)):e=fetch,(...t)=>e(...t)},No=()=>Mo(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield pt(()=>Promise.resolve().then(()=>yt),void 0)).Response:Response}),Xr=r=>{if(Array.isArray(r))return r.map(t=>Xr(t));if(typeof r=="function"||r!==Object(r))return r;const e={};return Object.entries(r).forEach(([t,n])=>{const s=t.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));e[s]=Xr(n)}),e};var qe=function(r,e,t,n){function s(i){return i instanceof t?i:new t(function(a){a(i)})}return new(t||(t=Promise))(function(i,a){function o(c){try{l(n.next(c))}catch(d){a(d)}}function u(c){try{l(n.throw(c))}catch(d){a(d)}}function l(c){c.done?i(c.value):s(c.value).then(o,u)}l((n=n.apply(r,e||[])).next())})};const Lr=r=>r.msg||r.message||r.error_description||r.error||JSON.stringify(r),zo=(r,e,t)=>qe(void 0,void 0,void 0,function*(){const n=yield No();r instanceof n&&!(t!=null&&t.noResolveJson)?r.json().then(s=>{e(new Uo(Lr(s),r.status||500))}).catch(s=>{e(new Yr(Lr(s),s))}):e(new Yr(Lr(r),r))}),Bo=(r,e,t,n)=>{const s={method:r,headers:(e==null?void 0:e.headers)||{}};return r==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),n&&(s.body=JSON.stringify(n)),Object.assign(Object.assign({},s),t))};function Mt(r,e,t,n,s,i){return qe(this,void 0,void 0,function*(){return new Promise((a,o)=>{r(t,Bo(e,n,s,i)).then(u=>{if(!u.ok)throw u;return n!=null&&n.noResolveJson?u:u.json()}).then(u=>a(u)).catch(u=>zo(u,o,n))})})}function rr(r,e,t,n){return qe(this,void 0,void 0,function*(){return Mt(r,"GET",e,t,n)})}function Ae(r,e,t,n,s){return qe(this,void 0,void 0,function*(){return Mt(r,"POST",e,n,s,t)})}function Vo(r,e,t,n,s){return qe(this,void 0,void 0,function*(){return Mt(r,"PUT",e,n,s,t)})}function qo(r,e,t,n){return qe(this,void 0,void 0,function*(){return Mt(r,"HEAD",e,Object.assign(Object.assign({},t),{noResolveJson:!0}),n)})}function fi(r,e,t,n,s){return qe(this,void 0,void 0,function*(){return Mt(r,"DELETE",e,n,s,t)})}var K=function(r,e,t,n){function s(i){return i instanceof t?i:new t(function(a){a(i)})}return new(t||(t=Promise))(function(i,a){function o(c){try{l(n.next(c))}catch(d){a(d)}}function u(c){try{l(n.throw(c))}catch(d){a(d)}}function l(c){c.done?i(c.value):s(c.value).then(o,u)}l((n=n.apply(r,e||[])).next())})};const Go={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Qn={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class Ho{constructor(e,t={},n,s){this.url=e,this.headers=t,this.bucketId=n,this.fetch=hi(s)}uploadOrUpdate(e,t,n,s){return K(this,void 0,void 0,function*(){try{let i;const a=Object.assign(Object.assign({},Qn),s);let o=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(a.upsert)});const u=a.metadata;typeof Blob<"u"&&n instanceof Blob?(i=new FormData,i.append("cacheControl",a.cacheControl),u&&i.append("metadata",this.encodeMetadata(u)),i.append("",n)):typeof FormData<"u"&&n instanceof FormData?(i=n,i.append("cacheControl",a.cacheControl),u&&i.append("metadata",this.encodeMetadata(u))):(i=n,o["cache-control"]=`max-age=${a.cacheControl}`,o["content-type"]=a.contentType,u&&(o["x-metadata"]=this.toBase64(this.encodeMetadata(u)))),s!=null&&s.headers&&(o=Object.assign(Object.assign({},o),s.headers));const l=this._removeEmptyFolders(t),c=this._getFinalPath(l),d=yield this.fetch(`${this.url}/object/${c}`,Object.assign({method:e,body:i,headers:o},a!=null&&a.duplex?{duplex:a.duplex}:{})),h=yield d.json();return d.ok?{data:{path:l,id:h.Id,fullPath:h.Key},error:null}:{data:null,error:h}}catch(i){if(V(i))return{data:null,error:i};throw i}})}upload(e,t,n){return K(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,t,n)})}uploadToSignedUrl(e,t,n,s){return K(this,void 0,void 0,function*(){const i=this._removeEmptyFolders(e),a=this._getFinalPath(i),o=new URL(this.url+`/object/upload/sign/${a}`);o.searchParams.set("token",t);try{let u;const l=Object.assign({upsert:Qn.upsert},s),c=Object.assign(Object.assign({},this.headers),{"x-upsert":String(l.upsert)});typeof Blob<"u"&&n instanceof Blob?(u=new FormData,u.append("cacheControl",l.cacheControl),u.append("",n)):typeof FormData<"u"&&n instanceof FormData?(u=n,u.append("cacheControl",l.cacheControl)):(u=n,c["cache-control"]=`max-age=${l.cacheControl}`,c["content-type"]=l.contentType);const d=yield this.fetch(o.toString(),{method:"PUT",body:u,headers:c}),h=yield d.json();return d.ok?{data:{path:i,fullPath:h.Key},error:null}:{data:null,error:h}}catch(u){if(V(u))return{data:null,error:u};throw u}})}createSignedUploadUrl(e,t){return K(this,void 0,void 0,function*(){try{let n=this._getFinalPath(e);const s=Object.assign({},this.headers);t!=null&&t.upsert&&(s["x-upsert"]="true");const i=yield Ae(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:s}),a=new URL(this.url+i.url),o=a.searchParams.get("token");if(!o)throw new bn("No token returned by API");return{data:{signedUrl:a.toString(),path:e,token:o},error:null}}catch(n){if(V(n))return{data:null,error:n};throw n}})}update(e,t,n){return K(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,t,n)})}move(e,t,n){return K(this,void 0,void 0,function*(){try{return{data:yield Ae(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:t,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers}),error:null}}catch(s){if(V(s))return{data:null,error:s};throw s}})}copy(e,t,n){return K(this,void 0,void 0,function*(){try{return{data:{path:(yield Ae(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:t,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers})).Key},error:null}}catch(s){if(V(s))return{data:null,error:s};throw s}})}createSignedUrl(e,t,n){return K(this,void 0,void 0,function*(){try{let s=this._getFinalPath(e),i=yield Ae(this.fetch,`${this.url}/object/sign/${s}`,Object.assign({expiresIn:t},n!=null&&n.transform?{transform:n.transform}:{}),{headers:this.headers});const a=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${a}`)},{data:i,error:null}}catch(s){if(V(s))return{data:null,error:s};throw s}})}createSignedUrls(e,t,n){return K(this,void 0,void 0,function*(){try{const s=yield Ae(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:t,paths:e},{headers:this.headers}),i=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:s.map(a=>Object.assign(Object.assign({},a),{signedUrl:a.signedURL?encodeURI(`${this.url}${a.signedURL}${i}`):null})),error:null}}catch(s){if(V(s))return{data:null,error:s};throw s}})}download(e,t){return K(this,void 0,void 0,function*(){const s=typeof(t==null?void 0:t.transform)<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString((t==null?void 0:t.transform)||{}),a=i?`?${i}`:"";try{const o=this._getFinalPath(e);return{data:yield(yield rr(this.fetch,`${this.url}/${s}/${o}${a}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(o){if(V(o))return{data:null,error:o};throw o}})}info(e){return K(this,void 0,void 0,function*(){const t=this._getFinalPath(e);try{const n=yield rr(this.fetch,`${this.url}/object/info/${t}`,{headers:this.headers});return{data:Xr(n),error:null}}catch(n){if(V(n))return{data:null,error:n};throw n}})}exists(e){return K(this,void 0,void 0,function*(){const t=this._getFinalPath(e);try{return yield qo(this.fetch,`${this.url}/object/${t}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(V(n)&&n instanceof Yr){const s=n.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:n}}throw n}})}getPublicUrl(e,t){const n=this._getFinalPath(e),s=[],i=t!=null&&t.download?`download=${t.download===!0?"":t.download}`:"";i!==""&&s.push(i);const o=typeof(t==null?void 0:t.transform)<"u"?"render/image":"object",u=this.transformOptsToQueryString((t==null?void 0:t.transform)||{});u!==""&&s.push(u);let l=s.join("&");return l!==""&&(l=`?${l}`),{data:{publicUrl:encodeURI(`${this.url}/${o}/public/${n}${l}`)}}}remove(e){return K(this,void 0,void 0,function*(){try{return{data:yield fi(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(t){if(V(t))return{data:null,error:t};throw t}})}list(e,t,n){return K(this,void 0,void 0,function*(){try{const s=Object.assign(Object.assign(Object.assign({},Go),t),{prefix:e||""});return{data:yield Ae(this.fetch,`${this.url}/object/list/${this.bucketId}`,s,{headers:this.headers},n),error:null}}catch(s){if(V(s))return{data:null,error:s};throw s}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const t=[];return e.width&&t.push(`width=${e.width}`),e.height&&t.push(`height=${e.height}`),e.resize&&t.push(`resize=${e.resize}`),e.format&&t.push(`format=${e.format}`),e.quality&&t.push(`quality=${e.quality}`),t.join("&")}}const Jo="2.7.1",Ko={"X-Client-Info":`storage-js/${Jo}`};var at=function(r,e,t,n){function s(i){return i instanceof t?i:new t(function(a){a(i)})}return new(t||(t=Promise))(function(i,a){function o(c){try{l(n.next(c))}catch(d){a(d)}}function u(c){try{l(n.throw(c))}catch(d){a(d)}}function l(c){c.done?i(c.value):s(c.value).then(o,u)}l((n=n.apply(r,e||[])).next())})};class Wo{constructor(e,t={},n){this.url=e,this.headers=Object.assign(Object.assign({},Ko),t),this.fetch=hi(n)}listBuckets(){return at(this,void 0,void 0,function*(){try{return{data:yield rr(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(e){if(V(e))return{data:null,error:e};throw e}})}getBucket(e){return at(this,void 0,void 0,function*(){try{return{data:yield rr(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(t){if(V(t))return{data:null,error:t};throw t}})}createBucket(e,t={public:!1}){return at(this,void 0,void 0,function*(){try{return{data:yield Ae(this.fetch,`${this.url}/bucket`,{id:e,name:e,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(V(n))return{data:null,error:n};throw n}})}updateBucket(e,t){return at(this,void 0,void 0,function*(){try{return{data:yield Vo(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(V(n))return{data:null,error:n};throw n}})}emptyBucket(e){return at(this,void 0,void 0,function*(){try{return{data:yield Ae(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(t){if(V(t))return{data:null,error:t};throw t}})}deleteBucket(e){return at(this,void 0,void 0,function*(){try{return{data:yield fi(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(t){if(V(t))return{data:null,error:t};throw t}})}}class Zo extends Wo{constructor(e,t={},n){super(e,t,n)}from(e){return new Ho(this.url,this.headers,e,this.fetch)}}const Yo="2.47.16";let Ot="";typeof Deno<"u"?Ot="deno":typeof document<"u"?Ot="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Ot="react-native":Ot="node";const Xo={"X-Client-Info":`supabase-js-${Ot}/${Yo}`},Qo={headers:Xo},eu={schema:"public"},tu={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},ru={};var nu=function(r,e,t,n){function s(i){return i instanceof t?i:new t(function(a){a(i)})}return new(t||(t=Promise))(function(i,a){function o(c){try{l(n.next(c))}catch(d){a(d)}}function u(c){try{l(n.throw(c))}catch(d){a(d)}}function l(c){c.done?i(c.value):s(c.value).then(o,u)}l((n=n.apply(r,e||[])).next())})};const su=r=>{let e;return r?e=r:typeof fetch>"u"?e=Ys:e=fetch,(...t)=>e(...t)},iu=()=>typeof Headers>"u"?Xs:Headers,au=(r,e,t)=>{const n=su(t),s=iu();return(i,a)=>nu(void 0,void 0,void 0,function*(){var o;const u=(o=yield e())!==null&&o!==void 0?o:r;let l=new s(a==null?void 0:a.headers);return l.has("apikey")||l.set("apikey",r),l.has("Authorization")||l.set("Authorization",`Bearer ${u}`),n(i,Object.assign(Object.assign({},a),{headers:l}))})};var ou=function(r,e,t,n){function s(i){return i instanceof t?i:new t(function(a){a(i)})}return new(t||(t=Promise))(function(i,a){function o(c){try{l(n.next(c))}catch(d){a(d)}}function u(c){try{l(n.throw(c))}catch(d){a(d)}}function l(c){c.done?i(c.value):s(c.value).then(o,u)}l((n=n.apply(r,e||[])).next())})};function uu(r){return r.replace(/\/$/,"")}function lu(r,e){const{db:t,auth:n,realtime:s,global:i}=r,{db:a,auth:o,realtime:u,global:l}=e,c={db:Object.assign(Object.assign({},a),t),auth:Object.assign(Object.assign({},o),n),realtime:Object.assign(Object.assign({},u),s),global:Object.assign(Object.assign({},l),i),accessToken:()=>ou(this,void 0,void 0,function*(){return""})};return r.accessToken?c.accessToken=r.accessToken:delete c.accessToken,c}const pi="2.67.3",cu="http://localhost:9999",du="supabase.auth.token",hu={"X-Client-Info":`gotrue-js/${pi}`},es=10,Qr="X-Supabase-Api-Version",gi={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}};function fu(r){return Math.round(Date.now()/1e3)+r}function pu(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(r){const e=Math.random()*16|0;return(r=="x"?e:e&3|8).toString(16)})}const ce=()=>typeof window<"u"&&typeof document<"u",De={tested:!1,writable:!1},jt=()=>{if(!ce())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(De.tested)return De.writable;const r=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(r,r),globalThis.localStorage.removeItem(r),De.tested=!0,De.writable=!0}catch{De.tested=!0,De.writable=!1}return De.writable};function gu(r){const e={},t=new URL(r);if(t.hash&&t.hash[0]==="#")try{new URLSearchParams(t.hash.substring(1)).forEach((s,i)=>{e[i]=s})}catch{}return t.searchParams.forEach((n,s)=>{e[s]=n}),e}const mi=r=>{let e;return r?e=r:typeof fetch>"u"?e=(...t)=>pt(async()=>{const{default:n}=await Promise.resolve().then(()=>yt);return{default:n}},void 0).then(({default:n})=>n(...t)):e=fetch,(...t)=>e(...t)},mu=r=>typeof r=="object"&&r!==null&&"status"in r&&"ok"in r&&"json"in r&&typeof r.json=="function",yi=async(r,e,t)=>{await r.setItem(e,JSON.stringify(t))},Ht=async(r,e)=>{const t=await r.getItem(e);if(!t)return null;try{return JSON.parse(t)}catch{return t}},Jt=async(r,e)=>{await r.removeItem(e)};function yu(r){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";let t="",n,s,i,a,o,u,l,c=0;for(r=r.replace("-","+").replace("_","/");c<r.length;)a=e.indexOf(r.charAt(c++)),o=e.indexOf(r.charAt(c++)),u=e.indexOf(r.charAt(c++)),l=e.indexOf(r.charAt(c++)),n=a<<2|o>>4,s=(o&15)<<4|u>>2,i=(u&3)<<6|l,t=t+String.fromCharCode(n),u!=64&&s!=0&&(t=t+String.fromCharCode(s)),l!=64&&i!=0&&(t=t+String.fromCharCode(i));return t}class hr{constructor(){this.promise=new hr.promiseConstructor((e,t)=>{this.resolve=e,this.reject=t})}}hr.promiseConstructor=Promise;function ts(r){const e=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}=?$|[a-z0-9_-]{2}(==)?$)$/i,t=r.split(".");if(t.length!==3)throw new Error("JWT is not valid: not a JWT structure");if(!e.test(t[1]))throw new Error("JWT is not valid: payload is not in base64url format");const n=t[1];return JSON.parse(yu(n))}async function bu(r){return await new Promise(e=>{setTimeout(()=>e(null),r)})}function _u(r,e){return new Promise((n,s)=>{(async()=>{for(let i=0;i<1/0;i++)try{const a=await r(i);if(!e(i,null,a)){n(a);return}}catch(a){if(!e(i,a)){s(a);return}}})()})}function wu(r){return("0"+r.toString(16)).substr(-2)}function vu(){const e=new Uint32Array(56);if(typeof crypto>"u"){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=t.length;let s="";for(let i=0;i<56;i++)s+=t.charAt(Math.floor(Math.random()*n));return s}return crypto.getRandomValues(e),Array.from(e,wu).join("")}async function xu(r){const t=new TextEncoder().encode(r),n=await crypto.subtle.digest("SHA-256",t),s=new Uint8Array(n);return Array.from(s).map(i=>String.fromCharCode(i)).join("")}function Su(r){return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Tu(r){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),r;const t=await xu(r);return Su(t)}async function ot(r,e,t=!1){const n=vu();let s=n;t&&(s+="/PASSWORD_RECOVERY"),await yi(r,`${e}-code-verifier`,s);const i=await Tu(n);return[i,n===i?"plain":"s256"]}const Eu=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function ku(r){const e=r.headers.get(Qr);if(!e||!e.match(Eu))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}class _n extends Error{constructor(e,t,n){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=t,this.code=n}}function E(r){return typeof r=="object"&&r!==null&&"__isAuthError"in r}class $u extends _n{constructor(e,t,n){super(e,t,n),this.name="AuthApiError",this.status=t,this.code=n}}function Ou(r){return E(r)&&r.name==="AuthApiError"}class bi extends _n{constructor(e,t){super(e),this.name="AuthUnknownError",this.originalError=t}}class Ge extends _n{constructor(e,t,n,s){super(e,n,s),this.name=t,this.status=n}}class ke extends Ge{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function Au(r){return E(r)&&r.name==="AuthSessionMissingError"}class Ur extends Ge{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Kt extends Ge{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class Wt extends Ge{constructor(e,t=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=t}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function ju(r){return E(r)&&r.name==="AuthImplicitGrantRedirectError"}class rs extends Ge{constructor(e,t=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=t}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class en extends Ge{constructor(e,t){super(e,"AuthRetryableFetchError",t,void 0)}}function Mr(r){return E(r)&&r.name==="AuthRetryableFetchError"}class ns extends Ge{constructor(e,t,n){super(e,"AuthWeakPasswordError",t,"weak_password"),this.reasons=n}}var Cu=function(r,e){var t={};for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&e.indexOf(n)<0&&(t[n]=r[n]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(r);s<n.length;s++)e.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(r,n[s])&&(t[n[s]]=r[n[s]]);return t};const Ue=r=>r.msg||r.message||r.error_description||r.error||JSON.stringify(r),Pu=[502,503,504];async function ss(r){var e;if(!mu(r))throw new en(Ue(r),0);if(Pu.includes(r.status))throw new en(Ue(r),r.status);let t;try{t=await r.json()}catch(i){throw new bi(Ue(i),i)}let n;const s=ku(r);if(s&&s.getTime()>=gi["2024-01-01"].timestamp&&typeof t=="object"&&t&&typeof t.code=="string"?n=t.code:typeof t=="object"&&t&&typeof t.error_code=="string"&&(n=t.error_code),n){if(n==="weak_password")throw new ns(Ue(t),r.status,((e=t.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(n==="session_not_found")throw new ke}else if(typeof t=="object"&&t&&typeof t.weak_password=="object"&&t.weak_password&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.reasons.reduce((i,a)=>i&&typeof a=="string",!0))throw new ns(Ue(t),r.status,t.weak_password.reasons);throw new $u(Ue(t),r.status||500,n)}const Ru=(r,e,t,n)=>{const s={method:r,headers:(e==null?void 0:e.headers)||{}};return r==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),s.body=JSON.stringify(n),Object.assign(Object.assign({},s),t))};async function $(r,e,t,n){var s;const i=Object.assign({},n==null?void 0:n.headers);i[Qr]||(i[Qr]=gi["2024-01-01"].name),n!=null&&n.jwt&&(i.Authorization=`Bearer ${n.jwt}`);const a=(s=n==null?void 0:n.query)!==null&&s!==void 0?s:{};n!=null&&n.redirectTo&&(a.redirect_to=n.redirectTo);const o=Object.keys(a).length?"?"+new URLSearchParams(a).toString():"",u=await Iu(r,e,t+o,{headers:i,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(u):{data:Object.assign({},u),error:null}}async function Iu(r,e,t,n,s,i){const a=Ru(e,n,s,i);let o;try{o=await r(t,Object.assign({},a))}catch(u){throw console.error(u),new en(Ue(u),0)}if(o.ok||await ss(o),n!=null&&n.noResolveJson)return o;try{return await o.json()}catch(u){await ss(u)}}function $e(r){var e;let t=null;Uu(r)&&(t=Object.assign({},r),r.expires_at||(t.expires_at=fu(r.expires_in)));const n=(e=r.user)!==null&&e!==void 0?e:r;return{data:{session:t,user:n},error:null}}function is(r){const e=$e(r);return!e.error&&r.weak_password&&typeof r.weak_password=="object"&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.message&&typeof r.weak_password.message=="string"&&r.weak_password.reasons.reduce((t,n)=>t&&typeof n=="string",!0)&&(e.data.weak_password=r.weak_password),e}function je(r){var e;return{data:{user:(e=r.user)!==null&&e!==void 0?e:r},error:null}}function Fu(r){return{data:r,error:null}}function Du(r){const{action_link:e,email_otp:t,hashed_token:n,redirect_to:s,verification_type:i}=r,a=Cu(r,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),o={action_link:e,email_otp:t,hashed_token:n,redirect_to:s,verification_type:i},u=Object.assign({},a);return{data:{properties:o,user:u},error:null}}function Lu(r){return r}function Uu(r){return r.access_token&&r.refresh_token&&r.expires_in}var Mu=function(r,e){var t={};for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&e.indexOf(n)<0&&(t[n]=r[n]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(r);s<n.length;s++)e.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(r,n[s])&&(t[n[s]]=r[n[s]]);return t};class Nu{constructor({url:e="",headers:t={},fetch:n}){this.url=e,this.headers=t,this.fetch=mi(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(e,t="global"){try{return await $(this.fetch,"POST",`${this.url}/logout?scope=${t}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(n){if(E(n))return{data:null,error:n};throw n}}async inviteUserByEmail(e,t={}){try{return await $(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:t.data},headers:this.headers,redirectTo:t.redirectTo,xform:je})}catch(n){if(E(n))return{data:{user:null},error:n};throw n}}async generateLink(e){try{const{options:t}=e,n=Mu(e,["options"]),s=Object.assign(Object.assign({},n),t);return"newEmail"in n&&(s.new_email=n==null?void 0:n.newEmail,delete s.newEmail),await $(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:Du,redirectTo:t==null?void 0:t.redirectTo})}catch(t){if(E(t))return{data:{properties:null,user:null},error:t};throw t}}async createUser(e){try{return await $(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:je})}catch(t){if(E(t))return{data:{user:null},error:t};throw t}}async listUsers(e){var t,n,s,i,a,o,u;try{const l={nextPage:null,lastPage:0,total:0},c=await $(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(t=e==null?void 0:e.page)===null||t===void 0?void 0:t.toString())!==null&&n!==void 0?n:"",per_page:(i=(s=e==null?void 0:e.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:Lu});if(c.error)throw c.error;const d=await c.json(),h=(a=c.headers.get("x-total-count"))!==null&&a!==void 0?a:0,p=(u=(o=c.headers.get("link"))===null||o===void 0?void 0:o.split(","))!==null&&u!==void 0?u:[];return p.length>0&&(p.forEach(y=>{const m=parseInt(y.split(";")[0].split("=")[1].substring(0,1)),g=JSON.parse(y.split(";")[1].split("=")[1]);l[`${g}Page`]=m}),l.total=parseInt(h)),{data:Object.assign(Object.assign({},d),l),error:null}}catch(l){if(E(l))return{data:{users:[]},error:l};throw l}}async getUserById(e){try{return await $(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:je})}catch(t){if(E(t))return{data:{user:null},error:t};throw t}}async updateUserById(e,t){try{return await $(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:t,headers:this.headers,xform:je})}catch(n){if(E(n))return{data:{user:null},error:n};throw n}}async deleteUser(e,t=!1){try{return await $(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:t},xform:je})}catch(n){if(E(n))return{data:{user:null},error:n};throw n}}async _listFactors(e){try{const{data:t,error:n}=await $(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:t,error:n}}catch(t){if(E(t))return{data:null,error:t};throw t}}async _deleteFactor(e){try{return{data:await $(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(t){if(E(t))return{data:null,error:t};throw t}}}const zu={getItem:r=>jt()?globalThis.localStorage.getItem(r):null,setItem:(r,e)=>{jt()&&globalThis.localStorage.setItem(r,e)},removeItem:r=>{jt()&&globalThis.localStorage.removeItem(r)}};function as(r={}){return{getItem:e=>r[e]||null,setItem:(e,t)=>{r[e]=t},removeItem:e=>{delete r[e]}}}function Bu(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const ut={debug:!!(globalThis&&jt()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class _i extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class Vu extends _i{}async function qu(r,e,t){ut.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",r,e);const n=new globalThis.AbortController;return e>0&&setTimeout(()=>{n.abort(),ut.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",r)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(r,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async s=>{if(s){ut.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",r,s.name);try{return await t()}finally{ut.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",r,s.name)}}else{if(e===0)throw ut.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",r),new Vu(`Acquiring an exclusive Navigator LockManager lock "${r}" immediately failed`);if(ut.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await t()}}))}Bu();const Gu={url:cu,storageKey:du,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:hu,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1},Tt=30*1e3,os=3;async function us(r,e,t){return await t()}class Rt{constructor(e){var t,n;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Rt.nextInstanceID,Rt.nextInstanceID+=1,this.instanceID>0&&ce()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const s=Object.assign(Object.assign({},Gu),e);if(this.logDebugMessages=!!s.debug,typeof s.debug=="function"&&(this.logger=s.debug),this.persistSession=s.persistSession,this.storageKey=s.storageKey,this.autoRefreshToken=s.autoRefreshToken,this.admin=new Nu({url:s.url,headers:s.headers,fetch:s.fetch}),this.url=s.url,this.headers=s.headers,this.fetch=mi(s.fetch),this.lock=s.lock||us,this.detectSessionInUrl=s.detectSessionInUrl,this.flowType=s.flowType,this.hasCustomAuthorizationHeader=s.hasCustomAuthorizationHeader,s.lock?this.lock=s.lock:ce()&&(!((t=globalThis==null?void 0:globalThis.navigator)===null||t===void 0)&&t.locks)?this.lock=qu:this.lock=us,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?s.storage?this.storage=s.storage:jt()?this.storage=zu:(this.memoryStorage={},this.storage=as(this.memoryStorage)):(this.memoryStorage={},this.storage=as(this.memoryStorage)),ce()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(i){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",i)}(n=this.broadcastChannel)===null||n===void 0||n.addEventListener("message",async i=>{this._debug("received broadcast notification from other tab or client",i),await this._notifyAllSubscribers(i.data.event,i.data.session,!1)})}this.initialize()}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${pi}) ${new Date().toISOString()}`,...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{const t=gu(window.location.href);let n="none";if(this._isImplicitGrantCallback(t)?n="implicit":await this._isPKCECallback(t)&&(n="pkce"),ce()&&this.detectSessionInUrl&&n!=="none"){const{data:s,error:i}=await this._getSessionFromURL(t,n);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),ju(i)){const u=(e=i.details)===null||e===void 0?void 0:e.code;if(u==="identity_already_exists"||u==="identity_not_found"||u==="single_identity_not_deletable")return{error:i}}return await this._removeSession(),{error:i}}const{session:a,redirectType:o}=s;return this._debug("#_initialize()","detected session in URL",a,"redirect type",o),await this._saveSession(a),setTimeout(async()=>{o==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",a):await this._notifyAllSubscribers("SIGNED_IN",a)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(t){return E(t)?{error:t}:{error:new bi("Unexpected error during initialization",t)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var t,n,s;try{const i=await $(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(t=e==null?void 0:e.options)===null||t===void 0?void 0:t.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(s=e==null?void 0:e.options)===null||s===void 0?void 0:s.captchaToken}},xform:$e}),{data:a,error:o}=i;if(o||!a)return{data:{user:null,session:null},error:o};const u=a.session,l=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",u)),{data:{user:l,session:u},error:null}}catch(i){if(E(i))return{data:{user:null,session:null},error:i};throw i}}async signUp(e){var t,n,s;try{let i;if("email"in e){const{email:c,password:d,options:h}=e;let p=null,y=null;this.flowType==="pkce"&&([p,y]=await ot(this.storage,this.storageKey)),i=await $(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:h==null?void 0:h.emailRedirectTo,body:{email:c,password:d,data:(t=h==null?void 0:h.data)!==null&&t!==void 0?t:{},gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken},code_challenge:p,code_challenge_method:y},xform:$e})}else if("phone"in e){const{phone:c,password:d,options:h}=e;i=await $(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:c,password:d,data:(n=h==null?void 0:h.data)!==null&&n!==void 0?n:{},channel:(s=h==null?void 0:h.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},xform:$e})}else throw new Kt("You must provide either an email or phone number and a password");const{data:a,error:o}=i;if(o||!a)return{data:{user:null,session:null},error:o};const u=a.session,l=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",u)),{data:{user:l,session:u},error:null}}catch(i){if(E(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithPassword(e){try{let t;if("email"in e){const{email:i,password:a,options:o}=e;t=await $(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:a,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:is})}else if("phone"in e){const{phone:i,password:a,options:o}=e;t=await $(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:a,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:is})}else throw new Kt("You must provide either an email or phone number and a password");const{data:n,error:s}=t;return s?{data:{user:null,session:null},error:s}:!n||!n.session||!n.user?{data:{user:null,session:null},error:new Ur}:(n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),{data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:s})}catch(t){if(E(t))return{data:{user:null,session:null},error:t};throw t}}async signInWithOAuth(e){var t,n,s,i;return await this._handleProviderSignIn(e.provider,{redirectTo:(t=e.options)===null||t===void 0?void 0:t.redirectTo,scopes:(n=e.options)===null||n===void 0?void 0:n.scopes,queryParams:(s=e.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(i=e.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async _exchangeCodeForSession(e){const t=await Ht(this.storage,`${this.storageKey}-code-verifier`),[n,s]=(t??"").split("/");try{const{data:i,error:a}=await $(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:n},xform:$e});if(await Jt(this.storage,`${this.storageKey}-code-verifier`),a)throw a;return!i||!i.session||!i.user?{data:{user:null,session:null,redirectType:null},error:new Ur}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign(Object.assign({},i),{redirectType:s??null}),error:a})}catch(i){if(E(i))return{data:{user:null,session:null,redirectType:null},error:i};throw i}}async signInWithIdToken(e){try{const{options:t,provider:n,token:s,access_token:i,nonce:a}=e,o=await $(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:s,access_token:i,nonce:a,gotrue_meta_security:{captcha_token:t==null?void 0:t.captchaToken}},xform:$e}),{data:u,error:l}=o;return l?{data:{user:null,session:null},error:l}:!u||!u.session||!u.user?{data:{user:null,session:null},error:new Ur}:(u.session&&(await this._saveSession(u.session),await this._notifyAllSubscribers("SIGNED_IN",u.session)),{data:u,error:l})}catch(t){if(E(t))return{data:{user:null,session:null},error:t};throw t}}async signInWithOtp(e){var t,n,s,i,a;try{if("email"in e){const{email:o,options:u}=e;let l=null,c=null;this.flowType==="pkce"&&([l,c]=await ot(this.storage,this.storageKey));const{error:d}=await $(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:o,data:(t=u==null?void 0:u.data)!==null&&t!==void 0?t:{},create_user:(n=u==null?void 0:u.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:u==null?void 0:u.captchaToken},code_challenge:l,code_challenge_method:c},redirectTo:u==null?void 0:u.emailRedirectTo});return{data:{user:null,session:null},error:d}}if("phone"in e){const{phone:o,options:u}=e,{data:l,error:c}=await $(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:o,data:(s=u==null?void 0:u.data)!==null&&s!==void 0?s:{},create_user:(i=u==null?void 0:u.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:u==null?void 0:u.captchaToken},channel:(a=u==null?void 0:u.channel)!==null&&a!==void 0?a:"sms"}});return{data:{user:null,session:null,messageId:l==null?void 0:l.message_id},error:c}}throw new Kt("You must provide either an email or phone number.")}catch(o){if(E(o))return{data:{user:null,session:null},error:o};throw o}}async verifyOtp(e){var t,n;try{let s,i;"options"in e&&(s=(t=e.options)===null||t===void 0?void 0:t.redirectTo,i=(n=e.options)===null||n===void 0?void 0:n.captchaToken);const{data:a,error:o}=await $(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:i}}),redirectTo:s,xform:$e});if(o)throw o;if(!a)throw new Error("An error occurred on token verification.");const u=a.session,l=a.user;return u!=null&&u.access_token&&(await this._saveSession(u),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",u)),{data:{user:l,session:u},error:null}}catch(s){if(E(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithSSO(e){var t,n,s;try{let i=null,a=null;return this.flowType==="pkce"&&([i,a]=await ot(this.storage,this.storageKey)),await $(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(n=(t=e.options)===null||t===void 0?void 0:t.redirectTo)!==null&&n!==void 0?n:void 0}),!((s=e==null?void 0:e.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:i,code_challenge_method:a}),headers:this.headers,xform:Fu})}catch(i){if(E(i))return{data:null,error:i};throw i}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:t},error:n}=e;if(n)throw n;if(!t)throw new ke;const{error:s}=await $(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:t.access_token});return{data:{user:null,session:null},error:s}})}catch(e){if(E(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{const t=`${this.url}/resend`;if("email"in e){const{email:n,type:s,options:i}=e,{error:a}=await $(this.fetch,"POST",t,{headers:this.headers,body:{email:n,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return{data:{user:null,session:null},error:a}}else if("phone"in e){const{phone:n,type:s,options:i}=e,{data:a,error:o}=await $(this.fetch,"POST",t,{headers:this.headers,body:{phone:n,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return{data:{user:null,session:null,messageId:a==null?void 0:a.message_id},error:o}}throw new Kt("You must provide either an email or phone number and a type")}catch(t){if(E(t))return{data:{user:null,session:null},error:t};throw t}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async t=>t))}async _acquireLock(e,t){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await n,await t()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=t();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const t=await this.__loadSession();return await e(t)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const t=await Ht(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",t),t!==null&&(this._isValidSession(t)?e=t:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const n=e.expires_at?e.expires_at<=Date.now()/1e3:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",e.expires_at),!n){if(this.storage.isServer){let a=this.suppressGetSessionWarning;e=new Proxy(e,{get:(u,l,c)=>(!a&&l==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),a=!0,this.suppressGetSessionWarning=!0),Reflect.get(u,l,c))})}return{data:{session:e},error:null}}const{session:s,error:i}=await this._callRefreshToken(e.refresh_token);return i?{data:{session:null},error:i}:{data:{session:s},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await $(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:je}):await this._useSession(async t=>{var n,s,i;const{data:a,error:o}=t;if(o)throw o;return!(!((n=a.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new ke}:await $(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(s=a.session)===null||s===void 0?void 0:s.access_token)!==null&&i!==void 0?i:void 0,xform:je})})}catch(t){if(E(t))return Au(t)&&(await this._removeSession(),await Jt(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:t};throw t}}async updateUser(e,t={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,t))}async _updateUser(e,t={}){try{return await this._useSession(async n=>{const{data:s,error:i}=n;if(i)throw i;if(!s.session)throw new ke;const a=s.session;let o=null,u=null;this.flowType==="pkce"&&e.email!=null&&([o,u]=await ot(this.storage,this.storageKey));const{data:l,error:c}=await $(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:t==null?void 0:t.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:o,code_challenge_method:u}),jwt:a.access_token,xform:je});if(c)throw c;return a.user=l.user,await this._saveSession(a),await this._notifyAllSubscribers("USER_UPDATED",a),{data:{user:a.user},error:null}})}catch(n){if(E(n))return{data:{user:null},error:n};throw n}}_decodeJWT(e){return ts(e)}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new ke;const t=Date.now()/1e3;let n=t,s=!0,i=null;const a=ts(e.access_token);if(a.exp&&(n=a.exp,s=n<=t),s){const{session:o,error:u}=await this._callRefreshToken(e.refresh_token);if(u)return{data:{user:null,session:null},error:u};if(!o)return{data:{user:null,session:null},error:null};i=o}else{const{data:o,error:u}=await this._getUser(e.access_token);if(u)throw u;i={access_token:e.access_token,refresh_token:e.refresh_token,user:o.user,token_type:"bearer",expires_in:n-t,expires_at:n},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return{data:{user:i.user,session:i},error:null}}catch(t){if(E(t))return{data:{session:null,user:null},error:t};throw t}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async t=>{var n;if(!e){const{data:a,error:o}=t;if(o)throw o;e=(n=a.session)!==null&&n!==void 0?n:void 0}if(!(e!=null&&e.refresh_token))throw new ke;const{session:s,error:i}=await this._callRefreshToken(e.refresh_token);return i?{data:{user:null,session:null},error:i}:s?{data:{user:s.user,session:s},error:null}:{data:{user:null,session:null},error:null}})}catch(t){if(E(t))return{data:{user:null,session:null},error:t};throw t}}async _getSessionFromURL(e,t){try{if(!ce())throw new Wt("No browser detected.");if(e.error||e.error_description||e.error_code)throw new Wt(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(t){case"implicit":if(this.flowType==="pkce")throw new rs("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Wt("Not a valid implicit grant flow url.");break;default:}if(t==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new rs("No code detected.");const{data:S,error:z}=await this._exchangeCodeForSession(e.code);if(z)throw z;const R=new URL(window.location.href);return R.searchParams.delete("code"),window.history.replaceState(window.history.state,"",R.toString()),{data:{session:S.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:s,access_token:i,refresh_token:a,expires_in:o,expires_at:u,token_type:l}=e;if(!i||!o||!a||!l)throw new Wt("No session defined in URL");const c=Math.round(Date.now()/1e3),d=parseInt(o);let h=c+d;u&&(h=parseInt(u));const p=h-c;p*1e3<=Tt&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${p}s, should have been closer to ${d}s`);const y=h-d;c-y>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",y,h,c):c-y<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",y,h,c);const{data:m,error:g}=await this._getUser(i);if(g)throw g;const w={provider_token:n,provider_refresh_token:s,access_token:i,expires_in:d,expires_at:h,refresh_token:a,token_type:l,user:m.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:w,redirectType:e.type},error:null}}catch(n){if(E(n))return{data:{session:null,redirectType:null},error:n};throw n}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const t=await Ht(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&t)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async t=>{var n;const{data:s,error:i}=t;if(i)return{error:i};const a=(n=s.session)===null||n===void 0?void 0:n.access_token;if(a){const{error:o}=await this.admin.signOut(a,e);if(o&&!(Ou(o)&&(o.status===404||o.status===401||o.status===403)))return{error:o}}return e!=="others"&&(await this._removeSession(),await Jt(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(e){const t=pu(),n={id:t,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",t),this.stateChangeEmitters.delete(t)}};return this._debug("#onAuthStateChange()","registered callback with id",t),this.stateChangeEmitters.set(t,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(t)})))(),{data:{subscription:n}}}async _emitInitialSession(e){return await this._useSession(async t=>{var n,s;try{const{data:{session:i},error:a}=t;if(a)throw a;await((n=this.stateChangeEmitters.get(e))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",e,"session",i)}catch(i){await((s=this.stateChangeEmitters.get(e))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",i),console.error(i)}})}async resetPasswordForEmail(e,t={}){let n=null,s=null;this.flowType==="pkce"&&([n,s]=await ot(this.storage,this.storageKey,!0));try{return await $(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:n,code_challenge_method:s,gotrue_meta_security:{captcha_token:t.captchaToken}},headers:this.headers,redirectTo:t.redirectTo})}catch(i){if(E(i))return{data:null,error:i};throw i}}async getUserIdentities(){var e;try{const{data:t,error:n}=await this.getUser();if(n)throw n;return{data:{identities:(e=t.user.identities)!==null&&e!==void 0?e:[]},error:null}}catch(t){if(E(t))return{data:null,error:t};throw t}}async linkIdentity(e){var t;try{const{data:n,error:s}=await this._useSession(async i=>{var a,o,u,l,c;const{data:d,error:h}=i;if(h)throw h;const p=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(a=e.options)===null||a===void 0?void 0:a.redirectTo,scopes:(o=e.options)===null||o===void 0?void 0:o.scopes,queryParams:(u=e.options)===null||u===void 0?void 0:u.queryParams,skipBrowserRedirect:!0});return await $(this.fetch,"GET",p,{headers:this.headers,jwt:(c=(l=d.session)===null||l===void 0?void 0:l.access_token)!==null&&c!==void 0?c:void 0})});if(s)throw s;return ce()&&!(!((t=e.options)===null||t===void 0)&&t.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),{data:{provider:e.provider,url:n==null?void 0:n.url},error:null}}catch(n){if(E(n))return{data:{provider:e.provider,url:null},error:n};throw n}}async unlinkIdentity(e){try{return await this._useSession(async t=>{var n,s;const{data:i,error:a}=t;if(a)throw a;return await $(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(s=(n=i.session)===null||n===void 0?void 0:n.access_token)!==null&&s!==void 0?s:void 0})})}catch(t){if(E(t))return{data:null,error:t};throw t}}async _refreshAccessToken(e){const t=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(t,"begin");try{const n=Date.now();return await _u(async s=>(s>0&&await bu(200*Math.pow(2,s-1)),this._debug(t,"refreshing attempt",s),await $(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:$e})),(s,i)=>{const a=200*Math.pow(2,s);return i&&Mr(i)&&Date.now()+a-n<Tt})}catch(n){if(this._debug(t,"error",n),E(n))return{data:{session:null,user:null},error:n};throw n}finally{this._debug(t,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,t){const n=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:t.redirectTo,scopes:t.scopes,queryParams:t.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",t,"url",n),ce()&&!t.skipBrowserRedirect&&window.location.assign(n),{data:{provider:e,url:n},error:null}}async _recoverAndRefresh(){var e;const t="#_recoverAndRefresh()";this._debug(t,"begin");try{const n=await Ht(this.storage,this.storageKey);if(this._debug(t,"session from storage",n),!this._isValidSession(n)){this._debug(t,"session is not valid"),n!==null&&await this._removeSession();return}const s=Math.round(Date.now()/1e3),i=((e=n.expires_at)!==null&&e!==void 0?e:1/0)<s+es;if(this._debug(t,`session has${i?"":" not"} expired with margin of ${es}s`),i){if(this.autoRefreshToken&&n.refresh_token){const{error:a}=await this._callRefreshToken(n.refresh_token);a&&(console.error(a),Mr(a)||(this._debug(t,"refresh failed with a non-retryable error, removing the session",a),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",n)}catch(n){this._debug(t,"error",n),console.error(n);return}finally{this._debug(t,"end")}}async _callRefreshToken(e){var t,n;if(!e)throw new ke;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new hr;const{data:i,error:a}=await this._refreshAccessToken(e);if(a)throw a;if(!i.session)throw new ke;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const o={session:i.session,error:null};return this.refreshingDeferred.resolve(o),o}catch(i){if(this._debug(s,"error",i),E(i)){const a={session:null,error:i};return Mr(i)||await this._removeSession(),(t=this.refreshingDeferred)===null||t===void 0||t.resolve(a),a}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(i),i}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(e,t,n=!0){const s=`#_notifyAllSubscribers(${e})`;this._debug(s,"begin",t,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:e,session:t});const i=[],a=Array.from(this.stateChangeEmitters.values()).map(async o=>{try{await o.callback(e,t)}catch(u){i.push(u)}});if(await Promise.all(a),i.length>0){for(let o=0;o<i.length;o+=1)console.error(i[o]);throw i[0]}}finally{this._debug(s,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0,await yi(this.storage,this.storageKey,e)}async _removeSession(){this._debug("#_removeSession()"),await Jt(this.storage,this.storageKey),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&ce()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(t){console.error("removing visibilitychange callback failed",t)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),Tt);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async t=>{const{data:{session:n}}=t;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((n.expires_at*1e3-e)/Tt);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${Tt}ms, refresh threshold is ${os} ticks`),s<=os&&await this._callRefreshToken(n.refresh_token)})}catch(t){console.error("Auto refresh tick failed with error. This is likely a transient error.",t)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof _i)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!ce()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const t=`#_onVisibilityChanged(${e})`;this._debug(t,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(t,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,t,n){const s=[`provider=${encodeURIComponent(t)}`];if(n!=null&&n.redirectTo&&s.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&s.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[i,a]=await ot(this.storage,this.storageKey),o=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(a)}`});s.push(o.toString())}if(n!=null&&n.queryParams){const i=new URLSearchParams(n.queryParams);s.push(i.toString())}return n!=null&&n.skipBrowserRedirect&&s.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${e}?${s.join("&")}`}async _unenroll(e){try{return await this._useSession(async t=>{var n;const{data:s,error:i}=t;return i?{data:null,error:i}:await $(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token})})}catch(t){if(E(t))return{data:null,error:t};throw t}}async _enroll(e){try{return await this._useSession(async t=>{var n,s;const{data:i,error:a}=t;if(a)return{data:null,error:a};const o=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:{issuer:e.issuer}),{data:u,error:l}=await $(this.fetch,"POST",`${this.url}/factors`,{body:o,headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token});return l?{data:null,error:l}:(e.factorType==="totp"&&(!((s=u==null?void 0:u.totp)===null||s===void 0)&&s.qr_code)&&(u.totp.qr_code=`data:image/svg+xml;utf-8,${u.totp.qr_code}`),{data:u,error:null})})}catch(t){if(E(t))return{data:null,error:t};throw t}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async t=>{var n;const{data:s,error:i}=t;if(i)return{data:null,error:i};const{data:a,error:o}=await $(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:{code:e.code,challenge_id:e.challengeId},headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token});return o?{data:null,error:o}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+a.expires_in},a)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",a),{data:a,error:o})})}catch(t){if(E(t))return{data:null,error:t};throw t}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async t=>{var n;const{data:s,error:i}=t;return i?{data:null,error:i}:await $(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:{channel:e.channel},headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token})})}catch(t){if(E(t))return{data:null,error:t};throw t}})}async _challengeAndVerify(e){const{data:t,error:n}=await this._challenge({factorId:e.factorId});return n?{data:null,error:n}:await this._verify({factorId:e.factorId,challengeId:t.id,code:e.code})}async _listFactors(){const{data:{user:e},error:t}=await this.getUser();if(t)return{data:null,error:t};const n=(e==null?void 0:e.factors)||[],s=n.filter(a=>a.factor_type==="totp"&&a.status==="verified"),i=n.filter(a=>a.factor_type==="phone"&&a.status==="verified");return{data:{all:n,totp:s,phone:i},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async e=>{var t,n;const{data:{session:s},error:i}=e;if(i)return{data:null,error:i};if(!s)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const a=this._decodeJWT(s.access_token);let o=null;a.aal&&(o=a.aal);let u=o;((n=(t=s.user.factors)===null||t===void 0?void 0:t.filter(d=>d.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(u="aal2");const c=a.amr||[];return{data:{currentLevel:o,nextLevel:u,currentAuthenticationMethods:c},error:null}}))}}Rt.nextInstanceID=0;const Hu=Rt;class Ju extends Hu{constructor(e){super(e)}}var Ku=function(r,e,t,n){function s(i){return i instanceof t?i:new t(function(a){a(i)})}return new(t||(t=Promise))(function(i,a){function o(c){try{l(n.next(c))}catch(d){a(d)}}function u(c){try{l(n.throw(c))}catch(d){a(d)}}function l(c){c.done?i(c.value):s(c.value).then(o,u)}l((n=n.apply(r,e||[])).next())})};class Wu{constructor(e,t,n){var s,i,a;if(this.supabaseUrl=e,this.supabaseKey=t,!e)throw new Error("supabaseUrl is required.");if(!t)throw new Error("supabaseKey is required.");const o=uu(e);this.realtimeUrl=`${o}/realtime/v1`.replace(/^http/i,"ws"),this.authUrl=`${o}/auth/v1`,this.storageUrl=`${o}/storage/v1`,this.functionsUrl=`${o}/functions/v1`;const u=`sb-${new URL(this.authUrl).hostname.split(".")[0]}-auth-token`,l={db:eu,realtime:ru,auth:Object.assign(Object.assign({},tu),{storageKey:u}),global:Qo},c=lu(n??{},l);this.storageKey=(s=c.auth.storageKey)!==null&&s!==void 0?s:"",this.headers=(i=c.global.headers)!==null&&i!==void 0?i:{},c.accessToken?(this.accessToken=c.accessToken,this.auth=new Proxy({},{get:(d,h)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(h)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((a=c.auth)!==null&&a!==void 0?a:{},this.headers,c.global.fetch),this.fetch=au(t,this._getAccessToken.bind(this),c.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},c.realtime)),this.rest=new vo(`${o}/rest/v1`,{headers:this.headers,schema:c.db.schema,fetch:this.fetch}),c.accessToken||this._listenForAuthEvents()}get functions(){return new Za(this.functionsUrl,{headers:this.headers,customFetch:this.fetch})}get storage(){return new Zo(this.storageUrl,this.headers,this.fetch)}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,t={},n={}){return this.rest.rpc(e,t,n)}channel(e,t={config:{}}){return this.realtime.channel(e,t)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var e,t;return Ku(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:n}=yield this.auth.getSession();return(t=(e=n.session)===null||e===void 0?void 0:e.access_token)!==null&&t!==void 0?t:null})}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:t,detectSessionInUrl:n,storage:s,storageKey:i,flowType:a,lock:o,debug:u},l,c){const d={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new Ju({url:this.authUrl,headers:Object.assign(Object.assign({},d),l),storageKey:i,autoRefreshToken:e,persistSession:t,detectSessionInUrl:n,storage:s,flowType:a,lock:o,debug:u,fetch:c,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(e){return new Do(this.realtimeUrl,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((t,n)=>{this._handleTokenChanged(t,"CLIENT",n==null?void 0:n.access_token)})}_handleTokenChanged(e,t,n){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==n?this.changedAccessToken=n:e==="SIGNED_OUT"&&(this.realtime.setAuth(),t=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const Zu=(r,e,t)=>new Wu(r,e,t),Yu="https://rhibyqyxpkcouaxhicgr.supabase.co",Xu="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InJoaWJ5cXl4cGtjb3VheGhpY2dyIiwicm9sZSI6ImFub24iLCJpYXQiOjE3MzY3NjQwMDAsImV4cCI6MjA1MjM0MDAwMH0.La6DhxuaSSOoEvwiTHh6AL0geOJliwPzg3l7dw9ZBME",wi=Zu(Yu,Xu,{});class Qu{constructor(e,t,n){Gt(this,"message");Gt(this,"statusCode");Gt(this,"code");this.message=e,this.statusCode=t,this.code=n}}function vi(r){var e,t,n="";if(typeof r=="string"||typeof r=="number")n+=r;else if(typeof r=="object")if(Array.isArray(r)){var s=r.length;for(e=0;e<s;e++)r[e]&&(t=vi(r[e]))&&(n&&(n+=" "),n+=t)}else for(t in r)r[t]&&(n&&(n+=" "),n+=t);return n}function el(){for(var r,e,t=0,n="",s=arguments.length;t<s;t++)(r=arguments[t])&&(e=vi(r))&&(n&&(n+=" "),n+=e);return n}const wg=6048e5,vg=864e5,ls=Symbol.for("constructDateFrom");function tl(r,e){return typeof r=="function"?r(e):r&&typeof r=="object"&&ls in r?r[ls](e):r instanceof Date?new r.constructor(e):new Date(e)}function tn(r,e){return tl(e||r,r)}function rl(r,e){const t=tn(r,e==null?void 0:e.in);return t.setHours(0,0,0,0),t}function nl(r,e){return+tn(r)<+tn(e)}function sl(r){return rl(Date.now(),r)}const wn="-",il=r=>{const e=ol(r),{conflictingClassGroups:t,conflictingClassGroupModifiers:n}=r;return{getClassGroupId:a=>{const o=a.split(wn);return o[0]===""&&o.length!==1&&o.shift(),xi(o,e)||al(a)},getConflictingClassGroupIds:(a,o)=>{const u=t[a]||[];return o&&n[a]?[...u,...n[a]]:u}}},xi=(r,e)=>{var a;if(r.length===0)return e.classGroupId;const t=r[0],n=e.nextPart.get(t),s=n?xi(r.slice(1),n):void 0;if(s)return s;if(e.validators.length===0)return;const i=r.join(wn);return(a=e.validators.find(({validator:o})=>o(i)))==null?void 0:a.classGroupId},cs=/^\[(.+)\]$/,al=r=>{if(cs.test(r)){const e=cs.exec(r)[1],t=e==null?void 0:e.substring(0,e.indexOf(":"));if(t)return"arbitrary.."+t}},ol=r=>{const{theme:e,prefix:t}=r,n={nextPart:new Map,validators:[]};return ll(Object.entries(r.classGroups),t).forEach(([i,a])=>{rn(a,n,i,e)}),n},rn=(r,e,t,n)=>{r.forEach(s=>{if(typeof s=="string"){const i=s===""?e:ds(e,s);i.classGroupId=t;return}if(typeof s=="function"){if(ul(s)){rn(s(n),e,t,n);return}e.validators.push({validator:s,classGroupId:t});return}Object.entries(s).forEach(([i,a])=>{rn(a,ds(e,i),t,n)})})},ds=(r,e)=>{let t=r;return e.split(wn).forEach(n=>{t.nextPart.has(n)||t.nextPart.set(n,{nextPart:new Map,validators:[]}),t=t.nextPart.get(n)}),t},ul=r=>r.isThemeGetter,ll=(r,e)=>e?r.map(([t,n])=>{const s=n.map(i=>typeof i=="string"?e+i:typeof i=="object"?Object.fromEntries(Object.entries(i).map(([a,o])=>[e+a,o])):i);return[t,s]}):r,cl=r=>{if(r<1)return{get:()=>{},set:()=>{}};let e=0,t=new Map,n=new Map;const s=(i,a)=>{t.set(i,a),e++,e>r&&(e=0,n=t,t=new Map)};return{get(i){let a=t.get(i);if(a!==void 0)return a;if((a=n.get(i))!==void 0)return s(i,a),a},set(i,a){t.has(i)?t.set(i,a):s(i,a)}}},Si="!",dl=r=>{const{separator:e,experimentalParseClassName:t}=r,n=e.length===1,s=e[0],i=e.length,a=o=>{const u=[];let l=0,c=0,d;for(let g=0;g<o.length;g++){let w=o[g];if(l===0){if(w===s&&(n||o.slice(g,g+i)===e)){u.push(o.slice(c,g)),c=g+i;continue}if(w==="/"){d=g;continue}}w==="["?l++:w==="]"&&l--}const h=u.length===0?o:o.substring(c),p=h.startsWith(Si),y=p?h.substring(1):h,m=d&&d>c?d-c:void 0;return{modifiers:u,hasImportantModifier:p,baseClassName:y,maybePostfixModifierPosition:m}};return t?o=>t({className:o,parseClassName:a}):a},hl=r=>{if(r.length<=1)return r;const e=[];let t=[];return r.forEach(n=>{n[0]==="["?(e.push(...t.sort(),n),t=[]):t.push(n)}),e.push(...t.sort()),e},fl=r=>({cache:cl(r.cacheSize),parseClassName:dl(r),...il(r)}),pl=/\s+/,gl=(r,e)=>{const{parseClassName:t,getClassGroupId:n,getConflictingClassGroupIds:s}=e,i=[],a=r.trim().split(pl);let o="";for(let u=a.length-1;u>=0;u-=1){const l=a[u],{modifiers:c,hasImportantModifier:d,baseClassName:h,maybePostfixModifierPosition:p}=t(l);let y=!!p,m=n(y?h.substring(0,p):h);if(!m){if(!y){o=l+(o.length>0?" "+o:o);continue}if(m=n(h),!m){o=l+(o.length>0?" "+o:o);continue}y=!1}const g=hl(c).join(":"),w=d?g+Si:g,S=w+m;if(i.includes(S))continue;i.push(S);const z=s(m,y);for(let R=0;R<z.length;++R){const L=z[R];i.push(w+L)}o=l+(o.length>0?" "+o:o)}return o};function ml(){let r=0,e,t,n="";for(;r<arguments.length;)(e=arguments[r++])&&(t=Ti(e))&&(n&&(n+=" "),n+=t);return n}const Ti=r=>{if(typeof r=="string")return r;let e,t="";for(let n=0;n<r.length;n++)r[n]&&(e=Ti(r[n]))&&(t&&(t+=" "),t+=e);return t};function yl(r,...e){let t,n,s,i=a;function a(u){const l=e.reduce((c,d)=>d(c),r());return t=fl(l),n=t.cache.get,s=t.cache.set,i=o,o(u)}function o(u){const l=n(u);if(l)return l;const c=gl(u,t);return s(u,c),c}return function(){return i(ml.apply(null,arguments))}}const U=r=>{const e=t=>t[r]||[];return e.isThemeGetter=!0,e},Ei=/^\[(?:([a-z-]+):)?(.+)\]$/i,bl=/^\d+\/\d+$/,_l=new Set(["px","full","screen"]),wl=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,vl=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,xl=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,Sl=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,Tl=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,ge=r=>ft(r)||_l.has(r)||bl.test(r),Te=r=>_t(r,"length",Pl),ft=r=>!!r&&!Number.isNaN(Number(r)),Nr=r=>_t(r,"number",ft),Et=r=>!!r&&Number.isInteger(Number(r)),El=r=>r.endsWith("%")&&ft(r.slice(0,-1)),T=r=>Ei.test(r),Ee=r=>wl.test(r),kl=new Set(["length","size","percentage"]),$l=r=>_t(r,kl,ki),Ol=r=>_t(r,"position",ki),Al=new Set(["image","url"]),jl=r=>_t(r,Al,Il),Cl=r=>_t(r,"",Rl),kt=()=>!0,_t=(r,e,t)=>{const n=Ei.exec(r);return n?n[1]?typeof e=="string"?n[1]===e:e.has(n[1]):t(n[2]):!1},Pl=r=>vl.test(r)&&!xl.test(r),ki=()=>!1,Rl=r=>Sl.test(r),Il=r=>Tl.test(r),Fl=()=>{const r=U("colors"),e=U("spacing"),t=U("blur"),n=U("brightness"),s=U("borderColor"),i=U("borderRadius"),a=U("borderSpacing"),o=U("borderWidth"),u=U("contrast"),l=U("grayscale"),c=U("hueRotate"),d=U("invert"),h=U("gap"),p=U("gradientColorStops"),y=U("gradientColorStopPositions"),m=U("inset"),g=U("margin"),w=U("opacity"),S=U("padding"),z=U("saturate"),R=U("scale"),L=U("sepia"),O=U("skew"),A=U("space"),Xe=U("translate"),se=()=>["auto","contain","none"],fe=()=>["auto","hidden","clip","visible","scroll"],I=()=>["auto",T,e],j=()=>[T,e],G=()=>["",ge,Te],Q=()=>["auto",ft,T],vt=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],Qe=()=>["solid","dashed","dotted","double","none"],qt=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],et=()=>["start","end","center","between","around","evenly","stretch"],Se=()=>["","0",T],xt=()=>["auto","avoid","all","avoid-page","page","left","right","column"],J=()=>[ft,T];return{cacheSize:500,separator:":",theme:{colors:[kt],spacing:[ge,Te],blur:["none","",Ee,T],brightness:J(),borderColor:[r],borderRadius:["none","","full",Ee,T],borderSpacing:j(),borderWidth:G(),contrast:J(),grayscale:Se(),hueRotate:J(),invert:Se(),gap:j(),gradientColorStops:[r],gradientColorStopPositions:[El,Te],inset:I(),margin:I(),opacity:J(),padding:j(),saturate:J(),scale:J(),sepia:Se(),skew:J(),space:j(),translate:j()},classGroups:{aspect:[{aspect:["auto","square","video",T]}],container:["container"],columns:[{columns:[Ee]}],"break-after":[{"break-after":xt()}],"break-before":[{"break-before":xt()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...vt(),T]}],overflow:[{overflow:fe()}],"overflow-x":[{"overflow-x":fe()}],"overflow-y":[{"overflow-y":fe()}],overscroll:[{overscroll:se()}],"overscroll-x":[{"overscroll-x":se()}],"overscroll-y":[{"overscroll-y":se()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[m]}],"inset-x":[{"inset-x":[m]}],"inset-y":[{"inset-y":[m]}],start:[{start:[m]}],end:[{end:[m]}],top:[{top:[m]}],right:[{right:[m]}],bottom:[{bottom:[m]}],left:[{left:[m]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Et,T]}],basis:[{basis:I()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",T]}],grow:[{grow:Se()}],shrink:[{shrink:Se()}],order:[{order:["first","last","none",Et,T]}],"grid-cols":[{"grid-cols":[kt]}],"col-start-end":[{col:["auto",{span:["full",Et,T]},T]}],"col-start":[{"col-start":Q()}],"col-end":[{"col-end":Q()}],"grid-rows":[{"grid-rows":[kt]}],"row-start-end":[{row:["auto",{span:[Et,T]},T]}],"row-start":[{"row-start":Q()}],"row-end":[{"row-end":Q()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",T]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",T]}],gap:[{gap:[h]}],"gap-x":[{"gap-x":[h]}],"gap-y":[{"gap-y":[h]}],"justify-content":[{justify:["normal",...et()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...et(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...et(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[S]}],px:[{px:[S]}],py:[{py:[S]}],ps:[{ps:[S]}],pe:[{pe:[S]}],pt:[{pt:[S]}],pr:[{pr:[S]}],pb:[{pb:[S]}],pl:[{pl:[S]}],m:[{m:[g]}],mx:[{mx:[g]}],my:[{my:[g]}],ms:[{ms:[g]}],me:[{me:[g]}],mt:[{mt:[g]}],mr:[{mr:[g]}],mb:[{mb:[g]}],ml:[{ml:[g]}],"space-x":[{"space-x":[A]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[A]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",T,e]}],"min-w":[{"min-w":[T,e,"min","max","fit"]}],"max-w":[{"max-w":[T,e,"none","full","min","max","fit","prose",{screen:[Ee]},Ee]}],h:[{h:[T,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[T,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[T,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[T,e,"auto","min","max","fit"]}],"font-size":[{text:["base",Ee,Te]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",Nr]}],"font-family":[{font:[kt]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",T]}],"line-clamp":[{"line-clamp":["none",ft,Nr]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",ge,T]}],"list-image":[{"list-image":["none",T]}],"list-style-type":[{list:["none","disc","decimal",T]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[r]}],"placeholder-opacity":[{"placeholder-opacity":[w]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[r]}],"text-opacity":[{"text-opacity":[w]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...Qe(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",ge,Te]}],"underline-offset":[{"underline-offset":["auto",ge,T]}],"text-decoration-color":[{decoration:[r]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:j()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",T]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",T]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[w]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...vt(),Ol]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",$l]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},jl]}],"bg-color":[{bg:[r]}],"gradient-from-pos":[{from:[y]}],"gradient-via-pos":[{via:[y]}],"gradient-to-pos":[{to:[y]}],"gradient-from":[{from:[p]}],"gradient-via":[{via:[p]}],"gradient-to":[{to:[p]}],rounded:[{rounded:[i]}],"rounded-s":[{"rounded-s":[i]}],"rounded-e":[{"rounded-e":[i]}],"rounded-t":[{"rounded-t":[i]}],"rounded-r":[{"rounded-r":[i]}],"rounded-b":[{"rounded-b":[i]}],"rounded-l":[{"rounded-l":[i]}],"rounded-ss":[{"rounded-ss":[i]}],"rounded-se":[{"rounded-se":[i]}],"rounded-ee":[{"rounded-ee":[i]}],"rounded-es":[{"rounded-es":[i]}],"rounded-tl":[{"rounded-tl":[i]}],"rounded-tr":[{"rounded-tr":[i]}],"rounded-br":[{"rounded-br":[i]}],"rounded-bl":[{"rounded-bl":[i]}],"border-w":[{border:[o]}],"border-w-x":[{"border-x":[o]}],"border-w-y":[{"border-y":[o]}],"border-w-s":[{"border-s":[o]}],"border-w-e":[{"border-e":[o]}],"border-w-t":[{"border-t":[o]}],"border-w-r":[{"border-r":[o]}],"border-w-b":[{"border-b":[o]}],"border-w-l":[{"border-l":[o]}],"border-opacity":[{"border-opacity":[w]}],"border-style":[{border:[...Qe(),"hidden"]}],"divide-x":[{"divide-x":[o]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[o]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[w]}],"divide-style":[{divide:Qe()}],"border-color":[{border:[s]}],"border-color-x":[{"border-x":[s]}],"border-color-y":[{"border-y":[s]}],"border-color-s":[{"border-s":[s]}],"border-color-e":[{"border-e":[s]}],"border-color-t":[{"border-t":[s]}],"border-color-r":[{"border-r":[s]}],"border-color-b":[{"border-b":[s]}],"border-color-l":[{"border-l":[s]}],"divide-color":[{divide:[s]}],"outline-style":[{outline:["",...Qe()]}],"outline-offset":[{"outline-offset":[ge,T]}],"outline-w":[{outline:[ge,Te]}],"outline-color":[{outline:[r]}],"ring-w":[{ring:G()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[r]}],"ring-opacity":[{"ring-opacity":[w]}],"ring-offset-w":[{"ring-offset":[ge,Te]}],"ring-offset-color":[{"ring-offset":[r]}],shadow:[{shadow:["","inner","none",Ee,Cl]}],"shadow-color":[{shadow:[kt]}],opacity:[{opacity:[w]}],"mix-blend":[{"mix-blend":[...qt(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":qt()}],filter:[{filter:["","none"]}],blur:[{blur:[t]}],brightness:[{brightness:[n]}],contrast:[{contrast:[u]}],"drop-shadow":[{"drop-shadow":["","none",Ee,T]}],grayscale:[{grayscale:[l]}],"hue-rotate":[{"hue-rotate":[c]}],invert:[{invert:[d]}],saturate:[{saturate:[z]}],sepia:[{sepia:[L]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[t]}],"backdrop-brightness":[{"backdrop-brightness":[n]}],"backdrop-contrast":[{"backdrop-contrast":[u]}],"backdrop-grayscale":[{"backdrop-grayscale":[l]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[c]}],"backdrop-invert":[{"backdrop-invert":[d]}],"backdrop-opacity":[{"backdrop-opacity":[w]}],"backdrop-saturate":[{"backdrop-saturate":[z]}],"backdrop-sepia":[{"backdrop-sepia":[L]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[a]}],"border-spacing-x":[{"border-spacing-x":[a]}],"border-spacing-y":[{"border-spacing-y":[a]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",T]}],duration:[{duration:J()}],ease:[{ease:["linear","in","out","in-out",T]}],delay:[{delay:J()}],animate:[{animate:["none","spin","ping","pulse","bounce",T]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[R]}],"scale-x":[{"scale-x":[R]}],"scale-y":[{"scale-y":[R]}],rotate:[{rotate:[Et,T]}],"translate-x":[{"translate-x":[Xe]}],"translate-y":[{"translate-y":[Xe]}],"skew-x":[{"skew-x":[O]}],"skew-y":[{"skew-y":[O]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",T]}],accent:[{accent:["auto",r]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",T]}],"caret-color":[{caret:[r]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":j()}],"scroll-mx":[{"scroll-mx":j()}],"scroll-my":[{"scroll-my":j()}],"scroll-ms":[{"scroll-ms":j()}],"scroll-me":[{"scroll-me":j()}],"scroll-mt":[{"scroll-mt":j()}],"scroll-mr":[{"scroll-mr":j()}],"scroll-mb":[{"scroll-mb":j()}],"scroll-ml":[{"scroll-ml":j()}],"scroll-p":[{"scroll-p":j()}],"scroll-px":[{"scroll-px":j()}],"scroll-py":[{"scroll-py":j()}],"scroll-ps":[{"scroll-ps":j()}],"scroll-pe":[{"scroll-pe":j()}],"scroll-pt":[{"scroll-pt":j()}],"scroll-pr":[{"scroll-pr":j()}],"scroll-pb":[{"scroll-pb":j()}],"scroll-pl":[{"scroll-pl":j()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",T]}],fill:[{fill:[r,"none"]}],"stroke-w":[{stroke:[ge,Te,Nr]}],stroke:[{stroke:[r,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},Dl=yl(Fl);function It(...r){return Dl(el(r))}const xg=r=>{const{key:e,code:t,ctrlKey:n}=r;e.length>1||n||(isNaN(Number(e))||t==="Space")&&r.preventDefault()};function Sg(r){if(!r)return r;const[e,t]=r.split(":").map(Number),n=e>=12?"PM":"AM",s=e%12||12;return`${`${String(s).padStart(2,"0")}:${String(t).padStart(2,"0")}`} ${n}`}const Tg=r=>{const e=sl();return nl(r,e)},$i=_.forwardRef(({className:r,type:e,...t},n)=>we.jsx("input",{type:e,className:It("w-full rounded-md bg-background px-3 py-1 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",r),ref:n,...t}));$i.displayName="Input";var Ll=function(e){return Ul(e)&&!Ml(e)};function Ul(r){return!!r&&typeof r=="object"}function Ml(r){var e=Object.prototype.toString.call(r);return e==="[object RegExp]"||e==="[object Date]"||Bl(r)}var Nl=typeof Symbol=="function"&&Symbol.for,zl=Nl?Symbol.for("react.element"):60103;function Bl(r){return r.$$typeof===zl}function Vl(r){return Array.isArray(r)?[]:{}}function nr(r,e){return e.clone!==!1&&e.isMergeableObject(r)?Ft(Vl(r),r,e):r}function ql(r,e,t){return r.concat(e).map(function(n){return nr(n,t)})}function Gl(r,e,t){var n={};return t.isMergeableObject(r)&&Object.keys(r).forEach(function(s){n[s]=nr(r[s],t)}),Object.keys(e).forEach(function(s){!t.isMergeableObject(e[s])||!r[s]?n[s]=nr(e[s],t):n[s]=Ft(r[s],e[s],t)}),n}function Ft(r,e,t){t=t||{},t.arrayMerge=t.arrayMerge||ql,t.isMergeableObject=t.isMergeableObject||Ll;var n=Array.isArray(e),s=Array.isArray(r),i=n===s;return i?n?t.arrayMerge(r,e,t):Gl(r,e,t):nr(e,t)}Ft.all=function(e,t){if(!Array.isArray(e))throw new Error("first argument should be an array");return e.reduce(function(n,s){return Ft(n,s,t)},{})};var nn=Ft,Oi=typeof global=="object"&&global&&global.Object===Object&&global,Hl=typeof self=="object"&&self&&self.Object===Object&&self,he=Oi||Hl||Function("return this")(),Ie=he.Symbol,Ai=Object.prototype,Jl=Ai.hasOwnProperty,Kl=Ai.toString,$t=Ie?Ie.toStringTag:void 0;function Wl(r){var e=Jl.call(r,$t),t=r[$t];try{r[$t]=void 0;var n=!0}catch{}var s=Kl.call(r);return n&&(e?r[$t]=t:delete r[$t]),s}var Zl=Object.prototype,Yl=Zl.toString;function Xl(r){return Yl.call(r)}var Ql="[object Null]",ec="[object Undefined]",hs=Ie?Ie.toStringTag:void 0;function He(r){return r==null?r===void 0?ec:Ql:hs&&hs in Object(r)?Wl(r):Xl(r)}function ji(r,e){return function(t){return r(e(t))}}var vn=ji(Object.getPrototypeOf,Object);function Je(r){return r!=null&&typeof r=="object"}var tc="[object Object]",rc=Function.prototype,nc=Object.prototype,Ci=rc.toString,sc=nc.hasOwnProperty,ic=Ci.call(Object);function fs(r){if(!Je(r)||He(r)!=tc)return!1;var e=vn(r);if(e===null)return!0;var t=sc.call(e,"constructor")&&e.constructor;return typeof t=="function"&&t instanceof t&&Ci.call(t)==ic}function ac(){this.__data__=[],this.size=0}function Pi(r,e){return r===e||r!==r&&e!==e}function fr(r,e){for(var t=r.length;t--;)if(Pi(r[t][0],e))return t;return-1}var oc=Array.prototype,uc=oc.splice;function lc(r){var e=this.__data__,t=fr(e,r);if(t<0)return!1;var n=e.length-1;return t==n?e.pop():uc.call(e,t,1),--this.size,!0}function cc(r){var e=this.__data__,t=fr(e,r);return t<0?void 0:e[t][1]}function dc(r){return fr(this.__data__,r)>-1}function hc(r,e){var t=this.__data__,n=fr(t,r);return n<0?(++this.size,t.push([r,e])):t[n][1]=e,this}function xe(r){var e=-1,t=r==null?0:r.length;for(this.clear();++e<t;){var n=r[e];this.set(n[0],n[1])}}xe.prototype.clear=ac;xe.prototype.delete=lc;xe.prototype.get=cc;xe.prototype.has=dc;xe.prototype.set=hc;function fc(){this.__data__=new xe,this.size=0}function pc(r){var e=this.__data__,t=e.delete(r);return this.size=e.size,t}function gc(r){return this.__data__.get(r)}function mc(r){return this.__data__.has(r)}function Nt(r){var e=typeof r;return r!=null&&(e=="object"||e=="function")}var yc="[object AsyncFunction]",bc="[object Function]",_c="[object GeneratorFunction]",wc="[object Proxy]";function Ri(r){if(!Nt(r))return!1;var e=He(r);return e==bc||e==_c||e==yc||e==wc}var zr=he["__core-js_shared__"],ps=function(){var r=/[^.]+$/.exec(zr&&zr.keys&&zr.keys.IE_PROTO||"");return r?"Symbol(src)_1."+r:""}();function vc(r){return!!ps&&ps in r}var xc=Function.prototype,Sc=xc.toString;function Ke(r){if(r!=null){try{return Sc.call(r)}catch{}try{return r+""}catch{}}return""}var Tc=/[\\^$.*+?()[\]{}|]/g,Ec=/^\[object .+?Constructor\]$/,kc=Function.prototype,$c=Object.prototype,Oc=kc.toString,Ac=$c.hasOwnProperty,jc=RegExp("^"+Oc.call(Ac).replace(Tc,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function Cc(r){if(!Nt(r)||vc(r))return!1;var e=Ri(r)?jc:Ec;return e.test(Ke(r))}function Pc(r,e){return r==null?void 0:r[e]}function We(r,e){var t=Pc(r,e);return Cc(t)?t:void 0}var Dt=We(he,"Map"),Lt=We(Object,"create");function Rc(){this.__data__=Lt?Lt(null):{},this.size=0}function Ic(r){var e=this.has(r)&&delete this.__data__[r];return this.size-=e?1:0,e}var Fc="__lodash_hash_undefined__",Dc=Object.prototype,Lc=Dc.hasOwnProperty;function Uc(r){var e=this.__data__;if(Lt){var t=e[r];return t===Fc?void 0:t}return Lc.call(e,r)?e[r]:void 0}var Mc=Object.prototype,Nc=Mc.hasOwnProperty;function zc(r){var e=this.__data__;return Lt?e[r]!==void 0:Nc.call(e,r)}var Bc="__lodash_hash_undefined__";function Vc(r,e){var t=this.__data__;return this.size+=this.has(r)?0:1,t[r]=Lt&&e===void 0?Bc:e,this}function Ve(r){var e=-1,t=r==null?0:r.length;for(this.clear();++e<t;){var n=r[e];this.set(n[0],n[1])}}Ve.prototype.clear=Rc;Ve.prototype.delete=Ic;Ve.prototype.get=Uc;Ve.prototype.has=zc;Ve.prototype.set=Vc;function qc(){this.size=0,this.__data__={hash:new Ve,map:new(Dt||xe),string:new Ve}}function Gc(r){var e=typeof r;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?r!=="__proto__":r===null}function pr(r,e){var t=r.__data__;return Gc(e)?t[typeof e=="string"?"string":"hash"]:t.map}function Hc(r){var e=pr(this,r).delete(r);return this.size-=e?1:0,e}function Jc(r){return pr(this,r).get(r)}function Kc(r){return pr(this,r).has(r)}function Wc(r,e){var t=pr(this,r),n=t.size;return t.set(r,e),this.size+=t.size==n?0:1,this}function Fe(r){var e=-1,t=r==null?0:r.length;for(this.clear();++e<t;){var n=r[e];this.set(n[0],n[1])}}Fe.prototype.clear=qc;Fe.prototype.delete=Hc;Fe.prototype.get=Jc;Fe.prototype.has=Kc;Fe.prototype.set=Wc;var Zc=200;function Yc(r,e){var t=this.__data__;if(t instanceof xe){var n=t.__data__;if(!Dt||n.length<Zc-1)return n.push([r,e]),this.size=++t.size,this;t=this.__data__=new Fe(n)}return t.set(r,e),this.size=t.size,this}function wt(r){var e=this.__data__=new xe(r);this.size=e.size}wt.prototype.clear=fc;wt.prototype.delete=pc;wt.prototype.get=gc;wt.prototype.has=mc;wt.prototype.set=Yc;function Xc(r,e){for(var t=-1,n=r==null?0:r.length;++t<n&&e(r[t],t,r)!==!1;);return r}var gs=function(){try{var r=We(Object,"defineProperty");return r({},"",{}),r}catch{}}();function Ii(r,e,t){e=="__proto__"&&gs?gs(r,e,{configurable:!0,enumerable:!0,value:t,writable:!0}):r[e]=t}var Qc=Object.prototype,ed=Qc.hasOwnProperty;function Fi(r,e,t){var n=r[e];(!(ed.call(r,e)&&Pi(n,t))||t===void 0&&!(e in r))&&Ii(r,e,t)}function gr(r,e,t,n){var s=!t;t||(t={});for(var i=-1,a=e.length;++i<a;){var o=e[i],u=void 0;u===void 0&&(u=r[o]),s?Ii(t,o,u):Fi(t,o,u)}return t}function td(r,e){for(var t=-1,n=Array(r);++t<r;)n[t]=e(t);return n}var rd="[object Arguments]";function ms(r){return Je(r)&&He(r)==rd}var Di=Object.prototype,nd=Di.hasOwnProperty,sd=Di.propertyIsEnumerable,id=ms(function(){return arguments}())?ms:function(r){return Je(r)&&nd.call(r,"callee")&&!sd.call(r,"callee")},zt=Array.isArray;function ad(){return!1}var Li=typeof exports=="object"&&exports&&!exports.nodeType&&exports,ys=Li&&typeof module=="object"&&module&&!module.nodeType&&module,od=ys&&ys.exports===Li,bs=od?he.Buffer:void 0,ud=bs?bs.isBuffer:void 0,Ui=ud||ad,ld=9007199254740991,cd=/^(?:0|[1-9]\d*)$/;function dd(r,e){var t=typeof r;return e=e??ld,!!e&&(t=="number"||t!="symbol"&&cd.test(r))&&r>-1&&r%1==0&&r<e}var hd=9007199254740991;function Mi(r){return typeof r=="number"&&r>-1&&r%1==0&&r<=hd}var fd="[object Arguments]",pd="[object Array]",gd="[object Boolean]",md="[object Date]",yd="[object Error]",bd="[object Function]",_d="[object Map]",wd="[object Number]",vd="[object Object]",xd="[object RegExp]",Sd="[object Set]",Td="[object String]",Ed="[object WeakMap]",kd="[object ArrayBuffer]",$d="[object DataView]",Od="[object Float32Array]",Ad="[object Float64Array]",jd="[object Int8Array]",Cd="[object Int16Array]",Pd="[object Int32Array]",Rd="[object Uint8Array]",Id="[object Uint8ClampedArray]",Fd="[object Uint16Array]",Dd="[object Uint32Array]",M={};M[Od]=M[Ad]=M[jd]=M[Cd]=M[Pd]=M[Rd]=M[Id]=M[Fd]=M[Dd]=!0;M[fd]=M[pd]=M[kd]=M[gd]=M[$d]=M[md]=M[yd]=M[bd]=M[_d]=M[wd]=M[vd]=M[xd]=M[Sd]=M[Td]=M[Ed]=!1;function Ld(r){return Je(r)&&Mi(r.length)&&!!M[He(r)]}function xn(r){return function(e){return r(e)}}var Ni=typeof exports=="object"&&exports&&!exports.nodeType&&exports,Ct=Ni&&typeof module=="object"&&module&&!module.nodeType&&module,Ud=Ct&&Ct.exports===Ni,Br=Ud&&Oi.process,mt=function(){try{var r=Ct&&Ct.require&&Ct.require("util").types;return r||Br&&Br.binding&&Br.binding("util")}catch{}}(),_s=mt&&mt.isTypedArray,Md=_s?xn(_s):Ld,Nd=Object.prototype,zd=Nd.hasOwnProperty;function zi(r,e){var t=zt(r),n=!t&&id(r),s=!t&&!n&&Ui(r),i=!t&&!n&&!s&&Md(r),a=t||n||s||i,o=a?td(r.length,String):[],u=o.length;for(var l in r)(e||zd.call(r,l))&&!(a&&(l=="length"||s&&(l=="offset"||l=="parent")||i&&(l=="buffer"||l=="byteLength"||l=="byteOffset")||dd(l,u)))&&o.push(l);return o}var Bd=Object.prototype;function Sn(r){var e=r&&r.constructor,t=typeof e=="function"&&e.prototype||Bd;return r===t}var Vd=ji(Object.keys,Object),qd=Object.prototype,Gd=qd.hasOwnProperty;function Hd(r){if(!Sn(r))return Vd(r);var e=[];for(var t in Object(r))Gd.call(r,t)&&t!="constructor"&&e.push(t);return e}function Bi(r){return r!=null&&Mi(r.length)&&!Ri(r)}function Tn(r){return Bi(r)?zi(r):Hd(r)}function Jd(r,e){return r&&gr(e,Tn(e),r)}function Kd(r){var e=[];if(r!=null)for(var t in Object(r))e.push(t);return e}var Wd=Object.prototype,Zd=Wd.hasOwnProperty;function Yd(r){if(!Nt(r))return Kd(r);var e=Sn(r),t=[];for(var n in r)n=="constructor"&&(e||!Zd.call(r,n))||t.push(n);return t}function En(r){return Bi(r)?zi(r,!0):Yd(r)}function Xd(r,e){return r&&gr(e,En(e),r)}var Vi=typeof exports=="object"&&exports&&!exports.nodeType&&exports,ws=Vi&&typeof module=="object"&&module&&!module.nodeType&&module,Qd=ws&&ws.exports===Vi,vs=Qd?he.Buffer:void 0,xs=vs?vs.allocUnsafe:void 0;function eh(r,e){if(e)return r.slice();var t=r.length,n=xs?xs(t):new r.constructor(t);return r.copy(n),n}function qi(r,e){var t=-1,n=r.length;for(e||(e=Array(n));++t<n;)e[t]=r[t];return e}function th(r,e){for(var t=-1,n=r==null?0:r.length,s=0,i=[];++t<n;){var a=r[t];e(a,t,r)&&(i[s++]=a)}return i}function Gi(){return[]}var rh=Object.prototype,nh=rh.propertyIsEnumerable,Ss=Object.getOwnPropertySymbols,kn=Ss?function(r){return r==null?[]:(r=Object(r),th(Ss(r),function(e){return nh.call(r,e)}))}:Gi;function sh(r,e){return gr(r,kn(r),e)}function Hi(r,e){for(var t=-1,n=e.length,s=r.length;++t<n;)r[s+t]=e[t];return r}var ih=Object.getOwnPropertySymbols,Ji=ih?function(r){for(var e=[];r;)Hi(e,kn(r)),r=vn(r);return e}:Gi;function ah(r,e){return gr(r,Ji(r),e)}function Ki(r,e,t){var n=e(r);return zt(r)?n:Hi(n,t(r))}function oh(r){return Ki(r,Tn,kn)}function uh(r){return Ki(r,En,Ji)}var sn=We(he,"DataView"),an=We(he,"Promise"),on=We(he,"Set"),un=We(he,"WeakMap"),Ts="[object Map]",lh="[object Object]",Es="[object Promise]",ks="[object Set]",$s="[object WeakMap]",Os="[object DataView]",ch=Ke(sn),dh=Ke(Dt),hh=Ke(an),fh=Ke(on),ph=Ke(un),be=He;(sn&&be(new sn(new ArrayBuffer(1)))!=Os||Dt&&be(new Dt)!=Ts||an&&be(an.resolve())!=Es||on&&be(new on)!=ks||un&&be(new un)!=$s)&&(be=function(r){var e=He(r),t=e==lh?r.constructor:void 0,n=t?Ke(t):"";if(n)switch(n){case ch:return Os;case dh:return Ts;case hh:return Es;case fh:return ks;case ph:return $s}return e});var gh=Object.prototype,mh=gh.hasOwnProperty;function yh(r){var e=r.length,t=new r.constructor(e);return e&&typeof r[0]=="string"&&mh.call(r,"index")&&(t.index=r.index,t.input=r.input),t}var As=he.Uint8Array;function $n(r){var e=new r.constructor(r.byteLength);return new As(e).set(new As(r)),e}function bh(r,e){var t=e?$n(r.buffer):r.buffer;return new r.constructor(t,r.byteOffset,r.byteLength)}var _h=/\w*$/;function wh(r){var e=new r.constructor(r.source,_h.exec(r));return e.lastIndex=r.lastIndex,e}var js=Ie?Ie.prototype:void 0,Cs=js?js.valueOf:void 0;function vh(r){return Cs?Object(Cs.call(r)):{}}function xh(r,e){var t=e?$n(r.buffer):r.buffer;return new r.constructor(t,r.byteOffset,r.length)}var Sh="[object Boolean]",Th="[object Date]",Eh="[object Map]",kh="[object Number]",$h="[object RegExp]",Oh="[object Set]",Ah="[object String]",jh="[object Symbol]",Ch="[object ArrayBuffer]",Ph="[object DataView]",Rh="[object Float32Array]",Ih="[object Float64Array]",Fh="[object Int8Array]",Dh="[object Int16Array]",Lh="[object Int32Array]",Uh="[object Uint8Array]",Mh="[object Uint8ClampedArray]",Nh="[object Uint16Array]",zh="[object Uint32Array]";function Bh(r,e,t){var n=r.constructor;switch(e){case Ch:return $n(r);case Sh:case Th:return new n(+r);case Ph:return bh(r,t);case Rh:case Ih:case Fh:case Dh:case Lh:case Uh:case Mh:case Nh:case zh:return xh(r,t);case Eh:return new n;case kh:case Ah:return new n(r);case $h:return wh(r);case Oh:return new n;case jh:return vh(r)}}var Ps=Object.create,Vh=function(){function r(){}return function(e){if(!Nt(e))return{};if(Ps)return Ps(e);r.prototype=e;var t=new r;return r.prototype=void 0,t}}();function qh(r){return typeof r.constructor=="function"&&!Sn(r)?Vh(vn(r)):{}}var Gh="[object Map]";function Hh(r){return Je(r)&&be(r)==Gh}var Rs=mt&&mt.isMap,Jh=Rs?xn(Rs):Hh,Kh="[object Set]";function Wh(r){return Je(r)&&be(r)==Kh}var Is=mt&&mt.isSet,Zh=Is?xn(Is):Wh,Yh=1,Xh=2,Qh=4,Wi="[object Arguments]",ef="[object Array]",tf="[object Boolean]",rf="[object Date]",nf="[object Error]",Zi="[object Function]",sf="[object GeneratorFunction]",af="[object Map]",of="[object Number]",Yi="[object Object]",uf="[object RegExp]",lf="[object Set]",cf="[object String]",df="[object Symbol]",hf="[object WeakMap]",ff="[object ArrayBuffer]",pf="[object DataView]",gf="[object Float32Array]",mf="[object Float64Array]",yf="[object Int8Array]",bf="[object Int16Array]",_f="[object Int32Array]",wf="[object Uint8Array]",vf="[object Uint8ClampedArray]",xf="[object Uint16Array]",Sf="[object Uint32Array]",D={};D[Wi]=D[ef]=D[ff]=D[pf]=D[tf]=D[rf]=D[gf]=D[mf]=D[yf]=D[bf]=D[_f]=D[af]=D[of]=D[Yi]=D[uf]=D[lf]=D[cf]=D[df]=D[wf]=D[vf]=D[xf]=D[Sf]=!0;D[nf]=D[Zi]=D[hf]=!1;function Pt(r,e,t,n,s,i){var a,o=e&Yh,u=e&Xh,l=e&Qh;if(a!==void 0)return a;if(!Nt(r))return r;var c=zt(r);if(c){if(a=yh(r),!o)return qi(r,a)}else{var d=be(r),h=d==Zi||d==sf;if(Ui(r))return eh(r,o);if(d==Yi||d==Wi||h&&!s){if(a=u||h?{}:qh(r),!o)return u?ah(r,Xd(a,r)):sh(r,Jd(a,r))}else{if(!D[d])return s?r:{};a=Bh(r,d,o)}}i||(i=new wt);var p=i.get(r);if(p)return p;i.set(r,a),Zh(r)?r.forEach(function(g){a.add(Pt(g,e,t,g,r,i))}):Jh(r)&&r.forEach(function(g,w){a.set(w,Pt(g,e,t,w,r,i))});var y=l?u?uh:oh:u?En:Tn,m=c?void 0:y(r);return Xc(m||r,function(g,w){m&&(w=g,g=r[w]),Fi(a,w,Pt(g,e,t,w,r,i))}),a}var Tf=1,Ef=4;function Zt(r){return Pt(r,Tf|Ef)}var Fs=Array.isArray,Ds=Object.keys,kf=Object.prototype.hasOwnProperty,$f=typeof Element<"u";function ln(r,e){if(r===e)return!0;if(r&&e&&typeof r=="object"&&typeof e=="object"){var t=Fs(r),n=Fs(e),s,i,a;if(t&&n){if(i=r.length,i!=e.length)return!1;for(s=i;s--!==0;)if(!ln(r[s],e[s]))return!1;return!0}if(t!=n)return!1;var o=r instanceof Date,u=e instanceof Date;if(o!=u)return!1;if(o&&u)return r.getTime()==e.getTime();var l=r instanceof RegExp,c=e instanceof RegExp;if(l!=c)return!1;if(l&&c)return r.toString()==e.toString();var d=Ds(r);if(i=d.length,i!==Ds(e).length)return!1;for(s=i;s--!==0;)if(!kf.call(e,d[s]))return!1;if($f&&r instanceof Element&&e instanceof Element)return r===e;for(s=i;s--!==0;)if(a=d[s],!(a==="_owner"&&r.$$typeof)&&!ln(r[a],e[a]))return!1;return!0}return r!==r&&e!==e}var Of=function(e,t){try{return ln(e,t)}catch(n){if(n.message&&n.message.match(/stack|recursion/i)||n.number===-2146828260)return console.warn("Warning: react-fast-compare does not handle circular references.",n.name,n.message),!1;throw n}};const Me=Ws(Of);var Af=4;function Ls(r){return Pt(r,Af)}function Xi(r,e){for(var t=-1,n=r==null?0:r.length,s=Array(n);++t<n;)s[t]=e(r[t],t,r);return s}var jf="[object Symbol]";function On(r){return typeof r=="symbol"||Je(r)&&He(r)==jf}var Cf="Expected a function";function An(r,e){if(typeof r!="function"||e!=null&&typeof e!="function")throw new TypeError(Cf);var t=function(){var n=arguments,s=e?e.apply(this,n):n[0],i=t.cache;if(i.has(s))return i.get(s);var a=r.apply(this,n);return t.cache=i.set(s,a)||i,a};return t.cache=new(An.Cache||Fe),t}An.Cache=Fe;var Pf=500;function Rf(r){var e=An(r,function(n){return t.size===Pf&&t.clear(),n}),t=e.cache;return e}var If=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Ff=/\\(\\)?/g,Df=Rf(function(r){var e=[];return r.charCodeAt(0)===46&&e.push(""),r.replace(If,function(t,n,s,i){e.push(s?i.replace(Ff,"$1"):n||t)}),e});function Lf(r){if(typeof r=="string"||On(r))return r;var e=r+"";return e=="0"&&1/r==-1/0?"-0":e}var Us=Ie?Ie.prototype:void 0,Ms=Us?Us.toString:void 0;function Qi(r){if(typeof r=="string")return r;if(zt(r))return Xi(r,Qi)+"";if(On(r))return Ms?Ms.call(r):"";var e=r+"";return e=="0"&&1/r==-1/0?"-0":e}function Uf(r){return r==null?"":Qi(r)}function ea(r){return zt(r)?Xi(r,Lf):On(r)?[r]:qi(Df(Uf(r)))}var ta={exports:{}},P={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var q=typeof Symbol=="function"&&Symbol.for,jn=q?Symbol.for("react.element"):60103,Cn=q?Symbol.for("react.portal"):60106,mr=q?Symbol.for("react.fragment"):60107,yr=q?Symbol.for("react.strict_mode"):60108,br=q?Symbol.for("react.profiler"):60114,_r=q?Symbol.for("react.provider"):60109,wr=q?Symbol.for("react.context"):60110,Pn=q?Symbol.for("react.async_mode"):60111,vr=q?Symbol.for("react.concurrent_mode"):60111,xr=q?Symbol.for("react.forward_ref"):60112,Sr=q?Symbol.for("react.suspense"):60113,Mf=q?Symbol.for("react.suspense_list"):60120,Tr=q?Symbol.for("react.memo"):60115,Er=q?Symbol.for("react.lazy"):60116,Nf=q?Symbol.for("react.block"):60121,zf=q?Symbol.for("react.fundamental"):60117,Bf=q?Symbol.for("react.responder"):60118,Vf=q?Symbol.for("react.scope"):60119;function ne(r){if(typeof r=="object"&&r!==null){var e=r.$$typeof;switch(e){case jn:switch(r=r.type,r){case Pn:case vr:case mr:case br:case yr:case Sr:return r;default:switch(r=r&&r.$$typeof,r){case wr:case xr:case Er:case Tr:case _r:return r;default:return e}}case Cn:return e}}}function ra(r){return ne(r)===vr}P.AsyncMode=Pn;P.ConcurrentMode=vr;P.ContextConsumer=wr;P.ContextProvider=_r;P.Element=jn;P.ForwardRef=xr;P.Fragment=mr;P.Lazy=Er;P.Memo=Tr;P.Portal=Cn;P.Profiler=br;P.StrictMode=yr;P.Suspense=Sr;P.isAsyncMode=function(r){return ra(r)||ne(r)===Pn};P.isConcurrentMode=ra;P.isContextConsumer=function(r){return ne(r)===wr};P.isContextProvider=function(r){return ne(r)===_r};P.isElement=function(r){return typeof r=="object"&&r!==null&&r.$$typeof===jn};P.isForwardRef=function(r){return ne(r)===xr};P.isFragment=function(r){return ne(r)===mr};P.isLazy=function(r){return ne(r)===Er};P.isMemo=function(r){return ne(r)===Tr};P.isPortal=function(r){return ne(r)===Cn};P.isProfiler=function(r){return ne(r)===br};P.isStrictMode=function(r){return ne(r)===yr};P.isSuspense=function(r){return ne(r)===Sr};P.isValidElementType=function(r){return typeof r=="string"||typeof r=="function"||r===mr||r===vr||r===br||r===yr||r===Sr||r===Mf||typeof r=="object"&&r!==null&&(r.$$typeof===Er||r.$$typeof===Tr||r.$$typeof===_r||r.$$typeof===wr||r.$$typeof===xr||r.$$typeof===zf||r.$$typeof===Bf||r.$$typeof===Vf||r.$$typeof===Nf)};P.typeOf=ne;ta.exports=P;var qf=ta.exports,na=qf,Gf={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},Hf={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},sa={};sa[na.ForwardRef]=Gf;sa[na.Memo]=Hf;function N(){return N=Object.assign||function(r){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(r[n]=t[n])}return r},N.apply(this,arguments)}function ct(r,e){if(r==null)return{};var t={},n=Object.keys(r),s,i;for(i=0;i<n.length;i++)s=n[i],!(e.indexOf(s)>=0)&&(t[s]=r[s]);return t}var kr=_.createContext(void 0);kr.displayName="FormikContext";var Jf=kr.Provider;kr.Consumer;function Rn(){var r=_.useContext(kr);return r}var re=function(e){return typeof e=="function"},Bt=function(e){return e!==null&&typeof e=="object"},Kf=function(e){return String(Math.floor(Number(e)))===e},Vr=function(e){return Object.prototype.toString.call(e)==="[object String]"},Wf=function(e){return _.Children.count(e)===0},qr=function(e){return Bt(e)&&re(e.then)};function te(r,e,t,n){n===void 0&&(n=0);for(var s=ea(e);r&&n<s.length;)r=r[s[n++]];return n!==s.length&&!r||r===void 0?t:r}function ze(r,e,t){for(var n=Ls(r),s=n,i=0,a=ea(e);i<a.length-1;i++){var o=a[i],u=te(r,a.slice(0,i+1));if(u&&(Bt(u)||Array.isArray(u)))s=s[o]=Ls(u);else{var l=a[i+1];s=s[o]=Kf(l)&&Number(l)>=0?[]:{}}}return(i===0?r:s)[a[i]]===t?r:(t===void 0?delete s[a[i]]:s[a[i]]=t,i===0&&t===void 0&&delete n[a[i]],n)}function ia(r,e,t,n){t===void 0&&(t=new WeakMap),n===void 0&&(n={});for(var s=0,i=Object.keys(r);s<i.length;s++){var a=i[s],o=r[a];Bt(o)?t.get(o)||(t.set(o,!0),n[a]=Array.isArray(o)?[]:{},ia(o,e,t,n[a])):n[a]=e}return n}function Zf(r,e){switch(e.type){case"SET_VALUES":return N({},r,{values:e.payload});case"SET_TOUCHED":return N({},r,{touched:e.payload});case"SET_ERRORS":return Me(r.errors,e.payload)?r:N({},r,{errors:e.payload});case"SET_STATUS":return N({},r,{status:e.payload});case"SET_ISSUBMITTING":return N({},r,{isSubmitting:e.payload});case"SET_ISVALIDATING":return N({},r,{isValidating:e.payload});case"SET_FIELD_VALUE":return N({},r,{values:ze(r.values,e.payload.field,e.payload.value)});case"SET_FIELD_TOUCHED":return N({},r,{touched:ze(r.touched,e.payload.field,e.payload.value)});case"SET_FIELD_ERROR":return N({},r,{errors:ze(r.errors,e.payload.field,e.payload.value)});case"RESET_FORM":return N({},r,e.payload);case"SET_FORMIK_STATE":return e.payload(r);case"SUBMIT_ATTEMPT":return N({},r,{touched:ia(r.values,!0),isSubmitting:!0,submitCount:r.submitCount+1});case"SUBMIT_FAILURE":return N({},r,{isSubmitting:!1});case"SUBMIT_SUCCESS":return N({},r,{isSubmitting:!1});default:return r}}var Le={},Yt={};function Yf(r){var e=r.validateOnChange,t=e===void 0?!0:e,n=r.validateOnBlur,s=n===void 0?!0:n,i=r.validateOnMount,a=i===void 0?!1:i,o=r.isInitialValid,u=r.enableReinitialize,l=u===void 0?!1:u,c=r.onSubmit,d=ct(r,["validateOnChange","validateOnBlur","validateOnMount","isInitialValid","enableReinitialize","onSubmit"]),h=N({validateOnChange:t,validateOnBlur:s,validateOnMount:a,onSubmit:c},d),p=_.useRef(h.initialValues),y=_.useRef(h.initialErrors||Le),m=_.useRef(h.initialTouched||Yt),g=_.useRef(h.initialStatus),w=_.useRef(!1),S=_.useRef({});_.useEffect(function(){return w.current=!0,function(){w.current=!1}},[]);var z=_.useState(0),R=z[1],L=_.useRef({values:Zt(h.initialValues),errors:Zt(h.initialErrors)||Le,touched:Zt(h.initialTouched)||Yt,status:Zt(h.initialStatus),isSubmitting:!1,isValidating:!1,submitCount:0}),O=L.current,A=_.useCallback(function(f){var b=L.current;L.current=Zf(b,f),b!==L.current&&R(function(v){return v+1})},[]),Xe=_.useCallback(function(f,b){return new Promise(function(v,x){var k=h.validate(f,b);k==null?v(Le):qr(k)?k.then(function(C){v(C||Le)},function(C){x(C)}):v(k)})},[h.validate]),se=_.useCallback(function(f,b){var v=h.validationSchema,x=re(v)?v(b):v,k=b&&x.validateAt?x.validateAt(b,f):Qf(f,x);return new Promise(function(C,H){k.then(function(){C(Le)},function(pe){pe.name==="ValidationError"?C(Xf(pe)):H(pe)})})},[h.validationSchema]),fe=_.useCallback(function(f,b){return new Promise(function(v){return v(S.current[f].validate(b))})},[]),I=_.useCallback(function(f){var b=Object.keys(S.current).filter(function(x){return re(S.current[x].validate)}),v=b.length>0?b.map(function(x){return fe(x,te(f,x))}):[Promise.resolve("DO_NOT_DELETE_YOU_WILL_BE_FIRED")];return Promise.all(v).then(function(x){return x.reduce(function(k,C,H){return C==="DO_NOT_DELETE_YOU_WILL_BE_FIRED"||C&&(k=ze(k,b[H],C)),k},{})})},[fe]),j=_.useCallback(function(f){return Promise.all([I(f),h.validationSchema?se(f):{},h.validate?Xe(f):{}]).then(function(b){var v=b[0],x=b[1],k=b[2],C=nn.all([v,x,k],{arrayMerge:ep});return C})},[h.validate,h.validationSchema,I,Xe,se]),G=ie(function(f){return f===void 0&&(f=O.values),A({type:"SET_ISVALIDATING",payload:!0}),j(f).then(function(b){return w.current&&(A({type:"SET_ISVALIDATING",payload:!1}),A({type:"SET_ERRORS",payload:b})),b})});_.useEffect(function(){a&&w.current===!0&&Me(p.current,h.initialValues)&&G(p.current)},[a,G]);var Q=_.useCallback(function(f){var b=f&&f.values?f.values:p.current,v=f&&f.errors?f.errors:y.current?y.current:h.initialErrors||{},x=f&&f.touched?f.touched:m.current?m.current:h.initialTouched||{},k=f&&f.status?f.status:g.current?g.current:h.initialStatus;p.current=b,y.current=v,m.current=x,g.current=k;var C=function(){A({type:"RESET_FORM",payload:{isSubmitting:!!f&&!!f.isSubmitting,errors:v,touched:x,status:k,values:b,isValidating:!!f&&!!f.isValidating,submitCount:f&&f.submitCount&&typeof f.submitCount=="number"?f.submitCount:0}})};if(h.onReset){var H=h.onReset(O.values,qn);qr(H)?H.then(C):C()}else C()},[h.initialErrors,h.initialStatus,h.initialTouched,h.onReset]);_.useEffect(function(){w.current===!0&&!Me(p.current,h.initialValues)&&l&&(p.current=h.initialValues,Q(),a&&G(p.current))},[l,h.initialValues,Q,a,G]),_.useEffect(function(){l&&w.current===!0&&!Me(y.current,h.initialErrors)&&(y.current=h.initialErrors||Le,A({type:"SET_ERRORS",payload:h.initialErrors||Le}))},[l,h.initialErrors]),_.useEffect(function(){l&&w.current===!0&&!Me(m.current,h.initialTouched)&&(m.current=h.initialTouched||Yt,A({type:"SET_TOUCHED",payload:h.initialTouched||Yt}))},[l,h.initialTouched]),_.useEffect(function(){l&&w.current===!0&&!Me(g.current,h.initialStatus)&&(g.current=h.initialStatus,A({type:"SET_STATUS",payload:h.initialStatus}))},[l,h.initialStatus,h.initialTouched]);var vt=ie(function(f){if(S.current[f]&&re(S.current[f].validate)){var b=te(O.values,f),v=S.current[f].validate(b);return qr(v)?(A({type:"SET_ISVALIDATING",payload:!0}),v.then(function(x){return x}).then(function(x){A({type:"SET_FIELD_ERROR",payload:{field:f,value:x}}),A({type:"SET_ISVALIDATING",payload:!1})})):(A({type:"SET_FIELD_ERROR",payload:{field:f,value:v}}),Promise.resolve(v))}else if(h.validationSchema)return A({type:"SET_ISVALIDATING",payload:!0}),se(O.values,f).then(function(x){return x}).then(function(x){A({type:"SET_FIELD_ERROR",payload:{field:f,value:te(x,f)}}),A({type:"SET_ISVALIDATING",payload:!1})});return Promise.resolve()}),Qe=_.useCallback(function(f,b){var v=b.validate;S.current[f]={validate:v}},[]),qt=_.useCallback(function(f){delete S.current[f]},[]),et=ie(function(f,b){A({type:"SET_TOUCHED",payload:f});var v=b===void 0?s:b;return v?G(O.values):Promise.resolve()}),Se=_.useCallback(function(f){A({type:"SET_ERRORS",payload:f})},[]),xt=ie(function(f,b){var v=re(f)?f(O.values):f;A({type:"SET_VALUES",payload:v});var x=b===void 0?t:b;return x?G(v):Promise.resolve()}),J=_.useCallback(function(f,b){A({type:"SET_FIELD_ERROR",payload:{field:f,value:b}})},[]),tt=ie(function(f,b,v){A({type:"SET_FIELD_VALUE",payload:{field:f,value:b}});var x=v===void 0?t:v;return x?G(ze(O.values,f,b)):Promise.resolve()}),Mn=_.useCallback(function(f,b){var v=b,x=f,k;if(!Vr(f)){f.persist&&f.persist();var C=f.target?f.target:f.currentTarget,H=C.type,pe=C.name,Rr=C.id,Ir=C.value,Oa=C.checked;C.outerHTML;var Gn=C.options,Aa=C.multiple;v=b||pe||Rr,x=/number|range/.test(H)?(k=parseFloat(Ir),isNaN(k)?"":k):/checkbox/.test(H)?rp(te(O.values,v),Oa,Ir):Gn&&Aa?tp(Gn):Ir}v&&tt(v,x)},[tt,O.values]),Ar=ie(function(f){if(Vr(f))return function(b){return Mn(b,f)};Mn(f)}),rt=ie(function(f,b,v){b===void 0&&(b=!0),A({type:"SET_FIELD_TOUCHED",payload:{field:f,value:b}});var x=v===void 0?s:v;return x?G(O.values):Promise.resolve()}),Nn=_.useCallback(function(f,b){f.persist&&f.persist();var v=f.target,x=v.name,k=v.id;v.outerHTML;var C=b||x||k;rt(C,!0)},[rt]),jr=ie(function(f){if(Vr(f))return function(b){return Nn(b,f)};Nn(f)}),zn=_.useCallback(function(f){re(f)?A({type:"SET_FORMIK_STATE",payload:f}):A({type:"SET_FORMIK_STATE",payload:function(){return f}})},[]),Bn=_.useCallback(function(f){A({type:"SET_STATUS",payload:f})},[]),Vn=_.useCallback(function(f){A({type:"SET_ISSUBMITTING",payload:f})},[]),Cr=ie(function(){return A({type:"SUBMIT_ATTEMPT"}),G().then(function(f){var b=f instanceof Error,v=!b&&Object.keys(f).length===0;if(v){var x;try{if(x=va(),x===void 0)return}catch(k){throw k}return Promise.resolve(x).then(function(k){return w.current&&A({type:"SUBMIT_SUCCESS"}),k}).catch(function(k){if(w.current)throw A({type:"SUBMIT_FAILURE"}),k})}else if(w.current&&(A({type:"SUBMIT_FAILURE"}),b))throw f})}),wa=ie(function(f){f&&f.preventDefault&&re(f.preventDefault)&&f.preventDefault(),f&&f.stopPropagation&&re(f.stopPropagation)&&f.stopPropagation(),Cr().catch(function(b){console.warn("Warning: An unhandled error was caught from submitForm()",b)})}),qn={resetForm:Q,validateForm:G,validateField:vt,setErrors:Se,setFieldError:J,setFieldTouched:rt,setFieldValue:tt,setStatus:Bn,setSubmitting:Vn,setTouched:et,setValues:xt,setFormikState:zn,submitForm:Cr},va=ie(function(){return c(O.values,qn)}),xa=ie(function(f){f&&f.preventDefault&&re(f.preventDefault)&&f.preventDefault(),f&&f.stopPropagation&&re(f.stopPropagation)&&f.stopPropagation(),Q()}),Sa=_.useCallback(function(f){return{value:te(O.values,f),error:te(O.errors,f),touched:!!te(O.touched,f),initialValue:te(p.current,f),initialTouched:!!te(m.current,f),initialError:te(y.current,f)}},[O.errors,O.touched,O.values]),Ta=_.useCallback(function(f){return{setValue:function(v,x){return tt(f,v,x)},setTouched:function(v,x){return rt(f,v,x)},setError:function(v){return J(f,v)}}},[tt,rt,J]),Ea=_.useCallback(function(f){var b=Bt(f),v=b?f.name:f,x=te(O.values,v),k={name:v,value:x,onChange:Ar,onBlur:jr};if(b){var C=f.type,H=f.value,pe=f.as,Rr=f.multiple;C==="checkbox"?H===void 0?k.checked=!!x:(k.checked=!!(Array.isArray(x)&&~x.indexOf(H)),k.value=H):C==="radio"?(k.checked=x===H,k.value=H):pe==="select"&&Rr&&(k.value=k.value||[],k.multiple=!0)}return k},[jr,Ar,O.values]),Pr=_.useMemo(function(){return!Me(p.current,O.values)},[p.current,O.values]),ka=_.useMemo(function(){return typeof o<"u"?Pr?O.errors&&Object.keys(O.errors).length===0:o!==!1&&re(o)?o(h):o:O.errors&&Object.keys(O.errors).length===0},[o,Pr,O.errors,h]),$a=N({},O,{initialValues:p.current,initialErrors:y.current,initialTouched:m.current,initialStatus:g.current,handleBlur:jr,handleChange:Ar,handleReset:xa,handleSubmit:wa,resetForm:Q,setErrors:Se,setFormikState:zn,setFieldTouched:rt,setFieldValue:tt,setFieldError:J,setStatus:Bn,setSubmitting:Vn,setTouched:et,setValues:xt,submitForm:Cr,validateForm:G,validateField:vt,isValid:ka,dirty:Pr,unregisterField:qt,registerField:Qe,getFieldProps:Ea,getFieldMeta:Sa,getFieldHelpers:Ta,validateOnBlur:s,validateOnChange:t,validateOnMount:a});return $a}function Eg(r){var e=Yf(r),t=r.component,n=r.children,s=r.render,i=r.innerRef;return _.useImperativeHandle(i,function(){return e}),_.createElement(Jf,{value:e},t?_.createElement(t,e):s?s(e):n?re(n)?n(e):Wf(n)?null:_.Children.only(n):null)}function Xf(r){var e={};if(r.inner){if(r.inner.length===0)return ze(e,r.path,r.message);for(var s=r.inner,t=Array.isArray(s),n=0,s=t?s:s[Symbol.iterator]();;){var i;if(t){if(n>=s.length)break;i=s[n++]}else{if(n=s.next(),n.done)break;i=n.value}var a=i;te(e,a.path)||(e=ze(e,a.path,a.message))}}return e}function Qf(r,e,t,n){t===void 0&&(t=!1);var s=cn(r);return e[t?"validateSync":"validate"](s,{abortEarly:!1,context:s})}function cn(r){var e=Array.isArray(r)?[]:{};for(var t in r)if(Object.prototype.hasOwnProperty.call(r,t)){var n=String(t);Array.isArray(r[n])===!0?e[n]=r[n].map(function(s){return Array.isArray(s)===!0||fs(s)?cn(s):s!==""?s:void 0}):fs(r[n])?e[n]=cn(r[n]):e[n]=r[n]!==""?r[n]:void 0}return e}function ep(r,e,t){var n=r.slice();return e.forEach(function(i,a){if(typeof n[a]>"u"){var o=t.clone!==!1,u=o&&t.isMergeableObject(i);n[a]=u?nn(Array.isArray(i)?[]:{},i,t):i}else t.isMergeableObject(i)?n[a]=nn(r[a],i,t):r.indexOf(i)===-1&&n.push(i)}),n}function tp(r){return Array.from(r).filter(function(e){return e.selected}).map(function(e){return e.value})}function rp(r,e,t){if(typeof r=="boolean")return!!e;var n=[],s=!1,i=-1;if(Array.isArray(r))n=r,i=r.indexOf(t),s=i>=0;else if(!t||t=="true"||t=="false")return!!e;return e&&t&&!s?n.concat(t):s?n.slice(0,i).concat(n.slice(i+1)):n}var np=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u"?_.useLayoutEffect:_.useEffect;function ie(r){var e=_.useRef(r);return np(function(){e.current=r}),_.useCallback(function(){for(var t=arguments.length,n=new Array(t),s=0;s<t;s++)n[s]=arguments[s];return e.current.apply(void 0,n)},[])}function kg(r){var e=Rn(),t=e.getFieldProps,n=e.getFieldMeta,s=e.getFieldHelpers,i=e.registerField,a=e.unregisterField,o=Bt(r),u=o?r:{name:r},l=u.name,c=u.validate;_.useEffect(function(){return l&&i(l,{validate:c}),function(){l&&a(l)}},[i,a,l,c]);var d=_.useMemo(function(){return s(l)},[s,l]);return[t(u),n(l),d]}function sp(r){var e=r.validate,t=r.name,n=r.render,s=r.children,i=r.as,a=r.component,o=r.className,u=ct(r,["validate","name","render","children","as","component","className"]),l=Rn(),c=ct(l,["validate","validationSchema"]),d=c.registerField,h=c.unregisterField;_.useEffect(function(){return d(t,{validate:e}),function(){h(t)}},[d,h,t,e]);var p=c.getFieldProps(N({name:t},u)),y=c.getFieldMeta(t),m={field:p,form:c};if(n)return n(N({},m,{meta:y}));if(re(s))return s(N({},m,{meta:y}));if(a){if(typeof a=="string"){var g=u.innerRef,w=ct(u,["innerRef"]);return _.createElement(a,N({ref:g},p,w,{className:o}),s)}return _.createElement(a,N({field:p,form:c},u,{className:o}),s)}var S=i||"input";if(typeof S=="string"){var z=u.innerRef,R=ct(u,["innerRef"]);return _.createElement(S,N({ref:z},p,R,{className:o}),s)}return _.createElement(S,N({},p,u,{className:o}),s)}var ip=_.forwardRef(function(r,e){var t=r.action,n=ct(r,["action"]),s=t??"#",i=Rn(),a=i.handleReset,o=i.handleSubmit;return _.createElement("form",N({onSubmit:o,ref:e,onReset:a,action:s},n))});ip.displayName="Form";function ap({id:r,label:e,error:t,className:n,children:s}){return we.jsxs("div",{className:It("flex flex-col gap-1.5",n),children:[e&&we.jsx("label",{htmlFor:r,className:"text-[0.95rem]",children:e}),s,we.jsx("span",{className:"h-4 text-xs text-red-600",children:t})]})}function op(r){const{icon:e,error:t,className:n,...s}=r;return we.jsxs("div",{className:It("flex h-10 items-center gap-1 rounded-xl border border-transparent bg-white px-2 transition-all focus-within:ring-1 focus-within:ring-primary",n,{"!border-red-500 focus-within:ring-red-500":!!t}),children:[e&&e,we.jsx($i,{...s,className:It("w-full flex-1 rounded-none border-none bg-transparent px-1 py-0 text-base focus-visible:outline-none focus-visible:ring-0 focus-visible:ring-offset-0 max-md:text-sm")})]})}function $g({id:r,label:e,className:t,...n}){return we.jsx(sp,{name:n.name,children:({field:s,meta:i})=>we.jsx(ap,{id:r,label:e,error:i.touched?i.error:void 0,className:t,children:we.jsx(op,{...n,...s,error:i.touched?i.error:void 0,className:It("w-full rounded-xl border-primary/70 bg-transparent px-1 focus-visible:outline-none focus-visible:ring-0 focus-visible:ring-transparent focus-visible:ring-offset-transparent")})})})}function Ze(r){this._maxSize=r,this.clear()}Ze.prototype.clear=function(){this._size=0,this._values=Object.create(null)};Ze.prototype.get=function(r){return this._values[r]};Ze.prototype.set=function(r,e){return this._size>=this._maxSize&&this.clear(),r in this._values||this._size++,this._values[r]=e};var up=/[^.^\]^[]+|(?=\[\]|\.\.)/g,aa=/^\d+$/,lp=/^\d/,cp=/[~`!#$%\^&*+=\-\[\]\\';,/{}|\\":<>\?]/g,dp=/^\s*(['"]?)(.*?)(\1)\s*$/,In=512,Ns=new Ze(In),zs=new Ze(In),Bs=new Ze(In),Be={Cache:Ze,split:dn,normalizePath:Gr,setter:function(r){var e=Gr(r);return zs.get(r)||zs.set(r,function(n,s){for(var i=0,a=e.length,o=n;i<a-1;){var u=e[i];if(u==="__proto__"||u==="constructor"||u==="prototype")return n;o=o[e[i++]]}o[e[i]]=s})},getter:function(r,e){var t=Gr(r);return Bs.get(r)||Bs.set(r,function(s){for(var i=0,a=t.length;i<a;)if(s!=null||!e)s=s[t[i++]];else return;return s})},join:function(r){return r.reduce(function(e,t){return e+(Fn(t)||aa.test(t)?"["+t+"]":(e?".":"")+t)},"")},forEach:function(r,e,t){hp(Array.isArray(r)?r:dn(r),e,t)}};function Gr(r){return Ns.get(r)||Ns.set(r,dn(r).map(function(e){return e.replace(dp,"$2")}))}function dn(r){return r.match(up)||[""]}function hp(r,e,t){var n=r.length,s,i,a,o;for(i=0;i<n;i++)s=r[i],s&&(gp(s)&&(s='"'+s+'"'),o=Fn(s),a=!o&&/^\d+$/.test(s),e.call(t,s,o,a,i,r))}function Fn(r){return typeof r=="string"&&r&&["'",'"'].indexOf(r.charAt(0))!==-1}function fp(r){return r.match(lp)&&!r.match(aa)}function pp(r){return cp.test(r)}function gp(r){return!Fn(r)&&(fp(r)||pp(r))}const mp=/[A-Z\xc0-\xd6\xd8-\xde]?[a-z\xdf-\xf6\xf8-\xff]+(?:['’](?:d|ll|m|re|s|t|ve))?(?=[\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000]|[A-Z\xc0-\xd6\xd8-\xde]|$)|(?:[A-Z\xc0-\xd6\xd8-\xde]|[^\ud800-\udfff\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\d+\u2700-\u27bfa-z\xdf-\xf6\xf8-\xffA-Z\xc0-\xd6\xd8-\xde])+(?:['’](?:D|LL|M|RE|S|T|VE))?(?=[\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000]|[A-Z\xc0-\xd6\xd8-\xde](?:[a-z\xdf-\xf6\xf8-\xff]|[^\ud800-\udfff\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\d+\u2700-\u27bfa-z\xdf-\xf6\xf8-\xffA-Z\xc0-\xd6\xd8-\xde])|$)|[A-Z\xc0-\xd6\xd8-\xde]?(?:[a-z\xdf-\xf6\xf8-\xff]|[^\ud800-\udfff\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\d+\u2700-\u27bfa-z\xdf-\xf6\xf8-\xffA-Z\xc0-\xd6\xd8-\xde])+(?:['’](?:d|ll|m|re|s|t|ve))?|[A-Z\xc0-\xd6\xd8-\xde]+(?:['’](?:D|LL|M|RE|S|T|VE))?|\d*(?:1ST|2ND|3RD|(?![123])\dTH)(?=\b|[a-z_])|\d*(?:1st|2nd|3rd|(?![123])\dth)(?=\b|[A-Z_])|\d+|(?:[\u2700-\u27bf]|(?:\ud83c[\udde6-\uddff]){2}|[\ud800-\udbff][\udc00-\udfff])[\ufe0e\ufe0f]?(?:[\u0300-\u036f\ufe20-\ufe2f\u20d0-\u20ff]|\ud83c[\udffb-\udfff])?(?:\u200d(?:[^\ud800-\udfff]|(?:\ud83c[\udde6-\uddff]){2}|[\ud800-\udbff][\udc00-\udfff])[\ufe0e\ufe0f]?(?:[\u0300-\u036f\ufe20-\ufe2f\u20d0-\u20ff]|\ud83c[\udffb-\udfff])?)*/g,$r=r=>r.match(mp)||[],Or=r=>r[0].toUpperCase()+r.slice(1),Dn=(r,e)=>$r(r).join(e).toLowerCase(),oa=r=>$r(r).reduce((e,t)=>`${e}${e?t[0].toUpperCase()+t.slice(1).toLowerCase():t.toLowerCase()}`,""),yp=r=>Or(oa(r)),bp=r=>Dn(r,"_"),_p=r=>Dn(r,"-"),wp=r=>Or(Dn(r," ")),vp=r=>$r(r).map(Or).join(" ");var Hr={words:$r,upperFirst:Or,camelCase:oa,pascalCase:yp,snakeCase:bp,kebabCase:_p,sentenceCase:wp,titleCase:vp},Ln={exports:{}};Ln.exports=function(r){return ua(xp(r),r)};Ln.exports.array=ua;function ua(r,e){var t=r.length,n=new Array(t),s={},i=t,a=Sp(e),o=Tp(r);for(e.forEach(function(l){if(!o.has(l[0])||!o.has(l[1]))throw new Error("Unknown node. There is an unknown node in the supplied edges.")});i--;)s[i]||u(r[i],i,new Set);return n;function u(l,c,d){if(d.has(l)){var h;try{h=", node was:"+JSON.stringify(l)}catch{h=""}throw new Error("Cyclic dependency"+h)}if(!o.has(l))throw new Error("Found unknown node. Make sure to provided all involved nodes. Unknown node: "+JSON.stringify(l));if(!s[c]){s[c]=!0;var p=a.get(l)||new Set;if(p=Array.from(p),c=p.length){d.add(l);do{var y=p[--c];u(y,o.get(y),d)}while(c);d.delete(l)}n[--t]=l}}}function xp(r){for(var e=new Set,t=0,n=r.length;t<n;t++){var s=r[t];e.add(s[0]),e.add(s[1])}return Array.from(e)}function Sp(r){for(var e=new Map,t=0,n=r.length;t<n;t++){var s=r[t];e.has(s[0])||e.set(s[0],new Set),e.has(s[1])||e.set(s[1],new Set),e.get(s[0]).add(s[1])}return e}function Tp(r){for(var e=new Map,t=0,n=r.length;t<n;t++)e.set(r[t],t);return e}var Ep=Ln.exports;const kp=Ws(Ep),$p=Object.prototype.toString,Op=Error.prototype.toString,Ap=RegExp.prototype.toString,jp=typeof Symbol<"u"?Symbol.prototype.toString:()=>"",Cp=/^Symbol\((.*)\)(.*)$/;function Pp(r){return r!=+r?"NaN":r===0&&1/r<0?"-0":""+r}function Vs(r,e=!1){if(r==null||r===!0||r===!1)return""+r;const t=typeof r;if(t==="number")return Pp(r);if(t==="string")return e?`"${r}"`:r;if(t==="function")return"[Function "+(r.name||"anonymous")+"]";if(t==="symbol")return jp.call(r).replace(Cp,"Symbol($1)");const n=$p.call(r).slice(8,-1);return n==="Date"?isNaN(r.getTime())?""+r:r.toISOString(r):n==="Error"||r instanceof Error?"["+Op.call(r)+"]":n==="RegExp"?Ap.call(r):null}function Re(r,e){let t=Vs(r,e);return t!==null?t:JSON.stringify(r,function(n,s){let i=Vs(this[n],e);return i!==null?i:s},2)}function la(r){return r==null?[]:[].concat(r)}let ca,da,ha,Rp=/\$\{\s*(\w+)\s*\}/g;ca=Symbol.toStringTag;class qs{constructor(e,t,n,s){this.name=void 0,this.message=void 0,this.value=void 0,this.path=void 0,this.type=void 0,this.params=void 0,this.errors=void 0,this.inner=void 0,this[ca]="Error",this.name="ValidationError",this.value=t,this.path=n,this.type=s,this.errors=[],this.inner=[],la(e).forEach(i=>{if(X.isError(i)){this.errors.push(...i.errors);const a=i.inner.length?i.inner:[i];this.inner.push(...a)}else this.errors.push(i)}),this.message=this.errors.length>1?`${this.errors.length} errors occurred`:this.errors[0]}}da=Symbol.hasInstance;ha=Symbol.toStringTag;class X extends Error{static formatError(e,t){const n=t.label||t.path||"this";return t=Object.assign({},t,{path:n,originalPath:t.path}),typeof e=="string"?e.replace(Rp,(s,i)=>Re(t[i])):typeof e=="function"?e(t):e}static isError(e){return e&&e.name==="ValidationError"}constructor(e,t,n,s,i){const a=new qs(e,t,n,s);if(i)return a;super(),this.value=void 0,this.path=void 0,this.type=void 0,this.params=void 0,this.errors=[],this.inner=[],this[ha]="Error",this.name=a.name,this.message=a.message,this.type=a.type,this.value=a.value,this.path=a.path,this.errors=a.errors,this.inner=a.inner,Error.captureStackTrace&&Error.captureStackTrace(this,X)}static[da](e){return qs[Symbol.hasInstance](e)||super[Symbol.hasInstance](e)}}let de={default:"${path} is invalid",required:"${path} is a required field",defined:"${path} must be defined",notNull:"${path} cannot be null",oneOf:"${path} must be one of the following values: ${values}",notOneOf:"${path} must not be one of the following values: ${values}",notType:({path:r,type:e,value:t,originalValue:n})=>{const s=n!=null&&n!==t?` (cast from the value \`${Re(n,!0)}\`).`:".";return e!=="mixed"?`${r} must be a \`${e}\` type, but the final value was: \`${Re(t,!0)}\``+s:`${r} must match the configured type. The validated value was: \`${Re(t,!0)}\``+s}},W={length:"${path} must be exactly ${length} characters",min:"${path} must be at least ${min} characters",max:"${path} must be at most ${max} characters",matches:'${path} must match the following: "${regex}"',email:"${path} must be a valid email",url:"${path} must be a valid URL",uuid:"${path} must be a valid UUID",datetime:"${path} must be a valid ISO date-time",datetime_precision:"${path} must be a valid ISO date-time with a sub-second precision of exactly ${precision} digits",datetime_offset:'${path} must be a valid ISO date-time with UTC "Z" timezone',trim:"${path} must be a trimmed string",lowercase:"${path} must be a lowercase string",uppercase:"${path} must be a upper case string"},Oe={min:"${path} must be greater than or equal to ${min}",max:"${path} must be less than or equal to ${max}",lessThan:"${path} must be less than ${less}",moreThan:"${path} must be greater than ${more}",positive:"${path} must be a positive number",negative:"${path} must be a negative number",integer:"${path} must be an integer"},hn={min:"${path} field must be later than ${min}",max:"${path} field must be at earlier than ${max}"},fn={isValue:"${path} field must be ${value}"},er={noUnknown:"${path} field has unspecified keys: ${unknown}",exact:"${path} object contains unknown properties: ${properties}"},Ip={min:"${path} field must have at least ${min} items",max:"${path} field must have less than or equal to ${max} items",length:"${path} must have ${length} items"},Fp={notType:r=>{const{path:e,value:t,spec:n}=r,s=n.types.length;if(Array.isArray(t)){if(t.length<s)return`${e} tuple value has too few items, expected a length of ${s} but got ${t.length} for value: \`${Re(t,!0)}\``;if(t.length>s)return`${e} tuple value has too many items, expected a length of ${s} but got ${t.length} for value: \`${Re(t,!0)}\``}return X.formatError(de.notType,r)}};Object.assign(Object.create(null),{mixed:de,string:W,number:Oe,date:hn,object:er,array:Ip,boolean:fn,tuple:Fp});const Un=r=>r&&r.__isYupSchema__;class sr{static fromOptions(e,t){if(!t.then&&!t.otherwise)throw new TypeError("either `then:` or `otherwise:` is required for `when()` conditions");let{is:n,then:s,otherwise:i}=t,a=typeof n=="function"?n:(...o)=>o.every(u=>u===n);return new sr(e,(o,u)=>{var l;let c=a(...o)?s:i;return(l=c==null?void 0:c(u))!=null?l:u})}constructor(e,t){this.fn=void 0,this.refs=e,this.refs=e,this.fn=t}resolve(e,t){let n=this.refs.map(i=>i.getValue(t==null?void 0:t.value,t==null?void 0:t.parent,t==null?void 0:t.context)),s=this.fn(n,e,t);if(s===void 0||s===e)return e;if(!Un(s))throw new TypeError("conditions must return a schema object");return s.resolve(t)}}const Xt={context:"$",value:"."};class Ye{constructor(e,t={}){if(this.key=void 0,this.isContext=void 0,this.isValue=void 0,this.isSibling=void 0,this.path=void 0,this.getter=void 0,this.map=void 0,typeof e!="string")throw new TypeError("ref must be a string, got: "+e);if(this.key=e.trim(),e==="")throw new TypeError("ref must be a non-empty string");this.isContext=this.key[0]===Xt.context,this.isValue=this.key[0]===Xt.value,this.isSibling=!this.isContext&&!this.isValue;let n=this.isContext?Xt.context:this.isValue?Xt.value:"";this.path=this.key.slice(n.length),this.getter=this.path&&Be.getter(this.path,!0),this.map=t.map}getValue(e,t,n){let s=this.isContext?n:this.isValue?e:t;return this.getter&&(s=this.getter(s||{})),this.map&&(s=this.map(s)),s}cast(e,t){return this.getValue(e,t==null?void 0:t.parent,t==null?void 0:t.context)}resolve(){return this}describe(){return{type:"ref",key:this.key}}toString(){return`Ref(${this.key})`}static isRef(e){return e&&e.__isYupRef}}Ye.prototype.__isYupRef=!0;const le=r=>r==null;function lt(r){function e({value:t,path:n="",options:s,originalValue:i,schema:a},o,u){const{name:l,test:c,params:d,message:h,skipAbsent:p}=r;let{parent:y,context:m,abortEarly:g=a.spec.abortEarly,disableStackTrace:w=a.spec.disableStackTrace}=s;function S(I){return Ye.isRef(I)?I.getValue(t,y,m):I}function z(I={}){const j=Object.assign({value:t,originalValue:i,label:a.spec.label,path:I.path||n,spec:a.spec,disableStackTrace:I.disableStackTrace||w},d,I.params);for(const Q of Object.keys(j))j[Q]=S(j[Q]);const G=new X(X.formatError(I.message||h,j),t,j.path,I.type||l,j.disableStackTrace);return G.params=j,G}const R=g?o:u;let L={path:n,parent:y,type:l,from:s.from,createError:z,resolve:S,options:s,originalValue:i,schema:a};const O=I=>{X.isError(I)?R(I):I?u(null):R(z())},A=I=>{X.isError(I)?R(I):o(I)};if(p&&le(t))return O(!0);let se;try{var fe;if(se=c.call(L,t,L),typeof((fe=se)==null?void 0:fe.then)=="function"){if(s.sync)throw new Error(`Validation test of type: "${L.type}" returned a Promise during a synchronous validate. This test will finish after the validate call has returned`);return Promise.resolve(se).then(O,A)}}catch(I){A(I);return}O(se)}return e.OPTIONS=r,e}function Dp(r,e,t,n=t){let s,i,a;return e?(Be.forEach(e,(o,u,l)=>{let c=u?o.slice(1,o.length-1):o;r=r.resolve({context:n,parent:s,value:t});let d=r.type==="tuple",h=l?parseInt(c,10):0;if(r.innerType||d){if(d&&!l)throw new Error(`Yup.reach cannot implicitly index into a tuple type. the path part "${a}" must contain an index to the tuple element, e.g. "${a}[0]"`);if(t&&h>=t.length)throw new Error(`Yup.reach cannot resolve an array item at index: ${o}, in the path: ${e}. because there is no value at that index. `);s=t,t=t&&t[h],r=d?r.spec.types[h]:r.innerType}if(!l){if(!r.fields||!r.fields[c])throw new Error(`The schema does not contain the path: ${e}. (failed at: ${a} which is a type: "${r.type}")`);s=t,t=t&&t[c],r=r.fields[c]}i=c,a=u?"["+o+"]":"."+o}),{schema:r,parent:s,parentPath:i}):{parent:s,parentPath:e,schema:r}}class ir extends Set{describe(){const e=[];for(const t of this.values())e.push(Ye.isRef(t)?t.describe():t);return e}resolveAll(e){let t=[];for(const n of this.values())t.push(e(n));return t}clone(){return new ir(this.values())}merge(e,t){const n=this.clone();return e.forEach(s=>n.add(s)),t.forEach(s=>n.delete(s)),n}}function dt(r,e=new Map){if(Un(r)||!r||typeof r!="object")return r;if(e.has(r))return e.get(r);let t;if(r instanceof Date)t=new Date(r.getTime()),e.set(r,t);else if(r instanceof RegExp)t=new RegExp(r),e.set(r,t);else if(Array.isArray(r)){t=new Array(r.length),e.set(r,t);for(let n=0;n<r.length;n++)t[n]=dt(r[n],e)}else if(r instanceof Map){t=new Map,e.set(r,t);for(const[n,s]of r.entries())t.set(n,dt(s,e))}else if(r instanceof Set){t=new Set,e.set(r,t);for(const n of r)t.add(dt(n,e))}else if(r instanceof Object){t={},e.set(r,t);for(const[n,s]of Object.entries(r))t[n]=dt(s,e)}else throw Error(`Unable to clone ${r}`);return t}class oe{constructor(e){this.type=void 0,this.deps=[],this.tests=void 0,this.transforms=void 0,this.conditions=[],this._mutate=void 0,this.internalTests={},this._whitelist=new ir,this._blacklist=new ir,this.exclusiveTests=Object.create(null),this._typeCheck=void 0,this.spec=void 0,this.tests=[],this.transforms=[],this.withMutation(()=>{this.typeError(de.notType)}),this.type=e.type,this._typeCheck=e.check,this.spec=Object.assign({strip:!1,strict:!1,abortEarly:!0,recursive:!0,disableStackTrace:!1,nullable:!1,optional:!0,coerce:!0},e==null?void 0:e.spec),this.withMutation(t=>{t.nonNullable()})}get _type(){return this.type}clone(e){if(this._mutate)return e&&Object.assign(this.spec,e),this;const t=Object.create(Object.getPrototypeOf(this));return t.type=this.type,t._typeCheck=this._typeCheck,t._whitelist=this._whitelist.clone(),t._blacklist=this._blacklist.clone(),t.internalTests=Object.assign({},this.internalTests),t.exclusiveTests=Object.assign({},this.exclusiveTests),t.deps=[...this.deps],t.conditions=[...this.conditions],t.tests=[...this.tests],t.transforms=[...this.transforms],t.spec=dt(Object.assign({},this.spec,e)),t}label(e){let t=this.clone();return t.spec.label=e,t}meta(...e){if(e.length===0)return this.spec.meta;let t=this.clone();return t.spec.meta=Object.assign(t.spec.meta||{},e[0]),t}withMutation(e){let t=this._mutate;this._mutate=!0;let n=e(this);return this._mutate=t,n}concat(e){if(!e||e===this)return this;if(e.type!==this.type&&this.type!=="mixed")throw new TypeError(`You cannot \`concat()\` schema's of different types: ${this.type} and ${e.type}`);let t=this,n=e.clone();const s=Object.assign({},t.spec,n.spec);return n.spec=s,n.internalTests=Object.assign({},t.internalTests,n.internalTests),n._whitelist=t._whitelist.merge(e._whitelist,e._blacklist),n._blacklist=t._blacklist.merge(e._blacklist,e._whitelist),n.tests=t.tests,n.exclusiveTests=t.exclusiveTests,n.withMutation(i=>{e.tests.forEach(a=>{i.test(a.OPTIONS)})}),n.transforms=[...t.transforms,...n.transforms],n}isType(e){return e==null?!!(this.spec.nullable&&e===null||this.spec.optional&&e===void 0):this._typeCheck(e)}resolve(e){let t=this;if(t.conditions.length){let n=t.conditions;t=t.clone(),t.conditions=[],t=n.reduce((s,i)=>i.resolve(s,e),t),t=t.resolve(e)}return t}resolveOptions(e){var t,n,s,i;return Object.assign({},e,{from:e.from||[],strict:(t=e.strict)!=null?t:this.spec.strict,abortEarly:(n=e.abortEarly)!=null?n:this.spec.abortEarly,recursive:(s=e.recursive)!=null?s:this.spec.recursive,disableStackTrace:(i=e.disableStackTrace)!=null?i:this.spec.disableStackTrace})}cast(e,t={}){let n=this.resolve(Object.assign({value:e},t)),s=t.assert==="ignore-optionality",i=n._cast(e,t);if(t.assert!==!1&&!n.isType(i)){if(s&&le(i))return i;let a=Re(e),o=Re(i);throw new TypeError(`The value of ${t.path||"field"} could not be cast to a value that satisfies the schema type: "${n.type}". 

attempted value: ${a} 
`+(o!==a?`result of cast: ${o}`:""))}return i}_cast(e,t){let n=e===void 0?e:this.transforms.reduce((s,i)=>i.call(this,s,e,this),e);return n===void 0&&(n=this.getDefault(t)),n}_validate(e,t={},n,s){let{path:i,originalValue:a=e,strict:o=this.spec.strict}=t,u=e;o||(u=this._cast(u,Object.assign({assert:!1},t)));let l=[];for(let c of Object.values(this.internalTests))c&&l.push(c);this.runTests({path:i,value:u,originalValue:a,options:t,tests:l},n,c=>{if(c.length)return s(c,u);this.runTests({path:i,value:u,originalValue:a,options:t,tests:this.tests},n,s)})}runTests(e,t,n){let s=!1,{tests:i,value:a,originalValue:o,path:u,options:l}=e,c=m=>{s||(s=!0,t(m,a))},d=m=>{s||(s=!0,n(m,a))},h=i.length,p=[];if(!h)return d([]);let y={value:a,originalValue:o,path:u,options:l,schema:this};for(let m=0;m<i.length;m++){const g=i[m];g(y,c,function(S){S&&(Array.isArray(S)?p.push(...S):p.push(S)),--h<=0&&d(p)})}}asNestedTest({key:e,index:t,parent:n,parentPath:s,originalParent:i,options:a}){const o=e??t;if(o==null)throw TypeError("Must include `key` or `index` for nested validations");const u=typeof o=="number";let l=n[o];const c=Object.assign({},a,{strict:!0,parent:n,value:l,originalValue:i[o],key:void 0,[u?"index":"key"]:o,path:u||o.includes(".")?`${s||""}[${u?o:`"${o}"`}]`:(s?`${s}.`:"")+e});return(d,h,p)=>this.resolve(c)._validate(l,c,h,p)}validate(e,t){var n;let s=this.resolve(Object.assign({},t,{value:e})),i=(n=t==null?void 0:t.disableStackTrace)!=null?n:s.spec.disableStackTrace;return new Promise((a,o)=>s._validate(e,t,(u,l)=>{X.isError(u)&&(u.value=l),o(u)},(u,l)=>{u.length?o(new X(u,l,void 0,void 0,i)):a(l)}))}validateSync(e,t){var n;let s=this.resolve(Object.assign({},t,{value:e})),i,a=(n=t==null?void 0:t.disableStackTrace)!=null?n:s.spec.disableStackTrace;return s._validate(e,Object.assign({},t,{sync:!0}),(o,u)=>{throw X.isError(o)&&(o.value=u),o},(o,u)=>{if(o.length)throw new X(o,e,void 0,void 0,a);i=u}),i}isValid(e,t){return this.validate(e,t).then(()=>!0,n=>{if(X.isError(n))return!1;throw n})}isValidSync(e,t){try{return this.validateSync(e,t),!0}catch(n){if(X.isError(n))return!1;throw n}}_getDefault(e){let t=this.spec.default;return t==null?t:typeof t=="function"?t.call(this,e):dt(t)}getDefault(e){return this.resolve(e||{})._getDefault(e)}default(e){return arguments.length===0?this._getDefault():this.clone({default:e})}strict(e=!0){return this.clone({strict:e})}nullability(e,t){const n=this.clone({nullable:e});return n.internalTests.nullable=lt({message:t,name:"nullable",test(s){return s===null?this.schema.spec.nullable:!0}}),n}optionality(e,t){const n=this.clone({optional:e});return n.internalTests.optionality=lt({message:t,name:"optionality",test(s){return s===void 0?this.schema.spec.optional:!0}}),n}optional(){return this.optionality(!0)}defined(e=de.defined){return this.optionality(!1,e)}nullable(){return this.nullability(!0)}nonNullable(e=de.notNull){return this.nullability(!1,e)}required(e=de.required){return this.clone().withMutation(t=>t.nonNullable(e).defined(e))}notRequired(){return this.clone().withMutation(e=>e.nullable().optional())}transform(e){let t=this.clone();return t.transforms.push(e),t}test(...e){let t;if(e.length===1?typeof e[0]=="function"?t={test:e[0]}:t=e[0]:e.length===2?t={name:e[0],test:e[1]}:t={name:e[0],message:e[1],test:e[2]},t.message===void 0&&(t.message=de.default),typeof t.test!="function")throw new TypeError("`test` is a required parameters");let n=this.clone(),s=lt(t),i=t.exclusive||t.name&&n.exclusiveTests[t.name]===!0;if(t.exclusive&&!t.name)throw new TypeError("Exclusive tests must provide a unique `name` identifying the test");return t.name&&(n.exclusiveTests[t.name]=!!t.exclusive),n.tests=n.tests.filter(a=>!(a.OPTIONS.name===t.name&&(i||a.OPTIONS.test===s.OPTIONS.test))),n.tests.push(s),n}when(e,t){!Array.isArray(e)&&typeof e!="string"&&(t=e,e=".");let n=this.clone(),s=la(e).map(i=>new Ye(i));return s.forEach(i=>{i.isSibling&&n.deps.push(i.key)}),n.conditions.push(typeof t=="function"?new sr(s,t):sr.fromOptions(s,t)),n}typeError(e){let t=this.clone();return t.internalTests.typeError=lt({message:e,name:"typeError",skipAbsent:!0,test(n){return this.schema._typeCheck(n)?!0:this.createError({params:{type:this.schema.type}})}}),t}oneOf(e,t=de.oneOf){let n=this.clone();return e.forEach(s=>{n._whitelist.add(s),n._blacklist.delete(s)}),n.internalTests.whiteList=lt({message:t,name:"oneOf",skipAbsent:!0,test(s){let i=this.schema._whitelist,a=i.resolveAll(this.resolve);return a.includes(s)?!0:this.createError({params:{values:Array.from(i).join(", "),resolved:a}})}}),n}notOneOf(e,t=de.notOneOf){let n=this.clone();return e.forEach(s=>{n._blacklist.add(s),n._whitelist.delete(s)}),n.internalTests.blacklist=lt({message:t,name:"notOneOf",test(s){let i=this.schema._blacklist,a=i.resolveAll(this.resolve);return a.includes(s)?this.createError({params:{values:Array.from(i).join(", "),resolved:a}}):!0}}),n}strip(e=!0){let t=this.clone();return t.spec.strip=e,t}describe(e){const t=(e?this.resolve(e):this).clone(),{label:n,meta:s,optional:i,nullable:a}=t.spec;return{meta:s,label:n,optional:i,nullable:a,default:t.getDefault(e),type:t.type,oneOf:t._whitelist.describe(),notOneOf:t._blacklist.describe(),tests:t.tests.map(u=>({name:u.OPTIONS.name,params:u.OPTIONS.params})).filter((u,l,c)=>c.findIndex(d=>d.name===u.name)===l)}}}oe.prototype.__isYupSchema__=!0;for(const r of["validate","validateSync"])oe.prototype[`${r}At`]=function(e,t,n={}){const{parent:s,parentPath:i,schema:a}=Dp(this,e,t,n.context);return a[r](s&&s[i],Object.assign({},n,{parent:s,path:e}))};for(const r of["equals","is"])oe.prototype[r]=oe.prototype.oneOf;for(const r of["not","nope"])oe.prototype[r]=oe.prototype.notOneOf;function Lp(){return new fa}class fa extends oe{constructor(){super({type:"boolean",check(e){return e instanceof Boolean&&(e=e.valueOf()),typeof e=="boolean"}}),this.withMutation(()=>{this.transform((e,t,n)=>{if(n.spec.coerce&&!n.isType(e)){if(/^(true|1)$/i.test(String(e)))return!0;if(/^(false|0)$/i.test(String(e)))return!1}return e})})}isTrue(e=fn.isValue){return this.test({message:e,name:"is-value",exclusive:!0,params:{value:"true"},test(t){return le(t)||t===!0}})}isFalse(e=fn.isValue){return this.test({message:e,name:"is-value",exclusive:!0,params:{value:"false"},test(t){return le(t)||t===!1}})}default(e){return super.default(e)}defined(e){return super.defined(e)}optional(){return super.optional()}required(e){return super.required(e)}notRequired(){return super.notRequired()}nullable(){return super.nullable()}nonNullable(e){return super.nonNullable(e)}strip(e){return super.strip(e)}}Lp.prototype=fa.prototype;const Up=/^(\d{4}|[+-]\d{6})(?:-?(\d{2})(?:-?(\d{2}))?)?(?:[ T]?(\d{2}):?(\d{2})(?::?(\d{2})(?:[,.](\d{1,}))?)?(?:(Z)|([+-])(\d{2})(?::?(\d{2}))?)?)?$/;function Mp(r){const e=pn(r);if(!e)return Date.parse?Date.parse(r):Number.NaN;if(e.z===void 0&&e.plusMinus===void 0)return new Date(e.year,e.month,e.day,e.hour,e.minute,e.second,e.millisecond).valueOf();let t=0;return e.z!=="Z"&&e.plusMinus!==void 0&&(t=e.hourOffset*60+e.minuteOffset,e.plusMinus==="+"&&(t=0-t)),Date.UTC(e.year,e.month,e.day,e.hour,e.minute+t,e.second,e.millisecond)}function pn(r){var e,t;const n=Up.exec(r);return n?{year:me(n[1]),month:me(n[2],1)-1,day:me(n[3],1),hour:me(n[4]),minute:me(n[5]),second:me(n[6]),millisecond:n[7]?me(n[7].substring(0,3)):0,precision:(e=(t=n[7])==null?void 0:t.length)!=null?e:void 0,z:n[8]||void 0,plusMinus:n[9]||void 0,hourOffset:me(n[10]),minuteOffset:me(n[11])}:null}function me(r,e=0){return Number(r)||e}let Np=/^[a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,zp=/^((https?|ftp):)?\/\/(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(\#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i,Bp=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i,Vp="^\\d{4}-\\d{2}-\\d{2}",qp="\\d{2}:\\d{2}:\\d{2}",Gp="(([+-]\\d{2}(:?\\d{2})?)|Z)",Hp=new RegExp(`${Vp}T${qp}(\\.\\d+)?${Gp}$`),Jp=r=>le(r)||r===r.trim(),Kp={}.toString();function Wp(){return new pa}class pa extends oe{constructor(){super({type:"string",check(e){return e instanceof String&&(e=e.valueOf()),typeof e=="string"}}),this.withMutation(()=>{this.transform((e,t,n)=>{if(!n.spec.coerce||n.isType(e)||Array.isArray(e))return e;const s=e!=null&&e.toString?e.toString():e;return s===Kp?e:s})})}required(e){return super.required(e).withMutation(t=>t.test({message:e||de.required,name:"required",skipAbsent:!0,test:n=>!!n.length}))}notRequired(){return super.notRequired().withMutation(e=>(e.tests=e.tests.filter(t=>t.OPTIONS.name!=="required"),e))}length(e,t=W.length){return this.test({message:t,name:"length",exclusive:!0,params:{length:e},skipAbsent:!0,test(n){return n.length===this.resolve(e)}})}min(e,t=W.min){return this.test({message:t,name:"min",exclusive:!0,params:{min:e},skipAbsent:!0,test(n){return n.length>=this.resolve(e)}})}max(e,t=W.max){return this.test({name:"max",exclusive:!0,message:t,params:{max:e},skipAbsent:!0,test(n){return n.length<=this.resolve(e)}})}matches(e,t){let n=!1,s,i;return t&&(typeof t=="object"?{excludeEmptyString:n=!1,message:s,name:i}=t:s=t),this.test({name:i||"matches",message:s||W.matches,params:{regex:e},skipAbsent:!0,test:a=>a===""&&n||a.search(e)!==-1})}email(e=W.email){return this.matches(Np,{name:"email",message:e,excludeEmptyString:!0})}url(e=W.url){return this.matches(zp,{name:"url",message:e,excludeEmptyString:!0})}uuid(e=W.uuid){return this.matches(Bp,{name:"uuid",message:e,excludeEmptyString:!1})}datetime(e){let t="",n,s;return e&&(typeof e=="object"?{message:t="",allowOffset:n=!1,precision:s=void 0}=e:t=e),this.matches(Hp,{name:"datetime",message:t||W.datetime,excludeEmptyString:!0}).test({name:"datetime_offset",message:t||W.datetime_offset,params:{allowOffset:n},skipAbsent:!0,test:i=>{if(!i||n)return!0;const a=pn(i);return a?!!a.z:!1}}).test({name:"datetime_precision",message:t||W.datetime_precision,params:{precision:s},skipAbsent:!0,test:i=>{if(!i||s==null)return!0;const a=pn(i);return a?a.precision===s:!1}})}ensure(){return this.default("").transform(e=>e===null?"":e)}trim(e=W.trim){return this.transform(t=>t!=null?t.trim():t).test({message:e,name:"trim",test:Jp})}lowercase(e=W.lowercase){return this.transform(t=>le(t)?t:t.toLowerCase()).test({message:e,name:"string_case",exclusive:!0,skipAbsent:!0,test:t=>le(t)||t===t.toLowerCase()})}uppercase(e=W.uppercase){return this.transform(t=>le(t)?t:t.toUpperCase()).test({message:e,name:"string_case",exclusive:!0,skipAbsent:!0,test:t=>le(t)||t===t.toUpperCase()})}}Wp.prototype=pa.prototype;let Zp=r=>r!=+r;function Yp(){return new ga}class ga extends oe{constructor(){super({type:"number",check(e){return e instanceof Number&&(e=e.valueOf()),typeof e=="number"&&!Zp(e)}}),this.withMutation(()=>{this.transform((e,t,n)=>{if(!n.spec.coerce)return e;let s=e;if(typeof s=="string"){if(s=s.replace(/\s/g,""),s==="")return NaN;s=+s}return n.isType(s)||s===null?s:parseFloat(s)})})}min(e,t=Oe.min){return this.test({message:t,name:"min",exclusive:!0,params:{min:e},skipAbsent:!0,test(n){return n>=this.resolve(e)}})}max(e,t=Oe.max){return this.test({message:t,name:"max",exclusive:!0,params:{max:e},skipAbsent:!0,test(n){return n<=this.resolve(e)}})}lessThan(e,t=Oe.lessThan){return this.test({message:t,name:"max",exclusive:!0,params:{less:e},skipAbsent:!0,test(n){return n<this.resolve(e)}})}moreThan(e,t=Oe.moreThan){return this.test({message:t,name:"min",exclusive:!0,params:{more:e},skipAbsent:!0,test(n){return n>this.resolve(e)}})}positive(e=Oe.positive){return this.moreThan(0,e)}negative(e=Oe.negative){return this.lessThan(0,e)}integer(e=Oe.integer){return this.test({name:"integer",message:e,skipAbsent:!0,test:t=>Number.isInteger(t)})}truncate(){return this.transform(e=>le(e)?e:e|0)}round(e){var t;let n=["ceil","floor","round","trunc"];if(e=((t=e)==null?void 0:t.toLowerCase())||"round",e==="trunc")return this.truncate();if(n.indexOf(e.toLowerCase())===-1)throw new TypeError("Only valid options for round() are: "+n.join(", "));return this.transform(s=>le(s)?s:Math[e](s))}}Yp.prototype=ga.prototype;let ma=new Date(""),Xp=r=>Object.prototype.toString.call(r)==="[object Date]";function ya(){return new Vt}class Vt extends oe{constructor(){super({type:"date",check(e){return Xp(e)&&!isNaN(e.getTime())}}),this.withMutation(()=>{this.transform((e,t,n)=>!n.spec.coerce||n.isType(e)||e===null?e:(e=Mp(e),isNaN(e)?Vt.INVALID_DATE:new Date(e)))})}prepareParam(e,t){let n;if(Ye.isRef(e))n=e;else{let s=this.cast(e);if(!this._typeCheck(s))throw new TypeError(`\`${t}\` must be a Date or a value that can be \`cast()\` to a Date`);n=s}return n}min(e,t=hn.min){let n=this.prepareParam(e,"min");return this.test({message:t,name:"min",exclusive:!0,params:{min:e},skipAbsent:!0,test(s){return s>=this.resolve(n)}})}max(e,t=hn.max){let n=this.prepareParam(e,"max");return this.test({message:t,name:"max",exclusive:!0,params:{max:e},skipAbsent:!0,test(s){return s<=this.resolve(n)}})}}Vt.INVALID_DATE=ma;ya.prototype=Vt.prototype;ya.INVALID_DATE=ma;function Qp(r,e=[]){let t=[],n=new Set,s=new Set(e.map(([a,o])=>`${a}-${o}`));function i(a,o){let u=Be.split(a)[0];n.add(u),s.has(`${o}-${u}`)||t.push([o,u])}for(const a of Object.keys(r)){let o=r[a];n.add(a),Ye.isRef(o)&&o.isSibling?i(o.path,a):Un(o)&&"deps"in o&&o.deps.forEach(u=>i(u,a))}return kp.array(Array.from(n),t).reverse()}function Gs(r,e){let t=1/0;return r.some((n,s)=>{var i;if((i=e.path)!=null&&i.includes(n))return t=s,!0}),t}function ba(r){return(e,t)=>Gs(r,e)-Gs(r,t)}const eg=(r,e,t)=>{if(typeof r!="string")return r;let n=r;try{n=JSON.parse(r)}catch{}return t.isType(n)?n:r};function tr(r){if("fields"in r){const e={};for(const[t,n]of Object.entries(r.fields))e[t]=tr(n);return r.setFields(e)}if(r.type==="array"){const e=r.optional();return e.innerType&&(e.innerType=tr(e.innerType)),e}return r.type==="tuple"?r.optional().clone({types:r.spec.types.map(tr)}):"optional"in r?r.optional():r}const tg=(r,e)=>{const t=[...Be.normalizePath(e)];if(t.length===1)return t[0]in r;let n=t.pop(),s=Be.getter(Be.join(t),!0)(r);return!!(s&&n in s)};let Hs=r=>Object.prototype.toString.call(r)==="[object Object]";function Js(r,e){let t=Object.keys(r.fields);return Object.keys(e).filter(n=>t.indexOf(n)===-1)}const rg=ba([]);function ng(r){return new _a(r)}class _a extends oe{constructor(e){super({type:"object",check(t){return Hs(t)||typeof t=="function"}}),this.fields=Object.create(null),this._sortErrors=rg,this._nodes=[],this._excludedEdges=[],this.withMutation(()=>{e&&this.shape(e)})}_cast(e,t={}){var n;let s=super._cast(e,t);if(s===void 0)return this.getDefault(t);if(!this._typeCheck(s))return s;let i=this.fields,a=(n=t.stripUnknown)!=null?n:this.spec.noUnknown,o=[].concat(this._nodes,Object.keys(s).filter(d=>!this._nodes.includes(d))),u={},l=Object.assign({},t,{parent:u,__validating:t.__validating||!1}),c=!1;for(const d of o){let h=i[d],p=d in s;if(h){let y,m=s[d];l.path=(t.path?`${t.path}.`:"")+d,h=h.resolve({value:m,context:t.context,parent:u});let g=h instanceof oe?h.spec:void 0,w=g==null?void 0:g.strict;if(g!=null&&g.strip){c=c||d in s;continue}y=!t.__validating||!w?h.cast(s[d],l):s[d],y!==void 0&&(u[d]=y)}else p&&!a&&(u[d]=s[d]);(p!==d in u||u[d]!==s[d])&&(c=!0)}return c?u:s}_validate(e,t={},n,s){let{from:i=[],originalValue:a=e,recursive:o=this.spec.recursive}=t;t.from=[{schema:this,value:a},...i],t.__validating=!0,t.originalValue=a,super._validate(e,t,n,(u,l)=>{if(!o||!Hs(l)){s(u,l);return}a=a||l;let c=[];for(let d of this._nodes){let h=this.fields[d];!h||Ye.isRef(h)||c.push(h.asNestedTest({options:t,key:d,parent:l,parentPath:t.path,originalParent:a}))}this.runTests({tests:c,value:l,originalValue:a,options:t},n,d=>{s(d.sort(this._sortErrors).concat(u),l)})})}clone(e){const t=super.clone(e);return t.fields=Object.assign({},this.fields),t._nodes=this._nodes,t._excludedEdges=this._excludedEdges,t._sortErrors=this._sortErrors,t}concat(e){let t=super.concat(e),n=t.fields;for(let[s,i]of Object.entries(this.fields)){const a=n[s];n[s]=a===void 0?i:a}return t.withMutation(s=>s.setFields(n,[...this._excludedEdges,...e._excludedEdges]))}_getDefault(e){if("default"in this.spec)return super._getDefault(e);if(!this._nodes.length)return;let t={};return this._nodes.forEach(n=>{var s;const i=this.fields[n];let a=e;(s=a)!=null&&s.value&&(a=Object.assign({},a,{parent:a.value,value:a.value[n]})),t[n]=i&&"getDefault"in i?i.getDefault(a):void 0}),t}setFields(e,t){let n=this.clone();return n.fields=e,n._nodes=Qp(e,t),n._sortErrors=ba(Object.keys(e)),t&&(n._excludedEdges=t),n}shape(e,t=[]){return this.clone().withMutation(n=>{let s=n._excludedEdges;return t.length&&(Array.isArray(t[0])||(t=[t]),s=[...n._excludedEdges,...t]),n.setFields(Object.assign(n.fields,e),s)})}partial(){const e={};for(const[t,n]of Object.entries(this.fields))e[t]="optional"in n&&n.optional instanceof Function?n.optional():n;return this.setFields(e)}deepPartial(){return tr(this)}pick(e){const t={};for(const n of e)this.fields[n]&&(t[n]=this.fields[n]);return this.setFields(t,this._excludedEdges.filter(([n,s])=>e.includes(n)&&e.includes(s)))}omit(e){const t=[];for(const n of Object.keys(this.fields))e.includes(n)||t.push(n);return this.pick(t)}from(e,t,n){let s=Be.getter(e,!0);return this.transform(i=>{if(!i)return i;let a=i;return tg(i,e)&&(a=Object.assign({},i),n||delete a[e],a[t]=s(i)),a})}json(){return this.transform(eg)}exact(e){return this.test({name:"exact",exclusive:!0,message:e||er.exact,test(t){if(t==null)return!0;const n=Js(this.schema,t);return n.length===0||this.createError({params:{properties:n.join(", ")}})}})}stripUnknown(){return this.clone({noUnknown:!0})}noUnknown(e=!0,t=er.noUnknown){typeof e!="boolean"&&(t=e,e=!0);let n=this.test({name:"noUnknown",exclusive:!0,message:t,test(s){if(s==null)return!0;const i=Js(this.schema,s);return!e||i.length===0||this.createError({params:{unknown:i.join(", ")}})}});return n.spec.noUnknown=e,n}unknown(e=!0,t=er.noUnknown){return this.noUnknown(!e,t)}transformKeys(e){return this.transform(t=>{if(!t)return t;const n={};for(const s of Object.keys(t))n[e(s)]=t[s];return n})}camelCase(){return this.transformKeys(Hr.camelCase)}snakeCase(){return this.transformKeys(Hr.snakeCase)}constantCase(){return this.transformKeys(e=>Hr.snakeCase(e).toUpperCase())}describe(e){const t=(e?this.resolve(e):this).clone(),n=super.describe(e);n.fields={};for(const[i,a]of Object.entries(t.fields)){var s;let o=e;(s=o)!=null&&s.value&&(o=Object.assign({},o,{parent:o.value,value:o.value[i]})),n.fields[i]=a.describe(o)}return n}}ng.prototype=_a.prototype;const Og=async r=>{const{data:e,error:t}=await wi.auth.signInWithPassword(r);if(t)throw new Qu(t.message,t.status,t.code);return e},Ag=async()=>{const{error:r}=await wi.auth.signOut();r&&La.error(Ba)};export{Ag as A,op as B,Og as C,Eg as F,$i as I,wg as a,It as b,tl as c,Ma as d,wi as e,Sg as f,Ba as g,za as h,nl as i,el as j,ng as k,Wp as l,vg as m,Na as n,ya as o,ip as p,$g as q,lg as r,rl as s,tn as t,ug as u,kg as v,Yp as w,Lp as x,xg as y,Tg as z};
