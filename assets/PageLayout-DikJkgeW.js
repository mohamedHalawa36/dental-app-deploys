const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/browser-CtZF86hy.js","assets/chunk-SYFQ2XB5-D59epDAS.js"])))=>i.map(i=>d[i]);
var No=t=>{throw TypeError(t)};var Ps=(t,e,n)=>e.has(t)||No("Cannot "+n);var S=(t,e,n)=>(Ps(t,e,"read from private field"),n?n.call(t):e.get(t)),X=(t,e,n)=>e.has(t)?No("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,n),q=(t,e,n,r)=>(Ps(t,e,"write to private field"),r?r.call(t,n):e.set(t,n),n),Q=(t,e,n)=>(Ps(t,e,"access private method"),n);import{r as d,w as Qd,x as Ee,n as p,a as zr,t as Cc,v as Tc,y as Oc,z as Yd}from"./chunk-SYFQ2XB5-D59epDAS.js";import{S as Ac,C as Io,D as Ne,E as kr,r as Sr,b as Zd,F as ei,G as Do,H as Xd,f as ef,I as tf,J as Fo,n as Wr,i as Lo,K as nf,L as xn,j as rf,y as M,N as sf,O as of,P as Mo,A as af,R as cf,l as uf}from"./connectivity-DBJ8r7E3.js";import{t as pe}from"./index-BxltvMwo.js";import{T as lf}from"./sonner-B5MIckf6.js";var le,F,Kn,ae,kt,hn,ut,Re,Gn,pn,mn,$t,Rt,lt,gn,H,In,ti,ni,ri,si,ii,oi,ai,Pc,Ec,df=(Ec=class extends Ac{constructor(e,n){super();X(this,H);X(this,le);X(this,F);X(this,Kn);X(this,ae);X(this,kt);X(this,hn);X(this,ut);X(this,Re);X(this,Gn);X(this,pn);X(this,mn);X(this,$t);X(this,Rt);X(this,lt);X(this,gn,new Set);this.options=n,q(this,le,e),q(this,Re,null),q(this,ut,Io()),this.options.experimental_prefetchInRender||S(this,ut).reject(new Error("experimental_prefetchInRender feature flag is not enabled")),this.bindMethods(),this.setOptions(n)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(S(this,F).addObserver(this),Uo(S(this,F),this.options)?Q(this,H,In).call(this):this.updateResult(),Q(this,H,si).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return ci(S(this,F),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return ci(S(this,F),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,Q(this,H,ii).call(this),Q(this,H,oi).call(this),S(this,F).removeObserver(this)}setOptions(e,n){const r=this.options,s=S(this,F);if(this.options=S(this,le).defaultQueryOptions(e),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof Ne(this.options.enabled,S(this,F))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");Q(this,H,ai).call(this),S(this,F).setOptions(this.options),r._defaulted&&!kr(this.options,r)&&S(this,le).getQueryCache().notify({type:"observerOptionsUpdated",query:S(this,F),observer:this});const i=this.hasListeners();i&&Bo(S(this,F),s,this.options,r)&&Q(this,H,In).call(this),this.updateResult(n),i&&(S(this,F)!==s||Ne(this.options.enabled,S(this,F))!==Ne(r.enabled,S(this,F))||Sr(this.options.staleTime,S(this,F))!==Sr(r.staleTime,S(this,F)))&&Q(this,H,ti).call(this);const o=Q(this,H,ni).call(this);i&&(S(this,F)!==s||Ne(this.options.enabled,S(this,F))!==Ne(r.enabled,S(this,F))||o!==S(this,lt))&&Q(this,H,ri).call(this,o)}getOptimisticResult(e){const n=S(this,le).getQueryCache().build(S(this,le),e),r=this.createResult(n,e);return hf(this,r)&&(q(this,ae,r),q(this,hn,this.options),q(this,kt,S(this,F).state)),r}getCurrentResult(){return S(this,ae)}trackResult(e,n){const r={};return Object.keys(e).forEach(s=>{Object.defineProperty(r,s,{configurable:!1,enumerable:!0,get:()=>(this.trackProp(s),n==null||n(s),e[s])})}),r}trackProp(e){S(this,gn).add(e)}getCurrentQuery(){return S(this,F)}refetch({...e}={}){return this.fetch({...e})}fetchOptimistic(e){const n=S(this,le).defaultQueryOptions(e),r=S(this,le).getQueryCache().build(S(this,le),n);return r.fetch().then(()=>this.createResult(r,n))}fetch(e){return Q(this,H,In).call(this,{...e,cancelRefetch:e.cancelRefetch??!0}).then(()=>(this.updateResult(),S(this,ae)))}createResult(e,n){var N;const r=S(this,F),s=this.options,i=S(this,ae),o=S(this,kt),a=S(this,hn),u=e!==r?e.state:S(this,Kn),{state:l}=e;let f={...l},h=!1,m;if(n._optimisticResults){const k=this.hasListeners(),I=!k&&Uo(e,n),$=k&&Bo(e,r,n,s);(I||$)&&(f={...f,...tf(l.data,e.options)}),n._optimisticResults==="isRestoring"&&(f.fetchStatus="idle")}let{error:v,errorUpdatedAt:g,status:y}=f;if(n.select&&f.data!==void 0)if(i&&f.data===(o==null?void 0:o.data)&&n.select===S(this,Gn))m=S(this,pn);else try{q(this,Gn,n.select),m=n.select(f.data),m=Fo(i==null?void 0:i.data,m,n),q(this,pn,m),q(this,Re,null)}catch(k){q(this,Re,k)}else m=f.data;if(n.placeholderData!==void 0&&m===void 0&&y==="pending"){let k;if(i!=null&&i.isPlaceholderData&&n.placeholderData===(a==null?void 0:a.placeholderData))k=i.data;else if(k=typeof n.placeholderData=="function"?n.placeholderData((N=S(this,mn))==null?void 0:N.state.data,S(this,mn)):n.placeholderData,n.select&&k!==void 0)try{k=n.select(k),q(this,Re,null)}catch(I){q(this,Re,I)}k!==void 0&&(y="success",m=Fo(i==null?void 0:i.data,k,n),h=!0)}S(this,Re)&&(v=S(this,Re),m=S(this,pn),g=Date.now(),y="error");const b=f.fetchStatus==="fetching",E=y==="pending",C=y==="error",x=E&&b,T=m!==void 0,_={status:y,fetchStatus:f.fetchStatus,isPending:E,isSuccess:y==="success",isError:C,isInitialLoading:x,isLoading:x,data:m,dataUpdatedAt:f.dataUpdatedAt,error:v,errorUpdatedAt:g,failureCount:f.fetchFailureCount,failureReason:f.fetchFailureReason,errorUpdateCount:f.errorUpdateCount,isFetched:f.dataUpdateCount>0||f.errorUpdateCount>0,isFetchedAfterMount:f.dataUpdateCount>u.dataUpdateCount||f.errorUpdateCount>u.errorUpdateCount,isFetching:b,isRefetching:b&&!E,isLoadingError:C&&!T,isPaused:f.fetchStatus==="paused",isPlaceholderData:h,isRefetchError:C&&T,isStale:Ui(e,n),refetch:this.refetch,promise:S(this,ut)};if(this.options.experimental_prefetchInRender){const k=z=>{_.status==="error"?z.reject(_.error):_.data!==void 0&&z.resolve(_.data)},I=()=>{const z=q(this,ut,_.promise=Io());k(z)},$=S(this,ut);switch($.status){case"pending":e.queryHash===r.queryHash&&k($);break;case"fulfilled":(_.status==="error"||_.data!==$.value)&&I();break;case"rejected":(_.status!=="error"||_.error!==$.reason)&&I();break}}return _}updateResult(e){const n=S(this,ae),r=this.createResult(S(this,F),this.options);if(q(this,kt,S(this,F).state),q(this,hn,this.options),S(this,kt).data!==void 0&&q(this,mn,S(this,F)),kr(r,n))return;q(this,ae,r);const s={},i=()=>{if(!n)return!0;const{notifyOnChangeProps:o}=this.options,a=typeof o=="function"?o():o;if(a==="all"||!a&&!S(this,gn).size)return!0;const c=new Set(a??S(this,gn));return this.options.throwOnError&&c.add("error"),Object.keys(S(this,ae)).some(u=>{const l=u;return S(this,ae)[l]!==n[l]&&c.has(l)})};(e==null?void 0:e.listeners)!==!1&&i()&&(s.listeners=!0),Q(this,H,Pc).call(this,{...s,...e})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&Q(this,H,si).call(this)}},le=new WeakMap,F=new WeakMap,Kn=new WeakMap,ae=new WeakMap,kt=new WeakMap,hn=new WeakMap,ut=new WeakMap,Re=new WeakMap,Gn=new WeakMap,pn=new WeakMap,mn=new WeakMap,$t=new WeakMap,Rt=new WeakMap,lt=new WeakMap,gn=new WeakMap,H=new WeakSet,In=function(e){Q(this,H,ai).call(this);let n=S(this,F).fetch(this.options,e);return e!=null&&e.throwOnError||(n=n.catch(Zd)),n},ti=function(){Q(this,H,ii).call(this);const e=Sr(this.options.staleTime,S(this,F));if(ei||S(this,ae).isStale||!Do(e))return;const r=Xd(S(this,ae).dataUpdatedAt,e)+1;q(this,$t,setTimeout(()=>{S(this,ae).isStale||this.updateResult()},r))},ni=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(S(this,F)):this.options.refetchInterval)??!1},ri=function(e){Q(this,H,oi).call(this),q(this,lt,e),!(ei||Ne(this.options.enabled,S(this,F))===!1||!Do(S(this,lt))||S(this,lt)===0)&&q(this,Rt,setInterval(()=>{(this.options.refetchIntervalInBackground||ef.isFocused())&&Q(this,H,In).call(this)},S(this,lt)))},si=function(){Q(this,H,ti).call(this),Q(this,H,ri).call(this,Q(this,H,ni).call(this))},ii=function(){S(this,$t)&&(clearTimeout(S(this,$t)),q(this,$t,void 0))},oi=function(){S(this,Rt)&&(clearInterval(S(this,Rt)),q(this,Rt,void 0))},ai=function(){const e=S(this,le).getQueryCache().build(S(this,le),this.options);if(e===S(this,F))return;const n=S(this,F);q(this,F,e),q(this,Kn,e.state),this.hasListeners()&&(n==null||n.removeObserver(this),e.addObserver(this))},Pc=function(e){Wr.batch(()=>{e.listeners&&this.listeners.forEach(n=>{n(S(this,ae))}),S(this,le).getQueryCache().notify({query:S(this,F),type:"observerResultsUpdated"})})},Ec);function ff(t,e){return Ne(e.enabled,t)!==!1&&t.state.data===void 0&&!(t.state.status==="error"&&e.retryOnMount===!1)}function Uo(t,e){return ff(t,e)||t.state.data!==void 0&&ci(t,e,e.refetchOnMount)}function ci(t,e,n){if(Ne(e.enabled,t)!==!1){const r=typeof n=="function"?n(t):n;return r==="always"||r!==!1&&Ui(t,e)}return!1}function Bo(t,e,n,r){return(t!==e||Ne(r.enabled,t)===!1)&&(!n.suspense||t.state.status!=="error")&&Ui(t,n)}function Ui(t,e){return Ne(e.enabled,t)!==!1&&t.isStaleByTime(Sr(e.staleTime,t))}function hf(t,e){return!kr(t.getCurrentResult(),e)}var dt,ft,de,qe,He,Cr,ui,Sc,pf=(Sc=class extends Ac{constructor(n,r){super();X(this,He);X(this,dt);X(this,ft);X(this,de);X(this,qe);q(this,dt,n),this.setOptions(r),this.bindMethods(),Q(this,He,Cr).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(n){var s;const r=this.options;this.options=S(this,dt).defaultMutationOptions(n),kr(this.options,r)||S(this,dt).getMutationCache().notify({type:"observerOptionsUpdated",mutation:S(this,de),observer:this}),r!=null&&r.mutationKey&&this.options.mutationKey&&Lo(r.mutationKey)!==Lo(this.options.mutationKey)?this.reset():((s=S(this,de))==null?void 0:s.state.status)==="pending"&&S(this,de).setOptions(this.options)}onUnsubscribe(){var n;this.hasListeners()||(n=S(this,de))==null||n.removeObserver(this)}onMutationUpdate(n){Q(this,He,Cr).call(this),Q(this,He,ui).call(this,n)}getCurrentResult(){return S(this,ft)}reset(){var n;(n=S(this,de))==null||n.removeObserver(this),q(this,de,void 0),Q(this,He,Cr).call(this),Q(this,He,ui).call(this)}mutate(n,r){var s;return q(this,qe,r),(s=S(this,de))==null||s.removeObserver(this),q(this,de,S(this,dt).getMutationCache().build(S(this,dt),this.options)),S(this,de).addObserver(this),S(this,de).execute(n)}},dt=new WeakMap,ft=new WeakMap,de=new WeakMap,qe=new WeakMap,He=new WeakSet,Cr=function(){var r;const n=((r=S(this,de))==null?void 0:r.state)??nf();q(this,ft,{...n,isPending:n.status==="pending",isSuccess:n.status==="success",isError:n.status==="error",isIdle:n.status==="idle",mutate:this.mutate,reset:this.reset})},ui=function(n){Wr.batch(()=>{var r,s,i,o,a,c,u,l;if(S(this,qe)&&this.hasListeners()){const f=S(this,ft).variables,h=S(this,ft).context;(n==null?void 0:n.type)==="success"?((s=(r=S(this,qe)).onSuccess)==null||s.call(r,n.data,f,h),(o=(i=S(this,qe)).onSettled)==null||o.call(i,n.data,null,f,h)):(n==null?void 0:n.type)==="error"&&((c=(a=S(this,qe)).onError)==null||c.call(a,n.error,f,h),(l=(u=S(this,qe)).onSettled)==null||l.call(u,void 0,n.error,f,h))}this.listeners.forEach(f=>{f(S(this,ft))})})},Sc),jc=d.createContext(!1),mf=()=>d.useContext(jc);jc.Provider;function gf(){let t=!1;return{clearReset:()=>{t=!1},reset:()=>{t=!0},isReset:()=>t}}var yf=d.createContext(gf()),vf=()=>d.useContext(yf);function kc(t,e){return typeof t=="function"?t(...e):!!t}function li(){}var bf=(t,e)=>{(t.suspense||t.throwOnError||t.experimental_prefetchInRender)&&(e.isReset()||(t.retryOnMount=!1))},wf=t=>{d.useEffect(()=>{t.clearReset()},[t])},_f=({result:t,errorResetBoundary:e,throwOnError:n,query:r})=>t.isError&&!e.isReset()&&!t.isFetching&&r&&kc(n,[t.error,r]),xf=t=>{const e=t.staleTime;t.suspense&&(t.staleTime=typeof e=="function"?(...n)=>Math.max(e(...n),1e3):Math.max(e??1e3,1e3),typeof t.gcTime=="number"&&(t.gcTime=Math.max(t.gcTime,1e3)))},Ef=(t,e)=>t.isLoading&&t.isFetching&&!e,Sf=(t,e)=>(t==null?void 0:t.suspense)&&e.isPending,zo=(t,e,n)=>e.fetchOptimistic(t).catch(()=>{n.clearReset()});function Cf(t,e,n){var f,h,m,v,g;const r=xn(),s=mf(),i=vf(),o=r.defaultQueryOptions(t);(h=(f=r.getDefaultOptions().queries)==null?void 0:f._experimental_beforeQuery)==null||h.call(f,o),o._optimisticResults=s?"isRestoring":"optimistic",xf(o),bf(o,i),wf(i);const a=!r.getQueryCache().get(o.queryHash),[c]=d.useState(()=>new e(r,o)),u=c.getOptimisticResult(o),l=!s&&t.subscribed!==!1;if(d.useSyncExternalStore(d.useCallback(y=>{const b=l?c.subscribe(Wr.batchCalls(y)):li;return c.updateResult(),b},[c,l]),()=>c.getCurrentResult(),()=>c.getCurrentResult()),d.useEffect(()=>{c.setOptions(o,{listeners:!1})},[o,c]),Sf(o,u))throw zo(o,c,i);if(_f({result:u,errorResetBoundary:i,throwOnError:o.throwOnError,query:r.getQueryCache().get(o.queryHash)}))throw u.error;if((v=(m=r.getDefaultOptions().queries)==null?void 0:m._experimental_afterQuery)==null||v.call(m,o,u),o.experimental_prefetchInRender&&!ei&&Ef(u,s)){const y=a?zo(o,c,i):(g=r.getQueryCache().get(o.queryHash))==null?void 0:g.promise;y==null||y.catch(li).finally(()=>{c.updateResult()})}return o.notifyOnChangeProps?u:c.trackResult(u)}function di(t,e){return Cf(t,df)}function Vr(t,e){const n=xn(),[r]=d.useState(()=>new pf(n,t));d.useEffect(()=>{r.setOptions(t)},[r,t]);const s=d.useSyncExternalStore(d.useCallback(o=>r.subscribe(Wr.batchCalls(o)),[r]),()=>r.getCurrentResult(),()=>r.getCurrentResult()),i=d.useCallback((o,a)=>{r.mutate(o,a).catch(li)},[r]);if(s.error&&kc(r.options.throwOnError,[s.error]))throw s.error;return{...s,mutate:i,mutateAsync:s.mutate}}const Jn={success:{patient:{add:"تم إضافة المريض بنجاح",update:"تم تعديل المريض بنجاح",delete:"تم حذف المريض"},appointment:{add:"تم حجز الموعد",update:"تم تعديل الموعد بنجاح",delete:"تم إلغاء الموعد"}},error:{somethingWentWrong:"حدث خطأ ما، برجاء المحاولة مجددا",patient:{conflict:"لا يمكن حذف المريض لأن لديه حجوزات أو سجلات مرتبطة."},appointment:{conflict:"تم حجز موعد للمريض في نفس اليوم مسبقا"}}},zt=Jn.error.somethingWentWrong,Tf="modulepreload",Of=function(t){return"/"+t},Wo={},yn=function(e,n,r){let s=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),a=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));s=Promise.allSettled(n.map(c=>{if(c=Of(c),c in Wo)return;Wo[c]=!0;const u=c.endsWith(".css"),l=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${l}`))return;const f=document.createElement("link");if(f.rel=u?"stylesheet":Tf,u||(f.as="script"),f.crossOrigin="",f.href=c,a&&f.setAttribute("nonce",a),document.head.appendChild(f),u)return new Promise((h,m)=>{f.addEventListener("load",h),f.addEventListener("error",()=>m(new Error(`Unable to preload CSS for ${c}`)))})}))}function i(o){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=o,window.dispatchEvent(a),!a.defaultPrevented)throw o}return s.then(o=>{for(const a of o||[])a.status==="rejected"&&i(a.reason);return e().catch(i)})},Af=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>yn(async()=>{const{default:r}=await Promise.resolve().then(()=>En);return{default:r}},void 0).then(({default:r})=>r(...n)):e=fetch,(...n)=>e(...n)};class Bi extends Error{constructor(e,n="FunctionsError",r){super(e),this.name=n,this.context=r}}class Pf extends Bi{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class jf extends Bi{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class kf extends Bi{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var fi;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(fi||(fi={}));var $f=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(l){try{u(r.next(l))}catch(f){o(f)}}function c(l){try{u(r.throw(l))}catch(f){o(f)}}function u(l){l.done?i(l.value):s(l.value).then(a,c)}u((r=r.apply(t,e||[])).next())})};class Rf{constructor(e,{headers:n={},customFetch:r,region:s=fi.Any}={}){this.url=e,this.headers=n,this.region=s,this.fetch=Af(r)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e,n={}){var r;return $f(this,void 0,void 0,function*(){try{const{headers:s,method:i,body:o}=n;let a={},{region:c}=n;c||(c=this.region),c&&c!=="any"&&(a["x-region"]=c);let u;o&&(s&&!Object.prototype.hasOwnProperty.call(s,"Content-Type")||!s)&&(typeof Blob<"u"&&o instanceof Blob||o instanceof ArrayBuffer?(a["Content-Type"]="application/octet-stream",u=o):typeof o=="string"?(a["Content-Type"]="text/plain",u=o):typeof FormData<"u"&&o instanceof FormData?u=o:(a["Content-Type"]="application/json",u=JSON.stringify(o)));const l=yield this.fetch(`${this.url}/${e}`,{method:i||"POST",headers:Object.assign(Object.assign(Object.assign({},a),this.headers),s),body:u}).catch(v=>{throw new Pf(v)}),f=l.headers.get("x-relay-error");if(f&&f==="true")throw new jf(l);if(!l.ok)throw new kf(l);let h=((r=l.headers.get("Content-Type"))!==null&&r!==void 0?r:"text/plain").split(";")[0].trim(),m;return h==="application/json"?m=yield l.json():h==="application/octet-stream"?m=yield l.blob():h==="text/event-stream"?m=l:h==="multipart/form-data"?m=yield l.formData():m=yield l.text(),{data:m,error:null}}catch(s){return{data:null,error:s}}})}}var fe={},zi={},qr={},Qn={},Hr={},Kr={},Nf=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},vn=Nf();const If=vn.fetch,$c=vn.fetch.bind(vn),Rc=vn.Headers,Df=vn.Request,Ff=vn.Response,En=Object.freeze(Object.defineProperty({__proto__:null,Headers:Rc,Request:Df,Response:Ff,default:$c,fetch:If},Symbol.toStringTag,{value:"Module"})),Lf=Qd(En);var Gr={};Object.defineProperty(Gr,"__esModule",{value:!0});let Mf=class extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}};Gr.default=Mf;var Nc=Ee&&Ee.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Kr,"__esModule",{value:!0});const Uf=Nc(Lf),Bf=Nc(Gr);let zf=class{constructor(e){this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=e.headers,this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=e.shouldThrowOnError,this.signal=e.signal,this.isMaybeSingle=e.isMaybeSingle,e.fetch?this.fetch=e.fetch:typeof fetch>"u"?this.fetch=Uf.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,n){return this.headers=Object.assign({},this.headers),this.headers[e]=n,this}then(e,n){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const r=this.fetch;let s=r(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async i=>{var o,a,c;let u=null,l=null,f=null,h=i.status,m=i.statusText;if(i.ok){if(this.method!=="HEAD"){const b=await i.text();b===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?l=b:l=JSON.parse(b))}const g=(o=this.headers.Prefer)===null||o===void 0?void 0:o.match(/count=(exact|planned|estimated)/),y=(a=i.headers.get("content-range"))===null||a===void 0?void 0:a.split("/");g&&y&&y.length>1&&(f=parseInt(y[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(l)&&(l.length>1?(u={code:"PGRST116",details:`Results contain ${l.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},l=null,f=null,h=406,m="Not Acceptable"):l.length===1?l=l[0]:l=null)}else{const g=await i.text();try{u=JSON.parse(g),Array.isArray(u)&&i.status===404&&(l=[],u=null,h=200,m="OK")}catch{i.status===404&&g===""?(h=204,m="No Content"):u={message:g}}if(u&&this.isMaybeSingle&&(!((c=u==null?void 0:u.details)===null||c===void 0)&&c.includes("0 rows"))&&(u=null,h=200,m="OK"),u&&this.shouldThrowOnError)throw new Bf.default(u)}return{error:u,data:l,count:f,status:h,statusText:m}});return this.shouldThrowOnError||(s=s.catch(i=>{var o,a,c;return{error:{message:`${(o=i==null?void 0:i.name)!==null&&o!==void 0?o:"FetchError"}: ${i==null?void 0:i.message}`,details:`${(a=i==null?void 0:i.stack)!==null&&a!==void 0?a:""}`,hint:"",code:`${(c=i==null?void 0:i.code)!==null&&c!==void 0?c:""}`},data:null,count:null,status:0,statusText:""}})),s.then(e,n)}};Kr.default=zf;var Wf=Ee&&Ee.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Hr,"__esModule",{value:!0});const Vf=Wf(Kr);let qf=class extends Vf.default{select(e){let n=!1;const r=(e??"*").split("").map(s=>/\s/.test(s)&&!n?"":(s==='"'&&(n=!n),s)).join("");return this.url.searchParams.set("select",r),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(e,{ascending:n=!0,nullsFirst:r,foreignTable:s,referencedTable:i=s}={}){const o=i?`${i}.order`:"order",a=this.url.searchParams.get(o);return this.url.searchParams.set(o,`${a?`${a},`:""}${e}.${n?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:n,referencedTable:r=n}={}){const s=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(s,`${e}`),this}range(e,n,{foreignTable:r,referencedTable:s=r}={}){const i=typeof s>"u"?"offset":`${s}.offset`,o=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(i,`${e}`),this.url.searchParams.set(o,`${n-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:e=!1,verbose:n=!1,settings:r=!1,buffers:s=!1,wal:i=!1,format:o="text"}={}){var a;const c=[e?"analyze":null,n?"verbose":null,r?"settings":null,s?"buffers":null,i?"wal":null].filter(Boolean).join("|"),u=(a=this.headers.Accept)!==null&&a!==void 0?a:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${o}; for="${u}"; options=${c};`,o==="json"?this:this}rollback(){var e;return((e=this.headers.Prefer)!==null&&e!==void 0?e:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}};Hr.default=qf;var Hf=Ee&&Ee.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Qn,"__esModule",{value:!0});const Kf=Hf(Hr);let Gf=class extends Kf.default{eq(e,n){return this.url.searchParams.append(e,`eq.${n}`),this}neq(e,n){return this.url.searchParams.append(e,`neq.${n}`),this}gt(e,n){return this.url.searchParams.append(e,`gt.${n}`),this}gte(e,n){return this.url.searchParams.append(e,`gte.${n}`),this}lt(e,n){return this.url.searchParams.append(e,`lt.${n}`),this}lte(e,n){return this.url.searchParams.append(e,`lte.${n}`),this}like(e,n){return this.url.searchParams.append(e,`like.${n}`),this}likeAllOf(e,n){return this.url.searchParams.append(e,`like(all).{${n.join(",")}}`),this}likeAnyOf(e,n){return this.url.searchParams.append(e,`like(any).{${n.join(",")}}`),this}ilike(e,n){return this.url.searchParams.append(e,`ilike.${n}`),this}ilikeAllOf(e,n){return this.url.searchParams.append(e,`ilike(all).{${n.join(",")}}`),this}ilikeAnyOf(e,n){return this.url.searchParams.append(e,`ilike(any).{${n.join(",")}}`),this}is(e,n){return this.url.searchParams.append(e,`is.${n}`),this}in(e,n){const r=Array.from(new Set(n)).map(s=>typeof s=="string"&&new RegExp("[,()]").test(s)?`"${s}"`:`${s}`).join(",");return this.url.searchParams.append(e,`in.(${r})`),this}contains(e,n){return typeof n=="string"?this.url.searchParams.append(e,`cs.${n}`):Array.isArray(n)?this.url.searchParams.append(e,`cs.{${n.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(n)}`),this}containedBy(e,n){return typeof n=="string"?this.url.searchParams.append(e,`cd.${n}`):Array.isArray(n)?this.url.searchParams.append(e,`cd.{${n.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(n)}`),this}rangeGt(e,n){return this.url.searchParams.append(e,`sr.${n}`),this}rangeGte(e,n){return this.url.searchParams.append(e,`nxl.${n}`),this}rangeLt(e,n){return this.url.searchParams.append(e,`sl.${n}`),this}rangeLte(e,n){return this.url.searchParams.append(e,`nxr.${n}`),this}rangeAdjacent(e,n){return this.url.searchParams.append(e,`adj.${n}`),this}overlaps(e,n){return typeof n=="string"?this.url.searchParams.append(e,`ov.${n}`):this.url.searchParams.append(e,`ov.{${n.join(",")}}`),this}textSearch(e,n,{config:r,type:s}={}){let i="";s==="plain"?i="pl":s==="phrase"?i="ph":s==="websearch"&&(i="w");const o=r===void 0?"":`(${r})`;return this.url.searchParams.append(e,`${i}fts${o}.${n}`),this}match(e){return Object.entries(e).forEach(([n,r])=>{this.url.searchParams.append(n,`eq.${r}`)}),this}not(e,n,r){return this.url.searchParams.append(e,`not.${n}.${r}`),this}or(e,{foreignTable:n,referencedTable:r=n}={}){const s=r?`${r}.or`:"or";return this.url.searchParams.append(s,`(${e})`),this}filter(e,n,r){return this.url.searchParams.append(e,`${n}.${r}`),this}};Qn.default=Gf;var Jf=Ee&&Ee.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(qr,"__esModule",{value:!0});const $n=Jf(Qn);let Qf=class{constructor(e,{headers:n={},schema:r,fetch:s}){this.url=e,this.headers=n,this.schema=r,this.fetch=s}select(e,{head:n=!1,count:r}={}){const s=n?"HEAD":"GET";let i=!1;const o=(e??"*").split("").map(a=>/\s/.test(a)&&!i?"":(a==='"'&&(i=!i),a)).join("");return this.url.searchParams.set("select",o),r&&(this.headers.Prefer=`count=${r}`),new $n.default({method:s,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(e,{count:n,defaultToNull:r=!0}={}){const s="POST",i=[];if(this.headers.Prefer&&i.push(this.headers.Prefer),n&&i.push(`count=${n}`),r||i.push("missing=default"),this.headers.Prefer=i.join(","),Array.isArray(e)){const o=e.reduce((a,c)=>a.concat(Object.keys(c)),[]);if(o.length>0){const a=[...new Set(o)].map(c=>`"${c}"`);this.url.searchParams.set("columns",a.join(","))}}return new $n.default({method:s,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}upsert(e,{onConflict:n,ignoreDuplicates:r=!1,count:s,defaultToNull:i=!0}={}){const o="POST",a=[`resolution=${r?"ignore":"merge"}-duplicates`];if(n!==void 0&&this.url.searchParams.set("on_conflict",n),this.headers.Prefer&&a.push(this.headers.Prefer),s&&a.push(`count=${s}`),i||a.push("missing=default"),this.headers.Prefer=a.join(","),Array.isArray(e)){const c=e.reduce((u,l)=>u.concat(Object.keys(l)),[]);if(c.length>0){const u=[...new Set(c)].map(l=>`"${l}"`);this.url.searchParams.set("columns",u.join(","))}}return new $n.default({method:o,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}update(e,{count:n}={}){const r="PATCH",s=[];return this.headers.Prefer&&s.push(this.headers.Prefer),n&&s.push(`count=${n}`),this.headers.Prefer=s.join(","),new $n.default({method:r,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}delete({count:e}={}){const n="DELETE",r=[];return e&&r.push(`count=${e}`),this.headers.Prefer&&r.unshift(this.headers.Prefer),this.headers.Prefer=r.join(","),new $n.default({method:n,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}};qr.default=Qf;var Jr={},Qr={};Object.defineProperty(Qr,"__esModule",{value:!0});Qr.version=void 0;Qr.version="0.0.0-automated";Object.defineProperty(Jr,"__esModule",{value:!0});Jr.DEFAULT_HEADERS=void 0;const Yf=Qr;Jr.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${Yf.version}`};var Ic=Ee&&Ee.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(zi,"__esModule",{value:!0});const Zf=Ic(qr),Xf=Ic(Qn),eh=Jr;let th=class Dc{constructor(e,{headers:n={},schema:r,fetch:s}={}){this.url=e,this.headers=Object.assign(Object.assign({},eh.DEFAULT_HEADERS),n),this.schemaName=r,this.fetch=s}from(e){const n=new URL(`${this.url}/${e}`);return new Zf.default(n,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(e){return new Dc(this.url,{headers:this.headers,schema:e,fetch:this.fetch})}rpc(e,n={},{head:r=!1,get:s=!1,count:i}={}){let o;const a=new URL(`${this.url}/rpc/${e}`);let c;r||s?(o=r?"HEAD":"GET",Object.entries(n).filter(([l,f])=>f!==void 0).map(([l,f])=>[l,Array.isArray(f)?`{${f.join(",")}}`:`${f}`]).forEach(([l,f])=>{a.searchParams.append(l,f)})):(o="POST",c=n);const u=Object.assign({},this.headers);return i&&(u.Prefer=`count=${i}`),new Xf.default({method:o,url:a,headers:u,schema:this.schemaName,body:c,fetch:this.fetch,allowEmpty:!1})}};zi.default=th;var Sn=Ee&&Ee.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(fe,"__esModule",{value:!0});fe.PostgrestError=fe.PostgrestBuilder=fe.PostgrestTransformBuilder=fe.PostgrestFilterBuilder=fe.PostgrestQueryBuilder=fe.PostgrestClient=void 0;const Fc=Sn(zi);fe.PostgrestClient=Fc.default;const Lc=Sn(qr);fe.PostgrestQueryBuilder=Lc.default;const Mc=Sn(Qn);fe.PostgrestFilterBuilder=Mc.default;const Uc=Sn(Hr);fe.PostgrestTransformBuilder=Uc.default;const Bc=Sn(Kr);fe.PostgrestBuilder=Bc.default;const zc=Sn(Gr);fe.PostgrestError=zc.default;var nh=fe.default={PostgrestClient:Fc.default,PostgrestQueryBuilder:Lc.default,PostgrestFilterBuilder:Mc.default,PostgrestTransformBuilder:Uc.default,PostgrestBuilder:Bc.default,PostgrestError:zc.default};const{PostgrestClient:rh,PostgrestQueryBuilder:J1,PostgrestFilterBuilder:Q1,PostgrestTransformBuilder:Y1,PostgrestBuilder:Z1,PostgrestError:X1}=nh,sh="2.11.2",ih={"X-Client-Info":`realtime-js/${sh}`},oh="1.0.0",Wc=1e4,ah=1e3;var ln;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(ln||(ln={}));var ge;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(ge||(ge={}));var Ce;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(Ce||(Ce={}));var hi;(function(t){t.websocket="websocket"})(hi||(hi={}));var Pt;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(Pt||(Pt={}));class ch{constructor(){this.HEADER_LENGTH=1}decode(e,n){return e.constructor===ArrayBuffer?n(this._binaryDecode(e)):n(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){const n=new DataView(e),r=new TextDecoder;return this._decodeBroadcast(e,n,r)}_decodeBroadcast(e,n,r){const s=n.getUint8(1),i=n.getUint8(2);let o=this.HEADER_LENGTH+2;const a=r.decode(e.slice(o,o+s));o=o+s;const c=r.decode(e.slice(o,o+i));o=o+i;const u=JSON.parse(r.decode(e.slice(o,e.byteLength)));return{ref:null,topic:a,event:c,payload:u}}}class Vc{constructor(e,n){this.callback=e,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var G;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(G||(G={}));const Vo=(t,e,n={})=>{var r;const s=(r=n.skipTypes)!==null&&r!==void 0?r:[];return Object.keys(e).reduce((i,o)=>(i[o]=uh(o,t,e,s),i),{})},uh=(t,e,n,r)=>{const s=e.find(a=>a.name===t),i=s==null?void 0:s.type,o=n[t];return i&&!r.includes(i)?qc(i,o):pi(o)},qc=(t,e)=>{if(t.charAt(0)==="_"){const n=t.slice(1,t.length);return hh(e,n)}switch(t){case G.bool:return lh(e);case G.float4:case G.float8:case G.int2:case G.int4:case G.int8:case G.numeric:case G.oid:return dh(e);case G.json:case G.jsonb:return fh(e);case G.timestamp:return ph(e);case G.abstime:case G.date:case G.daterange:case G.int4range:case G.int8range:case G.money:case G.reltime:case G.text:case G.time:case G.timestamptz:case G.timetz:case G.tsrange:case G.tstzrange:return pi(e);default:return pi(e)}},pi=t=>t,lh=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},dh=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},fh=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch(e){return console.log(`JSON parse error: ${e}`),t}return t},hh=(t,e)=>{if(typeof t!="string")return t;const n=t.length-1,r=t[n];if(t[0]==="{"&&r==="}"){let i;const o=t.slice(1,n);try{i=JSON.parse("["+o+"]")}catch{i=o?o.split(","):[]}return i.map(a=>qc(e,a))}return t},ph=t=>typeof t=="string"?t.replace(" ","T"):t,Hc=t=>{let e=t;return e=e.replace(/^ws/i,"http"),e=e.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),e.replace(/\/+$/,"")};class js{constructor(e,n,r={},s=Wc){this.channel=e,this.event=n,this.payload=r,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,n){var r;return this._hasReceived(e)&&n((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:e,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:n}){this.recHooks.filter(r=>r.status===e).forEach(r=>r.callback(n))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var qo;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(qo||(qo={}));class Fn{constructor(e,n){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(n==null?void 0:n.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},s=>{const{onJoin:i,onLeave:o,onSync:a}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Fn.syncState(this.state,s,i,o),this.pendingDiffs.forEach(c=>{this.state=Fn.syncDiff(this.state,c,i,o)}),this.pendingDiffs=[],a()}),this.channel._on(r.diff,{},s=>{const{onJoin:i,onLeave:o,onSync:a}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=Fn.syncDiff(this.state,s,i,o),a())}),this.onJoin((s,i,o)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:i,newPresences:o})}),this.onLeave((s,i,o)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:i,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,n,r,s){const i=this.cloneDeep(e),o=this.transformState(n),a={},c={};return this.map(i,(u,l)=>{o[u]||(c[u]=l)}),this.map(o,(u,l)=>{const f=i[u];if(f){const h=l.map(y=>y.presence_ref),m=f.map(y=>y.presence_ref),v=l.filter(y=>m.indexOf(y.presence_ref)<0),g=f.filter(y=>h.indexOf(y.presence_ref)<0);v.length>0&&(a[u]=v),g.length>0&&(c[u]=g)}else a[u]=l}),this.syncDiff(i,{joins:a,leaves:c},r,s)}static syncDiff(e,n,r,s){const{joins:i,leaves:o}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return r||(r=()=>{}),s||(s=()=>{}),this.map(i,(a,c)=>{var u;const l=(u=e[a])!==null&&u!==void 0?u:[];if(e[a]=this.cloneDeep(c),l.length>0){const f=e[a].map(m=>m.presence_ref),h=l.filter(m=>f.indexOf(m.presence_ref)<0);e[a].unshift(...h)}r(a,l,c)}),this.map(o,(a,c)=>{let u=e[a];if(!u)return;const l=c.map(f=>f.presence_ref);u=u.filter(f=>l.indexOf(f.presence_ref)<0),e[a]=u,s(a,u,c),u.length===0&&delete e[a]}),e}static map(e,n){return Object.getOwnPropertyNames(e).map(r=>n(r,e[r]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((n,r)=>{const s=e[r];return"metas"in s?n[r]=s.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):n[r]=s,n},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Ho;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(Ho||(Ho={}));var Ko;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(Ko||(Ko={}));var We;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(We||(We={}));class Wi{constructor(e,n={config:{}},r){this.topic=e,this.params=n,this.socket=r,this.bindings={},this.state=ge.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new js(this,Ce.join,this.params,this.timeout),this.rejoinTimer=new Vc(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=ge.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(s=>s.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=ge.closed,this.socket._remove(this)}),this._onError(s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=ge.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=ge.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Ce.reply,{},(s,i)=>{this._trigger(this._replyEventName(i),s)}),this.presence=new Fn(this),this.broadcastEndpointURL=Hc(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(e,n=this.timeout){var r,s;if(this.socket.isConnected()||this.socket.connect(),this.joinedOnce)throw"tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance";{const{config:{broadcast:i,presence:o,private:a}}=this.params;this._onError(l=>e==null?void 0:e(We.CHANNEL_ERROR,l)),this._onClose(()=>e==null?void 0:e(We.CLOSED));const c={},u={broadcast:i,presence:o,postgres_changes:(s=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(l=>l.filter))!==null&&s!==void 0?s:[],private:a};this.socket.accessTokenValue&&(c.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:u},c)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:l})=>{var f;if(this.socket.setAuth(),l===void 0){e==null||e(We.SUBSCRIBED);return}else{const h=this.bindings.postgres_changes,m=(f=h==null?void 0:h.length)!==null&&f!==void 0?f:0,v=[];for(let g=0;g<m;g++){const y=h[g],{filter:{event:b,schema:E,table:C,filter:x}}=y,T=l&&l[g];if(T&&T.event===b&&T.schema===E&&T.table===C&&T.filter===x)v.push(Object.assign(Object.assign({},y),{id:T.id}));else{this.unsubscribe(),e==null||e(We.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=v,e&&e(We.SUBSCRIBED);return}}).receive("error",l=>{e==null||e(We.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(l).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(We.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,n={}){return await this.send({type:"presence",event:"track",payload:e},n.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,n,r){return this._on(e,n,r)}async send(e,n={}){var r,s;if(!this._canPush()&&e.type==="broadcast"){const{event:i,payload:o}=e,c={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:o,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(r=n.timeout)!==null&&r!==void 0?r:this.timeout);return await((s=u.body)===null||s===void 0?void 0:s.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var o,a,c;const u=this._push(e.type,e,n.timeout||this.timeout);e.type==="broadcast"&&!(!((c=(a=(o=this.params)===null||o===void 0?void 0:o.config)===null||a===void 0?void 0:a.broadcast)===null||c===void 0)&&c.ack)&&i("ok"),u.receive("ok",()=>i("ok")),u.receive("error",()=>i("error")),u.receive("timeout",()=>i("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=ge.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Ce.close,"leave",this._joinRef())};return this.rejoinTimer.reset(),this.joinPush.destroy(),new Promise(r=>{const s=new js(this,Ce.leave,{},e);s.receive("ok",()=>{n(),r("ok")}).receive("timeout",()=>{n(),r("timed out")}).receive("error",()=>{r("error")}),s.send(),this._canPush()||s.trigger("ok",{})})}async _fetchWithTimeout(e,n,r){const s=new AbortController,i=setTimeout(()=>s.abort(),r),o=await this.socket.fetch(e,Object.assign(Object.assign({},n),{signal:s.signal}));return clearTimeout(i),o}_push(e,n,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new js(this,e,n,r);return this._canPush()?s.send():(s.startTimeout(),this.pushBuffer.push(s)),s}_onMessage(e,n,r){return n}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,n,r){var s,i;const o=e.toLocaleLowerCase(),{close:a,error:c,leave:u,join:l}=Ce;if(r&&[a,c,u,l].indexOf(o)>=0&&r!==this._joinRef())return;let h=this._onMessage(o,n,r);if(n&&!h)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(m=>{var v,g,y;return((v=m.filter)===null||v===void 0?void 0:v.event)==="*"||((y=(g=m.filter)===null||g===void 0?void 0:g.event)===null||y===void 0?void 0:y.toLocaleLowerCase())===o}).map(m=>m.callback(h,r)):(i=this.bindings[o])===null||i===void 0||i.filter(m=>{var v,g,y,b,E,C;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in m){const x=m.id,T=(v=m.filter)===null||v===void 0?void 0:v.event;return x&&((g=n.ids)===null||g===void 0?void 0:g.includes(x))&&(T==="*"||(T==null?void 0:T.toLocaleLowerCase())===((y=n.data)===null||y===void 0?void 0:y.type.toLocaleLowerCase()))}else{const x=(E=(b=m==null?void 0:m.filter)===null||b===void 0?void 0:b.event)===null||E===void 0?void 0:E.toLocaleLowerCase();return x==="*"||x===((C=n==null?void 0:n.event)===null||C===void 0?void 0:C.toLocaleLowerCase())}else return m.type.toLocaleLowerCase()===o}).map(m=>{if(typeof h=="object"&&"ids"in h){const v=h.data,{schema:g,table:y,commit_timestamp:b,type:E,errors:C}=v;h=Object.assign(Object.assign({},{schema:g,table:y,commit_timestamp:b,eventType:E,new:{},old:{},errors:C}),this._getPayloadRecords(v))}m.callback(h,r)})}_isClosed(){return this.state===ge.closed}_isJoined(){return this.state===ge.joined}_isJoining(){return this.state===ge.joining}_isLeaving(){return this.state===ge.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,n,r){const s=e.toLocaleLowerCase(),i={type:s,filter:n,callback:r};return this.bindings[s]?this.bindings[s].push(i):this.bindings[s]=[i],this}_off(e,n){const r=e.toLocaleLowerCase();return this.bindings[r]=this.bindings[r].filter(s=>{var i;return!(((i=s.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===r&&Wi.isEqual(s.filter,n))}),this}static isEqual(e,n){if(Object.keys(e).length!==Object.keys(n).length)return!1;for(const r in e)if(e[r]!==n[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(Ce.close,{},e)}_onError(e){this._on(Ce.error,{},n=>e(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=ge.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const n={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(n.new=Vo(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(n.old=Vo(e.columns,e.old_record)),n}}const mh=()=>{},gh=typeof WebSocket<"u",yh=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class vh{constructor(e,n){var r;this.accessTokenValue=null,this.apiKey=null,this.channels=[],this.endPoint="",this.httpEndpoint="",this.headers=ih,this.params={},this.timeout=Wc,this.heartbeatIntervalMs=3e4,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.ref=0,this.logger=mh,this.conn=null,this.sendBuffer=[],this.serializer=new ch,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=i=>{let o;return i?o=i:typeof fetch>"u"?o=(...a)=>yn(async()=>{const{default:c}=await Promise.resolve().then(()=>En);return{default:c}},void 0).then(({default:c})=>c(...a)):o=fetch,(...a)=>o(...a)},this.endPoint=`${e}/${hi.websocket}`,this.httpEndpoint=Hc(e),n!=null&&n.transport?this.transport=n.transport:this.transport=null,n!=null&&n.params&&(this.params=n.params),n!=null&&n.headers&&(this.headers=Object.assign(Object.assign({},this.headers),n.headers)),n!=null&&n.timeout&&(this.timeout=n.timeout),n!=null&&n.logger&&(this.logger=n.logger),n!=null&&n.heartbeatIntervalMs&&(this.heartbeatIntervalMs=n.heartbeatIntervalMs);const s=(r=n==null?void 0:n.params)===null||r===void 0?void 0:r.apikey;if(s&&(this.accessTokenValue=s,this.apiKey=s),this.reconnectAfterMs=n!=null&&n.reconnectAfterMs?n.reconnectAfterMs:i=>[1e3,2e3,5e3,1e4][i-1]||1e4,this.encode=n!=null&&n.encode?n.encode:(i,o)=>o(JSON.stringify(i)),this.decode=n!=null&&n.decode?n.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new Vc(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(n==null?void 0:n.fetch),n!=null&&n.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(n==null?void 0:n.worker)||!1,this.workerUrl=n==null?void 0:n.workerUrl}this.accessToken=(n==null?void 0:n.accessToken)||null}connect(){if(!this.conn){if(this.transport){this.conn=new this.transport(this.endpointURL(),void 0,{headers:this.headers});return}if(gh){this.conn=new WebSocket(this.endpointURL()),this.setupConnection();return}this.conn=new bh(this.endpointURL(),void 0,{close:()=>{this.conn=null}}),yn(async()=>{const{default:e}=await import("./browser-CtZF86hy.js").then(n=>n.b);return{default:e}},__vite__mapDeps([0,1])).then(({default:e})=>{this.conn=new e(this.endpointURL(),void 0,{headers:this.headers}),this.setupConnection()})}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:oh}))}disconnect(e,n){this.conn&&(this.conn.onclose=function(){},e?this.conn.close(e,n??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset())}getChannels(){return this.channels}async removeChannel(e){const n=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const e=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.disconnect(),e}log(e,n,r){this.logger(e,n,r)}connectionState(){switch(this.conn&&this.conn.readyState){case ln.connecting:return Pt.Connecting;case ln.open:return Pt.Open;case ln.closing:return Pt.Closing;default:return Pt.Closed}}isConnected(){return this.connectionState()===Pt.Open}channel(e,n={config:{}}){const r=new Wi(`realtime:${e}`,n,this);return this.channels.push(r),r}push(e){const{topic:n,event:r,payload:s,ref:i}=e,o=()=>{this.encode(e,a=>{var c;(c=this.conn)===null||c===void 0||c.send(a)})};this.log("push",`${n} ${r} (${i})`,s),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(e=null){let n=e||this.accessToken&&await this.accessToken()||this.accessTokenValue;if(n){let r=null;try{r=JSON.parse(atob(n.split(".")[1]))}catch{}if(r&&r.exp&&!(Math.floor(Date.now()/1e3)-r.exp<0))return this.log("auth",`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${r.exp}`),Promise.reject(`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${r.exp}`);this.accessTokenValue=n,this.channels.forEach(s=>{n&&s.updateJoinPayload({access_token:n}),s.joinedOnce&&s._isJoined()&&s._push(Ce.access_token,{access_token:n})})}}async sendHeartbeat(){var e;if(this.isConnected()){if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),(e=this.conn)===null||e===void 0||e.close(ah,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.setAuth()}}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let n=this.channels.find(r=>r.topic===e&&(r._isJoined()||r._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${e}"`),n.unsubscribe())}_remove(e){this.channels=this.channels.filter(n=>n._joinRef()!==e._joinRef())}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_onConnMessage(e){this.decode(e.data,n=>{let{topic:r,event:s,payload:i,ref:o}=n;o&&o===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${i.status||""} ${r} ${s} ${o&&"("+o+")"||""}`,i),this.channels.filter(a=>a._isMember(r)).forEach(a=>a._trigger(s,i,o)),this.stateChangeCallbacks.message.forEach(a=>a(n))})}async _onConnOpen(){if(this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),!this.worker)this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs);else{this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this.workerRef.terminate()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}this.stateChangeCallbacks.open.forEach(e=>e())}_onConnClose(e){this.log("transport","close",e),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(n=>n(e))}_onConnError(e){this.log("transport",e.message),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(n=>n(e))}_triggerChanError(){this.channels.forEach(e=>e._trigger(Ce.error))}_appendParams(e,n){if(Object.keys(n).length===0)return e;const r=e.match(/\?/)?"&":"?",s=new URLSearchParams(n);return`${e}${r}${s}`}_workerObjectUrl(e){let n;if(e)n=e;else{const r=new Blob([yh],{type:"application/javascript"});n=URL.createObjectURL(r)}return n}}class bh{constructor(e,n,r){this.binaryType="arraybuffer",this.onclose=()=>{},this.onerror=()=>{},this.onmessage=()=>{},this.onopen=()=>{},this.readyState=ln.connecting,this.send=()=>{},this.url=null,this.url=e,this.close=r.close}}class Vi extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function re(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}class wh extends Vi{constructor(e,n){super(e),this.name="StorageApiError",this.status=n}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class mi extends Vi{constructor(e,n){super(e),this.name="StorageUnknownError",this.originalError=n}}var _h=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(l){try{u(r.next(l))}catch(f){o(f)}}function c(l){try{u(r.throw(l))}catch(f){o(f)}}function u(l){l.done?i(l.value):s(l.value).then(a,c)}u((r=r.apply(t,e||[])).next())})};const Kc=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>yn(async()=>{const{default:r}=await Promise.resolve().then(()=>En);return{default:r}},void 0).then(({default:r})=>r(...n)):e=fetch,(...n)=>e(...n)},xh=()=>_h(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield yn(()=>Promise.resolve().then(()=>En),void 0)).Response:Response}),gi=t=>{if(Array.isArray(t))return t.map(n=>gi(n));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([n,r])=>{const s=n.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));e[s]=gi(r)}),e};var Wt=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(l){try{u(r.next(l))}catch(f){o(f)}}function c(l){try{u(r.throw(l))}catch(f){o(f)}}function u(l){l.done?i(l.value):s(l.value).then(a,c)}u((r=r.apply(t,e||[])).next())})};const ks=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),Eh=(t,e,n)=>Wt(void 0,void 0,void 0,function*(){const r=yield xh();t instanceof r&&!(n!=null&&n.noResolveJson)?t.json().then(s=>{e(new wh(ks(s),t.status||500))}).catch(s=>{e(new mi(ks(s),s))}):e(new mi(ks(t),t))}),Sh=(t,e,n,r)=>{const s={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),r&&(s.body=JSON.stringify(r)),Object.assign(Object.assign({},s),n))};function Yn(t,e,n,r,s,i){return Wt(this,void 0,void 0,function*(){return new Promise((o,a)=>{t(n,Sh(e,r,s,i)).then(c=>{if(!c.ok)throw c;return r!=null&&r.noResolveJson?c:c.json()}).then(c=>o(c)).catch(c=>Eh(c,a,r))})})}function $r(t,e,n,r){return Wt(this,void 0,void 0,function*(){return Yn(t,"GET",e,n,r)})}function at(t,e,n,r,s){return Wt(this,void 0,void 0,function*(){return Yn(t,"POST",e,r,s,n)})}function Ch(t,e,n,r,s){return Wt(this,void 0,void 0,function*(){return Yn(t,"PUT",e,r,s,n)})}function Th(t,e,n,r){return Wt(this,void 0,void 0,function*(){return Yn(t,"HEAD",e,Object.assign(Object.assign({},n),{noResolveJson:!0}),r)})}function Gc(t,e,n,r,s){return Wt(this,void 0,void 0,function*(){return Yn(t,"DELETE",e,r,s,n)})}var ce=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(l){try{u(r.next(l))}catch(f){o(f)}}function c(l){try{u(r.throw(l))}catch(f){o(f)}}function u(l){l.done?i(l.value):s(l.value).then(a,c)}u((r=r.apply(t,e||[])).next())})};const Oh={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Go={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class Ah{constructor(e,n={},r,s){this.url=e,this.headers=n,this.bucketId=r,this.fetch=Kc(s)}uploadOrUpdate(e,n,r,s){return ce(this,void 0,void 0,function*(){try{let i;const o=Object.assign(Object.assign({},Go),s);let a=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(o.upsert)});const c=o.metadata;typeof Blob<"u"&&r instanceof Blob?(i=new FormData,i.append("cacheControl",o.cacheControl),c&&i.append("metadata",this.encodeMetadata(c)),i.append("",r)):typeof FormData<"u"&&r instanceof FormData?(i=r,i.append("cacheControl",o.cacheControl),c&&i.append("metadata",this.encodeMetadata(c))):(i=r,a["cache-control"]=`max-age=${o.cacheControl}`,a["content-type"]=o.contentType,c&&(a["x-metadata"]=this.toBase64(this.encodeMetadata(c)))),s!=null&&s.headers&&(a=Object.assign(Object.assign({},a),s.headers));const u=this._removeEmptyFolders(n),l=this._getFinalPath(u),f=yield this.fetch(`${this.url}/object/${l}`,Object.assign({method:e,body:i,headers:a},o!=null&&o.duplex?{duplex:o.duplex}:{})),h=yield f.json();return f.ok?{data:{path:u,id:h.Id,fullPath:h.Key},error:null}:{data:null,error:h}}catch(i){if(re(i))return{data:null,error:i};throw i}})}upload(e,n,r){return ce(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,n,r)})}uploadToSignedUrl(e,n,r,s){return ce(this,void 0,void 0,function*(){const i=this._removeEmptyFolders(e),o=this._getFinalPath(i),a=new URL(this.url+`/object/upload/sign/${o}`);a.searchParams.set("token",n);try{let c;const u=Object.assign({upsert:Go.upsert},s),l=Object.assign(Object.assign({},this.headers),{"x-upsert":String(u.upsert)});typeof Blob<"u"&&r instanceof Blob?(c=new FormData,c.append("cacheControl",u.cacheControl),c.append("",r)):typeof FormData<"u"&&r instanceof FormData?(c=r,c.append("cacheControl",u.cacheControl)):(c=r,l["cache-control"]=`max-age=${u.cacheControl}`,l["content-type"]=u.contentType);const f=yield this.fetch(a.toString(),{method:"PUT",body:c,headers:l}),h=yield f.json();return f.ok?{data:{path:i,fullPath:h.Key},error:null}:{data:null,error:h}}catch(c){if(re(c))return{data:null,error:c};throw c}})}createSignedUploadUrl(e,n){return ce(this,void 0,void 0,function*(){try{let r=this._getFinalPath(e);const s=Object.assign({},this.headers);n!=null&&n.upsert&&(s["x-upsert"]="true");const i=yield at(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:s}),o=new URL(this.url+i.url),a=o.searchParams.get("token");if(!a)throw new Vi("No token returned by API");return{data:{signedUrl:o.toString(),path:e,token:a},error:null}}catch(r){if(re(r))return{data:null,error:r};throw r}})}update(e,n,r){return ce(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,n,r)})}move(e,n,r){return ce(this,void 0,void 0,function*(){try{return{data:yield at(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers}),error:null}}catch(s){if(re(s))return{data:null,error:s};throw s}})}copy(e,n,r){return ce(this,void 0,void 0,function*(){try{return{data:{path:(yield at(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers})).Key},error:null}}catch(s){if(re(s))return{data:null,error:s};throw s}})}createSignedUrl(e,n,r){return ce(this,void 0,void 0,function*(){try{let s=this._getFinalPath(e),i=yield at(this.fetch,`${this.url}/object/sign/${s}`,Object.assign({expiresIn:n},r!=null&&r.transform?{transform:r.transform}:{}),{headers:this.headers});const o=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${o}`)},{data:i,error:null}}catch(s){if(re(s))return{data:null,error:s};throw s}})}createSignedUrls(e,n,r){return ce(this,void 0,void 0,function*(){try{const s=yield at(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:e},{headers:this.headers}),i=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{data:s.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${i}`):null})),error:null}}catch(s){if(re(s))return{data:null,error:s};throw s}})}download(e,n){return ce(this,void 0,void 0,function*(){const s=typeof(n==null?void 0:n.transform)<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString((n==null?void 0:n.transform)||{}),o=i?`?${i}`:"";try{const a=this._getFinalPath(e);return{data:yield(yield $r(this.fetch,`${this.url}/${s}/${a}${o}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(a){if(re(a))return{data:null,error:a};throw a}})}info(e){return ce(this,void 0,void 0,function*(){const n=this._getFinalPath(e);try{const r=yield $r(this.fetch,`${this.url}/object/info/${n}`,{headers:this.headers});return{data:gi(r),error:null}}catch(r){if(re(r))return{data:null,error:r};throw r}})}exists(e){return ce(this,void 0,void 0,function*(){const n=this._getFinalPath(e);try{return yield Th(this.fetch,`${this.url}/object/${n}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(re(r)&&r instanceof mi){const s=r.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:r}}throw r}})}getPublicUrl(e,n){const r=this._getFinalPath(e),s=[],i=n!=null&&n.download?`download=${n.download===!0?"":n.download}`:"";i!==""&&s.push(i);const a=typeof(n==null?void 0:n.transform)<"u"?"render/image":"object",c=this.transformOptsToQueryString((n==null?void 0:n.transform)||{});c!==""&&s.push(c);let u=s.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${a}/public/${r}${u}`)}}}remove(e){return ce(this,void 0,void 0,function*(){try{return{data:yield Gc(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(n){if(re(n))return{data:null,error:n};throw n}})}list(e,n,r){return ce(this,void 0,void 0,function*(){try{const s=Object.assign(Object.assign(Object.assign({},Oh),n),{prefix:e||""});return{data:yield at(this.fetch,`${this.url}/object/list/${this.bucketId}`,s,{headers:this.headers},r),error:null}}catch(s){if(re(s))return{data:null,error:s};throw s}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const n=[];return e.width&&n.push(`width=${e.width}`),e.height&&n.push(`height=${e.height}`),e.resize&&n.push(`resize=${e.resize}`),e.format&&n.push(`format=${e.format}`),e.quality&&n.push(`quality=${e.quality}`),n.join("&")}}const Ph="2.7.1",jh={"X-Client-Info":`storage-js/${Ph}`};var en=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(l){try{u(r.next(l))}catch(f){o(f)}}function c(l){try{u(r.throw(l))}catch(f){o(f)}}function u(l){l.done?i(l.value):s(l.value).then(a,c)}u((r=r.apply(t,e||[])).next())})};class kh{constructor(e,n={},r){this.url=e,this.headers=Object.assign(Object.assign({},jh),n),this.fetch=Kc(r)}listBuckets(){return en(this,void 0,void 0,function*(){try{return{data:yield $r(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(e){if(re(e))return{data:null,error:e};throw e}})}getBucket(e){return en(this,void 0,void 0,function*(){try{return{data:yield $r(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(n){if(re(n))return{data:null,error:n};throw n}})}createBucket(e,n={public:!1}){return en(this,void 0,void 0,function*(){try{return{data:yield at(this.fetch,`${this.url}/bucket`,{id:e,name:e,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(re(r))return{data:null,error:r};throw r}})}updateBucket(e,n){return en(this,void 0,void 0,function*(){try{return{data:yield Ch(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(re(r))return{data:null,error:r};throw r}})}emptyBucket(e){return en(this,void 0,void 0,function*(){try{return{data:yield at(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(re(n))return{data:null,error:n};throw n}})}deleteBucket(e){return en(this,void 0,void 0,function*(){try{return{data:yield Gc(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(n){if(re(n))return{data:null,error:n};throw n}})}}class $h extends kh{constructor(e,n={},r){super(e,n,r)}from(e){return new Ah(this.url,this.headers,e,this.fetch)}}const Rh="2.47.16";let Dn="";typeof Deno<"u"?Dn="deno":typeof document<"u"?Dn="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Dn="react-native":Dn="node";const Nh={"X-Client-Info":`supabase-js-${Dn}/${Rh}`},Ih={headers:Nh},Dh={schema:"public"},Fh={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},Lh={};var Mh=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(l){try{u(r.next(l))}catch(f){o(f)}}function c(l){try{u(r.throw(l))}catch(f){o(f)}}function u(l){l.done?i(l.value):s(l.value).then(a,c)}u((r=r.apply(t,e||[])).next())})};const Uh=t=>{let e;return t?e=t:typeof fetch>"u"?e=$c:e=fetch,(...n)=>e(...n)},Bh=()=>typeof Headers>"u"?Rc:Headers,zh=(t,e,n)=>{const r=Uh(n),s=Bh();return(i,o)=>Mh(void 0,void 0,void 0,function*(){var a;const c=(a=yield e())!==null&&a!==void 0?a:t;let u=new s(o==null?void 0:o.headers);return u.has("apikey")||u.set("apikey",t),u.has("Authorization")||u.set("Authorization",`Bearer ${c}`),r(i,Object.assign(Object.assign({},o),{headers:u}))})};var Wh=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(l){try{u(r.next(l))}catch(f){o(f)}}function c(l){try{u(r.throw(l))}catch(f){o(f)}}function u(l){l.done?i(l.value):s(l.value).then(a,c)}u((r=r.apply(t,e||[])).next())})};function Vh(t){return t.replace(/\/$/,"")}function qh(t,e){const{db:n,auth:r,realtime:s,global:i}=t,{db:o,auth:a,realtime:c,global:u}=e,l={db:Object.assign(Object.assign({},o),n),auth:Object.assign(Object.assign({},a),r),realtime:Object.assign(Object.assign({},c),s),global:Object.assign(Object.assign({},u),i),accessToken:()=>Wh(this,void 0,void 0,function*(){return""})};return t.accessToken?l.accessToken=t.accessToken:delete l.accessToken,l}const Jc="2.67.3",Hh="http://localhost:9999",Kh="supabase.auth.token",Gh={"X-Client-Info":`gotrue-js/${Jc}`},Jo=10,yi="X-Supabase-Api-Version",Qc={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}};function Jh(t){return Math.round(Date.now()/1e3)+t}function Qh(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){const e=Math.random()*16|0;return(t=="x"?e:e&3|8).toString(16)})}const ke=()=>typeof window<"u"&&typeof document<"u",Ct={tested:!1,writable:!1},Ln=()=>{if(!ke())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Ct.tested)return Ct.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),Ct.tested=!0,Ct.writable=!0}catch{Ct.tested=!0,Ct.writable=!1}return Ct.writable};function Yh(t){const e={},n=new URL(t);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((s,i)=>{e[i]=s})}catch{}return n.searchParams.forEach((r,s)=>{e[s]=r}),e}const Yc=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>yn(async()=>{const{default:r}=await Promise.resolve().then(()=>En);return{default:r}},void 0).then(({default:r})=>r(...n)):e=fetch,(...n)=>e(...n)},Zh=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",Zc=async(t,e,n)=>{await t.setItem(e,JSON.stringify(n))},ur=async(t,e)=>{const n=await t.getItem(e);if(!n)return null;try{return JSON.parse(n)}catch{return n}},lr=async(t,e)=>{await t.removeItem(e)};function Xh(t){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";let n="",r,s,i,o,a,c,u,l=0;for(t=t.replace("-","+").replace("_","/");l<t.length;)o=e.indexOf(t.charAt(l++)),a=e.indexOf(t.charAt(l++)),c=e.indexOf(t.charAt(l++)),u=e.indexOf(t.charAt(l++)),r=o<<2|a>>4,s=(a&15)<<4|c>>2,i=(c&3)<<6|u,n=n+String.fromCharCode(r),c!=64&&s!=0&&(n=n+String.fromCharCode(s)),u!=64&&i!=0&&(n=n+String.fromCharCode(i));return n}class Yr{constructor(){this.promise=new Yr.promiseConstructor((e,n)=>{this.resolve=e,this.reject=n})}}Yr.promiseConstructor=Promise;function Qo(t){const e=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}=?$|[a-z0-9_-]{2}(==)?$)$/i,n=t.split(".");if(n.length!==3)throw new Error("JWT is not valid: not a JWT structure");if(!e.test(n[1]))throw new Error("JWT is not valid: payload is not in base64url format");const r=n[1];return JSON.parse(Xh(r))}async function ep(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function tp(t,e){return new Promise((r,s)=>{(async()=>{for(let i=0;i<1/0;i++)try{const o=await t(i);if(!e(i,null,o)){r(o);return}}catch(o){if(!e(i,o)){s(o);return}}})()})}function np(t){return("0"+t.toString(16)).substr(-2)}function rp(){const e=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=n.length;let s="";for(let i=0;i<56;i++)s+=n.charAt(Math.floor(Math.random()*r));return s}return crypto.getRandomValues(e),Array.from(e,np).join("")}async function sp(t){const n=new TextEncoder().encode(t),r=await crypto.subtle.digest("SHA-256",n),s=new Uint8Array(r);return Array.from(s).map(i=>String.fromCharCode(i)).join("")}function ip(t){return btoa(t).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function op(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const n=await sp(t);return ip(n)}async function tn(t,e,n=!1){const r=rp();let s=r;n&&(s+="/PASSWORD_RECOVERY"),await Zc(t,`${e}-code-verifier`,s);const i=await op(r);return[i,r===i?"plain":"s256"]}const ap=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function cp(t){const e=t.headers.get(yi);if(!e||!e.match(ap))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}class qi extends Error{constructor(e,n,r){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=r}}function R(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class up extends qi{constructor(e,n,r){super(e,n,r),this.name="AuthApiError",this.status=n,this.code=r}}function lp(t){return R(t)&&t.name==="AuthApiError"}class Xc extends qi{constructor(e,n){super(e),this.name="AuthUnknownError",this.originalError=n}}class Vt extends qi{constructor(e,n,r,s){super(e,r,s),this.name=n,this.status=r}}class nt extends Vt{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function dp(t){return R(t)&&t.name==="AuthSessionMissingError"}class $s extends Vt{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class dr extends Vt{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class fr extends Vt{constructor(e,n=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function fp(t){return R(t)&&t.name==="AuthImplicitGrantRedirectError"}class Yo extends Vt{constructor(e,n=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class vi extends Vt{constructor(e,n){super(e,"AuthRetryableFetchError",n,void 0)}}function Rs(t){return R(t)&&t.name==="AuthRetryableFetchError"}class Zo extends Vt{constructor(e,n,r){super(e,"AuthWeakPasswordError",n,"weak_password"),this.reasons=r}}var hp=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n};const Ot=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),pp=[502,503,504];async function Xo(t){var e;if(!Zh(t))throw new vi(Ot(t),0);if(pp.includes(t.status))throw new vi(Ot(t),t.status);let n;try{n=await t.json()}catch(i){throw new Xc(Ot(i),i)}let r;const s=cp(t);if(s&&s.getTime()>=Qc["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?r=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(r=n.error_code),r){if(r==="weak_password")throw new Zo(Ot(n),t.status,((e=n.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(r==="session_not_found")throw new nt}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((i,o)=>i&&typeof o=="string",!0))throw new Zo(Ot(n),t.status,n.weak_password.reasons);throw new up(Ot(n),t.status||500,r)}const mp=(t,e,n,r)=>{const s={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),s.body=JSON.stringify(r),Object.assign(Object.assign({},s),n))};async function L(t,e,n,r){var s;const i=Object.assign({},r==null?void 0:r.headers);i[yi]||(i[yi]=Qc["2024-01-01"].name),r!=null&&r.jwt&&(i.Authorization=`Bearer ${r.jwt}`);const o=(s=r==null?void 0:r.query)!==null&&s!==void 0?s:{};r!=null&&r.redirectTo&&(o.redirect_to=r.redirectTo);const a=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",c=await gp(t,e,n+a,{headers:i,noResolveJson:r==null?void 0:r.noResolveJson},{},r==null?void 0:r.body);return r!=null&&r.xform?r==null?void 0:r.xform(c):{data:Object.assign({},c),error:null}}async function gp(t,e,n,r,s,i){const o=mp(e,r,s,i);let a;try{a=await t(n,Object.assign({},o))}catch(c){throw console.error(c),new vi(Ot(c),0)}if(a.ok||await Xo(a),r!=null&&r.noResolveJson)return a;try{return await a.json()}catch(c){await Xo(c)}}function rt(t){var e;let n=null;wp(t)&&(n=Object.assign({},t),t.expires_at||(n.expires_at=Jh(t.expires_in)));const r=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:n,user:r},error:null}}function ea(t){const e=rt(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((n,r)=>n&&typeof r=="string",!0)&&(e.data.weak_password=t.weak_password),e}function ct(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function yp(t){return{data:t,error:null}}function vp(t){const{action_link:e,email_otp:n,hashed_token:r,redirect_to:s,verification_type:i}=t,o=hp(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),a={action_link:e,email_otp:n,hashed_token:r,redirect_to:s,verification_type:i},c=Object.assign({},o);return{data:{properties:a,user:c},error:null}}function bp(t){return t}function wp(t){return t.access_token&&t.refresh_token&&t.expires_in}var _p=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n};class xp{constructor({url:e="",headers:n={},fetch:r}){this.url=e,this.headers=n,this.fetch=Yc(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(e,n="global"){try{return await L(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(r){if(R(r))return{data:null,error:r};throw r}}async inviteUserByEmail(e,n={}){try{return await L(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:ct})}catch(r){if(R(r))return{data:{user:null},error:r};throw r}}async generateLink(e){try{const{options:n}=e,r=_p(e,["options"]),s=Object.assign(Object.assign({},r),n);return"newEmail"in r&&(s.new_email=r==null?void 0:r.newEmail,delete s.newEmail),await L(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:vp,redirectTo:n==null?void 0:n.redirectTo})}catch(n){if(R(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(e){try{return await L(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:ct})}catch(n){if(R(n))return{data:{user:null},error:n};throw n}}async listUsers(e){var n,r,s,i,o,a,c;try{const u={nextPage:null,lastPage:0,total:0},l=await L(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=e==null?void 0:e.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(i=(s=e==null?void 0:e.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:bp});if(l.error)throw l.error;const f=await l.json(),h=(o=l.headers.get("x-total-count"))!==null&&o!==void 0?o:0,m=(c=(a=l.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&c!==void 0?c:[];return m.length>0&&(m.forEach(v=>{const g=parseInt(v.split(";")[0].split("=")[1].substring(0,1)),y=JSON.parse(v.split(";")[1].split("=")[1]);u[`${y}Page`]=g}),u.total=parseInt(h)),{data:Object.assign(Object.assign({},f),u),error:null}}catch(u){if(R(u))return{data:{users:[]},error:u};throw u}}async getUserById(e){try{return await L(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:ct})}catch(n){if(R(n))return{data:{user:null},error:n};throw n}}async updateUserById(e,n){try{return await L(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:n,headers:this.headers,xform:ct})}catch(r){if(R(r))return{data:{user:null},error:r};throw r}}async deleteUser(e,n=!1){try{return await L(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:n},xform:ct})}catch(r){if(R(r))return{data:{user:null},error:r};throw r}}async _listFactors(e){try{const{data:n,error:r}=await L(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:n,error:r}}catch(n){if(R(n))return{data:null,error:n};throw n}}async _deleteFactor(e){try{return{data:await L(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(n){if(R(n))return{data:null,error:n};throw n}}}const Ep={getItem:t=>Ln()?globalThis.localStorage.getItem(t):null,setItem:(t,e)=>{Ln()&&globalThis.localStorage.setItem(t,e)},removeItem:t=>{Ln()&&globalThis.localStorage.removeItem(t)}};function ta(t={}){return{getItem:e=>t[e]||null,setItem:(e,n)=>{t[e]=n},removeItem:e=>{delete t[e]}}}function Sp(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const nn={debug:!!(globalThis&&Ln()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class eu extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class Cp extends eu{}async function Tp(t,e,n){nn.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const r=new globalThis.AbortController;return e>0&&setTimeout(()=>{r.abort(),nn.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async s=>{if(s){nn.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,s.name);try{return await n()}finally{nn.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,s.name)}}else{if(e===0)throw nn.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new Cp(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(nn.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}Sp();const Op={url:Hh,storageKey:Kh,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:Gh,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1},Rn=30*1e3,na=3;async function ra(t,e,n){return await n()}class Bn{constructor(e){var n,r;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Bn.nextInstanceID,Bn.nextInstanceID+=1,this.instanceID>0&&ke()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const s=Object.assign(Object.assign({},Op),e);if(this.logDebugMessages=!!s.debug,typeof s.debug=="function"&&(this.logger=s.debug),this.persistSession=s.persistSession,this.storageKey=s.storageKey,this.autoRefreshToken=s.autoRefreshToken,this.admin=new xp({url:s.url,headers:s.headers,fetch:s.fetch}),this.url=s.url,this.headers=s.headers,this.fetch=Yc(s.fetch),this.lock=s.lock||ra,this.detectSessionInUrl=s.detectSessionInUrl,this.flowType=s.flowType,this.hasCustomAuthorizationHeader=s.hasCustomAuthorizationHeader,s.lock?this.lock=s.lock:ke()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=Tp:this.lock=ra,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?s.storage?this.storage=s.storage:Ln()?this.storage=Ep:(this.memoryStorage={},this.storage=ta(this.memoryStorage)):(this.memoryStorage={},this.storage=ta(this.memoryStorage)),ke()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(i){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",i)}(r=this.broadcastChannel)===null||r===void 0||r.addEventListener("message",async i=>{this._debug("received broadcast notification from other tab or client",i),await this._notifyAllSubscribers(i.data.event,i.data.session,!1)})}this.initialize()}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${Jc}) ${new Date().toISOString()}`,...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{const n=Yh(window.location.href);let r="none";if(this._isImplicitGrantCallback(n)?r="implicit":await this._isPKCECallback(n)&&(r="pkce"),ke()&&this.detectSessionInUrl&&r!=="none"){const{data:s,error:i}=await this._getSessionFromURL(n,r);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),fp(i)){const c=(e=i.details)===null||e===void 0?void 0:e.code;if(c==="identity_already_exists"||c==="identity_not_found"||c==="single_identity_not_deletable")return{error:i}}return await this._removeSession(),{error:i}}const{session:o,redirectType:a}=s;return this._debug("#_initialize()","detected session in URL",o,"redirect type",a),await this._saveSession(o),setTimeout(async()=>{a==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return R(n)?{error:n}:{error:new Xc("Unexpected error during initialization",n)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var n,r,s;try{const i=await L(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(n=e==null?void 0:e.options)===null||n===void 0?void 0:n.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(s=e==null?void 0:e.options)===null||s===void 0?void 0:s.captchaToken}},xform:rt}),{data:o,error:a}=i;if(a||!o)return{data:{user:null,session:null},error:a};const c=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(i){if(R(i))return{data:{user:null,session:null},error:i};throw i}}async signUp(e){var n,r,s;try{let i;if("email"in e){const{email:l,password:f,options:h}=e;let m=null,v=null;this.flowType==="pkce"&&([m,v]=await tn(this.storage,this.storageKey)),i=await L(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:h==null?void 0:h.emailRedirectTo,body:{email:l,password:f,data:(n=h==null?void 0:h.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken},code_challenge:m,code_challenge_method:v},xform:rt})}else if("phone"in e){const{phone:l,password:f,options:h}=e;i=await L(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:l,password:f,data:(r=h==null?void 0:h.data)!==null&&r!==void 0?r:{},channel:(s=h==null?void 0:h.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},xform:rt})}else throw new dr("You must provide either an email or phone number and a password");const{data:o,error:a}=i;if(a||!o)return{data:{user:null,session:null},error:a};const c=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(i){if(R(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithPassword(e){try{let n;if("email"in e){const{email:i,password:o,options:a}=e;n=await L(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:ea})}else if("phone"in e){const{phone:i,password:o,options:a}=e;n=await L(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:ea})}else throw new dr("You must provide either an email or phone number and a password");const{data:r,error:s}=n;return s?{data:{user:null,session:null},error:s}:!r||!r.session||!r.user?{data:{user:null,session:null},error:new $s}:(r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),{data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:s})}catch(n){if(R(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOAuth(e){var n,r,s,i;return await this._handleProviderSignIn(e.provider,{redirectTo:(n=e.options)===null||n===void 0?void 0:n.redirectTo,scopes:(r=e.options)===null||r===void 0?void 0:r.scopes,queryParams:(s=e.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(i=e.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async _exchangeCodeForSession(e){const n=await ur(this.storage,`${this.storageKey}-code-verifier`),[r,s]=(n??"").split("/");try{const{data:i,error:o}=await L(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:r},xform:rt});if(await lr(this.storage,`${this.storageKey}-code-verifier`),o)throw o;return!i||!i.session||!i.user?{data:{user:null,session:null,redirectType:null},error:new $s}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign(Object.assign({},i),{redirectType:s??null}),error:o})}catch(i){if(R(i))return{data:{user:null,session:null,redirectType:null},error:i};throw i}}async signInWithIdToken(e){try{const{options:n,provider:r,token:s,access_token:i,nonce:o}=e,a=await L(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:s,access_token:i,nonce:o,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},xform:rt}),{data:c,error:u}=a;return u?{data:{user:null,session:null},error:u}:!c||!c.session||!c.user?{data:{user:null,session:null},error:new $s}:(c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),{data:c,error:u})}catch(n){if(R(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOtp(e){var n,r,s,i,o;try{if("email"in e){const{email:a,options:c}=e;let u=null,l=null;this.flowType==="pkce"&&([u,l]=await tn(this.storage,this.storageKey));const{error:f}=await L(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:a,data:(n=c==null?void 0:c.data)!==null&&n!==void 0?n:{},create_user:(r=c==null?void 0:c.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},code_challenge:u,code_challenge_method:l},redirectTo:c==null?void 0:c.emailRedirectTo});return{data:{user:null,session:null},error:f}}if("phone"in e){const{phone:a,options:c}=e,{data:u,error:l}=await L(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:a,data:(s=c==null?void 0:c.data)!==null&&s!==void 0?s:{},create_user:(i=c==null?void 0:c.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},channel:(o=c==null?void 0:c.channel)!==null&&o!==void 0?o:"sms"}});return{data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:l}}throw new dr("You must provide either an email or phone number.")}catch(a){if(R(a))return{data:{user:null,session:null},error:a};throw a}}async verifyOtp(e){var n,r;try{let s,i;"options"in e&&(s=(n=e.options)===null||n===void 0?void 0:n.redirectTo,i=(r=e.options)===null||r===void 0?void 0:r.captchaToken);const{data:o,error:a}=await L(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:i}}),redirectTo:s,xform:rt});if(a)throw a;if(!o)throw new Error("An error occurred on token verification.");const c=o.session,u=o.user;return c!=null&&c.access_token&&(await this._saveSession(c),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(s){if(R(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithSSO(e){var n,r,s;try{let i=null,o=null;return this.flowType==="pkce"&&([i,o]=await tn(this.storage,this.storageKey)),await L(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(r=(n=e.options)===null||n===void 0?void 0:n.redirectTo)!==null&&r!==void 0?r:void 0}),!((s=e==null?void 0:e.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:i,code_challenge_method:o}),headers:this.headers,xform:yp})}catch(i){if(R(i))return{data:null,error:i};throw i}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:n},error:r}=e;if(r)throw r;if(!n)throw new nt;const{error:s}=await L(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return{data:{user:null,session:null},error:s}})}catch(e){if(R(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{const n=`${this.url}/resend`;if("email"in e){const{email:r,type:s,options:i}=e,{error:o}=await L(this.fetch,"POST",n,{headers:this.headers,body:{email:r,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return{data:{user:null,session:null},error:o}}else if("phone"in e){const{phone:r,type:s,options:i}=e,{data:o,error:a}=await L(this.fetch,"POST",n,{headers:this.headers,body:{phone:r,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return{data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:a}}throw new dr("You must provide either an email or phone number and a type")}catch(n){if(R(n))return{data:{user:null,session:null},error:n};throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(e,n){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await r,await n()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=n();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await e(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const n=await ur(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?e=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const r=e.expires_at?e.expires_at<=Date.now()/1e3:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",e.expires_at),!r){if(this.storage.isServer){let o=this.suppressGetSessionWarning;e=new Proxy(e,{get:(c,u,l)=>(!o&&u==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),o=!0,this.suppressGetSessionWarning=!0),Reflect.get(c,u,l))})}return{data:{session:e},error:null}}const{session:s,error:i}=await this._callRefreshToken(e.refresh_token);return i?{data:{session:null},error:i}:{data:{session:s},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await L(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:ct}):await this._useSession(async n=>{var r,s,i;const{data:o,error:a}=n;if(a)throw a;return!(!((r=o.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new nt}:await L(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(s=o.session)===null||s===void 0?void 0:s.access_token)!==null&&i!==void 0?i:void 0,xform:ct})})}catch(n){if(R(n))return dp(n)&&(await this._removeSession(),await lr(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:n};throw n}}async updateUser(e,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,n))}async _updateUser(e,n={}){try{return await this._useSession(async r=>{const{data:s,error:i}=r;if(i)throw i;if(!s.session)throw new nt;const o=s.session;let a=null,c=null;this.flowType==="pkce"&&e.email!=null&&([a,c]=await tn(this.storage,this.storageKey));const{data:u,error:l}=await L(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n==null?void 0:n.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:a,code_challenge_method:c}),jwt:o.access_token,xform:ct});if(l)throw l;return o.user=u.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),{data:{user:o.user},error:null}})}catch(r){if(R(r))return{data:{user:null},error:r};throw r}}_decodeJWT(e){return Qo(e)}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new nt;const n=Date.now()/1e3;let r=n,s=!0,i=null;const o=Qo(e.access_token);if(o.exp&&(r=o.exp,s=r<=n),s){const{session:a,error:c}=await this._callRefreshToken(e.refresh_token);if(c)return{data:{user:null,session:null},error:c};if(!a)return{data:{user:null,session:null},error:null};i=a}else{const{data:a,error:c}=await this._getUser(e.access_token);if(c)throw c;i={access_token:e.access_token,refresh_token:e.refresh_token,user:a.user,token_type:"bearer",expires_in:r-n,expires_at:r},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return{data:{user:i.user,session:i},error:null}}catch(n){if(R(n))return{data:{session:null,user:null},error:n};throw n}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async n=>{var r;if(!e){const{data:o,error:a}=n;if(a)throw a;e=(r=o.session)!==null&&r!==void 0?r:void 0}if(!(e!=null&&e.refresh_token))throw new nt;const{session:s,error:i}=await this._callRefreshToken(e.refresh_token);return i?{data:{user:null,session:null},error:i}:s?{data:{user:s.user,session:s},error:null}:{data:{user:null,session:null},error:null}})}catch(n){if(R(n))return{data:{user:null,session:null},error:n};throw n}}async _getSessionFromURL(e,n){try{if(!ke())throw new fr("No browser detected.");if(e.error||e.error_description||e.error_code)throw new fr(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new Yo("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new fr("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new Yo("No code detected.");const{data:E,error:C}=await this._exchangeCodeForSession(e.code);if(C)throw C;const x=new URL(window.location.href);return x.searchParams.delete("code"),window.history.replaceState(window.history.state,"",x.toString()),{data:{session:E.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:s,access_token:i,refresh_token:o,expires_in:a,expires_at:c,token_type:u}=e;if(!i||!a||!o||!u)throw new fr("No session defined in URL");const l=Math.round(Date.now()/1e3),f=parseInt(a);let h=l+f;c&&(h=parseInt(c));const m=h-l;m*1e3<=Rn&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${m}s, should have been closer to ${f}s`);const v=h-f;l-v>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",v,h,l):l-v<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",v,h,l);const{data:g,error:y}=await this._getUser(i);if(y)throw y;const b={provider_token:r,provider_refresh_token:s,access_token:i,expires_in:f,expires_at:h,refresh_token:o,token_type:u,user:g.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:b,redirectType:e.type},error:null}}catch(r){if(R(r))return{data:{session:null,redirectType:null},error:r};throw r}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const n=await ur(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&n)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async n=>{var r;const{data:s,error:i}=n;if(i)return{error:i};const o=(r=s.session)===null||r===void 0?void 0:r.access_token;if(o){const{error:a}=await this.admin.signOut(o,e);if(a&&!(lp(a)&&(a.status===404||a.status===401||a.status===403)))return{error:a}}return e!=="others"&&(await this._removeSession(),await lr(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(e){const n=Qh(),r={id:n,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,r),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:r}}}async _emitInitialSession(e){return await this._useSession(async n=>{var r,s;try{const{data:{session:i},error:o}=n;if(o)throw o;await((r=this.stateChangeEmitters.get(e))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",e,"session",i)}catch(i){await((s=this.stateChangeEmitters.get(e))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",i),console.error(i)}})}async resetPasswordForEmail(e,n={}){let r=null,s=null;this.flowType==="pkce"&&([r,s]=await tn(this.storage,this.storageKey,!0));try{return await L(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:r,code_challenge_method:s,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(i){if(R(i))return{data:null,error:i};throw i}}async getUserIdentities(){var e;try{const{data:n,error:r}=await this.getUser();if(r)throw r;return{data:{identities:(e=n.user.identities)!==null&&e!==void 0?e:[]},error:null}}catch(n){if(R(n))return{data:null,error:n};throw n}}async linkIdentity(e){var n;try{const{data:r,error:s}=await this._useSession(async i=>{var o,a,c,u,l;const{data:f,error:h}=i;if(h)throw h;const m=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(o=e.options)===null||o===void 0?void 0:o.redirectTo,scopes:(a=e.options)===null||a===void 0?void 0:a.scopes,queryParams:(c=e.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:!0});return await L(this.fetch,"GET",m,{headers:this.headers,jwt:(l=(u=f.session)===null||u===void 0?void 0:u.access_token)!==null&&l!==void 0?l:void 0})});if(s)throw s;return ke()&&!(!((n=e.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(r==null?void 0:r.url),{data:{provider:e.provider,url:r==null?void 0:r.url},error:null}}catch(r){if(R(r))return{data:{provider:e.provider,url:null},error:r};throw r}}async unlinkIdentity(e){try{return await this._useSession(async n=>{var r,s;const{data:i,error:o}=n;if(o)throw o;return await L(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(s=(r=i.session)===null||r===void 0?void 0:r.access_token)!==null&&s!==void 0?s:void 0})})}catch(n){if(R(n))return{data:null,error:n};throw n}}async _refreshAccessToken(e){const n=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(n,"begin");try{const r=Date.now();return await tp(async s=>(s>0&&await ep(200*Math.pow(2,s-1)),this._debug(n,"refreshing attempt",s),await L(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:rt})),(s,i)=>{const o=200*Math.pow(2,s);return i&&Rs(i)&&Date.now()+o-r<Rn})}catch(r){if(this._debug(n,"error",r),R(r))return{data:{session:null,user:null},error:r};throw r}finally{this._debug(n,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,n){const r=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",n,"url",r),ke()&&!n.skipBrowserRedirect&&window.location.assign(r),{data:{provider:e,url:r},error:null}}async _recoverAndRefresh(){var e;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const r=await ur(this.storage,this.storageKey);if(this._debug(n,"session from storage",r),!this._isValidSession(r)){this._debug(n,"session is not valid"),r!==null&&await this._removeSession();return}const s=Math.round(Date.now()/1e3),i=((e=r.expires_at)!==null&&e!==void 0?e:1/0)<s+Jo;if(this._debug(n,`session has${i?"":" not"} expired with margin of ${Jo}s`),i){if(this.autoRefreshToken&&r.refresh_token){const{error:o}=await this._callRefreshToken(r.refresh_token);o&&(console.error(o),Rs(o)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",r)}catch(r){this._debug(n,"error",r),console.error(r);return}finally{this._debug(n,"end")}}async _callRefreshToken(e){var n,r;if(!e)throw new nt;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new Yr;const{data:i,error:o}=await this._refreshAccessToken(e);if(o)throw o;if(!i.session)throw new nt;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const a={session:i.session,error:null};return this.refreshingDeferred.resolve(a),a}catch(i){if(this._debug(s,"error",i),R(i)){const o={session:null,error:i};return Rs(i)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(o),o}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(i),i}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(e,n,r=!0){const s=`#_notifyAllSubscribers(${e})`;this._debug(s,"begin",n,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:e,session:n});const i=[],o=Array.from(this.stateChangeEmitters.values()).map(async a=>{try{await a.callback(e,n)}catch(c){i.push(c)}});if(await Promise.all(o),i.length>0){for(let a=0;a<i.length;a+=1)console.error(i[a]);throw i[0]}}finally{this._debug(s,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0,await Zc(this.storage,this.storageKey,e)}async _removeSession(){this._debug("#_removeSession()"),await lr(this.storage,this.storageKey),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&ke()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),Rn);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async n=>{const{data:{session:r}}=n;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((r.expires_at*1e3-e)/Rn);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${Rn}ms, refresh threshold is ${na} ticks`),s<=na&&await this._callRefreshToken(r.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof eu)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!ke()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const n=`#_onVisibilityChanged(${e})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,n,r){const s=[`provider=${encodeURIComponent(n)}`];if(r!=null&&r.redirectTo&&s.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r!=null&&r.scopes&&s.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[i,o]=await tn(this.storage,this.storageKey),a=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(o)}`});s.push(a.toString())}if(r!=null&&r.queryParams){const i=new URLSearchParams(r.queryParams);s.push(i.toString())}return r!=null&&r.skipBrowserRedirect&&s.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${e}?${s.join("&")}`}async _unenroll(e){try{return await this._useSession(async n=>{var r;const{data:s,error:i}=n;return i?{data:null,error:i}:await L(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(R(n))return{data:null,error:n};throw n}}async _enroll(e){try{return await this._useSession(async n=>{var r,s;const{data:i,error:o}=n;if(o)return{data:null,error:o};const a=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:{issuer:e.issuer}),{data:c,error:u}=await L(this.fetch,"POST",`${this.url}/factors`,{body:a,headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token});return u?{data:null,error:u}:(e.factorType==="totp"&&(!((s=c==null?void 0:c.totp)===null||s===void 0)&&s.qr_code)&&(c.totp.qr_code=`data:image/svg+xml;utf-8,${c.totp.qr_code}`),{data:c,error:null})})}catch(n){if(R(n))return{data:null,error:n};throw n}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:s,error:i}=n;if(i)return{data:null,error:i};const{data:o,error:a}=await L(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:{code:e.code,challenge_id:e.challengeId},headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token});return a?{data:null,error:a}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+o.expires_in},o)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",o),{data:o,error:a})})}catch(n){if(R(n))return{data:null,error:n};throw n}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:s,error:i}=n;return i?{data:null,error:i}:await L(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:{channel:e.channel},headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(R(n))return{data:null,error:n};throw n}})}async _challengeAndVerify(e){const{data:n,error:r}=await this._challenge({factorId:e.factorId});return r?{data:null,error:r}:await this._verify({factorId:e.factorId,challengeId:n.id,code:e.code})}async _listFactors(){const{data:{user:e},error:n}=await this.getUser();if(n)return{data:null,error:n};const r=(e==null?void 0:e.factors)||[],s=r.filter(o=>o.factor_type==="totp"&&o.status==="verified"),i=r.filter(o=>o.factor_type==="phone"&&o.status==="verified");return{data:{all:r,totp:s,phone:i},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async e=>{var n,r;const{data:{session:s},error:i}=e;if(i)return{data:null,error:i};if(!s)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const o=this._decodeJWT(s.access_token);let a=null;o.aal&&(a=o.aal);let c=a;((r=(n=s.user.factors)===null||n===void 0?void 0:n.filter(f=>f.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(c="aal2");const l=o.amr||[];return{data:{currentLevel:a,nextLevel:c,currentAuthenticationMethods:l},error:null}}))}}Bn.nextInstanceID=0;const Ap=Bn;class Pp extends Ap{constructor(e){super(e)}}var jp=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(l){try{u(r.next(l))}catch(f){o(f)}}function c(l){try{u(r.throw(l))}catch(f){o(f)}}function u(l){l.done?i(l.value):s(l.value).then(a,c)}u((r=r.apply(t,e||[])).next())})};class kp{constructor(e,n,r){var s,i,o;if(this.supabaseUrl=e,this.supabaseKey=n,!e)throw new Error("supabaseUrl is required.");if(!n)throw new Error("supabaseKey is required.");const a=Vh(e);this.realtimeUrl=`${a}/realtime/v1`.replace(/^http/i,"ws"),this.authUrl=`${a}/auth/v1`,this.storageUrl=`${a}/storage/v1`,this.functionsUrl=`${a}/functions/v1`;const c=`sb-${new URL(this.authUrl).hostname.split(".")[0]}-auth-token`,u={db:Dh,realtime:Lh,auth:Object.assign(Object.assign({},Fh),{storageKey:c}),global:Ih},l=qh(r??{},u);this.storageKey=(s=l.auth.storageKey)!==null&&s!==void 0?s:"",this.headers=(i=l.global.headers)!==null&&i!==void 0?i:{},l.accessToken?(this.accessToken=l.accessToken,this.auth=new Proxy({},{get:(f,h)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(h)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=l.auth)!==null&&o!==void 0?o:{},this.headers,l.global.fetch),this.fetch=zh(n,this._getAccessToken.bind(this),l.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},l.realtime)),this.rest=new rh(`${a}/rest/v1`,{headers:this.headers,schema:l.db.schema,fetch:this.fetch}),l.accessToken||this._listenForAuthEvents()}get functions(){return new Rf(this.functionsUrl,{headers:this.headers,customFetch:this.fetch})}get storage(){return new $h(this.storageUrl,this.headers,this.fetch)}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,n={},r={}){return this.rest.rpc(e,n,r)}channel(e,n={config:{}}){return this.realtime.channel(e,n)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var e,n;return jp(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:r}=yield this.auth.getSession();return(n=(e=r.session)===null||e===void 0?void 0:e.access_token)!==null&&n!==void 0?n:null})}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:n,detectSessionInUrl:r,storage:s,storageKey:i,flowType:o,lock:a,debug:c},u,l){const f={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new Pp({url:this.authUrl,headers:Object.assign(Object.assign({},f),u),storageKey:i,autoRefreshToken:e,persistSession:n,detectSessionInUrl:r,storage:s,flowType:o,lock:a,debug:c,fetch:l,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(e){return new vh(this.realtimeUrl,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,r)=>{this._handleTokenChanged(n,"CLIENT",r==null?void 0:r.access_token)})}_handleTokenChanged(e,n,r){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==r?this.changedAccessToken=r:e==="SIGNED_OUT"&&(this.realtime.setAuth(),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const $p=(t,e,n)=>new kp(t,e,n),Rp="https://rhibyqyxpkcouaxhicgr.supabase.co",Np="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InJoaWJ5cXl4cGtjb3VheGhpY2dyIiwicm9sZSI6ImFub24iLCJpYXQiOjE3MzY3NjQwMDAsImV4cCI6MjA1MjM0MDAwMH0.La6DhxuaSSOoEvwiTHh6AL0geOJliwPzg3l7dw9ZBME",Ip=async(t,e)=>(rf(),await fetch(t,e)),Pe=$p(Rp,Np,{global:{fetch:Ip}}),{add:Dp,update:Fp,delete:Lp}=Jn.success.appointment,{conflict:Mp}=Jn.error.appointment,eE=async({search:t,date:e},n)=>{let r=Pe.from("Appointments").select("*, patient:Patients(*)");return e&&(r=r.eq("date",e)),t.trim().length>0&&(r=r.ilike("Patients.name",`%${t}%`)),n?await r.abortSignal(n):await r},Up=async t=>await Pe.from("Appointments").select("*, patient:Patients(*)").eq("id",t),tE=async()=>{const e=new Date().toLocaleDateString("en-CA");return await Pe.from("Appointments").select("*, patient:Patients(*)").eq("date",e)},Bp=async t=>{const{status:e,error:n}=await Pe.from("Appointments").insert([t]).select("*");n?e===409?pe.error(Mp):pe.error(zt):pe.success(Dp)},zp=async t=>{const{patient:e,...n}=t,{error:r}=await Pe.from("Appointments").update(n).eq("id",t.id).select("*");r?pe.error(zt):pe.success(Fp)},Wp=async t=>{const{error:e}=await Pe.from("Appointments").delete().eq("id",t).select("*");e?pe.error(zt):pe.success(Lp)};function nE({children:t,className:e}){return p.jsx("div",{className:M("grid auto-rows-max grid-cols-[repeat(auto-fill,minmax(19rem,1fr))] max-sm:py-0 p-2 gap-5 overflow-auto",e),children:t})}function sa(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function Vp(...t){return e=>{let n=!1;const r=t.map(s=>{const i=sa(s,e);return!n&&typeof i=="function"&&(n=!0),i});if(n)return()=>{for(let s=0;s<r.length;s++){const i=r[s];typeof i=="function"?i():sa(t[s],null)}}}}function Zn(t){const e=qp(t),n=d.forwardRef((r,s)=>{const{children:i,...o}=r,a=d.Children.toArray(i),c=a.find(Kp);if(c){const u=c.props.children,l=a.map(f=>f===c?d.Children.count(u)>1?d.Children.only(null):d.isValidElement(u)?u.props.children:null:f);return p.jsx(e,{...o,ref:s,children:d.isValidElement(u)?d.cloneElement(u,void 0,l):null})}return p.jsx(e,{...o,ref:s,children:i})});return n.displayName=`${t}.Slot`,n}var rE=Zn("Slot");function qp(t){const e=d.forwardRef((n,r)=>{const{children:s,...i}=n;if(d.isValidElement(s)){const o=Jp(s),a=Gp(i,s.props);return s.type!==d.Fragment&&(a.ref=r?Vp(r,o):o),d.cloneElement(s,a)}return d.Children.count(s)>1?d.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var Hp=Symbol("radix.slottable");function Kp(t){return d.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===Hp}function Gp(t,e){const n={...e};for(const r in e){const s=t[r],i=e[r];/^on[A-Z]/.test(r)?s&&i?n[r]=(...a)=>{i(...a),s(...a)}:s&&(n[r]=s):r==="style"?n[r]={...s,...i}:r==="className"&&(n[r]=[s,i].filter(Boolean).join(" "))}return{...t,...n}}function Jp(t){var r,s;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}const ia=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,oa=sf,Qp=(t,e)=>n=>{var r;if((e==null?void 0:e.variants)==null)return oa(t,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:s,defaultVariants:i}=e,o=Object.keys(s).map(u=>{const l=n==null?void 0:n[u],f=i==null?void 0:i[u];if(l===null)return null;const h=ia(l)||ia(f);return s[u][h]}),a=n&&Object.entries(n).reduce((u,l)=>{let[f,h]=l;return h===void 0||(u[f]=h),u},{}),c=e==null||(r=e.compoundVariants)===null||r===void 0?void 0:r.reduce((u,l)=>{let{class:f,className:h,...m}=l;return Object.entries(m).every(v=>{let[g,y]=v;return Array.isArray(y)?y.includes({...i,...a}[g]):{...i,...a}[g]===y})?[...u,f,h]:u},[]);return oa(t,o,c,n==null?void 0:n.class,n==null?void 0:n.className)},tu=d.forwardRef(({className:t,type:e,...n},r)=>p.jsx("input",{type:e,className:M(" w-full rounded-md  bg-background px-3 py-1 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:r,...n}));tu.displayName="Input";function ht(t,e,{checkForDefaultPrevented:n=!0}={}){return function(s){if(t==null||t(s),n===!1||!s.defaultPrevented)return e==null?void 0:e(s)}}function aa(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function Yp(...t){return e=>{let n=!1;const r=t.map(s=>{const i=aa(s,e);return!n&&typeof i=="function"&&(n=!0),i});if(n)return()=>{for(let s=0;s<r.length;s++){const i=r[s];typeof i=="function"?i():aa(t[s],null)}}}}function xt(...t){return d.useCallback(Yp(...t),t)}function nu(t,e=[]){let n=[];function r(i,o){const a=d.createContext(o),c=n.length;n=[...n,o];const u=f=>{var b;const{scope:h,children:m,...v}=f,g=((b=h==null?void 0:h[t])==null?void 0:b[c])||a,y=d.useMemo(()=>v,Object.values(v));return p.jsx(g.Provider,{value:y,children:m})};u.displayName=i+"Provider";function l(f,h){var g;const m=((g=h==null?void 0:h[t])==null?void 0:g[c])||a,v=d.useContext(m);if(v)return v;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${i}\``)}return[u,l]}const s=()=>{const i=n.map(o=>d.createContext(o));return function(a){const c=(a==null?void 0:a[t])||i;return d.useMemo(()=>({[`__scope${t}`]:{...a,[t]:c}}),[a,c])}};return s.scopeName=t,[r,Zp(s,...e)]}function Zp(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const o=r.reduce((a,{useScope:c,scopeName:u})=>{const f=c(i)[`__scope${u}`];return{...a,...f}},{});return d.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}var Xp=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],Je=Xp.reduce((t,e)=>{const n=Zn(`Primitive.${e}`),r=d.forwardRef((s,i)=>{const{asChild:o,...a}=s,c=o?n:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),p.jsx(c,{...a,ref:i})});return r.displayName=`Primitive.${e}`,{...t,[e]:r}},{});function em(t,e){t&&zr.flushSync(()=>t.dispatchEvent(e))}function yt(t){const e=d.useRef(t);return d.useEffect(()=>{e.current=t}),d.useMemo(()=>(...n)=>{var r;return(r=e.current)==null?void 0:r.call(e,...n)},[])}function tm(t,e=globalThis==null?void 0:globalThis.document){const n=yt(t);d.useEffect(()=>{const r=s=>{s.key==="Escape"&&n(s)};return e.addEventListener("keydown",r,{capture:!0}),()=>e.removeEventListener("keydown",r,{capture:!0})},[n,e])}var nm="DismissableLayer",bi="dismissableLayer.update",rm="dismissableLayer.pointerDownOutside",sm="dismissableLayer.focusOutside",ca,ru=d.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),su=d.forwardRef((t,e)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:s,onFocusOutside:i,onInteractOutside:o,onDismiss:a,...c}=t,u=d.useContext(ru),[l,f]=d.useState(null),h=(l==null?void 0:l.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,m]=d.useState({}),v=xt(e,_=>f(_)),g=Array.from(u.layers),[y]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),b=g.indexOf(y),E=l?g.indexOf(l):-1,C=u.layersWithOutsidePointerEventsDisabled.size>0,x=E>=b,T=am(_=>{const N=_.target,k=[...u.branches].some(I=>I.contains(N));!x||k||(s==null||s(_),o==null||o(_),_.defaultPrevented||a==null||a())},h),O=cm(_=>{const N=_.target;[...u.branches].some(I=>I.contains(N))||(i==null||i(_),o==null||o(_),_.defaultPrevented||a==null||a())},h);return tm(_=>{E===u.layers.size-1&&(r==null||r(_),!_.defaultPrevented&&a&&(_.preventDefault(),a()))},h),d.useEffect(()=>{if(l)return n&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(ca=h.body.style.pointerEvents,h.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(l)),u.layers.add(l),ua(),()=>{n&&u.layersWithOutsidePointerEventsDisabled.size===1&&(h.body.style.pointerEvents=ca)}},[l,h,n,u]),d.useEffect(()=>()=>{l&&(u.layers.delete(l),u.layersWithOutsidePointerEventsDisabled.delete(l),ua())},[l,u]),d.useEffect(()=>{const _=()=>m({});return document.addEventListener(bi,_),()=>document.removeEventListener(bi,_)},[]),p.jsx(Je.div,{...c,ref:v,style:{pointerEvents:C?x?"auto":"none":void 0,...t.style},onFocusCapture:ht(t.onFocusCapture,O.onFocusCapture),onBlurCapture:ht(t.onBlurCapture,O.onBlurCapture),onPointerDownCapture:ht(t.onPointerDownCapture,T.onPointerDownCapture)})});su.displayName=nm;var im="DismissableLayerBranch",om=d.forwardRef((t,e)=>{const n=d.useContext(ru),r=d.useRef(null),s=xt(e,r);return d.useEffect(()=>{const i=r.current;if(i)return n.branches.add(i),()=>{n.branches.delete(i)}},[n.branches]),p.jsx(Je.div,{...t,ref:s})});om.displayName=im;function am(t,e=globalThis==null?void 0:globalThis.document){const n=yt(t),r=d.useRef(!1),s=d.useRef(()=>{});return d.useEffect(()=>{const i=a=>{if(a.target&&!r.current){let c=function(){iu(rm,n,u,{discrete:!0})};const u={originalEvent:a};a.pointerType==="touch"?(e.removeEventListener("click",s.current),s.current=c,e.addEventListener("click",s.current,{once:!0})):c()}else e.removeEventListener("click",s.current);r.current=!1},o=window.setTimeout(()=>{e.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(o),e.removeEventListener("pointerdown",i),e.removeEventListener("click",s.current)}},[e,n]),{onPointerDownCapture:()=>r.current=!0}}function cm(t,e=globalThis==null?void 0:globalThis.document){const n=yt(t),r=d.useRef(!1);return d.useEffect(()=>{const s=i=>{i.target&&!r.current&&iu(sm,n,{originalEvent:i},{discrete:!1})};return e.addEventListener("focusin",s),()=>e.removeEventListener("focusin",s)},[e,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function ua(){const t=new CustomEvent(bi);document.dispatchEvent(t)}function iu(t,e,n,{discrete:r}){const s=n.originalEvent.target,i=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&s.addEventListener(t,e,{once:!0}),r?em(s,i):s.dispatchEvent(i)}var Ns=0;function um(){d.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??la()),document.body.insertAdjacentElement("beforeend",t[1]??la()),Ns++,()=>{Ns===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),Ns--}},[])}function la(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var Is="focusScope.autoFocusOnMount",Ds="focusScope.autoFocusOnUnmount",da={bubbles:!1,cancelable:!0},lm="FocusScope",ou=d.forwardRef((t,e)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:s,onUnmountAutoFocus:i,...o}=t,[a,c]=d.useState(null),u=yt(s),l=yt(i),f=d.useRef(null),h=xt(e,g=>c(g)),m=d.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;d.useEffect(()=>{if(r){let g=function(C){if(m.paused||!a)return;const x=C.target;a.contains(x)?f.current=x:st(f.current,{select:!0})},y=function(C){if(m.paused||!a)return;const x=C.relatedTarget;x!==null&&(a.contains(x)||st(f.current,{select:!0}))},b=function(C){if(document.activeElement===document.body)for(const T of C)T.removedNodes.length>0&&st(a)};document.addEventListener("focusin",g),document.addEventListener("focusout",y);const E=new MutationObserver(b);return a&&E.observe(a,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",g),document.removeEventListener("focusout",y),E.disconnect()}}},[r,a,m.paused]),d.useEffect(()=>{if(a){ha.add(m);const g=document.activeElement;if(!a.contains(g)){const b=new CustomEvent(Is,da);a.addEventListener(Is,u),a.dispatchEvent(b),b.defaultPrevented||(dm(gm(au(a)),{select:!0}),document.activeElement===g&&st(a))}return()=>{a.removeEventListener(Is,u),setTimeout(()=>{const b=new CustomEvent(Ds,da);a.addEventListener(Ds,l),a.dispatchEvent(b),b.defaultPrevented||st(g??document.body,{select:!0}),a.removeEventListener(Ds,l),ha.remove(m)},0)}}},[a,u,l,m]);const v=d.useCallback(g=>{if(!n&&!r||m.paused)return;const y=g.key==="Tab"&&!g.altKey&&!g.ctrlKey&&!g.metaKey,b=document.activeElement;if(y&&b){const E=g.currentTarget,[C,x]=fm(E);C&&x?!g.shiftKey&&b===x?(g.preventDefault(),n&&st(C,{select:!0})):g.shiftKey&&b===C&&(g.preventDefault(),n&&st(x,{select:!0})):b===E&&g.preventDefault()}},[n,r,m.paused]);return p.jsx(Je.div,{tabIndex:-1,...o,ref:h,onKeyDown:v})});ou.displayName=lm;function dm(t,{select:e=!1}={}){const n=document.activeElement;for(const r of t)if(st(r,{select:e}),document.activeElement!==n)return}function fm(t){const e=au(t),n=fa(e,t),r=fa(e.reverse(),t);return[n,r]}function au(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function fa(t,e){for(const n of t)if(!hm(n,{upTo:e}))return n}function hm(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function pm(t){return t instanceof HTMLInputElement&&"select"in t}function st(t,{select:e=!1}={}){if(t&&t.focus){const n=document.activeElement;t.focus({preventScroll:!0}),t!==n&&pm(t)&&e&&t.select()}}var ha=mm();function mm(){let t=[];return{add(e){const n=t[0];e!==n&&(n==null||n.pause()),t=pa(t,e),t.unshift(e)},remove(e){var n;t=pa(t,e),(n=t[0])==null||n.resume()}}}function pa(t,e){const n=[...t],r=n.indexOf(e);return r!==-1&&n.splice(r,1),n}function gm(t){return t.filter(e=>e.tagName!=="A")}var Ft=globalThis!=null&&globalThis.document?d.useLayoutEffect:()=>{},ym=Cc[" useId ".trim().toString()]||(()=>{}),vm=0;function bm(t){const[e,n]=d.useState(ym());return Ft(()=>{t||n(r=>r??String(vm++))},[t]),t||(e?`radix-${e}`:"")}const wm=["top","right","bottom","left"],vt=Math.min,be=Math.max,Rr=Math.round,hr=Math.floor,De=t=>({x:t,y:t}),_m={left:"right",right:"left",bottom:"top",top:"bottom"},xm={start:"end",end:"start"};function wi(t,e,n){return be(t,vt(e,n))}function Ke(t,e){return typeof t=="function"?t(e):t}function Ge(t){return t.split("-")[0]}function Cn(t){return t.split("-")[1]}function Hi(t){return t==="x"?"y":"x"}function Ki(t){return t==="y"?"height":"width"}function bt(t){return["top","bottom"].includes(Ge(t))?"y":"x"}function Gi(t){return Hi(bt(t))}function Em(t,e,n){n===void 0&&(n=!1);const r=Cn(t),s=Gi(t),i=Ki(s);let o=s==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[i]>e.floating[i]&&(o=Nr(o)),[o,Nr(o)]}function Sm(t){const e=Nr(t);return[_i(t),e,_i(e)]}function _i(t){return t.replace(/start|end/g,e=>xm[e])}function Cm(t,e,n){const r=["left","right"],s=["right","left"],i=["top","bottom"],o=["bottom","top"];switch(t){case"top":case"bottom":return n?e?s:r:e?r:s;case"left":case"right":return e?i:o;default:return[]}}function Tm(t,e,n,r){const s=Cn(t);let i=Cm(Ge(t),n==="start",r);return s&&(i=i.map(o=>o+"-"+s),e&&(i=i.concat(i.map(_i)))),i}function Nr(t){return t.replace(/left|right|bottom|top/g,e=>_m[e])}function Om(t){return{top:0,right:0,bottom:0,left:0,...t}}function cu(t){return typeof t!="number"?Om(t):{top:t,right:t,bottom:t,left:t}}function Ir(t){const{x:e,y:n,width:r,height:s}=t;return{width:r,height:s,top:n,left:e,right:e+r,bottom:n+s,x:e,y:n}}function ma(t,e,n){let{reference:r,floating:s}=t;const i=bt(e),o=Gi(e),a=Ki(o),c=Ge(e),u=i==="y",l=r.x+r.width/2-s.width/2,f=r.y+r.height/2-s.height/2,h=r[a]/2-s[a]/2;let m;switch(c){case"top":m={x:l,y:r.y-s.height};break;case"bottom":m={x:l,y:r.y+r.height};break;case"right":m={x:r.x+r.width,y:f};break;case"left":m={x:r.x-s.width,y:f};break;default:m={x:r.x,y:r.y}}switch(Cn(e)){case"start":m[o]-=h*(n&&u?-1:1);break;case"end":m[o]+=h*(n&&u?-1:1);break}return m}const Am=async(t,e,n)=>{const{placement:r="bottom",strategy:s="absolute",middleware:i=[],platform:o}=n,a=i.filter(Boolean),c=await(o.isRTL==null?void 0:o.isRTL(e));let u=await o.getElementRects({reference:t,floating:e,strategy:s}),{x:l,y:f}=ma(u,r,c),h=r,m={},v=0;for(let g=0;g<a.length;g++){const{name:y,fn:b}=a[g],{x:E,y:C,data:x,reset:T}=await b({x:l,y:f,initialPlacement:r,placement:h,strategy:s,middlewareData:m,rects:u,platform:o,elements:{reference:t,floating:e}});l=E??l,f=C??f,m={...m,[y]:{...m[y],...x}},T&&v<=50&&(v++,typeof T=="object"&&(T.placement&&(h=T.placement),T.rects&&(u=T.rects===!0?await o.getElementRects({reference:t,floating:e,strategy:s}):T.rects),{x:l,y:f}=ma(u,h,c)),g=-1)}return{x:l,y:f,placement:h,strategy:s,middlewareData:m}};async function zn(t,e){var n;e===void 0&&(e={});const{x:r,y:s,platform:i,rects:o,elements:a,strategy:c}=t,{boundary:u="clippingAncestors",rootBoundary:l="viewport",elementContext:f="floating",altBoundary:h=!1,padding:m=0}=Ke(e,t),v=cu(m),y=a[h?f==="floating"?"reference":"floating":f],b=Ir(await i.getClippingRect({element:(n=await(i.isElement==null?void 0:i.isElement(y)))==null||n?y:y.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(a.floating)),boundary:u,rootBoundary:l,strategy:c})),E=f==="floating"?{x:r,y:s,width:o.floating.width,height:o.floating.height}:o.reference,C=await(i.getOffsetParent==null?void 0:i.getOffsetParent(a.floating)),x=await(i.isElement==null?void 0:i.isElement(C))?await(i.getScale==null?void 0:i.getScale(C))||{x:1,y:1}:{x:1,y:1},T=Ir(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:E,offsetParent:C,strategy:c}):E);return{top:(b.top-T.top+v.top)/x.y,bottom:(T.bottom-b.bottom+v.bottom)/x.y,left:(b.left-T.left+v.left)/x.x,right:(T.right-b.right+v.right)/x.x}}const Pm=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:r,placement:s,rects:i,platform:o,elements:a,middlewareData:c}=e,{element:u,padding:l=0}=Ke(t,e)||{};if(u==null)return{};const f=cu(l),h={x:n,y:r},m=Gi(s),v=Ki(m),g=await o.getDimensions(u),y=m==="y",b=y?"top":"left",E=y?"bottom":"right",C=y?"clientHeight":"clientWidth",x=i.reference[v]+i.reference[m]-h[m]-i.floating[v],T=h[m]-i.reference[m],O=await(o.getOffsetParent==null?void 0:o.getOffsetParent(u));let _=O?O[C]:0;(!_||!await(o.isElement==null?void 0:o.isElement(O)))&&(_=a.floating[C]||i.floating[v]);const N=x/2-T/2,k=_/2-g[v]/2-1,I=vt(f[b],k),$=vt(f[E],k),z=I,U=_-g[v]-$,W=_/2-g[v]/2+N,ie=wi(z,W,U),ee=!c.arrow&&Cn(s)!=null&&W!==ie&&i.reference[v]/2-(W<z?I:$)-g[v]/2<0,te=ee?W<z?W-z:W-U:0;return{[m]:h[m]+te,data:{[m]:ie,centerOffset:W-ie-te,...ee&&{alignmentOffset:te}},reset:ee}}}),jm=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,r;const{placement:s,middlewareData:i,rects:o,initialPlacement:a,platform:c,elements:u}=e,{mainAxis:l=!0,crossAxis:f=!0,fallbackPlacements:h,fallbackStrategy:m="bestFit",fallbackAxisSideDirection:v="none",flipAlignment:g=!0,...y}=Ke(t,e);if((n=i.arrow)!=null&&n.alignmentOffset)return{};const b=Ge(s),E=bt(a),C=Ge(a)===a,x=await(c.isRTL==null?void 0:c.isRTL(u.floating)),T=h||(C||!g?[Nr(a)]:Sm(a)),O=v!=="none";!h&&O&&T.push(...Tm(a,g,v,x));const _=[a,...T],N=await zn(e,y),k=[];let I=((r=i.flip)==null?void 0:r.overflows)||[];if(l&&k.push(N[b]),f){const W=Em(s,o,x);k.push(N[W[0]],N[W[1]])}if(I=[...I,{placement:s,overflows:k}],!k.every(W=>W<=0)){var $,z;const W=((($=i.flip)==null?void 0:$.index)||0)+1,ie=_[W];if(ie)return{data:{index:W,overflows:I},reset:{placement:ie}};let ee=(z=I.filter(te=>te.overflows[0]<=0).sort((te,B)=>te.overflows[1]-B.overflows[1])[0])==null?void 0:z.placement;if(!ee)switch(m){case"bestFit":{var U;const te=(U=I.filter(B=>{if(O){const ne=bt(B.placement);return ne===E||ne==="y"}return!0}).map(B=>[B.placement,B.overflows.filter(ne=>ne>0).reduce((ne,me)=>ne+me,0)]).sort((B,ne)=>B[1]-ne[1])[0])==null?void 0:U[0];te&&(ee=te);break}case"initialPlacement":ee=a;break}if(s!==ee)return{reset:{placement:ee}}}return{}}}};function ga(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function ya(t){return wm.some(e=>t[e]>=0)}const km=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:n}=e,{strategy:r="referenceHidden",...s}=Ke(t,e);switch(r){case"referenceHidden":{const i=await zn(e,{...s,elementContext:"reference"}),o=ga(i,n.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:ya(o)}}}case"escaped":{const i=await zn(e,{...s,altBoundary:!0}),o=ga(i,n.floating);return{data:{escapedOffsets:o,escaped:ya(o)}}}default:return{}}}}};async function $m(t,e){const{placement:n,platform:r,elements:s}=t,i=await(r.isRTL==null?void 0:r.isRTL(s.floating)),o=Ge(n),a=Cn(n),c=bt(n)==="y",u=["left","top"].includes(o)?-1:1,l=i&&c?-1:1,f=Ke(e,t);let{mainAxis:h,crossAxis:m,alignmentAxis:v}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:f.mainAxis||0,crossAxis:f.crossAxis||0,alignmentAxis:f.alignmentAxis};return a&&typeof v=="number"&&(m=a==="end"?v*-1:v),c?{x:m*l,y:h*u}:{x:h*u,y:m*l}}const Rm=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,r;const{x:s,y:i,placement:o,middlewareData:a}=e,c=await $m(e,t);return o===((n=a.offset)==null?void 0:n.placement)&&(r=a.arrow)!=null&&r.alignmentOffset?{}:{x:s+c.x,y:i+c.y,data:{...c,placement:o}}}}},Nm=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:r,placement:s}=e,{mainAxis:i=!0,crossAxis:o=!1,limiter:a={fn:y=>{let{x:b,y:E}=y;return{x:b,y:E}}},...c}=Ke(t,e),u={x:n,y:r},l=await zn(e,c),f=bt(Ge(s)),h=Hi(f);let m=u[h],v=u[f];if(i){const y=h==="y"?"top":"left",b=h==="y"?"bottom":"right",E=m+l[y],C=m-l[b];m=wi(E,m,C)}if(o){const y=f==="y"?"top":"left",b=f==="y"?"bottom":"right",E=v+l[y],C=v-l[b];v=wi(E,v,C)}const g=a.fn({...e,[h]:m,[f]:v});return{...g,data:{x:g.x-n,y:g.y-r,enabled:{[h]:i,[f]:o}}}}}},Im=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:n,y:r,placement:s,rects:i,middlewareData:o}=e,{offset:a=0,mainAxis:c=!0,crossAxis:u=!0}=Ke(t,e),l={x:n,y:r},f=bt(s),h=Hi(f);let m=l[h],v=l[f];const g=Ke(a,e),y=typeof g=="number"?{mainAxis:g,crossAxis:0}:{mainAxis:0,crossAxis:0,...g};if(c){const C=h==="y"?"height":"width",x=i.reference[h]-i.floating[C]+y.mainAxis,T=i.reference[h]+i.reference[C]-y.mainAxis;m<x?m=x:m>T&&(m=T)}if(u){var b,E;const C=h==="y"?"width":"height",x=["top","left"].includes(Ge(s)),T=i.reference[f]-i.floating[C]+(x&&((b=o.offset)==null?void 0:b[f])||0)+(x?0:y.crossAxis),O=i.reference[f]+i.reference[C]+(x?0:((E=o.offset)==null?void 0:E[f])||0)-(x?y.crossAxis:0);v<T?v=T:v>O&&(v=O)}return{[h]:m,[f]:v}}}},Dm=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var n,r;const{placement:s,rects:i,platform:o,elements:a}=e,{apply:c=()=>{},...u}=Ke(t,e),l=await zn(e,u),f=Ge(s),h=Cn(s),m=bt(s)==="y",{width:v,height:g}=i.floating;let y,b;f==="top"||f==="bottom"?(y=f,b=h===(await(o.isRTL==null?void 0:o.isRTL(a.floating))?"start":"end")?"left":"right"):(b=f,y=h==="end"?"top":"bottom");const E=g-l.top-l.bottom,C=v-l.left-l.right,x=vt(g-l[y],E),T=vt(v-l[b],C),O=!e.middlewareData.shift;let _=x,N=T;if((n=e.middlewareData.shift)!=null&&n.enabled.x&&(N=C),(r=e.middlewareData.shift)!=null&&r.enabled.y&&(_=E),O&&!h){const I=be(l.left,0),$=be(l.right,0),z=be(l.top,0),U=be(l.bottom,0);m?N=v-2*(I!==0||$!==0?I+$:be(l.left,l.right)):_=g-2*(z!==0||U!==0?z+U:be(l.top,l.bottom))}await c({...e,availableWidth:N,availableHeight:_});const k=await o.getDimensions(a.floating);return v!==k.width||g!==k.height?{reset:{rects:!0}}:{}}}};function Zr(){return typeof window<"u"}function Tn(t){return uu(t)?(t.nodeName||"").toLowerCase():"#document"}function we(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function Le(t){var e;return(e=(uu(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function uu(t){return Zr()?t instanceof Node||t instanceof we(t).Node:!1}function Oe(t){return Zr()?t instanceof Element||t instanceof we(t).Element:!1}function Fe(t){return Zr()?t instanceof HTMLElement||t instanceof we(t).HTMLElement:!1}function va(t){return!Zr()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof we(t).ShadowRoot}function Xn(t){const{overflow:e,overflowX:n,overflowY:r,display:s}=Ae(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!["inline","contents"].includes(s)}function Fm(t){return["table","td","th"].includes(Tn(t))}function Xr(t){return[":popover-open",":modal"].some(e=>{try{return t.matches(e)}catch{return!1}})}function Ji(t){const e=Qi(),n=Oe(t)?Ae(t):t;return["transform","translate","scale","rotate","perspective"].some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(r=>(n.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(n.contain||"").includes(r))}function Lm(t){let e=wt(t);for(;Fe(e)&&!bn(e);){if(Ji(e))return e;if(Xr(e))return null;e=wt(e)}return null}function Qi(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function bn(t){return["html","body","#document"].includes(Tn(t))}function Ae(t){return we(t).getComputedStyle(t)}function es(t){return Oe(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function wt(t){if(Tn(t)==="html")return t;const e=t.assignedSlot||t.parentNode||va(t)&&t.host||Le(t);return va(e)?e.host:e}function lu(t){const e=wt(t);return bn(e)?t.ownerDocument?t.ownerDocument.body:t.body:Fe(e)&&Xn(e)?e:lu(e)}function Wn(t,e,n){var r;e===void 0&&(e=[]),n===void 0&&(n=!0);const s=lu(t),i=s===((r=t.ownerDocument)==null?void 0:r.body),o=we(s);if(i){const a=xi(o);return e.concat(o,o.visualViewport||[],Xn(s)?s:[],a&&n?Wn(a):[])}return e.concat(s,Wn(s,[],n))}function xi(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function du(t){const e=Ae(t);let n=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const s=Fe(t),i=s?t.offsetWidth:n,o=s?t.offsetHeight:r,a=Rr(n)!==i||Rr(r)!==o;return a&&(n=i,r=o),{width:n,height:r,$:a}}function Yi(t){return Oe(t)?t:t.contextElement}function dn(t){const e=Yi(t);if(!Fe(e))return De(1);const n=e.getBoundingClientRect(),{width:r,height:s,$:i}=du(e);let o=(i?Rr(n.width):n.width)/r,a=(i?Rr(n.height):n.height)/s;return(!o||!Number.isFinite(o))&&(o=1),(!a||!Number.isFinite(a))&&(a=1),{x:o,y:a}}const Mm=De(0);function fu(t){const e=we(t);return!Qi()||!e.visualViewport?Mm:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function Um(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==we(t)?!1:e}function Lt(t,e,n,r){e===void 0&&(e=!1),n===void 0&&(n=!1);const s=t.getBoundingClientRect(),i=Yi(t);let o=De(1);e&&(r?Oe(r)&&(o=dn(r)):o=dn(t));const a=Um(i,n,r)?fu(i):De(0);let c=(s.left+a.x)/o.x,u=(s.top+a.y)/o.y,l=s.width/o.x,f=s.height/o.y;if(i){const h=we(i),m=r&&Oe(r)?we(r):r;let v=h,g=xi(v);for(;g&&r&&m!==v;){const y=dn(g),b=g.getBoundingClientRect(),E=Ae(g),C=b.left+(g.clientLeft+parseFloat(E.paddingLeft))*y.x,x=b.top+(g.clientTop+parseFloat(E.paddingTop))*y.y;c*=y.x,u*=y.y,l*=y.x,f*=y.y,c+=C,u+=x,v=we(g),g=xi(v)}}return Ir({width:l,height:f,x:c,y:u})}function Zi(t,e){const n=es(t).scrollLeft;return e?e.left+n:Lt(Le(t)).left+n}function hu(t,e,n){n===void 0&&(n=!1);const r=t.getBoundingClientRect(),s=r.left+e.scrollLeft-(n?0:Zi(t,r)),i=r.top+e.scrollTop;return{x:s,y:i}}function Bm(t){let{elements:e,rect:n,offsetParent:r,strategy:s}=t;const i=s==="fixed",o=Le(r),a=e?Xr(e.floating):!1;if(r===o||a&&i)return n;let c={scrollLeft:0,scrollTop:0},u=De(1);const l=De(0),f=Fe(r);if((f||!f&&!i)&&((Tn(r)!=="body"||Xn(o))&&(c=es(r)),Fe(r))){const m=Lt(r);u=dn(r),l.x=m.x+r.clientLeft,l.y=m.y+r.clientTop}const h=o&&!f&&!i?hu(o,c,!0):De(0);return{width:n.width*u.x,height:n.height*u.y,x:n.x*u.x-c.scrollLeft*u.x+l.x+h.x,y:n.y*u.y-c.scrollTop*u.y+l.y+h.y}}function zm(t){return Array.from(t.getClientRects())}function Wm(t){const e=Le(t),n=es(t),r=t.ownerDocument.body,s=be(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),i=be(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let o=-n.scrollLeft+Zi(t);const a=-n.scrollTop;return Ae(r).direction==="rtl"&&(o+=be(e.clientWidth,r.clientWidth)-s),{width:s,height:i,x:o,y:a}}function Vm(t,e){const n=we(t),r=Le(t),s=n.visualViewport;let i=r.clientWidth,o=r.clientHeight,a=0,c=0;if(s){i=s.width,o=s.height;const u=Qi();(!u||u&&e==="fixed")&&(a=s.offsetLeft,c=s.offsetTop)}return{width:i,height:o,x:a,y:c}}function qm(t,e){const n=Lt(t,!0,e==="fixed"),r=n.top+t.clientTop,s=n.left+t.clientLeft,i=Fe(t)?dn(t):De(1),o=t.clientWidth*i.x,a=t.clientHeight*i.y,c=s*i.x,u=r*i.y;return{width:o,height:a,x:c,y:u}}function ba(t,e,n){let r;if(e==="viewport")r=Vm(t,n);else if(e==="document")r=Wm(Le(t));else if(Oe(e))r=qm(e,n);else{const s=fu(t);r={x:e.x-s.x,y:e.y-s.y,width:e.width,height:e.height}}return Ir(r)}function pu(t,e){const n=wt(t);return n===e||!Oe(n)||bn(n)?!1:Ae(n).position==="fixed"||pu(n,e)}function Hm(t,e){const n=e.get(t);if(n)return n;let r=Wn(t,[],!1).filter(a=>Oe(a)&&Tn(a)!=="body"),s=null;const i=Ae(t).position==="fixed";let o=i?wt(t):t;for(;Oe(o)&&!bn(o);){const a=Ae(o),c=Ji(o);!c&&a.position==="fixed"&&(s=null),(i?!c&&!s:!c&&a.position==="static"&&!!s&&["absolute","fixed"].includes(s.position)||Xn(o)&&!c&&pu(t,o))?r=r.filter(l=>l!==o):s=a,o=wt(o)}return e.set(t,r),r}function Km(t){let{element:e,boundary:n,rootBoundary:r,strategy:s}=t;const o=[...n==="clippingAncestors"?Xr(e)?[]:Hm(e,this._c):[].concat(n),r],a=o[0],c=o.reduce((u,l)=>{const f=ba(e,l,s);return u.top=be(f.top,u.top),u.right=vt(f.right,u.right),u.bottom=vt(f.bottom,u.bottom),u.left=be(f.left,u.left),u},ba(e,a,s));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function Gm(t){const{width:e,height:n}=du(t);return{width:e,height:n}}function Jm(t,e,n){const r=Fe(e),s=Le(e),i=n==="fixed",o=Lt(t,!0,i,e);let a={scrollLeft:0,scrollTop:0};const c=De(0);if(r||!r&&!i)if((Tn(e)!=="body"||Xn(s))&&(a=es(e)),r){const h=Lt(e,!0,i,e);c.x=h.x+e.clientLeft,c.y=h.y+e.clientTop}else s&&(c.x=Zi(s));const u=s&&!r&&!i?hu(s,a):De(0),l=o.left+a.scrollLeft-c.x-u.x,f=o.top+a.scrollTop-c.y-u.y;return{x:l,y:f,width:o.width,height:o.height}}function Fs(t){return Ae(t).position==="static"}function wa(t,e){if(!Fe(t)||Ae(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return Le(t)===n&&(n=n.ownerDocument.body),n}function mu(t,e){const n=we(t);if(Xr(t))return n;if(!Fe(t)){let s=wt(t);for(;s&&!bn(s);){if(Oe(s)&&!Fs(s))return s;s=wt(s)}return n}let r=wa(t,e);for(;r&&Fm(r)&&Fs(r);)r=wa(r,e);return r&&bn(r)&&Fs(r)&&!Ji(r)?n:r||Lm(t)||n}const Qm=async function(t){const e=this.getOffsetParent||mu,n=this.getDimensions,r=await n(t.floating);return{reference:Jm(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function Ym(t){return Ae(t).direction==="rtl"}const Zm={convertOffsetParentRelativeRectToViewportRelativeRect:Bm,getDocumentElement:Le,getClippingRect:Km,getOffsetParent:mu,getElementRects:Qm,getClientRects:zm,getDimensions:Gm,getScale:dn,isElement:Oe,isRTL:Ym};function gu(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function Xm(t,e){let n=null,r;const s=Le(t);function i(){var a;clearTimeout(r),(a=n)==null||a.disconnect(),n=null}function o(a,c){a===void 0&&(a=!1),c===void 0&&(c=1),i();const u=t.getBoundingClientRect(),{left:l,top:f,width:h,height:m}=u;if(a||e(),!h||!m)return;const v=hr(f),g=hr(s.clientWidth-(l+h)),y=hr(s.clientHeight-(f+m)),b=hr(l),C={rootMargin:-v+"px "+-g+"px "+-y+"px "+-b+"px",threshold:be(0,vt(1,c))||1};let x=!0;function T(O){const _=O[0].intersectionRatio;if(_!==c){if(!x)return o();_?o(!1,_):r=setTimeout(()=>{o(!1,1e-7)},1e3)}_===1&&!gu(u,t.getBoundingClientRect())&&o(),x=!1}try{n=new IntersectionObserver(T,{...C,root:s.ownerDocument})}catch{n=new IntersectionObserver(T,C)}n.observe(t)}return o(!0),i}function eg(t,e,n,r){r===void 0&&(r={});const{ancestorScroll:s=!0,ancestorResize:i=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:c=!1}=r,u=Yi(t),l=s||i?[...u?Wn(u):[],...Wn(e)]:[];l.forEach(b=>{s&&b.addEventListener("scroll",n,{passive:!0}),i&&b.addEventListener("resize",n)});const f=u&&a?Xm(u,n):null;let h=-1,m=null;o&&(m=new ResizeObserver(b=>{let[E]=b;E&&E.target===u&&m&&(m.unobserve(e),cancelAnimationFrame(h),h=requestAnimationFrame(()=>{var C;(C=m)==null||C.observe(e)})),n()}),u&&!c&&m.observe(u),m.observe(e));let v,g=c?Lt(t):null;c&&y();function y(){const b=Lt(t);g&&!gu(g,b)&&n(),g=b,v=requestAnimationFrame(y)}return n(),()=>{var b;l.forEach(E=>{s&&E.removeEventListener("scroll",n),i&&E.removeEventListener("resize",n)}),f==null||f(),(b=m)==null||b.disconnect(),m=null,c&&cancelAnimationFrame(v)}}const tg=Rm,ng=Nm,rg=jm,sg=Dm,ig=km,_a=Pm,og=Im,ag=(t,e,n)=>{const r=new Map,s={platform:Zm,...n},i={...s.platform,_c:r};return Am(t,e,{...s,platform:i})};var Tr=typeof document<"u"?d.useLayoutEffect:d.useEffect;function Dr(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,r,s;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(r=n;r--!==0;)if(!Dr(t[r],e[r]))return!1;return!0}if(s=Object.keys(t),n=s.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(e,s[r]))return!1;for(r=n;r--!==0;){const i=s[r];if(!(i==="_owner"&&t.$$typeof)&&!Dr(t[i],e[i]))return!1}return!0}return t!==t&&e!==e}function yu(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function xa(t,e){const n=yu(t);return Math.round(e*n)/n}function Ls(t){const e=d.useRef(t);return Tr(()=>{e.current=t}),e}function cg(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:r=[],platform:s,elements:{reference:i,floating:o}={},transform:a=!0,whileElementsMounted:c,open:u}=t,[l,f]=d.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[h,m]=d.useState(r);Dr(h,r)||m(r);const[v,g]=d.useState(null),[y,b]=d.useState(null),E=d.useCallback(B=>{B!==O.current&&(O.current=B,g(B))},[]),C=d.useCallback(B=>{B!==_.current&&(_.current=B,b(B))},[]),x=i||v,T=o||y,O=d.useRef(null),_=d.useRef(null),N=d.useRef(l),k=c!=null,I=Ls(c),$=Ls(s),z=Ls(u),U=d.useCallback(()=>{if(!O.current||!_.current)return;const B={placement:e,strategy:n,middleware:h};$.current&&(B.platform=$.current),ag(O.current,_.current,B).then(ne=>{const me={...ne,isPositioned:z.current!==!1};W.current&&!Dr(N.current,me)&&(N.current=me,zr.flushSync(()=>{f(me)}))})},[h,e,n,$,z]);Tr(()=>{u===!1&&N.current.isPositioned&&(N.current.isPositioned=!1,f(B=>({...B,isPositioned:!1})))},[u]);const W=d.useRef(!1);Tr(()=>(W.current=!0,()=>{W.current=!1}),[]),Tr(()=>{if(x&&(O.current=x),T&&(_.current=T),x&&T){if(I.current)return I.current(x,T,U);U()}},[x,T,U,I,k]);const ie=d.useMemo(()=>({reference:O,floating:_,setReference:E,setFloating:C}),[E,C]),ee=d.useMemo(()=>({reference:x,floating:T}),[x,T]),te=d.useMemo(()=>{const B={position:n,left:0,top:0};if(!ee.floating)return B;const ne=xa(ee.floating,l.x),me=xa(ee.floating,l.y);return a?{...B,transform:"translate("+ne+"px, "+me+"px)",...yu(ee.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:ne,top:me}},[n,a,ee.floating,l.x,l.y]);return d.useMemo(()=>({...l,update:U,refs:ie,elements:ee,floatingStyles:te}),[l,U,ie,ee,te])}const ug=t=>{function e(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:t,fn(n){const{element:r,padding:s}=typeof t=="function"?t(n):t;return r&&e(r)?r.current!=null?_a({element:r.current,padding:s}).fn(n):{}:r?_a({element:r,padding:s}).fn(n):{}}}},lg=(t,e)=>({...tg(t),options:[t,e]}),dg=(t,e)=>({...ng(t),options:[t,e]}),fg=(t,e)=>({...og(t),options:[t,e]}),hg=(t,e)=>({...rg(t),options:[t,e]}),pg=(t,e)=>({...sg(t),options:[t,e]}),mg=(t,e)=>({...ig(t),options:[t,e]}),gg=(t,e)=>({...ug(t),options:[t,e]});var yg="Arrow",vu=d.forwardRef((t,e)=>{const{children:n,width:r=10,height:s=5,...i}=t;return p.jsx(Je.svg,{...i,ref:e,width:r,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?n:p.jsx("polygon",{points:"0,0 30,0 15,10"})})});vu.displayName=yg;var vg=vu;function bg(t){const[e,n]=d.useState(void 0);return Ft(()=>{if(t){n({width:t.offsetWidth,height:t.offsetHeight});const r=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const i=s[0];let o,a;if("borderBoxSize"in i){const c=i.borderBoxSize,u=Array.isArray(c)?c[0]:c;o=u.inlineSize,a=u.blockSize}else o=t.offsetWidth,a=t.offsetHeight;n({width:o,height:a})});return r.observe(t,{box:"border-box"}),()=>r.unobserve(t)}else n(void 0)},[t]),e}var Xi="Popper",[bu,wu]=nu(Xi),[wg,_u]=bu(Xi),xu=t=>{const{__scopePopper:e,children:n}=t,[r,s]=d.useState(null);return p.jsx(wg,{scope:e,anchor:r,onAnchorChange:s,children:n})};xu.displayName=Xi;var Eu="PopperAnchor",Su=d.forwardRef((t,e)=>{const{__scopePopper:n,virtualRef:r,...s}=t,i=_u(Eu,n),o=d.useRef(null),a=xt(e,o);return d.useEffect(()=>{i.onAnchorChange((r==null?void 0:r.current)||o.current)}),r?null:p.jsx(Je.div,{...s,ref:a})});Su.displayName=Eu;var eo="PopperContent",[_g,xg]=bu(eo),Cu=d.forwardRef((t,e)=>{var Zt,Pn,jn,kn,Xt,ar;const{__scopePopper:n,side:r="bottom",sideOffset:s=0,align:i="center",alignOffset:o=0,arrowPadding:a=0,avoidCollisions:c=!0,collisionBoundary:u=[],collisionPadding:l=0,sticky:f="partial",hideWhenDetached:h=!1,updatePositionStrategy:m="optimized",onPlaced:v,...g}=t,y=_u(eo,n),[b,E]=d.useState(null),C=xt(e,et=>E(et)),[x,T]=d.useState(null),O=bg(x),_=(O==null?void 0:O.width)??0,N=(O==null?void 0:O.height)??0,k=r+(i!=="center"?"-"+i:""),I=typeof l=="number"?l:{top:0,right:0,bottom:0,left:0,...l},$=Array.isArray(u)?u:[u],z=$.length>0,U={padding:I,boundary:$.filter(Sg),altBoundary:z},{refs:W,floatingStyles:ie,placement:ee,isPositioned:te,middlewareData:B}=cg({strategy:"fixed",placement:k,whileElementsMounted:(...et)=>eg(...et,{animationFrame:m==="always"}),elements:{reference:y.anchor},middleware:[lg({mainAxis:s+N,alignmentAxis:o}),c&&dg({mainAxis:!0,crossAxis:!1,limiter:f==="partial"?fg():void 0,...U}),c&&hg({...U}),pg({...U,apply:({elements:et,rects:cr,availableWidth:Es,availableHeight:Ss})=>{const{width:Cs,height:Ts}=cr.reference,tt=et.floating.style;tt.setProperty("--radix-popper-available-width",`${Es}px`),tt.setProperty("--radix-popper-available-height",`${Ss}px`),tt.setProperty("--radix-popper-anchor-width",`${Cs}px`),tt.setProperty("--radix-popper-anchor-height",`${Ts}px`)}}),x&&gg({element:x,padding:a}),Cg({arrowWidth:_,arrowHeight:N}),h&&mg({strategy:"referenceHidden",...U})]}),[ne,me]=Au(ee),Ue=yt(v);Ft(()=>{te&&(Ue==null||Ue())},[te,Ue]);const Ze=(Zt=B.arrow)==null?void 0:Zt.x,ir=(Pn=B.arrow)==null?void 0:Pn.y,An=((jn=B.arrow)==null?void 0:jn.centerOffset)!==0,[Xe,or]=d.useState();return Ft(()=>{b&&or(window.getComputedStyle(b).zIndex)},[b]),p.jsx("div",{ref:W.setFloating,"data-radix-popper-content-wrapper":"",style:{...ie,transform:te?ie.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:Xe,"--radix-popper-transform-origin":[(kn=B.transformOrigin)==null?void 0:kn.x,(Xt=B.transformOrigin)==null?void 0:Xt.y].join(" "),...((ar=B.hide)==null?void 0:ar.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:p.jsx(_g,{scope:n,placedSide:ne,onArrowChange:T,arrowX:Ze,arrowY:ir,shouldHideArrow:An,children:p.jsx(Je.div,{"data-side":ne,"data-align":me,...g,ref:C,style:{...g.style,animation:te?void 0:"none"}})})})});Cu.displayName=eo;var Tu="PopperArrow",Eg={top:"bottom",right:"left",bottom:"top",left:"right"},Ou=d.forwardRef(function(e,n){const{__scopePopper:r,...s}=e,i=xg(Tu,r),o=Eg[i.placedSide];return p.jsx("span",{ref:i.onArrowChange,style:{position:"absolute",left:i.arrowX,top:i.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[i.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[i.placedSide],visibility:i.shouldHideArrow?"hidden":void 0},children:p.jsx(vg,{...s,ref:n,style:{...s.style,display:"block"}})})});Ou.displayName=Tu;function Sg(t){return t!==null}var Cg=t=>({name:"transformOrigin",options:t,fn(e){var y,b,E;const{placement:n,rects:r,middlewareData:s}=e,o=((y=s.arrow)==null?void 0:y.centerOffset)!==0,a=o?0:t.arrowWidth,c=o?0:t.arrowHeight,[u,l]=Au(n),f={start:"0%",center:"50%",end:"100%"}[l],h=(((b=s.arrow)==null?void 0:b.x)??0)+a/2,m=(((E=s.arrow)==null?void 0:E.y)??0)+c/2;let v="",g="";return u==="bottom"?(v=o?f:`${h}px`,g=`${-c}px`):u==="top"?(v=o?f:`${h}px`,g=`${r.floating.height+c}px`):u==="right"?(v=`${-c}px`,g=o?f:`${m}px`):u==="left"&&(v=`${r.floating.width+c}px`,g=o?f:`${m}px`),{data:{x:v,y:g}}}});function Au(t){const[e,n="center"]=t.split("-");return[e,n]}var Tg=xu,Pu=Su,Og=Cu,Ag=Ou,Pg="Portal",ju=d.forwardRef((t,e)=>{var a;const{container:n,...r}=t,[s,i]=d.useState(!1);Ft(()=>i(!0),[]);const o=n||s&&((a=globalThis==null?void 0:globalThis.document)==null?void 0:a.body);return o?Tc.createPortal(p.jsx(Je.div,{...r,ref:e}),o):null});ju.displayName=Pg;function jg(t,e){return d.useReducer((n,r)=>e[n][r]??n,t)}var to=t=>{const{present:e,children:n}=t,r=kg(e),s=typeof n=="function"?n({present:r.isPresent}):d.Children.only(n),i=xt(r.ref,$g(s));return typeof n=="function"||r.isPresent?d.cloneElement(s,{ref:i}):null};to.displayName="Presence";function kg(t){const[e,n]=d.useState(),r=d.useRef({}),s=d.useRef(t),i=d.useRef("none"),o=t?"mounted":"unmounted",[a,c]=jg(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return d.useEffect(()=>{const u=pr(r.current);i.current=a==="mounted"?u:"none"},[a]),Ft(()=>{const u=r.current,l=s.current;if(l!==t){const h=i.current,m=pr(u);t?c("MOUNT"):m==="none"||(u==null?void 0:u.display)==="none"?c("UNMOUNT"):c(l&&h!==m?"ANIMATION_OUT":"UNMOUNT"),s.current=t}},[t,c]),Ft(()=>{if(e){let u;const l=e.ownerDocument.defaultView??window,f=m=>{const g=pr(r.current).includes(m.animationName);if(m.target===e&&g&&(c("ANIMATION_END"),!s.current)){const y=e.style.animationFillMode;e.style.animationFillMode="forwards",u=l.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=y)})}},h=m=>{m.target===e&&(i.current=pr(r.current))};return e.addEventListener("animationstart",h),e.addEventListener("animationcancel",f),e.addEventListener("animationend",f),()=>{l.clearTimeout(u),e.removeEventListener("animationstart",h),e.removeEventListener("animationcancel",f),e.removeEventListener("animationend",f)}}else c("ANIMATION_END")},[e,c]),{isPresent:["mounted","unmountSuspended"].includes(a),ref:d.useCallback(u=>{u&&(r.current=getComputedStyle(u)),n(u)},[])}}function pr(t){return(t==null?void 0:t.animationName)||"none"}function $g(t){var r,s;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function Rg({prop:t,defaultProp:e,onChange:n=()=>{}}){const[r,s]=Ng({defaultProp:e,onChange:n}),i=t!==void 0,o=i?t:r,a=yt(n),c=d.useCallback(u=>{if(i){const f=typeof u=="function"?u(t):u;f!==t&&a(f)}else s(u)},[i,t,s,a]);return[o,c]}function Ng({defaultProp:t,onChange:e}){const n=d.useState(t),[r]=n,s=d.useRef(r),i=yt(e);return d.useEffect(()=>{s.current!==r&&(i(r),s.current=r)},[r,s,i]),n}var Ig=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},rn=new WeakMap,mr=new WeakMap,gr={},Ms=0,ku=function(t){return t&&(t.host||ku(t.parentNode))},Dg=function(t,e){return e.map(function(n){if(t.contains(n))return n;var r=ku(n);return r&&t.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",t,". Doing nothing"),null)}).filter(function(n){return!!n})},Fg=function(t,e,n,r){var s=Dg(e,Array.isArray(t)?t:[t]);gr[n]||(gr[n]=new WeakMap);var i=gr[n],o=[],a=new Set,c=new Set(s),u=function(f){!f||a.has(f)||(a.add(f),u(f.parentNode))};s.forEach(u);var l=function(f){!f||c.has(f)||Array.prototype.forEach.call(f.children,function(h){if(a.has(h))l(h);else try{var m=h.getAttribute(r),v=m!==null&&m!=="false",g=(rn.get(h)||0)+1,y=(i.get(h)||0)+1;rn.set(h,g),i.set(h,y),o.push(h),g===1&&v&&mr.set(h,!0),y===1&&h.setAttribute(n,"true"),v||h.setAttribute(r,"true")}catch(b){console.error("aria-hidden: cannot operate on ",h,b)}})};return l(e),a.clear(),Ms++,function(){o.forEach(function(f){var h=rn.get(f)-1,m=i.get(f)-1;rn.set(f,h),i.set(f,m),h||(mr.has(f)||f.removeAttribute(r),mr.delete(f)),m||f.removeAttribute(n)}),Ms--,Ms||(rn=new WeakMap,rn=new WeakMap,mr=new WeakMap,gr={})}},$u=function(t,e,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(t)?t:[t]),s=Ig(t);return s?(r.push.apply(r,Array.from(s.querySelectorAll("[aria-live]"))),Fg(r,s,n,"aria-hidden")):function(){return null}},Ie=function(){return Ie=Object.assign||function(e){for(var n,r=1,s=arguments.length;r<s;r++){n=arguments[r];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},Ie.apply(this,arguments)};function Ru(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n}function Lg(t,e,n){if(n||arguments.length===2)for(var r=0,s=e.length,i;r<s;r++)(i||!(r in e))&&(i||(i=Array.prototype.slice.call(e,0,r)),i[r]=e[r]);return t.concat(i||Array.prototype.slice.call(e))}var Or="right-scroll-bar-position",Ar="width-before-scroll-bar",Mg="with-scroll-bars-hidden",Ug="--removed-body-scroll-bar-size";function Us(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function Bg(t,e){var n=d.useState(function(){return{value:t,callback:e,facade:{get current(){return n.value},set current(r){var s=n.value;s!==r&&(n.value=r,n.callback(r,s))}}}})[0];return n.callback=e,n.facade}var zg=typeof window<"u"?d.useLayoutEffect:d.useEffect,Ea=new WeakMap;function Wg(t,e){var n=Bg(null,function(r){return t.forEach(function(s){return Us(s,r)})});return zg(function(){var r=Ea.get(n);if(r){var s=new Set(r),i=new Set(t),o=n.current;s.forEach(function(a){i.has(a)||Us(a,null)}),i.forEach(function(a){s.has(a)||Us(a,o)})}Ea.set(n,t)},[t]),n}function Vg(t){return t}function qg(t,e){e===void 0&&(e=Vg);var n=[],r=!1,s={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:t},useMedium:function(i){var o=e(i,r);return n.push(o),function(){n=n.filter(function(a){return a!==o})}},assignSyncMedium:function(i){for(r=!0;n.length;){var o=n;n=[],o.forEach(i)}n={push:function(a){return i(a)},filter:function(){return n}}},assignMedium:function(i){r=!0;var o=[];if(n.length){var a=n;n=[],a.forEach(i),o=n}var c=function(){var l=o;o=[],l.forEach(i)},u=function(){return Promise.resolve().then(c)};u(),n={push:function(l){o.push(l),u()},filter:function(l){return o=o.filter(l),n}}}};return s}function Hg(t){t===void 0&&(t={});var e=qg(null);return e.options=Ie({async:!0,ssr:!1},t),e}var Nu=function(t){var e=t.sideCar,n=Ru(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=e.read();if(!r)throw new Error("Sidecar medium not found");return d.createElement(r,Ie({},n))};Nu.isSideCarExport=!0;function Kg(t,e){return t.useMedium(e),Nu}var Iu=Hg(),Bs=function(){},ts=d.forwardRef(function(t,e){var n=d.useRef(null),r=d.useState({onScrollCapture:Bs,onWheelCapture:Bs,onTouchMoveCapture:Bs}),s=r[0],i=r[1],o=t.forwardProps,a=t.children,c=t.className,u=t.removeScrollBar,l=t.enabled,f=t.shards,h=t.sideCar,m=t.noIsolation,v=t.inert,g=t.allowPinchZoom,y=t.as,b=y===void 0?"div":y,E=t.gapMode,C=Ru(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),x=h,T=Wg([n,e]),O=Ie(Ie({},C),s);return d.createElement(d.Fragment,null,l&&d.createElement(x,{sideCar:Iu,removeScrollBar:u,shards:f,noIsolation:m,inert:v,setCallbacks:i,allowPinchZoom:!!g,lockRef:n,gapMode:E}),o?d.cloneElement(d.Children.only(a),Ie(Ie({},O),{ref:T})):d.createElement(b,Ie({},O,{className:c,ref:T}),a))});ts.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};ts.classNames={fullWidth:Ar,zeroRight:Or};var Gg=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function Jg(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=Gg();return e&&t.setAttribute("nonce",e),t}function Qg(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function Yg(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var Zg=function(){var t=0,e=null;return{add:function(n){t==0&&(e=Jg())&&(Qg(e,n),Yg(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},Xg=function(){var t=Zg();return function(e,n){d.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&n])}},Du=function(){var t=Xg(),e=function(n){var r=n.styles,s=n.dynamic;return t(r,s),null};return e},ey={left:0,top:0,right:0,gap:0},zs=function(t){return parseInt(t||"",10)||0},ty=function(t){var e=window.getComputedStyle(document.body),n=e[t==="padding"?"paddingLeft":"marginLeft"],r=e[t==="padding"?"paddingTop":"marginTop"],s=e[t==="padding"?"paddingRight":"marginRight"];return[zs(n),zs(r),zs(s)]},ny=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return ey;var e=ty(t),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,r-n+e[2]-e[0])}},ry=Du(),fn="data-scroll-locked",sy=function(t,e,n,r){var s=t.left,i=t.top,o=t.right,a=t.gap;return n===void 0&&(n="margin"),`
  .`.concat(Mg,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(a,"px ").concat(r,`;
  }
  body[`).concat(fn,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(s,`px;
    padding-top: `).concat(i,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(a,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(a,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Or,` {
    right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(Ar,` {
    margin-right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(Or," .").concat(Or,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(Ar," .").concat(Ar,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(fn,`] {
    `).concat(Ug,": ").concat(a,`px;
  }
`)},Sa=function(){var t=parseInt(document.body.getAttribute(fn)||"0",10);return isFinite(t)?t:0},iy=function(){d.useEffect(function(){return document.body.setAttribute(fn,(Sa()+1).toString()),function(){var t=Sa()-1;t<=0?document.body.removeAttribute(fn):document.body.setAttribute(fn,t.toString())}},[])},oy=function(t){var e=t.noRelative,n=t.noImportant,r=t.gapMode,s=r===void 0?"margin":r;iy();var i=d.useMemo(function(){return ny(s)},[s]);return d.createElement(ry,{styles:sy(i,!e,s,n?"":"!important")})},Ei=!1;if(typeof window<"u")try{var yr=Object.defineProperty({},"passive",{get:function(){return Ei=!0,!0}});window.addEventListener("test",yr,yr),window.removeEventListener("test",yr,yr)}catch{Ei=!1}var sn=Ei?{passive:!1}:!1,ay=function(t){return t.tagName==="TEXTAREA"},Fu=function(t,e){if(!(t instanceof Element))return!1;var n=window.getComputedStyle(t);return n[e]!=="hidden"&&!(n.overflowY===n.overflowX&&!ay(t)&&n[e]==="visible")},cy=function(t){return Fu(t,"overflowY")},uy=function(t){return Fu(t,"overflowX")},Ca=function(t,e){var n=e.ownerDocument,r=e;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var s=Lu(t,r);if(s){var i=Mu(t,r),o=i[1],a=i[2];if(o>a)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},ly=function(t){var e=t.scrollTop,n=t.scrollHeight,r=t.clientHeight;return[e,n,r]},dy=function(t){var e=t.scrollLeft,n=t.scrollWidth,r=t.clientWidth;return[e,n,r]},Lu=function(t,e){return t==="v"?cy(e):uy(e)},Mu=function(t,e){return t==="v"?ly(e):dy(e)},fy=function(t,e){return t==="h"&&e==="rtl"?-1:1},hy=function(t,e,n,r,s){var i=fy(t,window.getComputedStyle(e).direction),o=i*r,a=n.target,c=e.contains(a),u=!1,l=o>0,f=0,h=0;do{var m=Mu(t,a),v=m[0],g=m[1],y=m[2],b=g-y-i*v;(v||b)&&Lu(t,a)&&(f+=b,h+=v),a instanceof ShadowRoot?a=a.host:a=a.parentNode}while(!c&&a!==document.body||c&&(e.contains(a)||e===a));return(l&&Math.abs(f)<1||!l&&Math.abs(h)<1)&&(u=!0),u},vr=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},Ta=function(t){return[t.deltaX,t.deltaY]},Oa=function(t){return t&&"current"in t?t.current:t},py=function(t,e){return t[0]===e[0]&&t[1]===e[1]},my=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},gy=0,on=[];function yy(t){var e=d.useRef([]),n=d.useRef([0,0]),r=d.useRef(),s=d.useState(gy++)[0],i=d.useState(Du)[0],o=d.useRef(t);d.useEffect(function(){o.current=t},[t]),d.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(s));var g=Lg([t.lockRef.current],(t.shards||[]).map(Oa),!0).filter(Boolean);return g.forEach(function(y){return y.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),g.forEach(function(y){return y.classList.remove("allow-interactivity-".concat(s))})}}},[t.inert,t.lockRef.current,t.shards]);var a=d.useCallback(function(g,y){if("touches"in g&&g.touches.length===2||g.type==="wheel"&&g.ctrlKey)return!o.current.allowPinchZoom;var b=vr(g),E=n.current,C="deltaX"in g?g.deltaX:E[0]-b[0],x="deltaY"in g?g.deltaY:E[1]-b[1],T,O=g.target,_=Math.abs(C)>Math.abs(x)?"h":"v";if("touches"in g&&_==="h"&&O.type==="range")return!1;var N=Ca(_,O);if(!N)return!0;if(N?T=_:(T=_==="v"?"h":"v",N=Ca(_,O)),!N)return!1;if(!r.current&&"changedTouches"in g&&(C||x)&&(r.current=T),!T)return!0;var k=r.current||T;return hy(k,y,g,k==="h"?C:x)},[]),c=d.useCallback(function(g){var y=g;if(!(!on.length||on[on.length-1]!==i)){var b="deltaY"in y?Ta(y):vr(y),E=e.current.filter(function(T){return T.name===y.type&&(T.target===y.target||y.target===T.shadowParent)&&py(T.delta,b)})[0];if(E&&E.should){y.cancelable&&y.preventDefault();return}if(!E){var C=(o.current.shards||[]).map(Oa).filter(Boolean).filter(function(T){return T.contains(y.target)}),x=C.length>0?a(y,C[0]):!o.current.noIsolation;x&&y.cancelable&&y.preventDefault()}}},[]),u=d.useCallback(function(g,y,b,E){var C={name:g,delta:y,target:b,should:E,shadowParent:vy(b)};e.current.push(C),setTimeout(function(){e.current=e.current.filter(function(x){return x!==C})},1)},[]),l=d.useCallback(function(g){n.current=vr(g),r.current=void 0},[]),f=d.useCallback(function(g){u(g.type,Ta(g),g.target,a(g,t.lockRef.current))},[]),h=d.useCallback(function(g){u(g.type,vr(g),g.target,a(g,t.lockRef.current))},[]);d.useEffect(function(){return on.push(i),t.setCallbacks({onScrollCapture:f,onWheelCapture:f,onTouchMoveCapture:h}),document.addEventListener("wheel",c,sn),document.addEventListener("touchmove",c,sn),document.addEventListener("touchstart",l,sn),function(){on=on.filter(function(g){return g!==i}),document.removeEventListener("wheel",c,sn),document.removeEventListener("touchmove",c,sn),document.removeEventListener("touchstart",l,sn)}},[]);var m=t.removeScrollBar,v=t.inert;return d.createElement(d.Fragment,null,v?d.createElement(i,{styles:my(s)}):null,m?d.createElement(oy,{gapMode:t.gapMode}):null)}function vy(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const by=Kg(Iu,yy);var no=d.forwardRef(function(t,e){return d.createElement(ts,Ie({},t,{ref:e,sideCar:by}))});no.classNames=ts.classNames;var ro="Popover",[Uu,sE]=nu(ro,[wu]),er=wu(),[wy,Et]=Uu(ro),Bu=t=>{const{__scopePopover:e,children:n,open:r,defaultOpen:s,onOpenChange:i,modal:o=!1}=t,a=er(e),c=d.useRef(null),[u,l]=d.useState(!1),[f=!1,h]=Rg({prop:r,defaultProp:s,onChange:i});return p.jsx(Tg,{...a,children:p.jsx(wy,{scope:e,contentId:bm(),triggerRef:c,open:f,onOpenChange:h,onOpenToggle:d.useCallback(()=>h(m=>!m),[h]),hasCustomAnchor:u,onCustomAnchorAdd:d.useCallback(()=>l(!0),[]),onCustomAnchorRemove:d.useCallback(()=>l(!1),[]),modal:o,children:n})})};Bu.displayName=ro;var zu="PopoverAnchor",_y=d.forwardRef((t,e)=>{const{__scopePopover:n,...r}=t,s=Et(zu,n),i=er(n),{onCustomAnchorAdd:o,onCustomAnchorRemove:a}=s;return d.useEffect(()=>(o(),()=>a()),[o,a]),p.jsx(Pu,{...i,...r,ref:e})});_y.displayName=zu;var Wu="PopoverTrigger",Vu=d.forwardRef((t,e)=>{const{__scopePopover:n,...r}=t,s=Et(Wu,n),i=er(n),o=xt(e,s.triggerRef),a=p.jsx(Je.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":Ju(s.open),...r,ref:o,onClick:ht(t.onClick,s.onOpenToggle)});return s.hasCustomAnchor?a:p.jsx(Pu,{asChild:!0,...i,children:a})});Vu.displayName=Wu;var so="PopoverPortal",[xy,Ey]=Uu(so,{forceMount:void 0}),qu=t=>{const{__scopePopover:e,forceMount:n,children:r,container:s}=t,i=Et(so,e);return p.jsx(xy,{scope:e,forceMount:n,children:p.jsx(to,{present:n||i.open,children:p.jsx(ju,{asChild:!0,container:s,children:r})})})};qu.displayName=so;var wn="PopoverContent",Hu=d.forwardRef((t,e)=>{const n=Ey(wn,t.__scopePopover),{forceMount:r=n.forceMount,...s}=t,i=Et(wn,t.__scopePopover);return p.jsx(to,{present:r||i.open,children:i.modal?p.jsx(Cy,{...s,ref:e}):p.jsx(Ty,{...s,ref:e})})});Hu.displayName=wn;var Sy=Zn("PopoverContent.RemoveScroll"),Cy=d.forwardRef((t,e)=>{const n=Et(wn,t.__scopePopover),r=d.useRef(null),s=xt(e,r),i=d.useRef(!1);return d.useEffect(()=>{const o=r.current;if(o)return $u(o)},[]),p.jsx(no,{as:Sy,allowPinchZoom:!0,children:p.jsx(Ku,{...t,ref:s,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:ht(t.onCloseAutoFocus,o=>{var a;o.preventDefault(),i.current||(a=n.triggerRef.current)==null||a.focus()}),onPointerDownOutside:ht(t.onPointerDownOutside,o=>{const a=o.detail.originalEvent,c=a.button===0&&a.ctrlKey===!0,u=a.button===2||c;i.current=u},{checkForDefaultPrevented:!1}),onFocusOutside:ht(t.onFocusOutside,o=>o.preventDefault(),{checkForDefaultPrevented:!1})})})}),Ty=d.forwardRef((t,e)=>{const n=Et(wn,t.__scopePopover),r=d.useRef(!1),s=d.useRef(!1);return p.jsx(Ku,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var o,a;(o=t.onCloseAutoFocus)==null||o.call(t,i),i.defaultPrevented||(r.current||(a=n.triggerRef.current)==null||a.focus(),i.preventDefault()),r.current=!1,s.current=!1},onInteractOutside:i=>{var c,u;(c=t.onInteractOutside)==null||c.call(t,i),i.defaultPrevented||(r.current=!0,i.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const o=i.target;((u=n.triggerRef.current)==null?void 0:u.contains(o))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&s.current&&i.preventDefault()}})}),Ku=d.forwardRef((t,e)=>{const{__scopePopover:n,trapFocus:r,onOpenAutoFocus:s,onCloseAutoFocus:i,disableOutsidePointerEvents:o,onEscapeKeyDown:a,onPointerDownOutside:c,onFocusOutside:u,onInteractOutside:l,...f}=t,h=Et(wn,n),m=er(n);return um(),p.jsx(ou,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:s,onUnmountAutoFocus:i,children:p.jsx(su,{asChild:!0,disableOutsidePointerEvents:o,onInteractOutside:l,onEscapeKeyDown:a,onPointerDownOutside:c,onFocusOutside:u,onDismiss:()=>h.onOpenChange(!1),children:p.jsx(Og,{"data-state":Ju(h.open),role:"dialog",id:h.contentId,...m,...f,ref:e,style:{...f.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),Gu="PopoverClose",Oy=d.forwardRef((t,e)=>{const{__scopePopover:n,...r}=t,s=Et(Gu,n);return p.jsx(Je.button,{type:"button",...r,ref:e,onClick:ht(t.onClick,()=>s.onOpenChange(!1))})});Oy.displayName=Gu;var Ay="PopoverArrow",Py=d.forwardRef((t,e)=>{const{__scopePopover:n,...r}=t,s=er(n);return p.jsx(Ag,{...s,...r,ref:e})});Py.displayName=Ay;function Ju(t){return t?"open":"closed"}var jy=Bu,ky=Vu,$y=qu,Qu=Hu;const Ry=jy,Ny=ky,Yu=d.forwardRef(({className:t,align:e="center",sideOffset:n=4,...r},s)=>p.jsx($y,{children:p.jsx(Qu,{ref:s,align:e,sideOffset:n,className:M("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...r})}));Yu.displayName=Qu.displayName;function Aa(t,e,{checkForDefaultPrevented:n=!0}={}){return function(s){if(t==null||t(s),n===!1||!s.defaultPrevented)return e==null?void 0:e(s)}}function Iy(t,e=[]){let n=[];function r(i,o){const a=d.createContext(o),c=n.length;n=[...n,o];const u=f=>{var b;const{scope:h,children:m,...v}=f,g=((b=h==null?void 0:h[t])==null?void 0:b[c])||a,y=d.useMemo(()=>v,Object.values(v));return p.jsx(g.Provider,{value:y,children:m})};u.displayName=i+"Provider";function l(f,h){var g;const m=((g=h==null?void 0:h[t])==null?void 0:g[c])||a,v=d.useContext(m);if(v)return v;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${i}\``)}return[u,l]}const s=()=>{const i=n.map(o=>d.createContext(o));return function(a){const c=(a==null?void 0:a[t])||i;return d.useMemo(()=>({[`__scope${t}`]:{...a,[t]:c}}),[a,c])}};return s.scopeName=t,[r,Dy(s,...e)]}function Dy(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const o=r.reduce((a,{useScope:c,scopeName:u})=>{const f=c(i)[`__scope${u}`];return{...a,...f}},{});return d.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}function Pa(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function Zu(...t){return e=>{let n=!1;const r=t.map(s=>{const i=Pa(s,e);return!n&&typeof i=="function"&&(n=!0),i});if(n)return()=>{for(let s=0;s<r.length;s++){const i=r[s];typeof i=="function"?i():Pa(t[s],null)}}}}function Xu(...t){return d.useCallback(Zu(...t),t)}var el=d.forwardRef((t,e)=>{const{children:n,...r}=t,s=d.Children.toArray(n),i=s.find(Ly);if(i){const o=i.props.children,a=s.map(c=>c===i?d.Children.count(o)>1?d.Children.only(null):d.isValidElement(o)?o.props.children:null:c);return p.jsx(Si,{...r,ref:e,children:d.isValidElement(o)?d.cloneElement(o,void 0,a):null})}return p.jsx(Si,{...r,ref:e,children:n})});el.displayName="Slot";var Si=d.forwardRef((t,e)=>{const{children:n,...r}=t;if(d.isValidElement(n)){const s=Uy(n),i=My(r,n.props);return n.type!==d.Fragment&&(i.ref=e?Zu(e,s):s),d.cloneElement(n,i)}return d.Children.count(n)>1?d.Children.only(null):null});Si.displayName="SlotClone";var Fy=({children:t})=>p.jsx(p.Fragment,{children:t});function Ly(t){return d.isValidElement(t)&&t.type===Fy}function My(t,e){const n={...e};for(const r in e){const s=t[r],i=e[r];/^on[A-Z]/.test(r)?s&&i?n[r]=(...a)=>{i(...a),s(...a)}:s&&(n[r]=s):r==="style"?n[r]={...s,...i}:r==="className"&&(n[r]=[s,i].filter(Boolean).join(" "))}return{...t,...n}}function Uy(t){var r,s;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var By=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],tl=By.reduce((t,e)=>{const n=d.forwardRef((r,s)=>{const{asChild:i,...o}=r,a=i?el:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),p.jsx(a,{...o,ref:s})});return n.displayName=`Primitive.${e}`,{...t,[e]:n}},{});function iE(t,e){t&&zr.flushSync(()=>t.dispatchEvent(e))}function nl(t){const e=d.useRef(t);return d.useEffect(()=>{e.current=t}),d.useMemo(()=>(...n)=>{var r;return(r=e.current)==null?void 0:r.call(e,...n)},[])}var Ci=globalThis!=null&&globalThis.document?d.useLayoutEffect:()=>{};function zy(t){const[e,n]=d.useState(void 0);return Ci(()=>{if(t){n({width:t.offsetWidth,height:t.offsetHeight});const r=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const i=s[0];let o,a;if("borderBoxSize"in i){const c=i.borderBoxSize,u=Array.isArray(c)?c[0]:c;o=u.inlineSize,a=u.blockSize}else o=t.offsetWidth,a=t.offsetHeight;n({width:o,height:a})});return r.observe(t,{box:"border-box"}),()=>r.unobserve(t)}else n(void 0)},[t]),e}function Wy({prop:t,defaultProp:e,onChange:n=()=>{}}){const[r,s]=Vy({defaultProp:e,onChange:n}),i=t!==void 0,o=i?t:r,a=nl(n),c=d.useCallback(u=>{if(i){const f=typeof u=="function"?u(t):u;f!==t&&a(f)}else s(u)},[i,t,s,a]);return[o,c]}function Vy({defaultProp:t,onChange:e}){const n=d.useState(t),[r]=n,s=d.useRef(r),i=nl(e);return d.useEffect(()=>{s.current!==r&&(i(r),s.current=r)},[r,s,i]),n}function qy(t){const e=d.useRef({value:t,previous:t});return d.useMemo(()=>(e.current.value!==t&&(e.current.previous=e.current.value,e.current.value=t),e.current.previous),[t])}function Hy({className:t}){return p.jsx("svg",{width:"27px",height:"27px",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:M("stroke-primary",t),children:p.jsx("path",{d:"M4 12.6111L8.92308 17.5L20 6.5",stroke:"#fff",strokeWidth:"4",strokeLinecap:"round",strokeLinejoin:"round"})})}function rl(){return p.jsxs("div",{className:"flex space-x-5 justify-center h-full items-center",children:[p.jsx("span",{className:"sr-only",children:"Loading..."}),p.jsx("div",{className:"size-6 bg-primary rounded-full animate-bounce [animation-delay:-0.3s]"}),p.jsx("div",{className:"size-6 bg-primary rounded-full animate-bounce [animation-delay:-0.15s]"}),p.jsx("div",{className:"size-6 bg-primary rounded-full animate-bounce"})]})}function pt(t,e,{checkForDefaultPrevented:n=!0}={}){return function(s){if(t==null||t(s),n===!1||!s.defaultPrevented)return e==null?void 0:e(s)}}function ja(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function Ky(...t){return e=>{let n=!1;const r=t.map(s=>{const i=ja(s,e);return!n&&typeof i=="function"&&(n=!0),i});if(n)return()=>{for(let s=0;s<r.length;s++){const i=r[s];typeof i=="function"?i():ja(t[s],null)}}}}function qt(...t){return d.useCallback(Ky(...t),t)}function Gy(t,e){const n=d.createContext(e),r=i=>{const{children:o,...a}=i,c=d.useMemo(()=>a,Object.values(a));return p.jsx(n.Provider,{value:c,children:o})};r.displayName=t+"Provider";function s(i){const o=d.useContext(n);if(o)return o;if(e!==void 0)return e;throw new Error(`\`${i}\` must be used within \`${t}\``)}return[r,s]}function Jy(t,e=[]){let n=[];function r(i,o){const a=d.createContext(o),c=n.length;n=[...n,o];const u=f=>{var b;const{scope:h,children:m,...v}=f,g=((b=h==null?void 0:h[t])==null?void 0:b[c])||a,y=d.useMemo(()=>v,Object.values(v));return p.jsx(g.Provider,{value:y,children:m})};u.displayName=i+"Provider";function l(f,h){var g;const m=((g=h==null?void 0:h[t])==null?void 0:g[c])||a,v=d.useContext(m);if(v)return v;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${i}\``)}return[u,l]}const s=()=>{const i=n.map(o=>d.createContext(o));return function(a){const c=(a==null?void 0:a[t])||i;return d.useMemo(()=>({[`__scope${t}`]:{...a,[t]:c}}),[a,c])}};return s.scopeName=t,[r,Qy(s,...e)]}function Qy(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const o=r.reduce((a,{useScope:c,scopeName:u})=>{const f=c(i)[`__scope${u}`];return{...a,...f}},{});return d.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}var Fr=globalThis!=null&&globalThis.document?d.useLayoutEffect:()=>{},Yy=Cc[" useId ".trim().toString()]||(()=>{}),Zy=0;function Ws(t){const[e,n]=d.useState(Yy());return Fr(()=>{t||n(r=>r??String(Zy++))},[t]),t||(e?`radix-${e}`:"")}function Mt(t){const e=d.useRef(t);return d.useEffect(()=>{e.current=t}),d.useMemo(()=>(...n)=>{var r;return(r=e.current)==null?void 0:r.call(e,...n)},[])}function Xy({prop:t,defaultProp:e,onChange:n=()=>{}}){const[r,s]=ev({defaultProp:e,onChange:n}),i=t!==void 0,o=i?t:r,a=Mt(n),c=d.useCallback(u=>{if(i){const f=typeof u=="function"?u(t):u;f!==t&&a(f)}else s(u)},[i,t,s,a]);return[o,c]}function ev({defaultProp:t,onChange:e}){const n=d.useState(t),[r]=n,s=d.useRef(r),i=Mt(e);return d.useEffect(()=>{s.current!==r&&(i(r),s.current=r)},[r,s,i]),n}var tv=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],Qe=tv.reduce((t,e)=>{const n=Zn(`Primitive.${e}`),r=d.forwardRef((s,i)=>{const{asChild:o,...a}=s,c=o?n:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),p.jsx(c,{...a,ref:i})});return r.displayName=`Primitive.${e}`,{...t,[e]:r}},{});function nv(t,e){t&&zr.flushSync(()=>t.dispatchEvent(e))}function rv(t,e=globalThis==null?void 0:globalThis.document){const n=Mt(t);d.useEffect(()=>{const r=s=>{s.key==="Escape"&&n(s)};return e.addEventListener("keydown",r,{capture:!0}),()=>e.removeEventListener("keydown",r,{capture:!0})},[n,e])}var sv="DismissableLayer",Ti="dismissableLayer.update",iv="dismissableLayer.pointerDownOutside",ov="dismissableLayer.focusOutside",ka,sl=d.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),il=d.forwardRef((t,e)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:s,onFocusOutside:i,onInteractOutside:o,onDismiss:a,...c}=t,u=d.useContext(sl),[l,f]=d.useState(null),h=(l==null?void 0:l.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,m]=d.useState({}),v=qt(e,_=>f(_)),g=Array.from(u.layers),[y]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),b=g.indexOf(y),E=l?g.indexOf(l):-1,C=u.layersWithOutsidePointerEventsDisabled.size>0,x=E>=b,T=uv(_=>{const N=_.target,k=[...u.branches].some(I=>I.contains(N));!x||k||(s==null||s(_),o==null||o(_),_.defaultPrevented||a==null||a())},h),O=lv(_=>{const N=_.target;[...u.branches].some(I=>I.contains(N))||(i==null||i(_),o==null||o(_),_.defaultPrevented||a==null||a())},h);return rv(_=>{E===u.layers.size-1&&(r==null||r(_),!_.defaultPrevented&&a&&(_.preventDefault(),a()))},h),d.useEffect(()=>{if(l)return n&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(ka=h.body.style.pointerEvents,h.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(l)),u.layers.add(l),$a(),()=>{n&&u.layersWithOutsidePointerEventsDisabled.size===1&&(h.body.style.pointerEvents=ka)}},[l,h,n,u]),d.useEffect(()=>()=>{l&&(u.layers.delete(l),u.layersWithOutsidePointerEventsDisabled.delete(l),$a())},[l,u]),d.useEffect(()=>{const _=()=>m({});return document.addEventListener(Ti,_),()=>document.removeEventListener(Ti,_)},[]),p.jsx(Qe.div,{...c,ref:v,style:{pointerEvents:C?x?"auto":"none":void 0,...t.style},onFocusCapture:pt(t.onFocusCapture,O.onFocusCapture),onBlurCapture:pt(t.onBlurCapture,O.onBlurCapture),onPointerDownCapture:pt(t.onPointerDownCapture,T.onPointerDownCapture)})});il.displayName=sv;var av="DismissableLayerBranch",cv=d.forwardRef((t,e)=>{const n=d.useContext(sl),r=d.useRef(null),s=qt(e,r);return d.useEffect(()=>{const i=r.current;if(i)return n.branches.add(i),()=>{n.branches.delete(i)}},[n.branches]),p.jsx(Qe.div,{...t,ref:s})});cv.displayName=av;function uv(t,e=globalThis==null?void 0:globalThis.document){const n=Mt(t),r=d.useRef(!1),s=d.useRef(()=>{});return d.useEffect(()=>{const i=a=>{if(a.target&&!r.current){let c=function(){ol(iv,n,u,{discrete:!0})};const u={originalEvent:a};a.pointerType==="touch"?(e.removeEventListener("click",s.current),s.current=c,e.addEventListener("click",s.current,{once:!0})):c()}else e.removeEventListener("click",s.current);r.current=!1},o=window.setTimeout(()=>{e.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(o),e.removeEventListener("pointerdown",i),e.removeEventListener("click",s.current)}},[e,n]),{onPointerDownCapture:()=>r.current=!0}}function lv(t,e=globalThis==null?void 0:globalThis.document){const n=Mt(t),r=d.useRef(!1);return d.useEffect(()=>{const s=i=>{i.target&&!r.current&&ol(ov,n,{originalEvent:i},{discrete:!1})};return e.addEventListener("focusin",s),()=>e.removeEventListener("focusin",s)},[e,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function $a(){const t=new CustomEvent(Ti);document.dispatchEvent(t)}function ol(t,e,n,{discrete:r}){const s=n.originalEvent.target,i=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&s.addEventListener(t,e,{once:!0}),r?nv(s,i):s.dispatchEvent(i)}var Vs="focusScope.autoFocusOnMount",qs="focusScope.autoFocusOnUnmount",Ra={bubbles:!1,cancelable:!0},dv="FocusScope",al=d.forwardRef((t,e)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:s,onUnmountAutoFocus:i,...o}=t,[a,c]=d.useState(null),u=Mt(s),l=Mt(i),f=d.useRef(null),h=qt(e,g=>c(g)),m=d.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;d.useEffect(()=>{if(r){let g=function(C){if(m.paused||!a)return;const x=C.target;a.contains(x)?f.current=x:it(f.current,{select:!0})},y=function(C){if(m.paused||!a)return;const x=C.relatedTarget;x!==null&&(a.contains(x)||it(f.current,{select:!0}))},b=function(C){if(document.activeElement===document.body)for(const T of C)T.removedNodes.length>0&&it(a)};document.addEventListener("focusin",g),document.addEventListener("focusout",y);const E=new MutationObserver(b);return a&&E.observe(a,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",g),document.removeEventListener("focusout",y),E.disconnect()}}},[r,a,m.paused]),d.useEffect(()=>{if(a){Ia.add(m);const g=document.activeElement;if(!a.contains(g)){const b=new CustomEvent(Vs,Ra);a.addEventListener(Vs,u),a.dispatchEvent(b),b.defaultPrevented||(fv(yv(cl(a)),{select:!0}),document.activeElement===g&&it(a))}return()=>{a.removeEventListener(Vs,u),setTimeout(()=>{const b=new CustomEvent(qs,Ra);a.addEventListener(qs,l),a.dispatchEvent(b),b.defaultPrevented||it(g??document.body,{select:!0}),a.removeEventListener(qs,l),Ia.remove(m)},0)}}},[a,u,l,m]);const v=d.useCallback(g=>{if(!n&&!r||m.paused)return;const y=g.key==="Tab"&&!g.altKey&&!g.ctrlKey&&!g.metaKey,b=document.activeElement;if(y&&b){const E=g.currentTarget,[C,x]=hv(E);C&&x?!g.shiftKey&&b===x?(g.preventDefault(),n&&it(C,{select:!0})):g.shiftKey&&b===C&&(g.preventDefault(),n&&it(x,{select:!0})):b===E&&g.preventDefault()}},[n,r,m.paused]);return p.jsx(Qe.div,{tabIndex:-1,...o,ref:h,onKeyDown:v})});al.displayName=dv;function fv(t,{select:e=!1}={}){const n=document.activeElement;for(const r of t)if(it(r,{select:e}),document.activeElement!==n)return}function hv(t){const e=cl(t),n=Na(e,t),r=Na(e.reverse(),t);return[n,r]}function cl(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function Na(t,e){for(const n of t)if(!pv(n,{upTo:e}))return n}function pv(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function mv(t){return t instanceof HTMLInputElement&&"select"in t}function it(t,{select:e=!1}={}){if(t&&t.focus){const n=document.activeElement;t.focus({preventScroll:!0}),t!==n&&mv(t)&&e&&t.select()}}var Ia=gv();function gv(){let t=[];return{add(e){const n=t[0];e!==n&&(n==null||n.pause()),t=Da(t,e),t.unshift(e)},remove(e){var n;t=Da(t,e),(n=t[0])==null||n.resume()}}}function Da(t,e){const n=[...t],r=n.indexOf(e);return r!==-1&&n.splice(r,1),n}function yv(t){return t.filter(e=>e.tagName!=="A")}var vv="Portal",ul=d.forwardRef((t,e)=>{var a;const{container:n,...r}=t,[s,i]=d.useState(!1);Fr(()=>i(!0),[]);const o=n||s&&((a=globalThis==null?void 0:globalThis.document)==null?void 0:a.body);return o?Tc.createPortal(p.jsx(Qe.div,{...r,ref:e}),o):null});ul.displayName=vv;function bv(t,e){return d.useReducer((n,r)=>e[n][r]??n,t)}var ns=t=>{const{present:e,children:n}=t,r=wv(e),s=typeof n=="function"?n({present:r.isPresent}):d.Children.only(n),i=qt(r.ref,_v(s));return typeof n=="function"||r.isPresent?d.cloneElement(s,{ref:i}):null};ns.displayName="Presence";function wv(t){const[e,n]=d.useState(),r=d.useRef({}),s=d.useRef(t),i=d.useRef("none"),o=t?"mounted":"unmounted",[a,c]=bv(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return d.useEffect(()=>{const u=br(r.current);i.current=a==="mounted"?u:"none"},[a]),Fr(()=>{const u=r.current,l=s.current;if(l!==t){const h=i.current,m=br(u);t?c("MOUNT"):m==="none"||(u==null?void 0:u.display)==="none"?c("UNMOUNT"):c(l&&h!==m?"ANIMATION_OUT":"UNMOUNT"),s.current=t}},[t,c]),Fr(()=>{if(e){let u;const l=e.ownerDocument.defaultView??window,f=m=>{const g=br(r.current).includes(m.animationName);if(m.target===e&&g&&(c("ANIMATION_END"),!s.current)){const y=e.style.animationFillMode;e.style.animationFillMode="forwards",u=l.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=y)})}},h=m=>{m.target===e&&(i.current=br(r.current))};return e.addEventListener("animationstart",h),e.addEventListener("animationcancel",f),e.addEventListener("animationend",f),()=>{l.clearTimeout(u),e.removeEventListener("animationstart",h),e.removeEventListener("animationcancel",f),e.removeEventListener("animationend",f)}}else c("ANIMATION_END")},[e,c]),{isPresent:["mounted","unmountSuspended"].includes(a),ref:d.useCallback(u=>{u&&(r.current=getComputedStyle(u)),n(u)},[])}}function br(t){return(t==null?void 0:t.animationName)||"none"}function _v(t){var r,s;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var Hs=0;function xv(){d.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??Fa()),document.body.insertAdjacentElement("beforeend",t[1]??Fa()),Hs++,()=>{Hs===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),Hs--}},[])}function Fa(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var io="Dialog",[ll,oE]=Jy(io),[Ev,je]=ll(io),dl=t=>{const{__scopeDialog:e,children:n,open:r,defaultOpen:s,onOpenChange:i,modal:o=!0}=t,a=d.useRef(null),c=d.useRef(null),[u=!1,l]=Xy({prop:r,defaultProp:s,onChange:i});return p.jsx(Ev,{scope:e,triggerRef:a,contentRef:c,contentId:Ws(),titleId:Ws(),descriptionId:Ws(),open:u,onOpenChange:l,onOpenToggle:d.useCallback(()=>l(f=>!f),[l]),modal:o,children:n})};dl.displayName=io;var fl="DialogTrigger",hl=d.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=je(fl,n),i=qt(e,s.triggerRef);return p.jsx(Qe.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":co(s.open),...r,ref:i,onClick:pt(t.onClick,s.onOpenToggle)})});hl.displayName=fl;var oo="DialogPortal",[Sv,pl]=ll(oo,{forceMount:void 0}),ml=t=>{const{__scopeDialog:e,forceMount:n,children:r,container:s}=t,i=je(oo,e);return p.jsx(Sv,{scope:e,forceMount:n,children:d.Children.map(r,o=>p.jsx(ns,{present:n||i.open,children:p.jsx(ul,{asChild:!0,container:s,children:o})}))})};ml.displayName=oo;var Lr="DialogOverlay",gl=d.forwardRef((t,e)=>{const n=pl(Lr,t.__scopeDialog),{forceMount:r=n.forceMount,...s}=t,i=je(Lr,t.__scopeDialog);return i.modal?p.jsx(ns,{present:r||i.open,children:p.jsx(Tv,{...s,ref:e})}):null});gl.displayName=Lr;var Cv=Zn("DialogOverlay.RemoveScroll"),Tv=d.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=je(Lr,n);return p.jsx(no,{as:Cv,allowPinchZoom:!0,shards:[s.contentRef],children:p.jsx(Qe.div,{"data-state":co(s.open),...r,ref:e,style:{pointerEvents:"auto",...r.style}})})}),Ut="DialogContent",yl=d.forwardRef((t,e)=>{const n=pl(Ut,t.__scopeDialog),{forceMount:r=n.forceMount,...s}=t,i=je(Ut,t.__scopeDialog);return p.jsx(ns,{present:r||i.open,children:i.modal?p.jsx(Ov,{...s,ref:e}):p.jsx(Av,{...s,ref:e})})});yl.displayName=Ut;var Ov=d.forwardRef((t,e)=>{const n=je(Ut,t.__scopeDialog),r=d.useRef(null),s=qt(e,n.contentRef,r);return d.useEffect(()=>{const i=r.current;if(i)return $u(i)},[]),p.jsx(vl,{...t,ref:s,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:pt(t.onCloseAutoFocus,i=>{var o;i.preventDefault(),(o=n.triggerRef.current)==null||o.focus()}),onPointerDownOutside:pt(t.onPointerDownOutside,i=>{const o=i.detail.originalEvent,a=o.button===0&&o.ctrlKey===!0;(o.button===2||a)&&i.preventDefault()}),onFocusOutside:pt(t.onFocusOutside,i=>i.preventDefault())})}),Av=d.forwardRef((t,e)=>{const n=je(Ut,t.__scopeDialog),r=d.useRef(!1),s=d.useRef(!1);return p.jsx(vl,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var o,a;(o=t.onCloseAutoFocus)==null||o.call(t,i),i.defaultPrevented||(r.current||(a=n.triggerRef.current)==null||a.focus(),i.preventDefault()),r.current=!1,s.current=!1},onInteractOutside:i=>{var c,u;(c=t.onInteractOutside)==null||c.call(t,i),i.defaultPrevented||(r.current=!0,i.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const o=i.target;((u=n.triggerRef.current)==null?void 0:u.contains(o))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&s.current&&i.preventDefault()}})}),vl=d.forwardRef((t,e)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:s,onCloseAutoFocus:i,...o}=t,a=je(Ut,n),c=d.useRef(null),u=qt(e,c);return xv(),p.jsxs(p.Fragment,{children:[p.jsx(al,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:s,onUnmountAutoFocus:i,children:p.jsx(il,{role:"dialog",id:a.contentId,"aria-describedby":a.descriptionId,"aria-labelledby":a.titleId,"data-state":co(a.open),...o,ref:u,onDismiss:()=>a.onOpenChange(!1)})}),p.jsxs(p.Fragment,{children:[p.jsx(Pv,{titleId:a.titleId}),p.jsx(kv,{contentRef:c,descriptionId:a.descriptionId})]})]})}),ao="DialogTitle",bl=d.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=je(ao,n);return p.jsx(Qe.h2,{id:s.titleId,...r,ref:e})});bl.displayName=ao;var wl="DialogDescription",_l=d.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=je(wl,n);return p.jsx(Qe.p,{id:s.descriptionId,...r,ref:e})});_l.displayName=wl;var xl="DialogClose",El=d.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=je(xl,n);return p.jsx(Qe.button,{type:"button",...r,ref:e,onClick:pt(t.onClick,()=>s.onOpenChange(!1))})});El.displayName=xl;function co(t){return t?"open":"closed"}var Sl="DialogTitleWarning",[aE,Cl]=Gy(Sl,{contentName:Ut,titleName:ao,docsSlug:"dialog"}),Pv=({titleId:t})=>{const e=Cl(Sl),n=`\`${e.contentName}\` requires a \`${e.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${e.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${e.docsSlug}`;return d.useEffect(()=>{t&&(document.getElementById(t)||console.error(n))},[n,t]),null},jv="DialogDescriptionWarning",kv=({contentRef:t,descriptionId:e})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${Cl(jv).contentName}}.`;return d.useEffect(()=>{var i;const s=(i=t.current)==null?void 0:i.getAttribute("aria-describedby");e&&s&&(document.getElementById(e)||console.warn(r))},[r,t,e]),null},Tl=dl,Ol=hl,Al=ml,rs=gl,ss=yl,is=bl,os=_l,Pl=El;function jl({className:t}){return p.jsx("svg",{width:"27px",height:"27px",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:M("",t),children:p.jsx("path",{d:"M20.7457 3.32851C20.3552 2.93798 19.722 2.93798 19.3315 3.32851L12.0371 10.6229L4.74275 3.32851C4.35223 2.93798 3.71906 2.93798 3.32854 3.32851C2.93801 3.71903 2.93801 4.3522 3.32854 4.74272L10.6229 12.0371L3.32856 19.3314C2.93803 19.722 2.93803 20.3551 3.32856 20.7457C3.71908 21.1362 4.35225 21.1362 4.74277 20.7457L12.0371 13.4513L19.3315 20.7457C19.722 21.1362 20.3552 21.1362 20.7457 20.7457C21.1362 20.3551 21.1362 19.722 20.7457 19.3315L13.4513 12.0371L20.7457 4.74272C21.1362 4.3522 21.1362 3.71903 20.7457 3.32851Z",fill:"#0F0F0F"})})}const $v=Tl,Rv=Ol,Nv=Al,kl=d.forwardRef(({className:t,...e},n)=>p.jsx(rs,{ref:n,className:M("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e}));kl.displayName=rs.displayName;const $l=d.forwardRef(({className:t,children:e,...n},r)=>p.jsxs(Nv,{children:[p.jsx(kl,{}),p.jsx(ss,{ref:r,className:M("fixed left-[50%] h-full top-[50%] py-5 px-3 z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...n,children:e})]}));$l.displayName=ss.displayName;const Rl=({className:t,...e})=>p.jsxs("div",{className:"flex justify-between",children:[p.jsx("div",{className:M("flex flex-col space-y-1.5 text-center sm:text-left",t),...e}),p.jsxs(Pl,{className:"flex flex-col h-fit w-fit focus:ring-transparent focus:ring-0 items-end rounded-sm opacity-70 transition-opacity hover:opacity-100 focus:outline-none disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[p.jsx(jl,{}),p.jsx("span",{className:"sr-only",children:"Close"})]})]});Rl.displayName="DialogHeader";const Nl=({className:t,...e})=>p.jsx("div",{className:M("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...e});Nl.displayName="DialogFooter";const Il=d.forwardRef(({className:t,...e},n)=>p.jsx(is,{ref:n,className:M("text-lg font-semibold leading-none tracking-tight",t),...e}));Il.displayName=is.displayName;const Iv=d.forwardRef(({className:t,...e},n)=>p.jsx(os,{ref:n,className:M("text-sm text-muted-foreground",t),...e}));Iv.displayName=os.displayName;const uo=({onClose:t,trigger:e,className:n,toggle:r,title:s,isOpen:i,children:o,forceModal:a,actions:c})=>{const u=l=>{r==null||r(l),l||t==null||t()};return p.jsxs($v,{open:i,modal:a,onOpenChange:u,children:[e&&p.jsx(Rv,{children:e}),p.jsx($l,{forceMount:!0,className:M("max-md:max-h-[90%]",n),onInteractOutside:l=>l.preventDefault(),children:p.jsxs("div",{className:"flex flex-col overflow-hidden",children:[p.jsx(Rl,{className:"mb-7",children:s&&p.jsx(Il,{className:"text-xl",children:s})}),p.jsx("div",{className:"flex-1 overflow-hidden",children:o}),c&&p.jsx(Nl,{children:c})]})})]})};function Oi({isOpen:t,setIsOpen:e,children:n,className:r,trigger:s,title:i}){return p.jsx(uo,{title:i,className:M("max-w-none lg:w-3/4 xl:w-1/2 w-10/12 md:h-fit overflow-hidden rounded-lg",r),isOpen:t,toggle:o=>e(o??!1),trigger:s,children:n})}function cE({label:t="لا توجد نتائج"}){return p.jsx("p",{className:"text-2xl max-sm:text-base text-center text-slate-500 flex-1",children:t})}var Dv=function(e){return Fv(e)&&!Lv(e)};function Fv(t){return!!t&&typeof t=="object"}function Lv(t){var e=Object.prototype.toString.call(t);return e==="[object RegExp]"||e==="[object Date]"||Bv(t)}var Mv=typeof Symbol=="function"&&Symbol.for,Uv=Mv?Symbol.for("react.element"):60103;function Bv(t){return t.$$typeof===Uv}function zv(t){return Array.isArray(t)?[]:{}}function Mr(t,e){return e.clone!==!1&&e.isMergeableObject(t)?Vn(zv(t),t,e):t}function Wv(t,e,n){return t.concat(e).map(function(r){return Mr(r,n)})}function Vv(t,e,n){var r={};return n.isMergeableObject(t)&&Object.keys(t).forEach(function(s){r[s]=Mr(t[s],n)}),Object.keys(e).forEach(function(s){!n.isMergeableObject(e[s])||!t[s]?r[s]=Mr(e[s],n):r[s]=Vn(t[s],e[s],n)}),r}function Vn(t,e,n){n=n||{},n.arrayMerge=n.arrayMerge||Wv,n.isMergeableObject=n.isMergeableObject||Dv;var r=Array.isArray(e),s=Array.isArray(t),i=r===s;return i?r?n.arrayMerge(t,e,n):Vv(t,e,n):Mr(e,n)}Vn.all=function(e,n){if(!Array.isArray(e))throw new Error("first argument should be an array");return e.reduce(function(r,s){return Vn(r,s,n)},{})};var Ai=Vn,Dl=typeof global=="object"&&global&&global.Object===Object&&global,qv=typeof self=="object"&&self&&self.Object===Object&&self,Me=Dl||qv||Function("return this")(),_t=Me.Symbol,Fl=Object.prototype,Hv=Fl.hasOwnProperty,Kv=Fl.toString,Nn=_t?_t.toStringTag:void 0;function Gv(t){var e=Hv.call(t,Nn),n=t[Nn];try{t[Nn]=void 0;var r=!0}catch{}var s=Kv.call(t);return r&&(e?t[Nn]=n:delete t[Nn]),s}var Jv=Object.prototype,Qv=Jv.toString;function Yv(t){return Qv.call(t)}var Zv="[object Null]",Xv="[object Undefined]",La=_t?_t.toStringTag:void 0;function Ht(t){return t==null?t===void 0?Xv:Zv:La&&La in Object(t)?Gv(t):Yv(t)}function Ll(t,e){return function(n){return t(e(n))}}var lo=Ll(Object.getPrototypeOf,Object);function Kt(t){return t!=null&&typeof t=="object"}var eb="[object Object]",tb=Function.prototype,nb=Object.prototype,Ml=tb.toString,rb=nb.hasOwnProperty,sb=Ml.call(Object);function Ma(t){if(!Kt(t)||Ht(t)!=eb)return!1;var e=lo(t);if(e===null)return!0;var n=rb.call(e,"constructor")&&e.constructor;return typeof n=="function"&&n instanceof n&&Ml.call(n)==sb}function ib(){this.__data__=[],this.size=0}function Ul(t,e){return t===e||t!==t&&e!==e}function as(t,e){for(var n=t.length;n--;)if(Ul(t[n][0],e))return n;return-1}var ob=Array.prototype,ab=ob.splice;function cb(t){var e=this.__data__,n=as(e,t);if(n<0)return!1;var r=e.length-1;return n==r?e.pop():ab.call(e,n,1),--this.size,!0}function ub(t){var e=this.__data__,n=as(e,t);return n<0?void 0:e[n][1]}function lb(t){return as(this.__data__,t)>-1}function db(t,e){var n=this.__data__,r=as(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this}function Ye(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Ye.prototype.clear=ib;Ye.prototype.delete=cb;Ye.prototype.get=ub;Ye.prototype.has=lb;Ye.prototype.set=db;function fb(){this.__data__=new Ye,this.size=0}function hb(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n}function pb(t){return this.__data__.get(t)}function mb(t){return this.__data__.has(t)}function tr(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var gb="[object AsyncFunction]",yb="[object Function]",vb="[object GeneratorFunction]",bb="[object Proxy]";function Bl(t){if(!tr(t))return!1;var e=Ht(t);return e==yb||e==vb||e==gb||e==bb}var Ks=Me["__core-js_shared__"],Ua=function(){var t=/[^.]+$/.exec(Ks&&Ks.keys&&Ks.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function wb(t){return!!Ua&&Ua in t}var _b=Function.prototype,xb=_b.toString;function Gt(t){if(t!=null){try{return xb.call(t)}catch{}try{return t+""}catch{}}return""}var Eb=/[\\^$.*+?()[\]{}|]/g,Sb=/^\[object .+?Constructor\]$/,Cb=Function.prototype,Tb=Object.prototype,Ob=Cb.toString,Ab=Tb.hasOwnProperty,Pb=RegExp("^"+Ob.call(Ab).replace(Eb,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function jb(t){if(!tr(t)||wb(t))return!1;var e=Bl(t)?Pb:Sb;return e.test(Gt(t))}function kb(t,e){return t==null?void 0:t[e]}function Jt(t,e){var n=kb(t,e);return jb(n)?n:void 0}var qn=Jt(Me,"Map"),Hn=Jt(Object,"create");function $b(){this.__data__=Hn?Hn(null):{},this.size=0}function Rb(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var Nb="__lodash_hash_undefined__",Ib=Object.prototype,Db=Ib.hasOwnProperty;function Fb(t){var e=this.__data__;if(Hn){var n=e[t];return n===Nb?void 0:n}return Db.call(e,t)?e[t]:void 0}var Lb=Object.prototype,Mb=Lb.hasOwnProperty;function Ub(t){var e=this.__data__;return Hn?e[t]!==void 0:Mb.call(e,t)}var Bb="__lodash_hash_undefined__";function zb(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=Hn&&e===void 0?Bb:e,this}function Bt(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Bt.prototype.clear=$b;Bt.prototype.delete=Rb;Bt.prototype.get=Fb;Bt.prototype.has=Ub;Bt.prototype.set=zb;function Wb(){this.size=0,this.__data__={hash:new Bt,map:new(qn||Ye),string:new Bt}}function Vb(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}function cs(t,e){var n=t.__data__;return Vb(e)?n[typeof e=="string"?"string":"hash"]:n.map}function qb(t){var e=cs(this,t).delete(t);return this.size-=e?1:0,e}function Hb(t){return cs(this,t).get(t)}function Kb(t){return cs(this,t).has(t)}function Gb(t,e){var n=cs(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this}function St(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}St.prototype.clear=Wb;St.prototype.delete=qb;St.prototype.get=Hb;St.prototype.has=Kb;St.prototype.set=Gb;var Jb=200;function Qb(t,e){var n=this.__data__;if(n instanceof Ye){var r=n.__data__;if(!qn||r.length<Jb-1)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new St(r)}return n.set(t,e),this.size=n.size,this}function On(t){var e=this.__data__=new Ye(t);this.size=e.size}On.prototype.clear=fb;On.prototype.delete=hb;On.prototype.get=pb;On.prototype.has=mb;On.prototype.set=Qb;function Yb(t,e){for(var n=-1,r=t==null?0:t.length;++n<r&&e(t[n],n,t)!==!1;);return t}var Ba=function(){try{var t=Jt(Object,"defineProperty");return t({},"",{}),t}catch{}}();function zl(t,e,n){e=="__proto__"&&Ba?Ba(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}var Zb=Object.prototype,Xb=Zb.hasOwnProperty;function Wl(t,e,n){var r=t[e];(!(Xb.call(t,e)&&Ul(r,n))||n===void 0&&!(e in t))&&zl(t,e,n)}function us(t,e,n,r){var s=!n;n||(n={});for(var i=-1,o=e.length;++i<o;){var a=e[i],c=void 0;c===void 0&&(c=t[a]),s?zl(n,a,c):Wl(n,a,c)}return n}function e0(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}var t0="[object Arguments]";function za(t){return Kt(t)&&Ht(t)==t0}var Vl=Object.prototype,n0=Vl.hasOwnProperty,r0=Vl.propertyIsEnumerable,s0=za(function(){return arguments}())?za:function(t){return Kt(t)&&n0.call(t,"callee")&&!r0.call(t,"callee")},nr=Array.isArray;function i0(){return!1}var ql=typeof exports=="object"&&exports&&!exports.nodeType&&exports,Wa=ql&&typeof module=="object"&&module&&!module.nodeType&&module,o0=Wa&&Wa.exports===ql,Va=o0?Me.Buffer:void 0,a0=Va?Va.isBuffer:void 0,Hl=a0||i0,c0=9007199254740991,u0=/^(?:0|[1-9]\d*)$/;function l0(t,e){var n=typeof t;return e=e??c0,!!e&&(n=="number"||n!="symbol"&&u0.test(t))&&t>-1&&t%1==0&&t<e}var d0=9007199254740991;function Kl(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=d0}var f0="[object Arguments]",h0="[object Array]",p0="[object Boolean]",m0="[object Date]",g0="[object Error]",y0="[object Function]",v0="[object Map]",b0="[object Number]",w0="[object Object]",_0="[object RegExp]",x0="[object Set]",E0="[object String]",S0="[object WeakMap]",C0="[object ArrayBuffer]",T0="[object DataView]",O0="[object Float32Array]",A0="[object Float64Array]",P0="[object Int8Array]",j0="[object Int16Array]",k0="[object Int32Array]",$0="[object Uint8Array]",R0="[object Uint8ClampedArray]",N0="[object Uint16Array]",I0="[object Uint32Array]",Y={};Y[O0]=Y[A0]=Y[P0]=Y[j0]=Y[k0]=Y[$0]=Y[R0]=Y[N0]=Y[I0]=!0;Y[f0]=Y[h0]=Y[C0]=Y[p0]=Y[T0]=Y[m0]=Y[g0]=Y[y0]=Y[v0]=Y[b0]=Y[w0]=Y[_0]=Y[x0]=Y[E0]=Y[S0]=!1;function D0(t){return Kt(t)&&Kl(t.length)&&!!Y[Ht(t)]}function fo(t){return function(e){return t(e)}}var Gl=typeof exports=="object"&&exports&&!exports.nodeType&&exports,Mn=Gl&&typeof module=="object"&&module&&!module.nodeType&&module,F0=Mn&&Mn.exports===Gl,Gs=F0&&Dl.process,_n=function(){try{var t=Mn&&Mn.require&&Mn.require("util").types;return t||Gs&&Gs.binding&&Gs.binding("util")}catch{}}(),qa=_n&&_n.isTypedArray,L0=qa?fo(qa):D0,M0=Object.prototype,U0=M0.hasOwnProperty;function Jl(t,e){var n=nr(t),r=!n&&s0(t),s=!n&&!r&&Hl(t),i=!n&&!r&&!s&&L0(t),o=n||r||s||i,a=o?e0(t.length,String):[],c=a.length;for(var u in t)(e||U0.call(t,u))&&!(o&&(u=="length"||s&&(u=="offset"||u=="parent")||i&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||l0(u,c)))&&a.push(u);return a}var B0=Object.prototype;function ho(t){var e=t&&t.constructor,n=typeof e=="function"&&e.prototype||B0;return t===n}var z0=Ll(Object.keys,Object),W0=Object.prototype,V0=W0.hasOwnProperty;function q0(t){if(!ho(t))return z0(t);var e=[];for(var n in Object(t))V0.call(t,n)&&n!="constructor"&&e.push(n);return e}function Ql(t){return t!=null&&Kl(t.length)&&!Bl(t)}function po(t){return Ql(t)?Jl(t):q0(t)}function H0(t,e){return t&&us(e,po(e),t)}function K0(t){var e=[];if(t!=null)for(var n in Object(t))e.push(n);return e}var G0=Object.prototype,J0=G0.hasOwnProperty;function Q0(t){if(!tr(t))return K0(t);var e=ho(t),n=[];for(var r in t)r=="constructor"&&(e||!J0.call(t,r))||n.push(r);return n}function mo(t){return Ql(t)?Jl(t,!0):Q0(t)}function Y0(t,e){return t&&us(e,mo(e),t)}var Yl=typeof exports=="object"&&exports&&!exports.nodeType&&exports,Ha=Yl&&typeof module=="object"&&module&&!module.nodeType&&module,Z0=Ha&&Ha.exports===Yl,Ka=Z0?Me.Buffer:void 0,Ga=Ka?Ka.allocUnsafe:void 0;function X0(t,e){if(e)return t.slice();var n=t.length,r=Ga?Ga(n):new t.constructor(n);return t.copy(r),r}function Zl(t,e){var n=-1,r=t.length;for(e||(e=Array(r));++n<r;)e[n]=t[n];return e}function ew(t,e){for(var n=-1,r=t==null?0:t.length,s=0,i=[];++n<r;){var o=t[n];e(o,n,t)&&(i[s++]=o)}return i}function Xl(){return[]}var tw=Object.prototype,nw=tw.propertyIsEnumerable,Ja=Object.getOwnPropertySymbols,go=Ja?function(t){return t==null?[]:(t=Object(t),ew(Ja(t),function(e){return nw.call(t,e)}))}:Xl;function rw(t,e){return us(t,go(t),e)}function ed(t,e){for(var n=-1,r=e.length,s=t.length;++n<r;)t[s+n]=e[n];return t}var sw=Object.getOwnPropertySymbols,td=sw?function(t){for(var e=[];t;)ed(e,go(t)),t=lo(t);return e}:Xl;function iw(t,e){return us(t,td(t),e)}function nd(t,e,n){var r=e(t);return nr(t)?r:ed(r,n(t))}function ow(t){return nd(t,po,go)}function aw(t){return nd(t,mo,td)}var Pi=Jt(Me,"DataView"),ji=Jt(Me,"Promise"),ki=Jt(Me,"Set"),$i=Jt(Me,"WeakMap"),Qa="[object Map]",cw="[object Object]",Ya="[object Promise]",Za="[object Set]",Xa="[object WeakMap]",ec="[object DataView]",uw=Gt(Pi),lw=Gt(qn),dw=Gt(ji),fw=Gt(ki),hw=Gt($i),Ve=Ht;(Pi&&Ve(new Pi(new ArrayBuffer(1)))!=ec||qn&&Ve(new qn)!=Qa||ji&&Ve(ji.resolve())!=Ya||ki&&Ve(new ki)!=Za||$i&&Ve(new $i)!=Xa)&&(Ve=function(t){var e=Ht(t),n=e==cw?t.constructor:void 0,r=n?Gt(n):"";if(r)switch(r){case uw:return ec;case lw:return Qa;case dw:return Ya;case fw:return Za;case hw:return Xa}return e});var pw=Object.prototype,mw=pw.hasOwnProperty;function gw(t){var e=t.length,n=new t.constructor(e);return e&&typeof t[0]=="string"&&mw.call(t,"index")&&(n.index=t.index,n.input=t.input),n}var tc=Me.Uint8Array;function yo(t){var e=new t.constructor(t.byteLength);return new tc(e).set(new tc(t)),e}function yw(t,e){var n=e?yo(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.byteLength)}var vw=/\w*$/;function bw(t){var e=new t.constructor(t.source,vw.exec(t));return e.lastIndex=t.lastIndex,e}var nc=_t?_t.prototype:void 0,rc=nc?nc.valueOf:void 0;function ww(t){return rc?Object(rc.call(t)):{}}function _w(t,e){var n=e?yo(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)}var xw="[object Boolean]",Ew="[object Date]",Sw="[object Map]",Cw="[object Number]",Tw="[object RegExp]",Ow="[object Set]",Aw="[object String]",Pw="[object Symbol]",jw="[object ArrayBuffer]",kw="[object DataView]",$w="[object Float32Array]",Rw="[object Float64Array]",Nw="[object Int8Array]",Iw="[object Int16Array]",Dw="[object Int32Array]",Fw="[object Uint8Array]",Lw="[object Uint8ClampedArray]",Mw="[object Uint16Array]",Uw="[object Uint32Array]";function Bw(t,e,n){var r=t.constructor;switch(e){case jw:return yo(t);case xw:case Ew:return new r(+t);case kw:return yw(t,n);case $w:case Rw:case Nw:case Iw:case Dw:case Fw:case Lw:case Mw:case Uw:return _w(t,n);case Sw:return new r;case Cw:case Aw:return new r(t);case Tw:return bw(t);case Ow:return new r;case Pw:return ww(t)}}var sc=Object.create,zw=function(){function t(){}return function(e){if(!tr(e))return{};if(sc)return sc(e);t.prototype=e;var n=new t;return t.prototype=void 0,n}}();function Ww(t){return typeof t.constructor=="function"&&!ho(t)?zw(lo(t)):{}}var Vw="[object Map]";function qw(t){return Kt(t)&&Ve(t)==Vw}var ic=_n&&_n.isMap,Hw=ic?fo(ic):qw,Kw="[object Set]";function Gw(t){return Kt(t)&&Ve(t)==Kw}var oc=_n&&_n.isSet,Jw=oc?fo(oc):Gw,Qw=1,Yw=2,Zw=4,rd="[object Arguments]",Xw="[object Array]",e_="[object Boolean]",t_="[object Date]",n_="[object Error]",sd="[object Function]",r_="[object GeneratorFunction]",s_="[object Map]",i_="[object Number]",id="[object Object]",o_="[object RegExp]",a_="[object Set]",c_="[object String]",u_="[object Symbol]",l_="[object WeakMap]",d_="[object ArrayBuffer]",f_="[object DataView]",h_="[object Float32Array]",p_="[object Float64Array]",m_="[object Int8Array]",g_="[object Int16Array]",y_="[object Int32Array]",v_="[object Uint8Array]",b_="[object Uint8ClampedArray]",w_="[object Uint16Array]",__="[object Uint32Array]",J={};J[rd]=J[Xw]=J[d_]=J[f_]=J[e_]=J[t_]=J[h_]=J[p_]=J[m_]=J[g_]=J[y_]=J[s_]=J[i_]=J[id]=J[o_]=J[a_]=J[c_]=J[u_]=J[v_]=J[b_]=J[w_]=J[__]=!0;J[n_]=J[sd]=J[l_]=!1;function Un(t,e,n,r,s,i){var o,a=e&Qw,c=e&Yw,u=e&Zw;if(o!==void 0)return o;if(!tr(t))return t;var l=nr(t);if(l){if(o=gw(t),!a)return Zl(t,o)}else{var f=Ve(t),h=f==sd||f==r_;if(Hl(t))return X0(t,a);if(f==id||f==rd||h&&!s){if(o=c||h?{}:Ww(t),!a)return c?iw(t,Y0(o,t)):rw(t,H0(o,t))}else{if(!J[f])return s?t:{};o=Bw(t,f,a)}}i||(i=new On);var m=i.get(t);if(m)return m;i.set(t,o),Jw(t)?t.forEach(function(y){o.add(Un(y,e,n,y,t,i))}):Hw(t)&&t.forEach(function(y,b){o.set(b,Un(y,e,n,b,t,i))});var v=u?c?aw:ow:c?mo:po,g=l?void 0:v(t);return Yb(g||t,function(y,b){g&&(b=y,y=t[b]),Wl(o,b,Un(y,e,n,b,t,i))}),o}var x_=1,E_=4;function wr(t){return Un(t,x_|E_)}var ac=Array.isArray,cc=Object.keys,S_=Object.prototype.hasOwnProperty,C_=typeof Element<"u";function Ri(t,e){if(t===e)return!0;if(t&&e&&typeof t=="object"&&typeof e=="object"){var n=ac(t),r=ac(e),s,i,o;if(n&&r){if(i=t.length,i!=e.length)return!1;for(s=i;s--!==0;)if(!Ri(t[s],e[s]))return!1;return!0}if(n!=r)return!1;var a=t instanceof Date,c=e instanceof Date;if(a!=c)return!1;if(a&&c)return t.getTime()==e.getTime();var u=t instanceof RegExp,l=e instanceof RegExp;if(u!=l)return!1;if(u&&l)return t.toString()==e.toString();var f=cc(t);if(i=f.length,i!==cc(e).length)return!1;for(s=i;s--!==0;)if(!S_.call(e,f[s]))return!1;if(C_&&t instanceof Element&&e instanceof Element)return t===e;for(s=i;s--!==0;)if(o=f[s],!(o==="_owner"&&t.$$typeof)&&!Ri(t[o],e[o]))return!1;return!0}return t!==t&&e!==e}var T_=function(e,n){try{return Ri(e,n)}catch(r){if(r.message&&r.message.match(/stack|recursion/i)||r.number===-2146828260)return console.warn("Warning: react-fast-compare does not handle circular references.",r.name,r.message),!1;throw r}};const At=Oc(T_);var O_=4;function uc(t){return Un(t,O_)}function od(t,e){for(var n=-1,r=t==null?0:t.length,s=Array(r);++n<r;)s[n]=e(t[n],n,t);return s}var A_="[object Symbol]";function vo(t){return typeof t=="symbol"||Kt(t)&&Ht(t)==A_}var P_="Expected a function";function bo(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError(P_);var n=function(){var r=arguments,s=e?e.apply(this,r):r[0],i=n.cache;if(i.has(s))return i.get(s);var o=t.apply(this,r);return n.cache=i.set(s,o)||i,o};return n.cache=new(bo.Cache||St),n}bo.Cache=St;var j_=500;function k_(t){var e=bo(t,function(r){return n.size===j_&&n.clear(),r}),n=e.cache;return e}var $_=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,R_=/\\(\\)?/g,N_=k_(function(t){var e=[];return t.charCodeAt(0)===46&&e.push(""),t.replace($_,function(n,r,s,i){e.push(s?i.replace(R_,"$1"):r||n)}),e});function I_(t){if(typeof t=="string"||vo(t))return t;var e=t+"";return e=="0"&&1/t==-1/0?"-0":e}var lc=_t?_t.prototype:void 0,dc=lc?lc.toString:void 0;function ad(t){if(typeof t=="string")return t;if(nr(t))return od(t,ad)+"";if(vo(t))return dc?dc.call(t):"";var e=t+"";return e=="0"&&1/t==-1/0?"-0":e}function D_(t){return t==null?"":ad(t)}function cd(t){return nr(t)?od(t,I_):vo(t)?[t]:Zl(N_(D_(t)))}var ud={exports:{}},K={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var se=typeof Symbol=="function"&&Symbol.for,wo=se?Symbol.for("react.element"):60103,_o=se?Symbol.for("react.portal"):60106,ls=se?Symbol.for("react.fragment"):60107,ds=se?Symbol.for("react.strict_mode"):60108,fs=se?Symbol.for("react.profiler"):60114,hs=se?Symbol.for("react.provider"):60109,ps=se?Symbol.for("react.context"):60110,xo=se?Symbol.for("react.async_mode"):60111,ms=se?Symbol.for("react.concurrent_mode"):60111,gs=se?Symbol.for("react.forward_ref"):60112,ys=se?Symbol.for("react.suspense"):60113,F_=se?Symbol.for("react.suspense_list"):60120,vs=se?Symbol.for("react.memo"):60115,bs=se?Symbol.for("react.lazy"):60116,L_=se?Symbol.for("react.block"):60121,M_=se?Symbol.for("react.fundamental"):60117,U_=se?Symbol.for("react.responder"):60118,B_=se?Symbol.for("react.scope"):60119;function _e(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case wo:switch(t=t.type,t){case xo:case ms:case ls:case fs:case ds:case ys:return t;default:switch(t=t&&t.$$typeof,t){case ps:case gs:case bs:case vs:case hs:return t;default:return e}}case _o:return e}}}function ld(t){return _e(t)===ms}K.AsyncMode=xo;K.ConcurrentMode=ms;K.ContextConsumer=ps;K.ContextProvider=hs;K.Element=wo;K.ForwardRef=gs;K.Fragment=ls;K.Lazy=bs;K.Memo=vs;K.Portal=_o;K.Profiler=fs;K.StrictMode=ds;K.Suspense=ys;K.isAsyncMode=function(t){return ld(t)||_e(t)===xo};K.isConcurrentMode=ld;K.isContextConsumer=function(t){return _e(t)===ps};K.isContextProvider=function(t){return _e(t)===hs};K.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===wo};K.isForwardRef=function(t){return _e(t)===gs};K.isFragment=function(t){return _e(t)===ls};K.isLazy=function(t){return _e(t)===bs};K.isMemo=function(t){return _e(t)===vs};K.isPortal=function(t){return _e(t)===_o};K.isProfiler=function(t){return _e(t)===fs};K.isStrictMode=function(t){return _e(t)===ds};K.isSuspense=function(t){return _e(t)===ys};K.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===ls||t===ms||t===fs||t===ds||t===ys||t===F_||typeof t=="object"&&t!==null&&(t.$$typeof===bs||t.$$typeof===vs||t.$$typeof===hs||t.$$typeof===ps||t.$$typeof===gs||t.$$typeof===M_||t.$$typeof===U_||t.$$typeof===B_||t.$$typeof===L_)};K.typeOf=_e;ud.exports=K;var z_=ud.exports,dd=z_,W_={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},V_={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},fd={};fd[dd.ForwardRef]=W_;fd[dd.Memo]=V_;function Z(){return Z=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Z.apply(this,arguments)}function cn(t,e){if(t==null)return{};var n={},r=Object.keys(t),s,i;for(i=0;i<r.length;i++)s=r[i],!(e.indexOf(s)>=0)&&(n[s]=t[s]);return n}var ws=d.createContext(void 0);ws.displayName="FormikContext";var q_=ws.Provider;ws.Consumer;function Eo(){var t=d.useContext(ws);return t}var ve=function(e){return typeof e=="function"},rr=function(e){return e!==null&&typeof e=="object"},H_=function(e){return String(Math.floor(Number(e)))===e},Js=function(e){return Object.prototype.toString.call(e)==="[object String]"},K_=function(e){return d.Children.count(e)===0},Qs=function(e){return rr(e)&&ve(e.then)};function ye(t,e,n,r){r===void 0&&(r=0);for(var s=cd(e);t&&r<s.length;)t=t[s[r++]];return r!==s.length&&!t||t===void 0?n:t}function Nt(t,e,n){for(var r=uc(t),s=r,i=0,o=cd(e);i<o.length-1;i++){var a=o[i],c=ye(t,o.slice(0,i+1));if(c&&(rr(c)||Array.isArray(c)))s=s[a]=uc(c);else{var u=o[i+1];s=s[a]=H_(u)&&Number(u)>=0?[]:{}}}return(i===0?t:s)[o[i]]===n?t:(n===void 0?delete s[o[i]]:s[o[i]]=n,i===0&&n===void 0&&delete r[o[i]],r)}function hd(t,e,n,r){n===void 0&&(n=new WeakMap),r===void 0&&(r={});for(var s=0,i=Object.keys(t);s<i.length;s++){var o=i[s],a=t[o];rr(a)?n.get(a)||(n.set(a,!0),r[o]=Array.isArray(a)?[]:{},hd(a,e,n,r[o])):r[o]=e}return r}function G_(t,e){switch(e.type){case"SET_VALUES":return Z({},t,{values:e.payload});case"SET_TOUCHED":return Z({},t,{touched:e.payload});case"SET_ERRORS":return At(t.errors,e.payload)?t:Z({},t,{errors:e.payload});case"SET_STATUS":return Z({},t,{status:e.payload});case"SET_ISSUBMITTING":return Z({},t,{isSubmitting:e.payload});case"SET_ISVALIDATING":return Z({},t,{isValidating:e.payload});case"SET_FIELD_VALUE":return Z({},t,{values:Nt(t.values,e.payload.field,e.payload.value)});case"SET_FIELD_TOUCHED":return Z({},t,{touched:Nt(t.touched,e.payload.field,e.payload.value)});case"SET_FIELD_ERROR":return Z({},t,{errors:Nt(t.errors,e.payload.field,e.payload.value)});case"RESET_FORM":return Z({},t,e.payload);case"SET_FORMIK_STATE":return e.payload(t);case"SUBMIT_ATTEMPT":return Z({},t,{touched:hd(t.values,!0),isSubmitting:!0,submitCount:t.submitCount+1});case"SUBMIT_FAILURE":return Z({},t,{isSubmitting:!1});case"SUBMIT_SUCCESS":return Z({},t,{isSubmitting:!1});default:return t}}var Tt={},_r={};function J_(t){var e=t.validateOnChange,n=e===void 0?!0:e,r=t.validateOnBlur,s=r===void 0?!0:r,i=t.validateOnMount,o=i===void 0?!1:i,a=t.isInitialValid,c=t.enableReinitialize,u=c===void 0?!1:c,l=t.onSubmit,f=cn(t,["validateOnChange","validateOnBlur","validateOnMount","isInitialValid","enableReinitialize","onSubmit"]),h=Z({validateOnChange:n,validateOnBlur:s,validateOnMount:o,onSubmit:l},f),m=d.useRef(h.initialValues),v=d.useRef(h.initialErrors||Tt),g=d.useRef(h.initialTouched||_r),y=d.useRef(h.initialStatus),b=d.useRef(!1),E=d.useRef({});d.useEffect(function(){return b.current=!0,function(){b.current=!1}},[]);var C=d.useState(0),x=C[1],T=d.useRef({values:wr(h.initialValues),errors:wr(h.initialErrors)||Tt,touched:wr(h.initialTouched)||_r,status:wr(h.initialStatus),isSubmitting:!1,isValidating:!1,submitCount:0}),O=T.current,_=d.useCallback(function(w){var A=T.current;T.current=G_(A,w),A!==T.current&&x(function(P){return P+1})},[]),N=d.useCallback(function(w,A){return new Promise(function(P,j){var D=h.validate(w,A);D==null?P(Tt):Qs(D)?D.then(function(V){P(V||Tt)},function(V){j(V)}):P(D)})},[h.validate]),k=d.useCallback(function(w,A){var P=h.validationSchema,j=ve(P)?P(A):P,D=A&&j.validateAt?j.validateAt(A,w):Y_(w,j);return new Promise(function(V,oe){D.then(function(){V(Tt)},function(Be){Be.name==="ValidationError"?V(Q_(Be)):oe(Be)})})},[h.validationSchema]),I=d.useCallback(function(w,A){return new Promise(function(P){return P(E.current[w].validate(A))})},[]),$=d.useCallback(function(w){var A=Object.keys(E.current).filter(function(j){return ve(E.current[j].validate)}),P=A.length>0?A.map(function(j){return I(j,ye(w,j))}):[Promise.resolve("DO_NOT_DELETE_YOU_WILL_BE_FIRED")];return Promise.all(P).then(function(j){return j.reduce(function(D,V,oe){return V==="DO_NOT_DELETE_YOU_WILL_BE_FIRED"||V&&(D=Nt(D,A[oe],V)),D},{})})},[I]),z=d.useCallback(function(w){return Promise.all([$(w),h.validationSchema?k(w):{},h.validate?N(w):{}]).then(function(A){var P=A[0],j=A[1],D=A[2],V=Ai.all([P,j,D],{arrayMerge:Z_});return V})},[h.validate,h.validationSchema,$,N,k]),U=xe(function(w){return w===void 0&&(w=O.values),_({type:"SET_ISVALIDATING",payload:!0}),z(w).then(function(A){return b.current&&(_({type:"SET_ISVALIDATING",payload:!1}),_({type:"SET_ERRORS",payload:A})),A})});d.useEffect(function(){o&&b.current===!0&&At(m.current,h.initialValues)&&U(m.current)},[o,U]);var W=d.useCallback(function(w){var A=w&&w.values?w.values:m.current,P=w&&w.errors?w.errors:v.current?v.current:h.initialErrors||{},j=w&&w.touched?w.touched:g.current?g.current:h.initialTouched||{},D=w&&w.status?w.status:y.current?y.current:h.initialStatus;m.current=A,v.current=P,g.current=j,y.current=D;var V=function(){_({type:"RESET_FORM",payload:{isSubmitting:!!w&&!!w.isSubmitting,errors:P,touched:j,status:D,values:A,isValidating:!!w&&!!w.isValidating,submitCount:w&&w.submitCount&&typeof w.submitCount=="number"?w.submitCount:0}})};if(h.onReset){var oe=h.onReset(O.values,et);Qs(oe)?oe.then(V):V()}else V()},[h.initialErrors,h.initialStatus,h.initialTouched,h.onReset]);d.useEffect(function(){b.current===!0&&!At(m.current,h.initialValues)&&u&&(m.current=h.initialValues,W(),o&&U(m.current))},[u,h.initialValues,W,o,U]),d.useEffect(function(){u&&b.current===!0&&!At(v.current,h.initialErrors)&&(v.current=h.initialErrors||Tt,_({type:"SET_ERRORS",payload:h.initialErrors||Tt}))},[u,h.initialErrors]),d.useEffect(function(){u&&b.current===!0&&!At(g.current,h.initialTouched)&&(g.current=h.initialTouched||_r,_({type:"SET_TOUCHED",payload:h.initialTouched||_r}))},[u,h.initialTouched]),d.useEffect(function(){u&&b.current===!0&&!At(y.current,h.initialStatus)&&(y.current=h.initialStatus,_({type:"SET_STATUS",payload:h.initialStatus}))},[u,h.initialStatus,h.initialTouched]);var ie=xe(function(w){if(E.current[w]&&ve(E.current[w].validate)){var A=ye(O.values,w),P=E.current[w].validate(A);return Qs(P)?(_({type:"SET_ISVALIDATING",payload:!0}),P.then(function(j){return j}).then(function(j){_({type:"SET_FIELD_ERROR",payload:{field:w,value:j}}),_({type:"SET_ISVALIDATING",payload:!1})})):(_({type:"SET_FIELD_ERROR",payload:{field:w,value:P}}),Promise.resolve(P))}else if(h.validationSchema)return _({type:"SET_ISVALIDATING",payload:!0}),k(O.values,w).then(function(j){return j}).then(function(j){_({type:"SET_FIELD_ERROR",payload:{field:w,value:ye(j,w)}}),_({type:"SET_ISVALIDATING",payload:!1})});return Promise.resolve()}),ee=d.useCallback(function(w,A){var P=A.validate;E.current[w]={validate:P}},[]),te=d.useCallback(function(w){delete E.current[w]},[]),B=xe(function(w,A){_({type:"SET_TOUCHED",payload:w});var P=A===void 0?s:A;return P?U(O.values):Promise.resolve()}),ne=d.useCallback(function(w){_({type:"SET_ERRORS",payload:w})},[]),me=xe(function(w,A){var P=ve(w)?w(O.values):w;_({type:"SET_VALUES",payload:P});var j=A===void 0?n:A;return j?U(P):Promise.resolve()}),Ue=d.useCallback(function(w,A){_({type:"SET_FIELD_ERROR",payload:{field:w,value:A}})},[]),Ze=xe(function(w,A,P){_({type:"SET_FIELD_VALUE",payload:{field:w,value:A}});var j=P===void 0?n:P;return j?U(Nt(O.values,w,A)):Promise.resolve()}),ir=d.useCallback(function(w,A){var P=A,j=w,D;if(!Js(w)){w.persist&&w.persist();var V=w.target?w.target:w.currentTarget,oe=V.type,Be=V.name,Os=V.id,As=V.value,Gd=V.checked;V.outerHTML;var Ro=V.options,Jd=V.multiple;P=A||Be||Os,j=/number|range/.test(oe)?(D=parseFloat(As),isNaN(D)?"":D):/checkbox/.test(oe)?ex(ye(O.values,P),Gd,As):Ro&&Jd?X_(Ro):As}P&&Ze(P,j)},[Ze,O.values]),An=xe(function(w){if(Js(w))return function(A){return ir(A,w)};ir(w)}),Xe=xe(function(w,A,P){A===void 0&&(A=!0),_({type:"SET_FIELD_TOUCHED",payload:{field:w,value:A}});var j=P===void 0?s:P;return j?U(O.values):Promise.resolve()}),or=d.useCallback(function(w,A){w.persist&&w.persist();var P=w.target,j=P.name,D=P.id;P.outerHTML;var V=A||j||D;Xe(V,!0)},[Xe]),Zt=xe(function(w){if(Js(w))return function(A){return or(A,w)};or(w)}),Pn=d.useCallback(function(w){ve(w)?_({type:"SET_FORMIK_STATE",payload:w}):_({type:"SET_FORMIK_STATE",payload:function(){return w}})},[]),jn=d.useCallback(function(w){_({type:"SET_STATUS",payload:w})},[]),kn=d.useCallback(function(w){_({type:"SET_ISSUBMITTING",payload:w})},[]),Xt=xe(function(){return _({type:"SUBMIT_ATTEMPT"}),U().then(function(w){var A=w instanceof Error,P=!A&&Object.keys(w).length===0;if(P){var j;try{if(j=cr(),j===void 0)return}catch(D){throw D}return Promise.resolve(j).then(function(D){return b.current&&_({type:"SUBMIT_SUCCESS"}),D}).catch(function(D){if(b.current)throw _({type:"SUBMIT_FAILURE"}),D})}else if(b.current&&(_({type:"SUBMIT_FAILURE"}),A))throw w})}),ar=xe(function(w){w&&w.preventDefault&&ve(w.preventDefault)&&w.preventDefault(),w&&w.stopPropagation&&ve(w.stopPropagation)&&w.stopPropagation(),Xt().catch(function(A){console.warn("Warning: An unhandled error was caught from submitForm()",A)})}),et={resetForm:W,validateForm:U,validateField:ie,setErrors:ne,setFieldError:Ue,setFieldTouched:Xe,setFieldValue:Ze,setStatus:jn,setSubmitting:kn,setTouched:B,setValues:me,setFormikState:Pn,submitForm:Xt},cr=xe(function(){return l(O.values,et)}),Es=xe(function(w){w&&w.preventDefault&&ve(w.preventDefault)&&w.preventDefault(),w&&w.stopPropagation&&ve(w.stopPropagation)&&w.stopPropagation(),W()}),Ss=d.useCallback(function(w){return{value:ye(O.values,w),error:ye(O.errors,w),touched:!!ye(O.touched,w),initialValue:ye(m.current,w),initialTouched:!!ye(g.current,w),initialError:ye(v.current,w)}},[O.errors,O.touched,O.values]),Cs=d.useCallback(function(w){return{setValue:function(P,j){return Ze(w,P,j)},setTouched:function(P,j){return Xe(w,P,j)},setError:function(P){return Ue(w,P)}}},[Ze,Xe,Ue]),Ts=d.useCallback(function(w){var A=rr(w),P=A?w.name:w,j=ye(O.values,P),D={name:P,value:j,onChange:An,onBlur:Zt};if(A){var V=w.type,oe=w.value,Be=w.as,Os=w.multiple;V==="checkbox"?oe===void 0?D.checked=!!j:(D.checked=!!(Array.isArray(j)&&~j.indexOf(oe)),D.value=oe):V==="radio"?(D.checked=j===oe,D.value=oe):Be==="select"&&Os&&(D.value=D.value||[],D.multiple=!0)}return D},[Zt,An,O.values]),tt=d.useMemo(function(){return!At(m.current,O.values)},[m.current,O.values]),Hd=d.useMemo(function(){return typeof a<"u"?tt?O.errors&&Object.keys(O.errors).length===0:a!==!1&&ve(a)?a(h):a:O.errors&&Object.keys(O.errors).length===0},[a,tt,O.errors,h]),Kd=Z({},O,{initialValues:m.current,initialErrors:v.current,initialTouched:g.current,initialStatus:y.current,handleBlur:Zt,handleChange:An,handleReset:Es,handleSubmit:ar,resetForm:W,setErrors:ne,setFormikState:Pn,setFieldTouched:Xe,setFieldValue:Ze,setFieldError:Ue,setStatus:jn,setSubmitting:kn,setTouched:B,setValues:me,submitForm:Xt,validateForm:U,validateField:ie,isValid:Hd,dirty:tt,unregisterField:te,registerField:ee,getFieldProps:Ts,getFieldMeta:Ss,getFieldHelpers:Cs,validateOnBlur:s,validateOnChange:n,validateOnMount:o});return Kd}function pd(t){var e=J_(t),n=t.component,r=t.children,s=t.render,i=t.innerRef;return d.useImperativeHandle(i,function(){return e}),d.createElement(q_,{value:e},n?d.createElement(n,e):s?s(e):r?ve(r)?r(e):K_(r)?null:d.Children.only(r):null)}function Q_(t){var e={};if(t.inner){if(t.inner.length===0)return Nt(e,t.path,t.message);for(var s=t.inner,n=Array.isArray(s),r=0,s=n?s:s[Symbol.iterator]();;){var i;if(n){if(r>=s.length)break;i=s[r++]}else{if(r=s.next(),r.done)break;i=r.value}var o=i;ye(e,o.path)||(e=Nt(e,o.path,o.message))}}return e}function Y_(t,e,n,r){n===void 0&&(n=!1);var s=Ni(t);return e[n?"validateSync":"validate"](s,{abortEarly:!1,context:s})}function Ni(t){var e=Array.isArray(t)?[]:{};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){var r=String(n);Array.isArray(t[r])===!0?e[r]=t[r].map(function(s){return Array.isArray(s)===!0||Ma(s)?Ni(s):s!==""?s:void 0}):Ma(t[r])?e[r]=Ni(t[r]):e[r]=t[r]!==""?t[r]:void 0}return e}function Z_(t,e,n){var r=t.slice();return e.forEach(function(i,o){if(typeof r[o]>"u"){var a=n.clone!==!1,c=a&&n.isMergeableObject(i);r[o]=c?Ai(Array.isArray(i)?[]:{},i,n):i}else n.isMergeableObject(i)?r[o]=Ai(t[o],i,n):t.indexOf(i)===-1&&r.push(i)}),r}function X_(t){return Array.from(t).filter(function(e){return e.selected}).map(function(e){return e.value})}function ex(t,e,n){if(typeof t=="boolean")return!!e;var r=[],s=!1,i=-1;if(Array.isArray(t))r=t,i=t.indexOf(n),s=i>=0;else if(!n||n=="true"||n=="false")return!!e;return e&&n&&!s?r.concat(n):s?r.slice(0,i).concat(r.slice(i+1)):r}var tx=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u"?d.useLayoutEffect:d.useEffect;function xe(t){var e=d.useRef(t);return tx(function(){e.current=t}),d.useCallback(function(){for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return e.current.apply(void 0,r)},[])}function nx(t){var e=Eo(),n=e.getFieldProps,r=e.getFieldMeta,s=e.getFieldHelpers,i=e.registerField,o=e.unregisterField,a=rr(t),c=a?t:{name:t},u=c.name,l=c.validate;d.useEffect(function(){return u&&i(u,{validate:l}),function(){u&&o(u)}},[i,o,u,l]);var f=d.useMemo(function(){return s(u)},[s,u]);return[n(c),r(u),f]}function rx(t){var e=t.validate,n=t.name,r=t.render,s=t.children,i=t.as,o=t.component,a=t.className,c=cn(t,["validate","name","render","children","as","component","className"]),u=Eo(),l=cn(u,["validate","validationSchema"]),f=l.registerField,h=l.unregisterField;d.useEffect(function(){return f(n,{validate:e}),function(){h(n)}},[f,h,n,e]);var m=l.getFieldProps(Z({name:n},c)),v=l.getFieldMeta(n),g={field:m,form:l};if(r)return r(Z({},g,{meta:v}));if(ve(s))return s(Z({},g,{meta:v}));if(o){if(typeof o=="string"){var y=c.innerRef,b=cn(c,["innerRef"]);return d.createElement(o,Z({ref:y},m,b,{className:a}),s)}return d.createElement(o,Z({field:m,form:l},c,{className:a}),s)}var E=i||"input";if(typeof E=="string"){var C=c.innerRef,x=cn(c,["innerRef"]);return d.createElement(E,Z({ref:C},m,x,{className:a}),s)}return d.createElement(E,Z({},m,c,{className:a}),s)}var So=d.forwardRef(function(t,e){var n=t.action,r=cn(t,["action"]),s=n??"#",i=Eo(),o=i.handleReset,a=i.handleSubmit;return d.createElement("form",Z({onSubmit:a,ref:e,onReset:o,action:s},r))});So.displayName="Form";const{add:sx,update:ix,delete:ox}=Jn.success.patient,{conflict:ax}=Jn.error.patient,cx=async(t="",e)=>{let n=Pe.from("Patients").select("*");return t.trim().length>0&&(n=n.ilike("name",`%${t}%`)),e?await n.abortSignal(e):await n},ux=async t=>Pe.from("Patients").select("*").eq("id",t),lx=async t=>{const{error:e}=await Pe.from("Patients").insert([t]).select("*");e?pe.error(zt):pe.success(sx)},dx=async t=>{const{error:e}=await Pe.from("Patients").update(t).eq("id",t.id).select("*");e?pe.error(zt):pe.success(ix)},fx=async t=>{const{error:e,status:n}=await Pe.from("Patients").delete().eq("id",t).select("*");e?n===409?pe.error(ax,{duration:1/0}):pe.error(zt):pe.success(ox)};function md({label:t,disabled:e}){return p.jsx("button",{disabled:e,type:"submit",className:"p-3 bg-primary max-sm:w-full w-24 hover:opacity-80 transition rounded-xl mt-3 text-muted font-semibold disabled:bg-gray-400",children:t})}function gd({children:t,className:e}){return p.jsx("div",{className:M("grid grid-cols-2 gap-8 max-md:grid-cols-1 max-md:gap-8 overflow-auto ",e),children:t})}function yd(t){const{label:e,icon:n,error:r,className:s,...i}=t;return p.jsxs("div",{className:M("flex flex-col gap-1 ",s),children:[e&&p.jsx("label",{className:"",htmlFor:t.id,children:e}),p.jsxs("div",{className:M("flex items-center gap-2 h-10 bg-white rounded-xl px-2 ring-offset-background data-[placeholder]:!text-grey-grey1 text-text-black focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 border border-transparent",{"border-red-500":!!r}),children:[n&&n,p.jsx(tu,{...i,className:M("rounded-xl bg-transparent focus-visible:outline-none focus-visible:ring-0 border-none focus-visible:border-none focus-visible:ring-offset-transparent focus-visible:ring-transparent px-1 w-full flex-1 ")})]}),p.jsx("span",{className:"text-red-600 text-xs h-4",children:r})]})}function It(t){return p.jsx(rx,{name:t.name,children:({field:e,form:{touched:n,errors:r},meta:s})=>p.jsx(yd,{error:s.touched&&s.error,...t,...e})})}function Qt(t){this._maxSize=t,this.clear()}Qt.prototype.clear=function(){this._size=0,this._values=Object.create(null)};Qt.prototype.get=function(t){return this._values[t]};Qt.prototype.set=function(t,e){return this._size>=this._maxSize&&this.clear(),t in this._values||this._size++,this._values[t]=e};var hx=/[^.^\]^[]+|(?=\[\]|\.\.)/g,vd=/^\d+$/,px=/^\d/,mx=/[~`!#$%\^&*+=\-\[\]\\';,/{}|\\":<>\?]/g,gx=/^\s*(['"]?)(.*?)(\1)\s*$/,Co=512,fc=new Qt(Co),hc=new Qt(Co),pc=new Qt(Co),Dt={Cache:Qt,split:Ii,normalizePath:Ys,setter:function(t){var e=Ys(t);return hc.get(t)||hc.set(t,function(r,s){for(var i=0,o=e.length,a=r;i<o-1;){var c=e[i];if(c==="__proto__"||c==="constructor"||c==="prototype")return r;a=a[e[i++]]}a[e[i]]=s})},getter:function(t,e){var n=Ys(t);return pc.get(t)||pc.set(t,function(s){for(var i=0,o=n.length;i<o;)if(s!=null||!e)s=s[n[i++]];else return;return s})},join:function(t){return t.reduce(function(e,n){return e+(To(n)||vd.test(n)?"["+n+"]":(e?".":"")+n)},"")},forEach:function(t,e,n){yx(Array.isArray(t)?t:Ii(t),e,n)}};function Ys(t){return fc.get(t)||fc.set(t,Ii(t).map(function(e){return e.replace(gx,"$2")}))}function Ii(t){return t.match(hx)||[""]}function yx(t,e,n){var r=t.length,s,i,o,a;for(i=0;i<r;i++)s=t[i],s&&(wx(s)&&(s='"'+s+'"'),a=To(s),o=!a&&/^\d+$/.test(s),e.call(n,s,a,o,i,t))}function To(t){return typeof t=="string"&&t&&["'",'"'].indexOf(t.charAt(0))!==-1}function vx(t){return t.match(px)&&!t.match(vd)}function bx(t){return mx.test(t)}function wx(t){return!To(t)&&(vx(t)||bx(t))}const _x=/[A-Z\xc0-\xd6\xd8-\xde]?[a-z\xdf-\xf6\xf8-\xff]+(?:['’](?:d|ll|m|re|s|t|ve))?(?=[\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000]|[A-Z\xc0-\xd6\xd8-\xde]|$)|(?:[A-Z\xc0-\xd6\xd8-\xde]|[^\ud800-\udfff\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\d+\u2700-\u27bfa-z\xdf-\xf6\xf8-\xffA-Z\xc0-\xd6\xd8-\xde])+(?:['’](?:D|LL|M|RE|S|T|VE))?(?=[\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000]|[A-Z\xc0-\xd6\xd8-\xde](?:[a-z\xdf-\xf6\xf8-\xff]|[^\ud800-\udfff\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\d+\u2700-\u27bfa-z\xdf-\xf6\xf8-\xffA-Z\xc0-\xd6\xd8-\xde])|$)|[A-Z\xc0-\xd6\xd8-\xde]?(?:[a-z\xdf-\xf6\xf8-\xff]|[^\ud800-\udfff\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\d+\u2700-\u27bfa-z\xdf-\xf6\xf8-\xffA-Z\xc0-\xd6\xd8-\xde])+(?:['’](?:d|ll|m|re|s|t|ve))?|[A-Z\xc0-\xd6\xd8-\xde]+(?:['’](?:D|LL|M|RE|S|T|VE))?|\d*(?:1ST|2ND|3RD|(?![123])\dTH)(?=\b|[a-z_])|\d*(?:1st|2nd|3rd|(?![123])\dth)(?=\b|[A-Z_])|\d+|(?:[\u2700-\u27bf]|(?:\ud83c[\udde6-\uddff]){2}|[\ud800-\udbff][\udc00-\udfff])[\ufe0e\ufe0f]?(?:[\u0300-\u036f\ufe20-\ufe2f\u20d0-\u20ff]|\ud83c[\udffb-\udfff])?(?:\u200d(?:[^\ud800-\udfff]|(?:\ud83c[\udde6-\uddff]){2}|[\ud800-\udbff][\udc00-\udfff])[\ufe0e\ufe0f]?(?:[\u0300-\u036f\ufe20-\ufe2f\u20d0-\u20ff]|\ud83c[\udffb-\udfff])?)*/g,_s=t=>t.match(_x)||[],xs=t=>t[0].toUpperCase()+t.slice(1),Oo=(t,e)=>_s(t).join(e).toLowerCase(),bd=t=>_s(t).reduce((e,n)=>`${e}${e?n[0].toUpperCase()+n.slice(1).toLowerCase():n.toLowerCase()}`,""),xx=t=>xs(bd(t)),Ex=t=>Oo(t,"_"),Sx=t=>Oo(t,"-"),Cx=t=>xs(Oo(t," ")),Tx=t=>_s(t).map(xs).join(" ");var Zs={words:_s,upperFirst:xs,camelCase:bd,pascalCase:xx,snakeCase:Ex,kebabCase:Sx,sentenceCase:Cx,titleCase:Tx},Ao={exports:{}};Ao.exports=function(t){return wd(Ox(t),t)};Ao.exports.array=wd;function wd(t,e){var n=t.length,r=new Array(n),s={},i=n,o=Ax(e),a=Px(t);for(e.forEach(function(u){if(!a.has(u[0])||!a.has(u[1]))throw new Error("Unknown node. There is an unknown node in the supplied edges.")});i--;)s[i]||c(t[i],i,new Set);return r;function c(u,l,f){if(f.has(u)){var h;try{h=", node was:"+JSON.stringify(u)}catch{h=""}throw new Error("Cyclic dependency"+h)}if(!a.has(u))throw new Error("Found unknown node. Make sure to provided all involved nodes. Unknown node: "+JSON.stringify(u));if(!s[l]){s[l]=!0;var m=o.get(u)||new Set;if(m=Array.from(m),l=m.length){f.add(u);do{var v=m[--l];c(v,a.get(v),f)}while(l);f.delete(u)}r[--n]=u}}}function Ox(t){for(var e=new Set,n=0,r=t.length;n<r;n++){var s=t[n];e.add(s[0]),e.add(s[1])}return Array.from(e)}function Ax(t){for(var e=new Map,n=0,r=t.length;n<r;n++){var s=t[n];e.has(s[0])||e.set(s[0],new Set),e.has(s[1])||e.set(s[1],new Set),e.get(s[0]).add(s[1])}return e}function Px(t){for(var e=new Map,n=0,r=t.length;n<r;n++)e.set(t[n],n);return e}var jx=Ao.exports;const kx=Oc(jx),$x=Object.prototype.toString,Rx=Error.prototype.toString,Nx=RegExp.prototype.toString,Ix=typeof Symbol<"u"?Symbol.prototype.toString:()=>"",Dx=/^Symbol\((.*)\)(.*)$/;function Fx(t){return t!=+t?"NaN":t===0&&1/t<0?"-0":""+t}function mc(t,e=!1){if(t==null||t===!0||t===!1)return""+t;const n=typeof t;if(n==="number")return Fx(t);if(n==="string")return e?`"${t}"`:t;if(n==="function")return"[Function "+(t.name||"anonymous")+"]";if(n==="symbol")return Ix.call(t).replace(Dx,"Symbol($1)");const r=$x.call(t).slice(8,-1);return r==="Date"?isNaN(t.getTime())?""+t:t.toISOString(t):r==="Error"||t instanceof Error?"["+Rx.call(t)+"]":r==="RegExp"?Nx.call(t):null}function mt(t,e){let n=mc(t,e);return n!==null?n:JSON.stringify(t,function(r,s){let i=mc(this[r],e);return i!==null?i:s},2)}function _d(t){return t==null?[]:[].concat(t)}let xd,Ed,Sd,Lx=/\$\{\s*(\w+)\s*\}/g;xd=Symbol.toStringTag;class gc{constructor(e,n,r,s){this.name=void 0,this.message=void 0,this.value=void 0,this.path=void 0,this.type=void 0,this.params=void 0,this.errors=void 0,this.inner=void 0,this[xd]="Error",this.name="ValidationError",this.value=n,this.path=r,this.type=s,this.errors=[],this.inner=[],_d(e).forEach(i=>{if(he.isError(i)){this.errors.push(...i.errors);const o=i.inner.length?i.inner:[i];this.inner.push(...o)}else this.errors.push(i)}),this.message=this.errors.length>1?`${this.errors.length} errors occurred`:this.errors[0]}}Ed=Symbol.hasInstance;Sd=Symbol.toStringTag;class he extends Error{static formatError(e,n){const r=n.label||n.path||"this";return n=Object.assign({},n,{path:r,originalPath:n.path}),typeof e=="string"?e.replace(Lx,(s,i)=>mt(n[i])):typeof e=="function"?e(n):e}static isError(e){return e&&e.name==="ValidationError"}constructor(e,n,r,s,i){const o=new gc(e,n,r,s);if(i)return o;super(),this.value=void 0,this.path=void 0,this.type=void 0,this.params=void 0,this.errors=[],this.inner=[],this[Sd]="Error",this.name=o.name,this.message=o.message,this.type=o.type,this.value=o.value,this.path=o.path,this.errors=o.errors,this.inner=o.inner,Error.captureStackTrace&&Error.captureStackTrace(this,he)}static[Ed](e){return gc[Symbol.hasInstance](e)||super[Symbol.hasInstance](e)}}let $e={default:"${path} is invalid",required:"${path} is a required field",defined:"${path} must be defined",notNull:"${path} cannot be null",oneOf:"${path} must be one of the following values: ${values}",notOneOf:"${path} must not be one of the following values: ${values}",notType:({path:t,type:e,value:n,originalValue:r})=>{const s=r!=null&&r!==n?` (cast from the value \`${mt(r,!0)}\`).`:".";return e!=="mixed"?`${t} must be a \`${e}\` type, but the final value was: \`${mt(n,!0)}\``+s:`${t} must match the configured type. The validated value was: \`${mt(n,!0)}\``+s}},ue={length:"${path} must be exactly ${length} characters",min:"${path} must be at least ${min} characters",max:"${path} must be at most ${max} characters",matches:'${path} must match the following: "${regex}"',email:"${path} must be a valid email",url:"${path} must be a valid URL",uuid:"${path} must be a valid UUID",datetime:"${path} must be a valid ISO date-time",datetime_precision:"${path} must be a valid ISO date-time with a sub-second precision of exactly ${precision} digits",datetime_offset:'${path} must be a valid ISO date-time with UTC "Z" timezone',trim:"${path} must be a trimmed string",lowercase:"${path} must be a lowercase string",uppercase:"${path} must be a upper case string"},ot={min:"${path} must be greater than or equal to ${min}",max:"${path} must be less than or equal to ${max}",lessThan:"${path} must be less than ${less}",moreThan:"${path} must be greater than ${more}",positive:"${path} must be a positive number",negative:"${path} must be a negative number",integer:"${path} must be an integer"},Di={min:"${path} field must be later than ${min}",max:"${path} field must be at earlier than ${max}"},Fi={isValue:"${path} field must be ${value}"},Pr={noUnknown:"${path} field has unspecified keys: ${unknown}",exact:"${path} object contains unknown properties: ${properties}"},Mx={min:"${path} field must have at least ${min} items",max:"${path} field must have less than or equal to ${max} items",length:"${path} must have ${length} items"},Ux={notType:t=>{const{path:e,value:n,spec:r}=t,s=r.types.length;if(Array.isArray(n)){if(n.length<s)return`${e} tuple value has too few items, expected a length of ${s} but got ${n.length} for value: \`${mt(n,!0)}\``;if(n.length>s)return`${e} tuple value has too many items, expected a length of ${s} but got ${n.length} for value: \`${mt(n,!0)}\``}return he.formatError($e.notType,t)}};Object.assign(Object.create(null),{mixed:$e,string:ue,number:ot,date:Di,object:Pr,array:Mx,boolean:Fi,tuple:Ux});const Po=t=>t&&t.__isYupSchema__;class Ur{static fromOptions(e,n){if(!n.then&&!n.otherwise)throw new TypeError("either `then:` or `otherwise:` is required for `when()` conditions");let{is:r,then:s,otherwise:i}=n,o=typeof r=="function"?r:(...a)=>a.every(c=>c===r);return new Ur(e,(a,c)=>{var u;let l=o(...a)?s:i;return(u=l==null?void 0:l(c))!=null?u:c})}constructor(e,n){this.fn=void 0,this.refs=e,this.refs=e,this.fn=n}resolve(e,n){let r=this.refs.map(i=>i.getValue(n==null?void 0:n.value,n==null?void 0:n.parent,n==null?void 0:n.context)),s=this.fn(r,e,n);if(s===void 0||s===e)return e;if(!Po(s))throw new TypeError("conditions must return a schema object");return s.resolve(n)}}const xr={context:"$",value:"."};class Yt{constructor(e,n={}){if(this.key=void 0,this.isContext=void 0,this.isValue=void 0,this.isSibling=void 0,this.path=void 0,this.getter=void 0,this.map=void 0,typeof e!="string")throw new TypeError("ref must be a string, got: "+e);if(this.key=e.trim(),e==="")throw new TypeError("ref must be a non-empty string");this.isContext=this.key[0]===xr.context,this.isValue=this.key[0]===xr.value,this.isSibling=!this.isContext&&!this.isValue;let r=this.isContext?xr.context:this.isValue?xr.value:"";this.path=this.key.slice(r.length),this.getter=this.path&&Dt.getter(this.path,!0),this.map=n.map}getValue(e,n,r){let s=this.isContext?r:this.isValue?e:n;return this.getter&&(s=this.getter(s||{})),this.map&&(s=this.map(s)),s}cast(e,n){return this.getValue(e,n==null?void 0:n.parent,n==null?void 0:n.context)}resolve(){return this}describe(){return{type:"ref",key:this.key}}toString(){return`Ref(${this.key})`}static isRef(e){return e&&e.__isYupRef}}Yt.prototype.__isYupRef=!0;const Te=t=>t==null;function an(t){function e({value:n,path:r="",options:s,originalValue:i,schema:o},a,c){const{name:u,test:l,params:f,message:h,skipAbsent:m}=t;let{parent:v,context:g,abortEarly:y=o.spec.abortEarly,disableStackTrace:b=o.spec.disableStackTrace}=s;function E($){return Yt.isRef($)?$.getValue(n,v,g):$}function C($={}){const z=Object.assign({value:n,originalValue:i,label:o.spec.label,path:$.path||r,spec:o.spec,disableStackTrace:$.disableStackTrace||b},f,$.params);for(const W of Object.keys(z))z[W]=E(z[W]);const U=new he(he.formatError($.message||h,z),n,z.path,$.type||u,z.disableStackTrace);return U.params=z,U}const x=y?a:c;let T={path:r,parent:v,type:u,from:s.from,createError:C,resolve:E,options:s,originalValue:i,schema:o};const O=$=>{he.isError($)?x($):$?c(null):x(C())},_=$=>{he.isError($)?x($):a($)};if(m&&Te(n))return O(!0);let k;try{var I;if(k=l.call(T,n,T),typeof((I=k)==null?void 0:I.then)=="function"){if(s.sync)throw new Error(`Validation test of type: "${T.type}" returned a Promise during a synchronous validate. This test will finish after the validate call has returned`);return Promise.resolve(k).then(O,_)}}catch($){_($);return}O(k)}return e.OPTIONS=t,e}function Bx(t,e,n,r=n){let s,i,o;return e?(Dt.forEach(e,(a,c,u)=>{let l=c?a.slice(1,a.length-1):a;t=t.resolve({context:r,parent:s,value:n});let f=t.type==="tuple",h=u?parseInt(l,10):0;if(t.innerType||f){if(f&&!u)throw new Error(`Yup.reach cannot implicitly index into a tuple type. the path part "${o}" must contain an index to the tuple element, e.g. "${o}[0]"`);if(n&&h>=n.length)throw new Error(`Yup.reach cannot resolve an array item at index: ${a}, in the path: ${e}. because there is no value at that index. `);s=n,n=n&&n[h],t=f?t.spec.types[h]:t.innerType}if(!u){if(!t.fields||!t.fields[l])throw new Error(`The schema does not contain the path: ${e}. (failed at: ${o} which is a type: "${t.type}")`);s=n,n=n&&n[l],t=t.fields[l]}i=l,o=c?"["+a+"]":"."+a}),{schema:t,parent:s,parentPath:i}):{parent:s,parentPath:e,schema:t}}class Br extends Set{describe(){const e=[];for(const n of this.values())e.push(Yt.isRef(n)?n.describe():n);return e}resolveAll(e){let n=[];for(const r of this.values())n.push(e(r));return n}clone(){return new Br(this.values())}merge(e,n){const r=this.clone();return e.forEach(s=>r.add(s)),n.forEach(s=>r.delete(s)),r}}function un(t,e=new Map){if(Po(t)||!t||typeof t!="object")return t;if(e.has(t))return e.get(t);let n;if(t instanceof Date)n=new Date(t.getTime()),e.set(t,n);else if(t instanceof RegExp)n=new RegExp(t),e.set(t,n);else if(Array.isArray(t)){n=new Array(t.length),e.set(t,n);for(let r=0;r<t.length;r++)n[r]=un(t[r],e)}else if(t instanceof Map){n=new Map,e.set(t,n);for(const[r,s]of t.entries())n.set(r,un(s,e))}else if(t instanceof Set){n=new Set,e.set(t,n);for(const r of t)n.add(un(r,e))}else if(t instanceof Object){n={},e.set(t,n);for(const[r,s]of Object.entries(t))n[r]=un(s,e)}else throw Error(`Unable to clone ${t}`);return n}class Se{constructor(e){this.type=void 0,this.deps=[],this.tests=void 0,this.transforms=void 0,this.conditions=[],this._mutate=void 0,this.internalTests={},this._whitelist=new Br,this._blacklist=new Br,this.exclusiveTests=Object.create(null),this._typeCheck=void 0,this.spec=void 0,this.tests=[],this.transforms=[],this.withMutation(()=>{this.typeError($e.notType)}),this.type=e.type,this._typeCheck=e.check,this.spec=Object.assign({strip:!1,strict:!1,abortEarly:!0,recursive:!0,disableStackTrace:!1,nullable:!1,optional:!0,coerce:!0},e==null?void 0:e.spec),this.withMutation(n=>{n.nonNullable()})}get _type(){return this.type}clone(e){if(this._mutate)return e&&Object.assign(this.spec,e),this;const n=Object.create(Object.getPrototypeOf(this));return n.type=this.type,n._typeCheck=this._typeCheck,n._whitelist=this._whitelist.clone(),n._blacklist=this._blacklist.clone(),n.internalTests=Object.assign({},this.internalTests),n.exclusiveTests=Object.assign({},this.exclusiveTests),n.deps=[...this.deps],n.conditions=[...this.conditions],n.tests=[...this.tests],n.transforms=[...this.transforms],n.spec=un(Object.assign({},this.spec,e)),n}label(e){let n=this.clone();return n.spec.label=e,n}meta(...e){if(e.length===0)return this.spec.meta;let n=this.clone();return n.spec.meta=Object.assign(n.spec.meta||{},e[0]),n}withMutation(e){let n=this._mutate;this._mutate=!0;let r=e(this);return this._mutate=n,r}concat(e){if(!e||e===this)return this;if(e.type!==this.type&&this.type!=="mixed")throw new TypeError(`You cannot \`concat()\` schema's of different types: ${this.type} and ${e.type}`);let n=this,r=e.clone();const s=Object.assign({},n.spec,r.spec);return r.spec=s,r.internalTests=Object.assign({},n.internalTests,r.internalTests),r._whitelist=n._whitelist.merge(e._whitelist,e._blacklist),r._blacklist=n._blacklist.merge(e._blacklist,e._whitelist),r.tests=n.tests,r.exclusiveTests=n.exclusiveTests,r.withMutation(i=>{e.tests.forEach(o=>{i.test(o.OPTIONS)})}),r.transforms=[...n.transforms,...r.transforms],r}isType(e){return e==null?!!(this.spec.nullable&&e===null||this.spec.optional&&e===void 0):this._typeCheck(e)}resolve(e){let n=this;if(n.conditions.length){let r=n.conditions;n=n.clone(),n.conditions=[],n=r.reduce((s,i)=>i.resolve(s,e),n),n=n.resolve(e)}return n}resolveOptions(e){var n,r,s,i;return Object.assign({},e,{from:e.from||[],strict:(n=e.strict)!=null?n:this.spec.strict,abortEarly:(r=e.abortEarly)!=null?r:this.spec.abortEarly,recursive:(s=e.recursive)!=null?s:this.spec.recursive,disableStackTrace:(i=e.disableStackTrace)!=null?i:this.spec.disableStackTrace})}cast(e,n={}){let r=this.resolve(Object.assign({value:e},n)),s=n.assert==="ignore-optionality",i=r._cast(e,n);if(n.assert!==!1&&!r.isType(i)){if(s&&Te(i))return i;let o=mt(e),a=mt(i);throw new TypeError(`The value of ${n.path||"field"} could not be cast to a value that satisfies the schema type: "${r.type}". 

attempted value: ${o} 
`+(a!==o?`result of cast: ${a}`:""))}return i}_cast(e,n){let r=e===void 0?e:this.transforms.reduce((s,i)=>i.call(this,s,e,this),e);return r===void 0&&(r=this.getDefault(n)),r}_validate(e,n={},r,s){let{path:i,originalValue:o=e,strict:a=this.spec.strict}=n,c=e;a||(c=this._cast(c,Object.assign({assert:!1},n)));let u=[];for(let l of Object.values(this.internalTests))l&&u.push(l);this.runTests({path:i,value:c,originalValue:o,options:n,tests:u},r,l=>{if(l.length)return s(l,c);this.runTests({path:i,value:c,originalValue:o,options:n,tests:this.tests},r,s)})}runTests(e,n,r){let s=!1,{tests:i,value:o,originalValue:a,path:c,options:u}=e,l=g=>{s||(s=!0,n(g,o))},f=g=>{s||(s=!0,r(g,o))},h=i.length,m=[];if(!h)return f([]);let v={value:o,originalValue:a,path:c,options:u,schema:this};for(let g=0;g<i.length;g++){const y=i[g];y(v,l,function(E){E&&(Array.isArray(E)?m.push(...E):m.push(E)),--h<=0&&f(m)})}}asNestedTest({key:e,index:n,parent:r,parentPath:s,originalParent:i,options:o}){const a=e??n;if(a==null)throw TypeError("Must include `key` or `index` for nested validations");const c=typeof a=="number";let u=r[a];const l=Object.assign({},o,{strict:!0,parent:r,value:u,originalValue:i[a],key:void 0,[c?"index":"key"]:a,path:c||a.includes(".")?`${s||""}[${c?a:`"${a}"`}]`:(s?`${s}.`:"")+e});return(f,h,m)=>this.resolve(l)._validate(u,l,h,m)}validate(e,n){var r;let s=this.resolve(Object.assign({},n,{value:e})),i=(r=n==null?void 0:n.disableStackTrace)!=null?r:s.spec.disableStackTrace;return new Promise((o,a)=>s._validate(e,n,(c,u)=>{he.isError(c)&&(c.value=u),a(c)},(c,u)=>{c.length?a(new he(c,u,void 0,void 0,i)):o(u)}))}validateSync(e,n){var r;let s=this.resolve(Object.assign({},n,{value:e})),i,o=(r=n==null?void 0:n.disableStackTrace)!=null?r:s.spec.disableStackTrace;return s._validate(e,Object.assign({},n,{sync:!0}),(a,c)=>{throw he.isError(a)&&(a.value=c),a},(a,c)=>{if(a.length)throw new he(a,e,void 0,void 0,o);i=c}),i}isValid(e,n){return this.validate(e,n).then(()=>!0,r=>{if(he.isError(r))return!1;throw r})}isValidSync(e,n){try{return this.validateSync(e,n),!0}catch(r){if(he.isError(r))return!1;throw r}}_getDefault(e){let n=this.spec.default;return n==null?n:typeof n=="function"?n.call(this,e):un(n)}getDefault(e){return this.resolve(e||{})._getDefault(e)}default(e){return arguments.length===0?this._getDefault():this.clone({default:e})}strict(e=!0){return this.clone({strict:e})}nullability(e,n){const r=this.clone({nullable:e});return r.internalTests.nullable=an({message:n,name:"nullable",test(s){return s===null?this.schema.spec.nullable:!0}}),r}optionality(e,n){const r=this.clone({optional:e});return r.internalTests.optionality=an({message:n,name:"optionality",test(s){return s===void 0?this.schema.spec.optional:!0}}),r}optional(){return this.optionality(!0)}defined(e=$e.defined){return this.optionality(!1,e)}nullable(){return this.nullability(!0)}nonNullable(e=$e.notNull){return this.nullability(!1,e)}required(e=$e.required){return this.clone().withMutation(n=>n.nonNullable(e).defined(e))}notRequired(){return this.clone().withMutation(e=>e.nullable().optional())}transform(e){let n=this.clone();return n.transforms.push(e),n}test(...e){let n;if(e.length===1?typeof e[0]=="function"?n={test:e[0]}:n=e[0]:e.length===2?n={name:e[0],test:e[1]}:n={name:e[0],message:e[1],test:e[2]},n.message===void 0&&(n.message=$e.default),typeof n.test!="function")throw new TypeError("`test` is a required parameters");let r=this.clone(),s=an(n),i=n.exclusive||n.name&&r.exclusiveTests[n.name]===!0;if(n.exclusive&&!n.name)throw new TypeError("Exclusive tests must provide a unique `name` identifying the test");return n.name&&(r.exclusiveTests[n.name]=!!n.exclusive),r.tests=r.tests.filter(o=>!(o.OPTIONS.name===n.name&&(i||o.OPTIONS.test===s.OPTIONS.test))),r.tests.push(s),r}when(e,n){!Array.isArray(e)&&typeof e!="string"&&(n=e,e=".");let r=this.clone(),s=_d(e).map(i=>new Yt(i));return s.forEach(i=>{i.isSibling&&r.deps.push(i.key)}),r.conditions.push(typeof n=="function"?new Ur(s,n):Ur.fromOptions(s,n)),r}typeError(e){let n=this.clone();return n.internalTests.typeError=an({message:e,name:"typeError",skipAbsent:!0,test(r){return this.schema._typeCheck(r)?!0:this.createError({params:{type:this.schema.type}})}}),n}oneOf(e,n=$e.oneOf){let r=this.clone();return e.forEach(s=>{r._whitelist.add(s),r._blacklist.delete(s)}),r.internalTests.whiteList=an({message:n,name:"oneOf",skipAbsent:!0,test(s){let i=this.schema._whitelist,o=i.resolveAll(this.resolve);return o.includes(s)?!0:this.createError({params:{values:Array.from(i).join(", "),resolved:o}})}}),r}notOneOf(e,n=$e.notOneOf){let r=this.clone();return e.forEach(s=>{r._blacklist.add(s),r._whitelist.delete(s)}),r.internalTests.blacklist=an({message:n,name:"notOneOf",test(s){let i=this.schema._blacklist,o=i.resolveAll(this.resolve);return o.includes(s)?this.createError({params:{values:Array.from(i).join(", "),resolved:o}}):!0}}),r}strip(e=!0){let n=this.clone();return n.spec.strip=e,n}describe(e){const n=(e?this.resolve(e):this).clone(),{label:r,meta:s,optional:i,nullable:o}=n.spec;return{meta:s,label:r,optional:i,nullable:o,default:n.getDefault(e),type:n.type,oneOf:n._whitelist.describe(),notOneOf:n._blacklist.describe(),tests:n.tests.map(c=>({name:c.OPTIONS.name,params:c.OPTIONS.params})).filter((c,u,l)=>l.findIndex(f=>f.name===c.name)===u)}}}Se.prototype.__isYupSchema__=!0;for(const t of["validate","validateSync"])Se.prototype[`${t}At`]=function(e,n,r={}){const{parent:s,parentPath:i,schema:o}=Bx(this,e,n,r.context);return o[t](s&&s[i],Object.assign({},r,{parent:s,path:e}))};for(const t of["equals","is"])Se.prototype[t]=Se.prototype.oneOf;for(const t of["not","nope"])Se.prototype[t]=Se.prototype.notOneOf;function Li(){return new Cd}class Cd extends Se{constructor(){super({type:"boolean",check(e){return e instanceof Boolean&&(e=e.valueOf()),typeof e=="boolean"}}),this.withMutation(()=>{this.transform((e,n,r)=>{if(r.spec.coerce&&!r.isType(e)){if(/^(true|1)$/i.test(String(e)))return!0;if(/^(false|0)$/i.test(String(e)))return!1}return e})})}isTrue(e=Fi.isValue){return this.test({message:e,name:"is-value",exclusive:!0,params:{value:"true"},test(n){return Te(n)||n===!0}})}isFalse(e=Fi.isValue){return this.test({message:e,name:"is-value",exclusive:!0,params:{value:"false"},test(n){return Te(n)||n===!1}})}default(e){return super.default(e)}defined(e){return super.defined(e)}optional(){return super.optional()}required(e){return super.required(e)}notRequired(){return super.notRequired()}nullable(){return super.nullable()}nonNullable(e){return super.nonNullable(e)}strip(e){return super.strip(e)}}Li.prototype=Cd.prototype;const zx=/^(\d{4}|[+-]\d{6})(?:-?(\d{2})(?:-?(\d{2}))?)?(?:[ T]?(\d{2}):?(\d{2})(?::?(\d{2})(?:[,.](\d{1,}))?)?(?:(Z)|([+-])(\d{2})(?::?(\d{2}))?)?)?$/;function Wx(t){const e=Mi(t);if(!e)return Date.parse?Date.parse(t):Number.NaN;if(e.z===void 0&&e.plusMinus===void 0)return new Date(e.year,e.month,e.day,e.hour,e.minute,e.second,e.millisecond).valueOf();let n=0;return e.z!=="Z"&&e.plusMinus!==void 0&&(n=e.hourOffset*60+e.minuteOffset,e.plusMinus==="+"&&(n=0-n)),Date.UTC(e.year,e.month,e.day,e.hour,e.minute+n,e.second,e.millisecond)}function Mi(t){var e,n;const r=zx.exec(t);return r?{year:ze(r[1]),month:ze(r[2],1)-1,day:ze(r[3],1),hour:ze(r[4]),minute:ze(r[5]),second:ze(r[6]),millisecond:r[7]?ze(r[7].substring(0,3)):0,precision:(e=(n=r[7])==null?void 0:n.length)!=null?e:void 0,z:r[8]||void 0,plusMinus:r[9]||void 0,hourOffset:ze(r[10]),minuteOffset:ze(r[11])}:null}function ze(t,e=0){return Number(t)||e}let Vx=/^[a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,qx=/^((https?|ftp):)?\/\/(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(\#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i,Hx=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i,Kx="^\\d{4}-\\d{2}-\\d{2}",Gx="\\d{2}:\\d{2}:\\d{2}",Jx="(([+-]\\d{2}(:?\\d{2})?)|Z)",Qx=new RegExp(`${Kx}T${Gx}(\\.\\d+)?${Jx}$`),Yx=t=>Te(t)||t===t.trim(),Zx={}.toString();function jt(){return new Td}class Td extends Se{constructor(){super({type:"string",check(e){return e instanceof String&&(e=e.valueOf()),typeof e=="string"}}),this.withMutation(()=>{this.transform((e,n,r)=>{if(!r.spec.coerce||r.isType(e)||Array.isArray(e))return e;const s=e!=null&&e.toString?e.toString():e;return s===Zx?e:s})})}required(e){return super.required(e).withMutation(n=>n.test({message:e||$e.required,name:"required",skipAbsent:!0,test:r=>!!r.length}))}notRequired(){return super.notRequired().withMutation(e=>(e.tests=e.tests.filter(n=>n.OPTIONS.name!=="required"),e))}length(e,n=ue.length){return this.test({message:n,name:"length",exclusive:!0,params:{length:e},skipAbsent:!0,test(r){return r.length===this.resolve(e)}})}min(e,n=ue.min){return this.test({message:n,name:"min",exclusive:!0,params:{min:e},skipAbsent:!0,test(r){return r.length>=this.resolve(e)}})}max(e,n=ue.max){return this.test({name:"max",exclusive:!0,message:n,params:{max:e},skipAbsent:!0,test(r){return r.length<=this.resolve(e)}})}matches(e,n){let r=!1,s,i;return n&&(typeof n=="object"?{excludeEmptyString:r=!1,message:s,name:i}=n:s=n),this.test({name:i||"matches",message:s||ue.matches,params:{regex:e},skipAbsent:!0,test:o=>o===""&&r||o.search(e)!==-1})}email(e=ue.email){return this.matches(Vx,{name:"email",message:e,excludeEmptyString:!0})}url(e=ue.url){return this.matches(qx,{name:"url",message:e,excludeEmptyString:!0})}uuid(e=ue.uuid){return this.matches(Hx,{name:"uuid",message:e,excludeEmptyString:!1})}datetime(e){let n="",r,s;return e&&(typeof e=="object"?{message:n="",allowOffset:r=!1,precision:s=void 0}=e:n=e),this.matches(Qx,{name:"datetime",message:n||ue.datetime,excludeEmptyString:!0}).test({name:"datetime_offset",message:n||ue.datetime_offset,params:{allowOffset:r},skipAbsent:!0,test:i=>{if(!i||r)return!0;const o=Mi(i);return o?!!o.z:!1}}).test({name:"datetime_precision",message:n||ue.datetime_precision,params:{precision:s},skipAbsent:!0,test:i=>{if(!i||s==null)return!0;const o=Mi(i);return o?o.precision===s:!1}})}ensure(){return this.default("").transform(e=>e===null?"":e)}trim(e=ue.trim){return this.transform(n=>n!=null?n.trim():n).test({message:e,name:"trim",test:Yx})}lowercase(e=ue.lowercase){return this.transform(n=>Te(n)?n:n.toLowerCase()).test({message:e,name:"string_case",exclusive:!0,skipAbsent:!0,test:n=>Te(n)||n===n.toLowerCase()})}uppercase(e=ue.uppercase){return this.transform(n=>Te(n)?n:n.toUpperCase()).test({message:e,name:"string_case",exclusive:!0,skipAbsent:!0,test:n=>Te(n)||n===n.toUpperCase()})}}jt.prototype=Td.prototype;let Xx=t=>t!=+t;function Od(){return new Ad}class Ad extends Se{constructor(){super({type:"number",check(e){return e instanceof Number&&(e=e.valueOf()),typeof e=="number"&&!Xx(e)}}),this.withMutation(()=>{this.transform((e,n,r)=>{if(!r.spec.coerce)return e;let s=e;if(typeof s=="string"){if(s=s.replace(/\s/g,""),s==="")return NaN;s=+s}return r.isType(s)||s===null?s:parseFloat(s)})})}min(e,n=ot.min){return this.test({message:n,name:"min",exclusive:!0,params:{min:e},skipAbsent:!0,test(r){return r>=this.resolve(e)}})}max(e,n=ot.max){return this.test({message:n,name:"max",exclusive:!0,params:{max:e},skipAbsent:!0,test(r){return r<=this.resolve(e)}})}lessThan(e,n=ot.lessThan){return this.test({message:n,name:"max",exclusive:!0,params:{less:e},skipAbsent:!0,test(r){return r<this.resolve(e)}})}moreThan(e,n=ot.moreThan){return this.test({message:n,name:"min",exclusive:!0,params:{more:e},skipAbsent:!0,test(r){return r>this.resolve(e)}})}positive(e=ot.positive){return this.moreThan(0,e)}negative(e=ot.negative){return this.lessThan(0,e)}integer(e=ot.integer){return this.test({name:"integer",message:e,skipAbsent:!0,test:n=>Number.isInteger(n)})}truncate(){return this.transform(e=>Te(e)?e:e|0)}round(e){var n;let r=["ceil","floor","round","trunc"];if(e=((n=e)==null?void 0:n.toLowerCase())||"round",e==="trunc")return this.truncate();if(r.indexOf(e.toLowerCase())===-1)throw new TypeError("Only valid options for round() are: "+r.join(", "));return this.transform(s=>Te(s)?s:Math[e](s))}}Od.prototype=Ad.prototype;let Pd=new Date(""),e1=t=>Object.prototype.toString.call(t)==="[object Date]";function jo(){return new sr}class sr extends Se{constructor(){super({type:"date",check(e){return e1(e)&&!isNaN(e.getTime())}}),this.withMutation(()=>{this.transform((e,n,r)=>!r.spec.coerce||r.isType(e)||e===null?e:(e=Wx(e),isNaN(e)?sr.INVALID_DATE:new Date(e)))})}prepareParam(e,n){let r;if(Yt.isRef(e))r=e;else{let s=this.cast(e);if(!this._typeCheck(s))throw new TypeError(`\`${n}\` must be a Date or a value that can be \`cast()\` to a Date`);r=s}return r}min(e,n=Di.min){let r=this.prepareParam(e,"min");return this.test({message:n,name:"min",exclusive:!0,params:{min:e},skipAbsent:!0,test(s){return s>=this.resolve(r)}})}max(e,n=Di.max){let r=this.prepareParam(e,"max");return this.test({message:n,name:"max",exclusive:!0,params:{max:e},skipAbsent:!0,test(s){return s<=this.resolve(r)}})}}sr.INVALID_DATE=Pd;jo.prototype=sr.prototype;jo.INVALID_DATE=Pd;function t1(t,e=[]){let n=[],r=new Set,s=new Set(e.map(([o,a])=>`${o}-${a}`));function i(o,a){let c=Dt.split(o)[0];r.add(c),s.has(`${a}-${c}`)||n.push([a,c])}for(const o of Object.keys(t)){let a=t[o];r.add(o),Yt.isRef(a)&&a.isSibling?i(a.path,o):Po(a)&&"deps"in a&&a.deps.forEach(c=>i(c,o))}return kx.array(Array.from(r),n).reverse()}function yc(t,e){let n=1/0;return t.some((r,s)=>{var i;if((i=e.path)!=null&&i.includes(r))return n=s,!0}),n}function jd(t){return(e,n)=>yc(t,e)-yc(t,n)}const n1=(t,e,n)=>{if(typeof t!="string")return t;let r=t;try{r=JSON.parse(t)}catch{}return n.isType(r)?r:t};function jr(t){if("fields"in t){const e={};for(const[n,r]of Object.entries(t.fields))e[n]=jr(r);return t.setFields(e)}if(t.type==="array"){const e=t.optional();return e.innerType&&(e.innerType=jr(e.innerType)),e}return t.type==="tuple"?t.optional().clone({types:t.spec.types.map(jr)}):"optional"in t?t.optional():t}const r1=(t,e)=>{const n=[...Dt.normalizePath(e)];if(n.length===1)return n[0]in t;let r=n.pop(),s=Dt.getter(Dt.join(n),!0)(t);return!!(s&&r in s)};let vc=t=>Object.prototype.toString.call(t)==="[object Object]";function bc(t,e){let n=Object.keys(t.fields);return Object.keys(e).filter(r=>n.indexOf(r)===-1)}const s1=jd([]);function ko(t){return new kd(t)}class kd extends Se{constructor(e){super({type:"object",check(n){return vc(n)||typeof n=="function"}}),this.fields=Object.create(null),this._sortErrors=s1,this._nodes=[],this._excludedEdges=[],this.withMutation(()=>{e&&this.shape(e)})}_cast(e,n={}){var r;let s=super._cast(e,n);if(s===void 0)return this.getDefault(n);if(!this._typeCheck(s))return s;let i=this.fields,o=(r=n.stripUnknown)!=null?r:this.spec.noUnknown,a=[].concat(this._nodes,Object.keys(s).filter(f=>!this._nodes.includes(f))),c={},u=Object.assign({},n,{parent:c,__validating:n.__validating||!1}),l=!1;for(const f of a){let h=i[f],m=f in s;if(h){let v,g=s[f];u.path=(n.path?`${n.path}.`:"")+f,h=h.resolve({value:g,context:n.context,parent:c});let y=h instanceof Se?h.spec:void 0,b=y==null?void 0:y.strict;if(y!=null&&y.strip){l=l||f in s;continue}v=!n.__validating||!b?h.cast(s[f],u):s[f],v!==void 0&&(c[f]=v)}else m&&!o&&(c[f]=s[f]);(m!==f in c||c[f]!==s[f])&&(l=!0)}return l?c:s}_validate(e,n={},r,s){let{from:i=[],originalValue:o=e,recursive:a=this.spec.recursive}=n;n.from=[{schema:this,value:o},...i],n.__validating=!0,n.originalValue=o,super._validate(e,n,r,(c,u)=>{if(!a||!vc(u)){s(c,u);return}o=o||u;let l=[];for(let f of this._nodes){let h=this.fields[f];!h||Yt.isRef(h)||l.push(h.asNestedTest({options:n,key:f,parent:u,parentPath:n.path,originalParent:o}))}this.runTests({tests:l,value:u,originalValue:o,options:n},r,f=>{s(f.sort(this._sortErrors).concat(c),u)})})}clone(e){const n=super.clone(e);return n.fields=Object.assign({},this.fields),n._nodes=this._nodes,n._excludedEdges=this._excludedEdges,n._sortErrors=this._sortErrors,n}concat(e){let n=super.concat(e),r=n.fields;for(let[s,i]of Object.entries(this.fields)){const o=r[s];r[s]=o===void 0?i:o}return n.withMutation(s=>s.setFields(r,[...this._excludedEdges,...e._excludedEdges]))}_getDefault(e){if("default"in this.spec)return super._getDefault(e);if(!this._nodes.length)return;let n={};return this._nodes.forEach(r=>{var s;const i=this.fields[r];let o=e;(s=o)!=null&&s.value&&(o=Object.assign({},o,{parent:o.value,value:o.value[r]})),n[r]=i&&"getDefault"in i?i.getDefault(o):void 0}),n}setFields(e,n){let r=this.clone();return r.fields=e,r._nodes=t1(e,n),r._sortErrors=jd(Object.keys(e)),n&&(r._excludedEdges=n),r}shape(e,n=[]){return this.clone().withMutation(r=>{let s=r._excludedEdges;return n.length&&(Array.isArray(n[0])||(n=[n]),s=[...r._excludedEdges,...n]),r.setFields(Object.assign(r.fields,e),s)})}partial(){const e={};for(const[n,r]of Object.entries(this.fields))e[n]="optional"in r&&r.optional instanceof Function?r.optional():r;return this.setFields(e)}deepPartial(){return jr(this)}pick(e){const n={};for(const r of e)this.fields[r]&&(n[r]=this.fields[r]);return this.setFields(n,this._excludedEdges.filter(([r,s])=>e.includes(r)&&e.includes(s)))}omit(e){const n=[];for(const r of Object.keys(this.fields))e.includes(r)||n.push(r);return this.pick(n)}from(e,n,r){let s=Dt.getter(e,!0);return this.transform(i=>{if(!i)return i;let o=i;return r1(i,e)&&(o=Object.assign({},i),r||delete o[e],o[n]=s(i)),o})}json(){return this.transform(n1)}exact(e){return this.test({name:"exact",exclusive:!0,message:e||Pr.exact,test(n){if(n==null)return!0;const r=bc(this.schema,n);return r.length===0||this.createError({params:{properties:r.join(", ")}})}})}stripUnknown(){return this.clone({noUnknown:!0})}noUnknown(e=!0,n=Pr.noUnknown){typeof e!="boolean"&&(n=e,e=!0);let r=this.test({name:"noUnknown",exclusive:!0,message:n,test(s){if(s==null)return!0;const i=bc(this.schema,s);return!e||i.length===0||this.createError({params:{unknown:i.join(", ")}})}});return r.spec.noUnknown=e,r}unknown(e=!0,n=Pr.noUnknown){return this.noUnknown(!e,n)}transformKeys(e){return this.transform(n=>{if(!n)return n;const r={};for(const s of Object.keys(n))r[e(s)]=n[s];return r})}camelCase(){return this.transformKeys(Zs.camelCase)}snakeCase(){return this.transformKeys(Zs.snakeCase)}constantCase(){return this.transformKeys(e=>Zs.snakeCase(e).toUpperCase())}describe(e){const n=(e?this.resolve(e):this).clone(),r=super.describe(e);r.fields={};for(const[i,o]of Object.entries(n.fields)){var s;let a=e;(s=a)!=null&&s.value&&(a=Object.assign({},a,{parent:a.value,value:a.value[i]})),r.fields[i]=o.describe(a)}return r}}ko.prototype=kd.prototype;const i1=ko({patient_id:jt().required("مطلوب"),date:jo().required("مطلوب"),time:jt().nullable()}),o1={patient_id:"",date:"",time:null};function $d(){return p.jsx("div",{className:"p-5",children:p.jsx(rl,{})})}function wc({setIsOpen:t,patientData:e,appointmentId:n}){const{isFetching:r,data:s}=di({queryKey:["patients-select"],queryFn:()=>cx(),enabled:!n,select:g=>g.data}),{isFetching:i,data:o}=di({queryKey:["appointment",n],queryFn:()=>Up(n??""),enabled:!!n,select:g=>{var y;return(y=g.data)==null?void 0:y[0]}}),a=n?o==null?void 0:o.patient:e,c=[{value:"test",label:"test"}];s==null||s.map(g=>({label:g.name,value:`${g.id}`}));const u=xn(),{mutate:l,isPending:f}=Vr({mutationFn:n?zp:Bp,onSuccess:()=>{u.invalidateQueries({queryKey:["appointments"]}),t(!1)}});if(i)return p.jsx($d,{});const h=a==null?void 0:a.name,m=a==null?void 0:a.id,v=n?o:{...o1,patient_id:m};return p.jsx("div",{className:"h-full overflow-auto px-2",children:p.jsx(pd,{initialValues:v,validationSchema:i1,onSubmit:g=>l(g),children:p.jsxs(So,{className:"flex flex-col justify-between h-full",children:[p.jsxs(gd,{children:[p.jsx(It,{label:"اسم المريض",name:"patientId",value:h,defaultValue:h,disabled:!0,className:"[&>div>input]:!opacity-100"}),p.jsx(It,{label:"التاريخ",name:"date",type:"date"}),p.jsx(It,{label:"الوقت",name:"time",type:"time"})]}),p.jsx(md,{label:n?"تعديل":"حجز",disabled:f})]})})})}var Rd=(t=>(t.APPOINTMENT="appointment",t.PATIENT="patient",t))(Rd||{});function a1({className:t}){return p.jsx("svg",{width:"27px",height:"27px",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:M("stroke-black",t),children:p.jsx("path",{d:"M12 7V12L9.5 13.5M21 12C21 16.9706 16.9706 21 12 21C7.02944 21 3 16.9706 3 12C3 7.02944 7.02944 3 12 3C16.9706 3 21 7.02944 21 12Z",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})}function c1({onClick:t,className:e}){return p.jsx("span",{onClick:t,className:M("text-sm text-primary hover:text-secondary transition font-semibold hover:underline hover:underline-offset-4",e),children:"موعد جديد"})}function u1({yesCallBack:t,noCallBack:e,patientName:n,isDisabled:r}){return p.jsxs("div",{className:"flex flex-col gap-7 justify-center items-center",children:[p.jsxs("div",{className:"flex flex-col gap-3 justify-center items-center",children:[p.jsx("span",{className:"font-bold text-xl",children:"هل تريد إلغاء موعد"}),p.jsx("span",{className:"font-semibold text-primary",children:n})]}),p.jsxs("div",{className:"flex items-center gap-6",children:[p.jsx("button",{disabled:r,className:" border-secondary font-medium w-20 text-secondary hover:bg-secondary hover:text-white transition rounded-xl h-fit px-5 py-2 border",onClick:t,children:"نعم"}),p.jsx("button",{disabled:r,className:" border-foreground font-medium w-20 text-foreground hover:bg-foreground hover:text-white transition rounded-xl h-fit px-5 py-2 border",onClick:e,children:"لا"})]})]})}function l1({appointmentId:t,patientName:e}){const[n,r]=d.useState(!1),s=xn(),{mutate:i,isPending:o}=Vr({mutationFn:Wp,onSuccess:()=>{r(!1),s.invalidateQueries({queryKey:["appointments"]})}});return p.jsx(uo,{title:"إلغاء موعد",className:" md:w-2/5 lg:w-[25.5rem] w-11/12 h-fit overflow-hidden rounded-lg",isOpen:n,toggle:a=>r(a??!1),trigger:p.jsx("div",{className:"border-secondary font-medium text-secondary hover:bg-secondary hover:text-white transition rounded-xl h-fit text-sm px-5 py-2 border",children:"إلغاء"}),children:p.jsx(u1,{yesCallBack:()=>i(t),noCallBack:()=>r(!1),patientName:e,isDisabled:o})})}function Nd({className:t}){return p.jsx("svg",{width:"27px",height:"27px",className:M("",t),viewBox:"0 0 48 48",version:"1.1",xmlns:"http://www.w3.org/2000/svg",children:p.jsx("g",{id:"Icons",stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd",children:p.jsx("g",{id:"Color-",transform:"translate(-700.000000, -360.000000)",fill:"#67C15E",children:p.jsx("path",{d:"M723.993033,360 C710.762252,360 700,370.765287 700,383.999801 C700,389.248451 701.692661,394.116025 704.570026,398.066947 L701.579605,406.983798 L710.804449,404.035539 C714.598605,406.546975 719.126434,408 724.006967,408 C737.237748,408 748,397.234315 748,384.000199 C748,370.765685 737.237748,360.000398 724.006967,360.000398 L723.993033,360.000398 L723.993033,360 Z M717.29285,372.190836 C716.827488,371.07628 716.474784,371.034071 715.769774,371.005401 C715.529728,370.991464 715.262214,370.977527 714.96564,370.977527 C714.04845,370.977527 713.089462,371.245514 712.511043,371.838033 C711.806033,372.557577 710.056843,374.23638 710.056843,377.679202 C710.056843,381.122023 712.567571,384.451756 712.905944,384.917648 C713.258648,385.382743 717.800808,392.55031 724.853297,395.471492 C730.368379,397.757149 732.00491,397.545307 733.260074,397.27732 C735.093658,396.882308 737.393002,395.527239 737.971421,393.891043 C738.54984,392.25405 738.54984,390.857171 738.380255,390.560912 C738.211068,390.264652 737.745308,390.095816 737.040298,389.742615 C736.335288,389.389811 732.90737,387.696673 732.25849,387.470894 C731.623543,387.231179 731.017259,387.315995 730.537963,387.99333 C729.860819,388.938653 729.198006,389.89831 728.661785,390.476494 C728.238619,390.928051 727.547144,390.984595 726.969123,390.744481 C726.193254,390.420348 724.021298,389.657798 721.340985,387.273388 C719.267356,385.42535 717.856938,383.125756 717.448104,382.434484 C717.038871,381.729275 717.405907,381.319529 717.729948,380.938852 C718.082653,380.501232 718.421026,380.191036 718.77373,379.781688 C719.126434,379.372738 719.323884,379.160897 719.549599,378.681068 C719.789645,378.215575 719.62006,377.735746 719.450874,377.382942 C719.281687,377.030139 717.871269,373.587317 717.29285,372.190836 Z",id:"Whatsapp"})})})})}function d1(t,e){return d.useReducer((n,r)=>e[n][r]??n,t)}var Id=t=>{const{present:e,children:n}=t,r=f1(e),s=typeof n=="function"?n({present:r.isPresent}):d.Children.only(n),i=Xu(r.ref,h1(s));return typeof n=="function"||r.isPresent?d.cloneElement(s,{ref:i}):null};Id.displayName="Presence";function f1(t){const[e,n]=d.useState(),r=d.useRef({}),s=d.useRef(t),i=d.useRef("none"),o=t?"mounted":"unmounted",[a,c]=d1(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return d.useEffect(()=>{const u=Er(r.current);i.current=a==="mounted"?u:"none"},[a]),Ci(()=>{const u=r.current,l=s.current;if(l!==t){const h=i.current,m=Er(u);t?c("MOUNT"):m==="none"||(u==null?void 0:u.display)==="none"?c("UNMOUNT"):c(l&&h!==m?"ANIMATION_OUT":"UNMOUNT"),s.current=t}},[t,c]),Ci(()=>{if(e){let u;const l=e.ownerDocument.defaultView??window,f=m=>{const g=Er(r.current).includes(m.animationName);if(m.target===e&&g&&(c("ANIMATION_END"),!s.current)){const y=e.style.animationFillMode;e.style.animationFillMode="forwards",u=l.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=y)})}},h=m=>{m.target===e&&(i.current=Er(r.current))};return e.addEventListener("animationstart",h),e.addEventListener("animationcancel",f),e.addEventListener("animationend",f),()=>{l.clearTimeout(u),e.removeEventListener("animationstart",h),e.removeEventListener("animationcancel",f),e.removeEventListener("animationend",f)}}else c("ANIMATION_END")},[e,c]),{isPresent:["mounted","unmountSuspended"].includes(a),ref:d.useCallback(u=>{u&&(r.current=getComputedStyle(u)),n(u)},[])}}function Er(t){return(t==null?void 0:t.animationName)||"none"}function h1(t){var r,s;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var $o="Checkbox",[p1,uE]=Iy($o),[m1,g1]=p1($o),Dd=d.forwardRef((t,e)=>{const{__scopeCheckbox:n,name:r,checked:s,defaultChecked:i,required:o,disabled:a,value:c="on",onCheckedChange:u,form:l,...f}=t,[h,m]=d.useState(null),v=Xu(e,x=>m(x)),g=d.useRef(!1),y=h?l||!!h.closest("form"):!0,[b=!1,E]=Wy({prop:s,defaultProp:i,onChange:u}),C=d.useRef(b);return d.useEffect(()=>{const x=h==null?void 0:h.form;if(x){const T=()=>E(C.current);return x.addEventListener("reset",T),()=>x.removeEventListener("reset",T)}},[h,E]),p.jsxs(m1,{scope:n,state:b,disabled:a,children:[p.jsx(tl.button,{type:"button",role:"checkbox","aria-checked":gt(b)?"mixed":b,"aria-required":o,"data-state":Md(b),"data-disabled":a?"":void 0,disabled:a,value:c,...f,ref:v,onKeyDown:Aa(t.onKeyDown,x=>{x.key==="Enter"&&x.preventDefault()}),onClick:Aa(t.onClick,x=>{E(T=>gt(T)?!0:!T),y&&(g.current=x.isPropagationStopped(),g.current||x.stopPropagation())})}),y&&p.jsx(y1,{control:h,bubbles:!g.current,name:r,value:c,checked:b,required:o,disabled:a,form:l,style:{transform:"translateX(-100%)"},defaultChecked:gt(i)?!1:i})]})});Dd.displayName=$o;var Fd="CheckboxIndicator",Ld=d.forwardRef((t,e)=>{const{__scopeCheckbox:n,forceMount:r,...s}=t,i=g1(Fd,n);return p.jsx(Id,{present:r||gt(i.state)||i.state===!0,children:p.jsx(tl.span,{"data-state":Md(i.state),"data-disabled":i.disabled?"":void 0,...s,ref:e,style:{pointerEvents:"none",...t.style}})})});Ld.displayName=Fd;var y1=t=>{const{control:e,checked:n,bubbles:r=!0,defaultChecked:s,...i}=t,o=d.useRef(null),a=qy(n),c=zy(e);d.useEffect(()=>{const l=o.current,f=window.HTMLInputElement.prototype,m=Object.getOwnPropertyDescriptor(f,"checked").set;if(a!==n&&m){const v=new Event("click",{bubbles:r});l.indeterminate=gt(n),m.call(l,gt(n)?!1:n),l.dispatchEvent(v)}},[a,n,r]);const u=d.useRef(gt(n)?!1:n);return p.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:s??u.current,...i,tabIndex:-1,ref:o,style:{...t.style,...c,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function gt(t){return t==="indeterminate"}function Md(t){return gt(t)?"indeterminate":t?"checked":"unchecked"}var Ud=Dd,v1=Ld;const Bd=d.forwardRef(({className:t,...e},n)=>p.jsx(Ud,{ref:n,className:M("peer size-5 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",t),...e,children:p.jsx(v1,{className:M("flex items-center justify-center text-current"),children:p.jsx(Hy,{className:"h-4 w-4"})})}));Bd.displayName=Ud.displayName;function b1(t){const e=nx({...t}),n=e[0].value,r=e[2].setValue;return p.jsx(Bd,{checked:n,onCheckedChange:s=>{r(s)},...t,...e})}const w1=ko({name:jt().required("مطلوب"),age:Od().typeError("أرقام فقط").required("مطلوب").min(3,"العمر غير صحيح").max(120,"العمر غير صحيح"),address:jt(),phone1:jt().typeError("أرقام فقط").required("مطلوب").matches(/^01[0-25]\d{8}$/,"رقم غير صحيح"),phone1_has_whatsapp:Li(),phone2:jt().typeError("أرقام فقط").matches(/^01[0-25]\d{8}$/,"رقم غير صحيح"),phone2_has_whatsapp:Li().nullable()}),_1={name:"",age:"",address:"",phone1:"",phone1_has_whatsapp:!1,phone2:"",phone2_has_whatsapp:!1};function x1({setIsOpen:t,patientId:e}){var u;const{isFetching:n,isError:r,data:s}=di({queryKey:["patient",e],queryFn:()=>ux(e??""),enabled:!!e}),i=xn(),{mutate:o,isPending:a}=Vr({mutationFn:e?dx:lx,onSuccess:()=>{t(!1),i.invalidateQueries({queryKey:["patients"]})}});if(n)return p.jsx($d,{});if(r)return p.jsx("p",{className:"text-red-500 font-semibold",children:zt});const c=(u=s==null?void 0:s.data)==null?void 0:u[0];return p.jsx("div",{className:"h-full overflow-auto px-2",children:p.jsx(pd,{initialValues:e?c:_1,validationSchema:w1,onSubmit:l=>o(l),validateOnChange:!0,children:({values:l,errors:f})=>{const h=!!l.phone2,m=f.phone2??!1,v=h?!!m:!0,g=!!l.phone1,y=f.phone1??!1,b=g?!!y:!0;return p.jsxs(So,{children:[p.jsxs(gd,{children:[p.jsx(It,{label:"الاسم",name:"name"}),p.jsx(It,{onKeyDown:of,label:"العمر",name:"age",inputMode:"numeric"}),p.jsx(_c,{label:"رقم الهاتف",name:"phone1",onChange:()=>{},hasWhatsappDisabled:b}),p.jsx(_c,{label:"رقم هاتف آخر (اختياري)",name:"phone2",onChange:()=>{},hasWhatsappDisabled:v}),p.jsx(It,{label:"العنوان (اختياري)",name:"address"})]}),p.jsx(md,{label:e?"تعديل":"إضافة",disabled:a})]})}})})}function _c({label:t,name:e,hasWhatsappDisabled:n}){return p.jsxs("div",{className:"flex gap-2",children:[p.jsx(It,{inputMode:"numeric",pattern:"[0-9]*",label:t,name:e,className:"flex-1 w-full"}),p.jsxs("div",{className:"flex gap-1.5 items-center mt-2",children:[p.jsx(Nd,{className:"max-sm:size-5"}),p.jsx(b1,{className:"max-sm:size-4",name:`${e}_has_whatsapp`,disabled:n})]})]})}function E1({className:t}){return p.jsxs("svg",{width:"27px",height:"27px",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg",className:M("",t),children:[p.jsx("path",{d:"M905.92 237.76a32 32 0 0 0-52.48 36.48A416 416 0 1 1 96 512a418.56 418.56 0 0 1 297.28-398.72 32 32 0 1 0-18.24-61.44A480 480 0 1 0 992 512a477.12 477.12 0 0 0-86.08-274.24z"}),p.jsx("path",{d:"M630.72 113.28A413.76 413.76 0 0 1 768 185.28a32 32 0 0 0 39.68-50.24 476.8 476.8 0 0 0-160-83.2 32 32 0 0 0-18.24 61.44zM489.28 86.72a36.8 36.8 0 0 0 10.56 6.72 30.08 30.08 0 0 0 24.32 0 37.12 37.12 0 0 0 10.56-6.72A32 32 0 0 0 544 64a33.6 33.6 0 0 0-9.28-22.72A32 32 0 0 0 505.6 32a20.8 20.8 0 0 0-5.76 1.92 23.68 23.68 0 0 0-5.76 2.88l-4.8 3.84a32 32 0 0 0-6.72 10.56A32 32 0 0 0 480 64a32 32 0 0 0 2.56 12.16 37.12 37.12 0 0 0 6.72 10.56zM726.72 297.28a32 32 0 0 0-45.12 0l-169.6 169.6-169.28-169.6A32 32 0 0 0 297.6 342.4l169.28 169.6-169.6 169.28a32 32 0 1 0 45.12 45.12l169.6-169.28 169.28 169.28a32 32 0 0 0 45.12-45.12L557.12 512l169.28-169.28a32 32 0 0 0 0.32-45.44z"})]})}function S1({className:t}){return p.jsx("svg",{width:"27px",height:"27px",viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg",className:M("",t),children:p.jsxs("g",{fill:"gray",children:[p.jsx("path",{d:"M8 16a8 8 0 0 1-8-8 8 8 0 0 1 8-8 8 8 0 0 1 8 8 8 8 0 0 1-8 8zm0-1a7 7 0 0 0 7-7 7 7 0 0 0-7-7 7 7 0 0 0-7 7 7 7 0 0 0 7 7z"}),p.jsx("path",{d:"M8 3.75c-.386 0-.69.124-.914.373A1.269 1.269 0 0 0 6.75 5c0 .336.112.628.336.877.224.249.528.373.914.373s.69-.124.914-.373c.224-.249.336-.541.336-.877 0-.336-.112-.628-.336-.877C8.69 3.874 8.386 3.75 8 3.75zM7 7v5h2V7z",fontFamily:"Ubuntu",fontWeight:"400",letterSpacing:"0",wordSpacing:"0"})]})})}function C1({className:t}){return p.jsx("svg",{width:"27px",height:"27px",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:M("",t),children:p.jsx("path",{d:"M12 5H9C7.11438 5 6.17157 5 5.58579 5.58579C5 6.17157 5 7.11438 5 9V15C5 16.8856 5 17.8284 5.58579 18.4142C6.17157 19 7.11438 19 9 19H15C16.8856 19 17.8284 19 18.4142 18.4142C19 17.8284 19 16.8856 19 15V12M9.31899 12.6911L15.2486 6.82803C15.7216 6.36041 16.4744 6.33462 16.9782 6.76876C17.5331 7.24688 17.5723 8.09299 17.064 8.62034L11.2329 14.6702L9 15L9.31899 12.6911Z",stroke:"#464455",strokeLinecap:"round",strokeLinejoin:"round"})})}const T1=({className:t})=>p.jsx("svg",{width:"4",height:"16",viewBox:"0 0 4 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:M(t),children:p.jsx("path",{d:"M2 16C1.45 16 0.979167 15.8042 0.5875 15.4125C0.195833 15.0208 0 14.55 0 14C0 13.45 0.195833 12.9792 0.5875 12.5875C0.979167 12.1958 1.45 12 2 12C2.55 12 3.02083 12.1958 3.4125 12.5875C3.80417 12.9792 4 13.45 4 14C4 14.55 3.80417 15.0208 3.4125 15.4125C3.02083 15.8042 2.55 16 2 16ZM2 10C1.45 10 0.979167 9.80417 0.5875 9.4125C0.195833 9.02083 0 8.55 0 8C0 7.45 0.195833 6.97917 0.5875 6.5875C0.979167 6.19583 1.45 6 2 6C2.55 6 3.02083 6.19583 3.4125 6.5875C3.80417 6.97917 4 7.45 4 8C4 8.55 3.80417 9.02083 3.4125 9.4125C3.02083 9.80417 2.55 10 2 10ZM2 4C1.45 4 0.979167 3.80417 0.5875 3.4125C0.195833 3.02083 0 2.55 0 2C0 1.45 0.195833 0.979167 0.5875 0.5875C0.979167 0.195833 1.45 0 2 0C2.55 0 3.02083 0.195833 3.4125 0.5875C3.80417 0.979167 4 1.45 4 2C4 2.55 3.80417 3.02083 3.4125 3.4125C3.02083 3.80417 2.55 4 2 4Z",fill:"#343434"})});function O1({title:t,trigger:e,confirmCallBack:n,cancelCallBack:r,isActionsDisabled:s,children:i,isOpen:o,toggle:a}){return p.jsx(uo,{isOpen:o,toggle:a,trigger:e,title:t,className:" md:min-w-2/5 lg:min-w-[25.5rem] w-11/12 h-fit overflow-hidden rounded-lg",children:p.jsxs("div",{className:"flex flex-col gap-7 justify-center items-center",children:[p.jsx("div",{className:"flex flex-col gap-3 justify-center items-center",children:i}),p.jsxs("div",{className:"flex items-center gap-6",children:[p.jsx("button",{disabled:s,className:" border-secondary font-medium w-20 text-secondary hover:bg-secondary hover:text-white transition rounded-xl h-fit px-5 py-2 border",onClick:n,children:"نعم"}),p.jsx("button",{disabled:s,className:" border-foreground font-medium w-20 text-foreground hover:bg-foreground hover:text-white transition rounded-xl h-fit px-5 py-2 border",onClick:r,children:"لا"})]})]})})}function A1({patient:t}){const[e,n]=d.useState(!1),[r,s]=d.useState(!1),[i,o]=d.useState(!1),a=d.useRef(null),c=t.id,u=t.name,l=xn(),{mutate:f,isPending:h}=Vr({mutationFn:fx,onSuccess:()=>{o(!1),l.invalidateQueries({queryKey:["patients"]})}});return d.useEffect(()=>{const m=()=>{var v;(v=a.current)==null||v.focus({preventScroll:!0}),n(!1)};return document.addEventListener("wheel",m),document.addEventListener("touchmove",m),()=>{document.removeEventListener("wheel",m),document.removeEventListener("touchmove",m)}},[a.current]),p.jsxs(Ry,{open:e,onOpenChange:n,children:[p.jsxs("div",{className:"relative -m-1.5",children:[p.jsx(Ny,{ref:a,className:" rounded-full hover:bg-gray-50 transition-all size-8 flex justify-center items-center ",children:p.jsx(T1,{})}),p.jsxs(Yu,{align:"end",className:"flex flex-col h-fit bg-white drop-shadow-md w-40 rounded-lg overflow-hidden p-0 -mt-1 !animate-none !duration-0",children:[p.jsx(Xs,{label:"تفاصيل",icon:p.jsx(S1,{className:"size-[22.5px]"})}),p.jsx("button",{onClick:()=>s(!0),children:p.jsx(Xs,{label:"تعديل",icon:p.jsx(C1,{className:"-ms-1 h-7 w-8 -me-1"})})}),p.jsx(O1,{isOpen:i,toggle:()=>o(m=>!m),title:"حذف مريض",trigger:p.jsx(Xs,{label:"حذف",icon:p.jsx(E1,{className:" fill-red-600 size-[22.5px]"})}),confirmCallBack:()=>f(c),cancelCallBack:()=>o(!1),isActionsDisabled:h,children:p.jsxs("p",{className:"font-semibold text-lg",children:["هل تريد حذف ملف  ",p.jsx("span",{className:" text-primary",children:u}),"  ؟"]})})]})]}),p.jsx(Oi,{title:"تعديل مريض",isOpen:r,setIsOpen:s,children:p.jsx(x1,{setIsOpen:s,patientId:c})})]})}const Xs=({label:t,icon:e})=>p.jsxs("span",{className:"px-2.5 py-2 flex items-center gap-2 hover:bg-gray-50 transition-all text-sm",children:[e,t]});function P1({className:t}){return p.jsx("svg",{width:"27px",height:"27px",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:M("stroke-primary",t),children:p.jsx("path",{d:"M21 5.5C21 14.0604 14.0604 21 5.5 21C5.11378 21 4.73086 20.9859 4.35172 20.9581C3.91662 20.9262 3.69906 20.9103 3.50103 20.7963C3.33701 20.7019 3.18146 20.5345 3.09925 20.364C3 20.1582 3 19.9181 3 19.438V16.6207C3 16.2169 3 16.015 3.06645 15.842C3.12515 15.6891 3.22049 15.553 3.3441 15.4456C3.48403 15.324 3.67376 15.255 4.05321 15.117L7.26005 13.9509C7.70153 13.7904 7.92227 13.7101 8.1317 13.7237C8.31637 13.7357 8.49408 13.7988 8.64506 13.9058C8.81628 14.0271 8.93713 14.2285 9.17882 14.6314L10 16C12.6499 14.7999 14.7981 12.6489 16 10L14.6314 9.17882C14.2285 8.93713 14.0271 8.81628 13.9058 8.64506C13.7988 8.49408 13.7357 8.31637 13.7237 8.1317C13.7101 7.92227 13.7904 7.70153 13.9509 7.26005L13.9509 7.26005L15.117 4.05321C15.255 3.67376 15.324 3.48403 15.4456 3.3441C15.553 3.22049 15.6891 3.12515 15.842 3.06645C16.015 3 16.2169 3 16.6207 3H19.438C19.9181 3 20.1582 3 20.364 3.09925C20.5345 3.18146 20.7019 3.33701 20.7963 3.50103C20.9103 3.69907 20.9262 3.91662 20.9581 4.35173C20.9859 4.73086 21 5.11378 21 5.5Z",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})}function xc({phone:t,hasWhatsapp:e}){return p.jsx("div",{className:"flex items-center gap-2 max-sm:text-sm ",children:t?p.jsxs(p.Fragment,{children:[p.jsx("span",{children:t}),p.jsx("a",{href:`tel:${t}`,children:p.jsx(P1,{className:"size-6 max-sm:size-5 hover:stroke-secondary transition"})}),e&&p.jsx("a",{href:`https://wa.me/2${t}`,target:"_blank",rel:"noopener noreferrer",children:p.jsx(Nd,{className:"size-6 max-sm:size-5"})})]}):p.jsx("span",{className:"text-secondary",children:"لا يوجد رقم آخر"})})}function lE(t){const[e,n]=d.useState(!1),{patient:r,variant:s}=t,{name:i,phone1:o,phone1_has_whatsapp:a,phone2:c,phone2_has_whatsapp:u}=r,l=s===Rd.PATIENT;return p.jsxs("div",{className:"bg-white h-fit group w-full py-4 px-3 rounded-xl flex flex-col gap-5 max-sm:gap-5 hover:shadow-md transition duration-200 ",children:[p.jsxs("div",{className:"flex gap-2 max-lg:gap-2 items-start justify-between max-lg:justify-center",children:[p.jsx("div",{className:"flex flex-1 flex-col gap-1 text-foreground group-hover:text-primary",children:p.jsx("h4",{className:"font-bold text-sm lg:text-base  h-10 lg:h-12",children:i})}),!l&&p.jsxs("div",{className:"flex flex-col",children:[p.jsxs("div",{className:"flex items-center gap-1 -mb-1",children:[p.jsx("span",{style:{direction:"ltr"},className:"font-semibold text-sm text-foreground",children:!l&&t.time?t.time:"--:--"}),p.jsx(a1,{className:"size-6 -me-0.5"})]}),!Mo(new Date(t.date))&&p.jsx(Oi,{title:"تعديل موعد",isOpen:e,setIsOpen:n,trigger:p.jsx("span",{className:"w-full inline-flex text-primary hover:text-secondary transition-all hover:underline text-sm self-start font-semibold max-sm:text-xs",children:"تغيير"}),children:p.jsx(wc,{setIsOpen:n,appointmentId:t.appointmentId})})]}),l&&p.jsx(A1,{patient:r})]}),p.jsxs("div",{className:"flex items-end max-lg:gap-2 justify-between",children:[p.jsxs("div",{className:"flex flex-col gap-4 ",children:[p.jsx(xc,{phone:o,hasWhatsapp:a}),p.jsx(xc,{phone:c,hasWhatsapp:!!u})]}),!l&&p.jsx(p.Fragment,{children:!Mo(new Date(t.date))&&p.jsx(l1,{appointmentId:t.appointmentId,patientName:r.name})}),l&&p.jsx(Oi,{title:"حجز موعد",isOpen:e,setIsOpen:n,trigger:p.jsx(c1,{onClick:()=>{}}),children:p.jsx(wc,{setIsOpen:n,patientData:r})})]})]})}const j1=Tl,k1=Ol,$1=Al,zd=d.forwardRef(({className:t,...e},n)=>p.jsx(rs,{className:M("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e,ref:n}));zd.displayName=rs.displayName;const R1=Qp("fixed z-50 gap-4 bg-background p-6 shadow-lg transition ease-in-out data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:duration-300 data-[state=open]:duration-500",{variants:{side:{top:"inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top",bottom:"inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom",left:"inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm",right:"inset-y-0 right-0 h-full w-3/4  border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm"}},defaultVariants:{side:"right"}}),Wd=d.forwardRef(({side:t="right",className:e,children:n,...r},s)=>p.jsxs($1,{children:[p.jsx(zd,{}),p.jsxs(ss,{ref:s,className:M(R1({side:t}),e),...r,children:[n,p.jsxs(Pl,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-secondary",children:[p.jsx(jl,{className:"h-4 w-4"}),p.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));Wd.displayName=ss.displayName;const Vd=({className:t,...e})=>p.jsx("div",{className:M("flex flex-col space-y-2 text-center sm:text-left",t),...e});Vd.displayName="SheetHeader";const qd=d.forwardRef(({className:t,...e},n)=>p.jsx(is,{ref:n,className:M("text-lg font-semibold text-foreground",t),...e}));qd.displayName=is.displayName;const N1=d.forwardRef(({className:t,...e},n)=>p.jsx(os,{ref:n,className:M("text-sm text-muted-foreground",t),...e}));N1.displayName=os.displayName;function I1({trigger:t,title:e,children:n,className:r}){return p.jsxs(j1,{children:[p.jsx(k1,{children:t}),p.jsx(Wd,{className:"p-0 !max-w-[17rem]",children:p.jsxs(Vd,{children:[p.jsx(qd,{children:e}),p.jsx("div",{className:M("h-screen w-full !mt-0",r),children:n})]})})]})}function D1({className:t}){return p.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:M("",t),children:[p.jsx("path",{d:"M4 18L20 18",stroke:"#000000",strokeWidth:"2",strokeLinecap:"round"}),p.jsx("path",{d:"M4 12L20 12",stroke:"#000000",strokeWidth:"2",strokeLinecap:"round"}),p.jsx("path",{d:"M4 6L20 6",stroke:"#000000",strokeWidth:"2",strokeLinecap:"round"})]})}function F1({className:t}){return p.jsx("svg",{width:"22px",height:"22px",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:M("stroke-slate-300",t),children:p.jsx("path",{d:"M16.6725 16.6412L21 21M19 11C19 15.4183 15.4183 19 11 19C6.58172 19 3 15.4183 3 11C3 6.58172 6.58172 3 11 3C15.4183 3 19 6.58172 19 11Z",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})}function dE({children:t,isFetching:e,addBtn:n}){const{pathname:r}=Yd(),{search:s,setSearch:i}=d.useContext(af),o=cf.find(c=>c.href===r),a=(o==null?void 0:o.id)==="home"?"مواعيد اليوم":o==null?void 0:o.label;return p.jsxs("div",{className:"flex flex-col sm:gap-3 py-3 sm:py-6 px-2 sm:px-5 w-full h-full",children:[p.jsxs("div",{className:"flex sm:items-start max-sm:gap-3 justify-between max-sm:flex-col",children:[p.jsxs("div",{className:"flex gap-2 ",children:[p.jsx("div",{className:"lg:hidden",children:p.jsx(I1,{trigger:p.jsx(D1,{className:" size-7"}),title:"",children:p.jsx(uf,{className:"w-full h-full"})})}),p.jsxs("div",{className:"flex gap-3",children:[p.jsx("h4",{className:"font-semibold text-2xl sm:text-3xl text-foreground",children:a}),!!n&&n]})]}),p.jsx(yd,{icon:p.jsx(F1,{}),className:"sm:w-80 text-sm max-sm:[&>div>input]:placeholder:text-sm max-sm:[&>div>input]:text-sm max-sm:h-12 max-sm:w-10/12 max-sm:mx-auto",placeholder:"بحث",value:s,onChange:c=>{const u=c.target.value;i(u)}})]}),p.jsxs("div",{className:" overflow-auto flex-1 pe-1",children:[p.jsx(lf,{richColors:!0,position:"top-left",theme:"light",closeButton:!0}),e?p.jsx(rl,{}):t]})]})}export{wc as A,rl as B,Hy as C,nE as D,lE as E,Oi as F,Rd as G,eE as H,tu as I,x1 as J,cx as K,tE as L,cE as N,tl as P,no as R,rE as S,Zu as a,Iy as b,Qp as c,nl as d,Aa as e,iE as f,Ci as g,zy as h,cg as i,eg as j,hg as k,pg as l,gg as m,mg as n,lg as o,fg as p,$u as q,qy as r,dg as s,Wy as t,Xu as u,Ry as v,Ny as w,Yu as x,di as y,dE as z};
