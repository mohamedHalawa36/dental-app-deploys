const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/web-CmYIq-LD.js","assets/chunk-PVWAREVJ-chYXeG9N.js","assets/QueryClientProvider-Xy3iKmL1.js","assets/auth-BDwFg1jQ.js","assets/useAttachBackBtn-D2A7XsYt.js","assets/query-CXdU6cDq.js","assets/web--bLPOTSk.js"])))=>i.map(i=>d[i]);
var oe=t=>{throw TypeError(t)};var ce=(t,e,s)=>e.has(t)||oe("Cannot "+s);var a=(t,e,s)=>(ce(t,e,"read from private field"),s?s.call(t):e.get(t)),x=(t,e,s)=>e.has(t)?oe("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,s),v=(t,e,s,n)=>(ce(t,e,"write to private field"),n?n.call(t,s):e.set(t,s),s);var Z=(t,e,s,n)=>({set _(r){v(t,e,r,s)},get _(){return a(t,e,n)}});import{r as se,q as ke,p as c,t as V,v as Le,w as Ae,x as Ce,M as je,L as Me,S as Qe,y as Se,O as De,i as qe}from"./chunk-PVWAREVJ-chYXeG9N.js";import{u as Fe,t as te,m as ie,_ as be,A as Re,e as Te,a as $e,b as Ue,S as xe,M as He,n as O,c as de,d as Q,h as Oe,f as le,g as Ie,o as ue,r as he,i as Be,j as pe,p as fe,s as Ke,Q as We,T as Ge}from"./QueryClientProvider-Xy3iKmL1.js";import{g as Ve,a as ze}from"./auth-BDwFg1jQ.js";import{P as Xe,u as Je}from"./useAttachBackBtn-D2A7XsYt.js";import{Q as Ye}from"./query-CXdU6cDq.js";const Ze="/assets/app-BRqD2LET.css",Ne=[{rel:"apple-touch-startup-image",href:"splash_screens/iPhone_16_Pro_Max_landscape.png",media:"screen and (device-width: 440px) and (device-height: 956px) and (-webkit-device-pixel-ratio: 3) and (orientation: landscape)"},{rel:"apple-touch-startup-image",href:"splash_screens/iPhone_16_Pro_landscape.png",media:"screen and (device-width: 402px) and (device-height: 874px) and (-webkit-device-pixel-ratio: 3) and (orientation: landscape)"},{rel:"apple-touch-startup-image",href:"splash_screens/iPhone_16_Plus__iPhone_15_Pro_Max__iPhone_15_Plus__iPhone_14_Pro_Max_landscape.png",media:"screen and (device-width: 430px) and (device-height: 932px) and (-webkit-device-pixel-ratio: 3) and (orientation: landscape)"},{rel:"apple-touch-startup-image",href:"splash_screens/iPhone_16__iPhone_15_Pro__iPhone_15__iPhone_14_Pro_landscape.png",media:"screen and (device-width: 393px) and (device-height: 852px) and (-webkit-device-pixel-ratio: 3) and (orientation: landscape)"},{rel:"apple-touch-startup-image",href:"splash_screens/iPhone_14_Plus__iPhone_13_Pro_Max__iPhone_12_Pro_Max_landscape.png",media:"screen and (device-width: 428px) and (device-height: 926px) and (-webkit-device-pixel-ratio: 3) and (orientation: landscape)"},{rel:"apple-touch-startup-image",href:"splash_screens/iPhone_16e__iPhone_14__iPhone_13_Pro__iPhone_13__iPhone_12_Pro__iPhone_12_landscape.png",media:"screen and (device-width: 390px) and (device-height: 844px) and (-webkit-device-pixel-ratio: 3) and (orientation: landscape)"},{rel:"apple-touch-startup-image",href:"splash_screens/iPhone_13_mini__iPhone_12_mini__iPhone_11_Pro__iPhone_XS__iPhone_X_landscape.png",media:"screen and (device-width: 375px) and (device-height: 812px) and (-webkit-device-pixel-ratio: 3) and (orientation: landscape)"},{rel:"apple-touch-startup-image",href:"splash_screens/iPhone_11_Pro_Max__iPhone_XS_Max_landscape.png",media:"screen and (device-width: 414px) and (device-height: 896px) and (-webkit-device-pixel-ratio: 3) and (orientation: landscape)"},{rel:"apple-touch-startup-image",href:"splash_screens/iPhone_11__iPhone_XR_landscape.png",media:"screen and (device-width: 414px) and (device-height: 896px) and (-webkit-device-pixel-ratio: 2) and (orientation: landscape)"},{rel:"apple-touch-startup-image",href:"splash_screens/iPhone_8_Plus__iPhone_7_Plus__iPhone_6s_Plus__iPhone_6_Plus_landscape.png",media:"screen and (device-width: 414px) and (device-height: 736px) and (-webkit-device-pixel-ratio: 3) and (orientation: landscape)"},{rel:"apple-touch-startup-image",href:"splash_screens/iPhone_8__iPhone_7__iPhone_6s__iPhone_6__4.7__iPhone_SE_landscape.png",media:"screen and (device-width: 375px) and (device-height: 667px) and (-webkit-device-pixel-ratio: 2) and (orientation: landscape)"},{rel:"apple-touch-startup-image",href:"splash_screens/4__iPhone_SE__iPod_touch_5th_generation_and_later_landscape.png",media:"screen and (device-width: 320px) and (device-height: 568px) and (-webkit-device-pixel-ratio: 2) and (orientation: landscape)"},{rel:"apple-touch-startup-image",href:"splash_screens/13__iPad_Pro_M4_landscape.png",media:"screen and (device-width: 1032px) and (device-height: 1376px) and (-webkit-device-pixel-ratio: 2) and (orientation: landscape)"},{rel:"apple-touch-startup-image",href:"splash_screens/12.9__iPad_Pro_landscape.png",media:"screen and (device-width: 1024px) and (device-height: 1366px) and (-webkit-device-pixel-ratio: 2) and (orientation: landscape)"},{rel:"apple-touch-startup-image",href:"splash_screens/11__iPad_Pro_M4_landscape.png",media:"screen and (device-width: 834px) and (device-height: 1210px) and (-webkit-device-pixel-ratio: 2) and (orientation: landscape)"},{rel:"apple-touch-startup-image",href:"splash_screens/11__iPad_Pro__10.5__iPad_Pro_landscape.png",media:"screen and (device-width: 834px) and (device-height: 1194px) and (-webkit-device-pixel-ratio: 2) and (orientation: landscape)"},{rel:"apple-touch-startup-image",href:"splash_screens/10.9__iPad_Air_landscape.png",media:"screen and (device-width: 820px) and (device-height: 1180px) and (-webkit-device-pixel-ratio: 2) and (orientation: landscape)"},{rel:"apple-touch-startup-image",href:"splash_screens/10.5__iPad_Air_landscape.png",media:"screen and (device-width: 834px) and (device-height: 1112px) and (-webkit-device-pixel-ratio: 2) and (orientation: landscape)"},{rel:"apple-touch-startup-image",href:"splash_screens/10.2__iPad_landscape.png",media:"screen and (device-width: 810px) and (device-height: 1080px) and (-webkit-device-pixel-ratio: 2) and (orientation: landscape)"},{rel:"apple-touch-startup-image",href:"splash_screens/9.7__iPad_Pro__7.9__iPad_mini__9.7__iPad_Air__9.7__iPad_landscape.png",media:"screen and (device-width: 768px) and (device-height: 1024px) and (-webkit-device-pixel-ratio: 2) and (orientation: landscape)"},{rel:"apple-touch-startup-image",href:"splash_screens/8.3__iPad_Mini_landscape.png",media:"screen and (device-width: 744px) and (device-height: 1133px) and (-webkit-device-pixel-ratio: 2) and (orientation: landscape)"}],et=["/users"],tt=["/availability"],st=(t,e,s)=>{if(s)return!0;const n=tt.includes(t),r=et.includes(t);if(!n&&!r)return!0;const i=e==="doctor";if(n)return i;if(r)return s},{userNotFound:nt}=ie.error.auth;function rt({children:t}){var C;const[e,s]=se.useState(!0),{authData:n,setAuthData:r}=Fe(),i=n==null?void 0:n.user,{pathname:o}=ke();se.useEffect(()=>{(async()=>{var _;const{data:l,error:M}=await Ve();if(M){r(null),s(!1),te.error(nt);return}const g=(_=l==null?void 0:l.session)==null?void 0:_.user,y=(g==null?void 0:g.id)===(i==null?void 0:i.id);if(!g)r(null);else if(!y){const{data:W,error:$}=await ze(g.id);$||r({user:{...g,...W},session:l.session})}s(!1)})()},[r,i==null?void 0:i.id]);const d=o==="/login";if(e)return c.jsx(Xe,{className:"h-full"});if(!i)return d?t:c.jsx(V,{to:"/login",replace:!0});if(d)return c.jsx(V,{to:"/",replace:!0});const h=o==="/reset-password";return((C=n.user)==null?void 0:C.has_reseted_password)?h?c.jsx(V,{to:"/",replace:!0}):st(o,i.role,i.is_admin)?t:c.jsx(V,{to:"/",replace:!0}):h?t:c.jsx(V,{to:"/reset-password",replace:!0})}const N=()=>{const t=ie.error.connection,e=ie.success.connection;te.dismiss(),navigator.onLine||te.error(t,{duration:1/0,closeButton:!1,dismissible:!1}),navigator.onLine&&te.success(e)};/*! Capacitor: https://capacitorjs.com/ - MIT License */var K;(function(t){t.Unimplemented="UNIMPLEMENTED",t.Unavailable="UNAVAILABLE"})(K||(K={}));class re extends Error{constructor(e,s,n){super(e),this.message=e,this.code=s,this.data=n}}const it=t=>{var e,s;return t!=null&&t.androidBridge?"android":!((s=(e=t==null?void 0:t.webkit)===null||e===void 0?void 0:e.messageHandlers)===null||s===void 0)&&s.bridge?"ios":"web"},at=t=>{const e=t.CapacitorCustomPlatform||null,s=t.Capacitor||{},n=s.Plugins=s.Plugins||{},r=()=>e!==null?e.name:it(t),i=()=>r()!=="web",o=u=>{const l=w.get(u);return!!(l!=null&&l.platforms.has(r())||d(u))},d=u=>{var l;return(l=s.PluginHeaders)===null||l===void 0?void 0:l.find(M=>M.name===u)},h=u=>t.console.error(u),w=new Map,C=(u,l={})=>{const M=w.get(u);if(M)return console.warn(`Capacitor plugin "${u}" already registered. Cannot register plugins twice.`),M.proxy;const g=r(),y=d(u);let _;const W=async()=>(!_&&g in l?_=typeof l[g]=="function"?_=await l[g]():_=l[g]:e!==null&&!_&&"web"in l&&(_=typeof l.web=="function"?_=await l.web():_=l.web),_),$=(f,m)=>{var b,k;if(y){const q=y==null?void 0:y.methods.find(L=>m===L.name);if(q)return q.rtype==="promise"?L=>s.nativePromise(u,m.toString(),L):(L,J)=>s.nativeCallback(u,m.toString(),L,J);if(f)return(b=f[m])===null||b===void 0?void 0:b.bind(f)}else{if(f)return(k=f[m])===null||k===void 0?void 0:k.bind(f);throw new re(`"${u}" plugin is not implemented on ${g}`,K.Unimplemented)}},P=f=>{let m;const b=(...k)=>{const q=W().then(L=>{const J=$(L,f);if(J){const Y=J(...k);return m=Y==null?void 0:Y.remove,Y}else throw new re(`"${u}.${f}()" is not implemented on ${g}`,K.Unimplemented)});return f==="addListener"&&(q.remove=async()=>m()),q};return b.toString=()=>`${f.toString()}() { [capacitor code] }`,Object.defineProperty(b,"name",{value:f,writable:!1,configurable:!1}),b},E=P("addListener"),D=P("removeListener"),X=(f,m)=>{const b=E({eventName:f},m),k=async()=>{const L=await b;D({eventName:f,callbackId:L},m)},q=new Promise(L=>b.then(()=>L({remove:k})));return q.remove=async()=>{console.warn("Using addListener() without 'await' is deprecated."),await k()},q},G=new Proxy({},{get(f,m){switch(m){case"$$typeof":return;case"toJSON":return()=>({});case"addListener":return y?X:E;case"removeListener":return D;default:return P(m)}}});return n[u]=G,w.set(u,{name:u,proxy:G,platforms:new Set([...Object.keys(l),...y?[g]:[]])}),G};return s.convertFileSrc||(s.convertFileSrc=u=>u),s.getPlatform=r,s.handleError=h,s.isNativePlatform=i,s.isPluginAvailable=o,s.registerPlugin=C,s.Exception=re,s.DEBUG=!!s.DEBUG,s.isLoggingEnabled=!!s.isLoggingEnabled,s},ot=t=>t.Capacitor=at(t),ae=ot(typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{}),ne=ae.registerPlugin;class Ee{constructor(){this.listeners={},this.retainedEventArguments={},this.windowListeners={}}addListener(e,s){let n=!1;this.listeners[e]||(this.listeners[e]=[],n=!0),this.listeners[e].push(s);const i=this.windowListeners[e];i&&!i.registered&&this.addWindowListener(i),n&&this.sendRetainedArgumentsForEvent(e);const o=async()=>this.removeListener(e,s);return Promise.resolve({remove:o})}async removeAllListeners(){this.listeners={};for(const e in this.windowListeners)this.removeWindowListener(this.windowListeners[e]);this.windowListeners={}}notifyListeners(e,s,n){const r=this.listeners[e];if(!r){if(n){let i=this.retainedEventArguments[e];i||(i=[]),i.push(s),this.retainedEventArguments[e]=i}return}r.forEach(i=>i(s))}hasListeners(e){var s;return!!(!((s=this.listeners[e])===null||s===void 0)&&s.length)}registerWindowListener(e,s){this.windowListeners[s]={registered:!1,windowEventName:e,pluginEventName:s,handler:n=>{this.notifyListeners(s,n)}}}unimplemented(e="not implemented"){return new ae.Exception(e,K.Unimplemented)}unavailable(e="not available"){return new ae.Exception(e,K.Unavailable)}async removeListener(e,s){const n=this.listeners[e];if(!n)return;const r=n.indexOf(s);this.listeners[e].splice(r,1),this.listeners[e].length||this.removeWindowListener(this.windowListeners[e])}addWindowListener(e){window.addEventListener(e.windowEventName,e.handler),e.registered=!0}removeWindowListener(e){e&&(window.removeEventListener(e.windowEventName,e.handler),e.registered=!1)}sendRetainedArgumentsForEvent(e){const s=this.retainedEventArguments[e];s&&(delete this.retainedEventArguments[e],s.forEach(n=>{this.notifyListeners(e,n)}))}}const ge=t=>encodeURIComponent(t).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape),_e=t=>t.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent);class ct extends Ee{async getCookies(){const e=document.cookie,s={};return e.split(";").forEach(n=>{if(n.length<=0)return;let[r,i]=n.replace(/=/,"CAP_COOKIE").split("CAP_COOKIE");r=_e(r).trim(),i=_e(i).trim(),s[r]=i}),s}async setCookie(e){try{const s=ge(e.key),n=ge(e.value),r=`; expires=${(e.expires||"").replace("expires=","")}`,i=(e.path||"/").replace("path=",""),o=e.url!=null&&e.url.length>0?`domain=${e.url}`:"";document.cookie=`${s}=${n||""}${r}; path=${i}; ${o};`}catch(s){return Promise.reject(s)}}async deleteCookie(e){try{document.cookie=`${e.key}=; Max-Age=0`}catch(s){return Promise.reject(s)}}async clearCookies(){try{const e=document.cookie.split(";")||[];for(const s of e)document.cookie=s.replace(/^ +/,"").replace(/=.*/,`=;expires=${new Date().toUTCString()};path=/`)}catch(e){return Promise.reject(e)}}async clearAllCookies(){try{await this.clearCookies()}catch(e){return Promise.reject(e)}}}ne("CapacitorCookies",{web:()=>new ct});const dt=async t=>new Promise((e,s)=>{const n=new FileReader;n.onload=()=>{const r=n.result;e(r.indexOf(",")>=0?r.split(",")[1]:r)},n.onerror=r=>s(r),n.readAsDataURL(t)}),lt=(t={})=>{const e=Object.keys(t);return Object.keys(t).map(r=>r.toLocaleLowerCase()).reduce((r,i,o)=>(r[i]=t[e[o]],r),{})},ut=(t,e=!0)=>t?Object.entries(t).reduce((n,r)=>{const[i,o]=r;let d,h;return Array.isArray(o)?(h="",o.forEach(w=>{d=e?encodeURIComponent(w):w,h+=`${i}=${d}&`}),h.slice(0,-1)):(d=e?encodeURIComponent(o):o,h=`${i}=${d}`),`${n}&${h}`},"").substr(1):null,ht=(t,e={})=>{const s=Object.assign({method:t.method||"GET",headers:t.headers},e),r=lt(t.headers)["content-type"]||"";if(typeof t.data=="string")s.body=t.data;else if(r.includes("application/x-www-form-urlencoded")){const i=new URLSearchParams;for(const[o,d]of Object.entries(t.data||{}))i.set(o,d);s.body=i.toString()}else if(r.includes("multipart/form-data")||t.data instanceof FormData){const i=new FormData;if(t.data instanceof FormData)t.data.forEach((d,h)=>{i.append(h,d)});else for(const d of Object.keys(t.data))i.append(d,t.data[d]);s.body=i;const o=new Headers(s.headers);o.delete("content-type"),s.headers=o}else(r.includes("application/json")||typeof t.data=="object")&&(s.body=JSON.stringify(t.data));return s};class pt extends Ee{async request(e){const s=ht(e,e.webFetchExtra),n=ut(e.params,e.shouldEncodeUrlParams),r=n?`${e.url}?${n}`:e.url,i=await fetch(r,s),o=i.headers.get("content-type")||"";let{responseType:d="text"}=i.ok?e:{};o.includes("application/json")&&(d="json");let h,w;switch(d){case"arraybuffer":case"blob":w=await i.blob(),h=await dt(w);break;case"json":h=await i.json();break;case"document":case"text":default:h=await i.text()}const C={};return i.headers.forEach((u,l)=>{C[l]=u}),{data:h,headers:C,status:i.status,url:i.url}}async get(e){return this.request(Object.assign(Object.assign({},e),{method:"GET"}))}async post(e){return this.request(Object.assign(Object.assign({},e),{method:"POST"}))}async put(e){return this.request(Object.assign(Object.assign({},e),{method:"PUT"}))}async patch(e){return this.request(Object.assign(Object.assign({},e),{method:"PATCH"}))}async delete(e){return this.request(Object.assign(Object.assign({},e),{method:"DELETE"}))}}ne("CapacitorHttp",{web:()=>new pt});const ft=ne("App",{web:()=>be(()=>import("./web-CmYIq-LD.js"),__vite__mapDeps([0,1,2,3,4,5])).then(t=>new t.AppWeb)}),gt=ne("SplashScreen",{web:()=>be(()=>import("./web--bLPOTSk.js"),__vite__mapDeps([6,1,2,3,4,5])).then(t=>new t.SplashScreenWeb)});function _t({children:t}){se.useEffect(()=>(window.addEventListener("online",N),window.addEventListener("offline",N),()=>{window.removeEventListener("online",N),window.removeEventListener("offline",N)}),[]),se.useEffect(()=>{const s=()=>{gt.hide()};return s(),document.addEventListener("DOMContentLoaded",s),()=>document.removeEventListener("DOMContentLoaded",s)},[]);const e=Le();return Je(({canGoBack:s})=>{const n=document.body;n.querySelector("span[data-radix-focus-guard]")||n.getAttribute("data-scroll-locked")==="1"||(s?e(-1):ft.minimizeApp())},[]),c.jsx(Re,{children:c.jsx(rt,{children:c.jsx("div",{className:"h-screen w-screen overflow-hidden",children:t})})})}function me(t){return{onFetch:(e,s)=>{var C,u,l,M,g;const n=e.options,r=(l=(u=(C=e.fetchOptions)==null?void 0:C.meta)==null?void 0:u.fetchMore)==null?void 0:l.direction,i=((M=e.state.data)==null?void 0:M.pages)||[],o=((g=e.state.data)==null?void 0:g.pageParams)||[];let d={pages:[],pageParams:[]},h=0;const w=async()=>{let y=!1;const _=P=>{Object.defineProperty(P,"signal",{enumerable:!0,get:()=>(e.signal.aborted?y=!0:e.signal.addEventListener("abort",()=>{y=!0}),e.signal)})},W=Te(e.options,e.fetchOptions),$=async(P,E,D)=>{if(y)return Promise.reject();if(E==null&&P.pages.length)return Promise.resolve(P);const G=(()=>{const k={client:e.client,queryKey:e.queryKey,pageParam:E,direction:D?"backward":"forward",meta:e.options.meta};return _(k),k})(),f=await W(G),{maxPages:m}=e.options,b=D?$e:Ue;return{pages:b(P.pages,f,m),pageParams:b(P.pageParams,E,m)}};if(r&&i.length){const P=r==="backward",E=P?mt:ve,D={pages:i,pageParams:o},X=E(n,D);d=await $(D,X,P)}else{const P=t??i.length;do{const E=h===0?o[0]??n.initialPageParam:ve(n,d);if(h>0&&E==null)break;d=await $(d,E),h++}while(h<P)}return d};e.options.persister?e.fetchFn=()=>{var y,_;return(_=(y=e.options).persister)==null?void 0:_.call(y,w,{client:e.client,queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},s)}:e.fetchFn=w}}}function ve(t,{pages:e,pageParams:s}){const n=e.length-1;return e.length>0?t.getNextPageParam(e[n],e,s[n],s):void 0}function mt(t,{pages:e,pageParams:s}){var n;return e.length>0?(n=t.getPreviousPageParam)==null?void 0:n.call(t,e[0],e,s[0],s):void 0}var S,A,z,ye,vt=(ye=class extends xe{constructor(e={}){super();x(this,S);x(this,A);x(this,z);this.config=e,v(this,S,new Set),v(this,A,new Map),v(this,z,0)}build(e,s,n){const r=new He({mutationCache:this,mutationId:++Z(this,z)._,options:e.defaultMutationOptions(s),state:n});return this.add(r),r}add(e){a(this,S).add(e);const s=ee(e);if(typeof s=="string"){const n=a(this,A).get(s);n?n.push(e):a(this,A).set(s,[e])}this.notify({type:"added",mutation:e})}remove(e){if(a(this,S).delete(e)){const s=ee(e);if(typeof s=="string"){const n=a(this,A).get(s);if(n)if(n.length>1){const r=n.indexOf(e);r!==-1&&n.splice(r,1)}else n[0]===e&&a(this,A).delete(s)}}this.notify({type:"removed",mutation:e})}canRun(e){const s=ee(e);if(typeof s=="string"){const n=a(this,A).get(s),r=n==null?void 0:n.find(i=>i.state.status==="pending");return!r||r===e}else return!0}runNext(e){var n;const s=ee(e);if(typeof s=="string"){const r=(n=a(this,A).get(s))==null?void 0:n.find(i=>i!==e&&i.state.isPaused);return(r==null?void 0:r.continue())??Promise.resolve()}else return Promise.resolve()}clear(){O.batch(()=>{a(this,S).forEach(e=>{this.notify({type:"removed",mutation:e})}),a(this,S).clear(),a(this,A).clear()})}getAll(){return Array.from(a(this,S))}find(e){const s={exact:!0,...e};return this.getAll().find(n=>de(s,n))}findAll(e={}){return this.getAll().filter(s=>de(e,s))}notify(e){O.batch(()=>{this.listeners.forEach(s=>{s(e)})})}resumePausedMutations(){const e=this.getAll().filter(s=>s.state.isPaused);return O.batch(()=>Promise.all(e.map(s=>s.continue().catch(Q))))}},S=new WeakMap,A=new WeakMap,z=new WeakMap,ye);function ee(t){var e;return(e=t.options.scope)==null?void 0:e.id}var j,Pe,yt=(Pe=class extends xe{constructor(e={}){super();x(this,j);this.config=e,v(this,j,new Map)}build(e,s,n){const r=s.queryKey,i=s.queryHash??Oe(r,s);let o=this.get(i);return o||(o=new Ye({client:e,queryKey:r,queryHash:i,options:e.defaultQueryOptions(s),state:n,defaultOptions:e.getQueryDefaults(r)}),this.add(o)),o}add(e){a(this,j).has(e.queryHash)||(a(this,j).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const s=a(this,j).get(e.queryHash);s&&(e.destroy(),s===e&&a(this,j).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){O.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return a(this,j).get(e)}getAll(){return[...a(this,j).values()]}find(e){const s={exact:!0,...e};return this.getAll().find(n=>le(s,n))}findAll(e={}){const s=this.getAll();return Object.keys(e).length>0?s.filter(n=>le(e,n)):s}notify(e){O.batch(()=>{this.listeners.forEach(s=>{s(e)})})}onFocus(){O.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){O.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},j=new WeakMap,Pe),p,F,R,U,H,T,I,B,we,Pt=(we=class{constructor(t={}){x(this,p);x(this,F);x(this,R);x(this,U);x(this,H);x(this,T);x(this,I);x(this,B);v(this,p,t.queryCache||new yt),v(this,F,t.mutationCache||new vt),v(this,R,t.defaultOptions||{}),v(this,U,new Map),v(this,H,new Map),v(this,T,0)}mount(){Z(this,T)._++,a(this,T)===1&&(v(this,I,Ie.subscribe(async t=>{t&&(await this.resumePausedMutations(),a(this,p).onFocus())})),v(this,B,ue.subscribe(async t=>{t&&(await this.resumePausedMutations(),a(this,p).onOnline())})))}unmount(){var t,e;Z(this,T)._--,a(this,T)===0&&((t=a(this,I))==null||t.call(this),v(this,I,void 0),(e=a(this,B))==null||e.call(this),v(this,B,void 0))}isFetching(t){return a(this,p).findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return a(this,F).findAll({...t,status:"pending"}).length}getQueryData(t){var s;const e=this.defaultQueryOptions({queryKey:t});return(s=a(this,p).get(e.queryHash))==null?void 0:s.state.data}ensureQueryData(t){const e=this.defaultQueryOptions(t),s=a(this,p).build(this,e),n=s.state.data;return n===void 0?this.fetchQuery(t):(t.revalidateIfStale&&s.isStaleByTime(he(e.staleTime,s))&&this.prefetchQuery(e),Promise.resolve(n))}getQueriesData(t){return a(this,p).findAll(t).map(({queryKey:e,state:s})=>{const n=s.data;return[e,n]})}setQueryData(t,e,s){const n=this.defaultQueryOptions({queryKey:t}),r=a(this,p).get(n.queryHash),i=r==null?void 0:r.state.data,o=Be(e,i);if(o!==void 0)return a(this,p).build(this,n).setData(o,{...s,manual:!0})}setQueriesData(t,e,s){return O.batch(()=>a(this,p).findAll(t).map(({queryKey:n})=>[n,this.setQueryData(n,e,s)]))}getQueryState(t){var s;const e=this.defaultQueryOptions({queryKey:t});return(s=a(this,p).get(e.queryHash))==null?void 0:s.state}removeQueries(t){const e=a(this,p);O.batch(()=>{e.findAll(t).forEach(s=>{e.remove(s)})})}resetQueries(t,e){const s=a(this,p);return O.batch(()=>(s.findAll(t).forEach(n=>{n.reset()}),this.refetchQueries({type:"active",...t},e)))}cancelQueries(t,e={}){const s={revert:!0,...e},n=O.batch(()=>a(this,p).findAll(t).map(r=>r.cancel(s)));return Promise.all(n).then(Q).catch(Q)}invalidateQueries(t,e={}){return O.batch(()=>(a(this,p).findAll(t).forEach(s=>{s.invalidate()}),(t==null?void 0:t.refetchType)==="none"?Promise.resolve():this.refetchQueries({...t,type:(t==null?void 0:t.refetchType)??(t==null?void 0:t.type)??"active"},e)))}refetchQueries(t,e={}){const s={...e,cancelRefetch:e.cancelRefetch??!0},n=O.batch(()=>a(this,p).findAll(t).filter(r=>!r.isDisabled()&&!r.isStatic()).map(r=>{let i=r.fetch(void 0,s);return s.throwOnError||(i=i.catch(Q)),r.state.fetchStatus==="paused"?Promise.resolve():i}));return Promise.all(n).then(Q)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const s=a(this,p).build(this,e);return s.isStaleByTime(he(e.staleTime,s))?s.fetch(e):Promise.resolve(s.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(Q).catch(Q)}fetchInfiniteQuery(t){return t.behavior=me(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(Q).catch(Q)}ensureInfiniteQueryData(t){return t.behavior=me(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return ue.isOnline()?a(this,F).resumePausedMutations():Promise.resolve()}getQueryCache(){return a(this,p)}getMutationCache(){return a(this,F)}getDefaultOptions(){return a(this,R)}setDefaultOptions(t){v(this,R,t)}setQueryDefaults(t,e){a(this,U).set(pe(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...a(this,U).values()],s={};return e.forEach(n=>{fe(t,n.queryKey)&&Object.assign(s,n.defaultOptions)}),s}setMutationDefaults(t,e){a(this,H).set(pe(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...a(this,H).values()],s={};return e.forEach(n=>{fe(t,n.mutationKey)&&Object.assign(s,n.defaultOptions)}),s}defaultQueryOptions(t){if(t._defaulted)return t;const e={...a(this,R).queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=Oe(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.queryFn===Ke&&(e.enabled=!1),e}defaultMutationOptions(t){return t!=null&&t._defaulted?t:{...a(this,R).mutations,...(t==null?void 0:t.mutationKey)&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){a(this,p).clear(),a(this,F).clear()}},p=new WeakMap,F=new WeakMap,R=new WeakMap,U=new WeakMap,H=new WeakMap,T=new WeakMap,I=new WeakMap,B=new WeakMap,we);function wt({children:t}){const e=new Pt({defaultOptions:{queries:{refetchOnWindowFocus:!1}}});return c.jsx(We,{client:e,children:c.jsxs(c.Fragment,{children:[t,c.jsx(Ge,{richColors:!0,position:"top-left",theme:"light",closeButton:!0})]})})}const At=()=>[{rel:"preconnect",href:"https://fonts.googleapis.com"},{rel:"preconnect",href:"https://fonts.gstatic.com",crossOrigin:"anonymous"},{rel:"stylesheet",href:"https://fonts.googleapis.com/css2?family=Alexandria:wght@100..900&display=swap"},{rel:"stylesheet",href:Ze},{rel:"manifest",href:"/manifest.webmanifest?v=2"},...Ne];function Ct({children:t}){return c.jsxs("html",{lang:"ar",dir:"rtl",children:[c.jsxs("head",{children:[c.jsx("meta",{charSet:"utf-8"}),c.jsx("meta",{name:"viewport",content:"width=device-width, initial-scale=1"}),c.jsx("meta",{name:"mobile-web-app-capable",content:"yes"}),c.jsx(je,{}),c.jsx(Me,{})]}),c.jsxs("body",{className:"h-screen w-screen",children:[t,c.jsx(Qe,{}),c.jsx(Se,{})]})]})}const jt=Ae(function(){return c.jsx(wt,{children:c.jsx(_t,{children:c.jsx(De,{})})})}),Mt=Ce(function({error:e}){let s="Oops!",n="An unexpected error occurred.",r;return qe(e)&&(s=e.status===404?"404":"Error",n=e.status===404?"The requested page could not be found.":e.statusText||n),c.jsxs("main",{className:"container mx-auto p-4 pt-16",children:[c.jsx("h1",{children:s}),c.jsx("p",{children:n}),r]})});export{Mt as E,Ct as L,Ee as W,At as l,jt as r};
