import{C as i,B as d,t as p,D as b,w as g}from"./QueryClientProvider-B17BkurY.js";import{n as e,r as f,p as v}from"./chunk-SYFQ2XB5-BeKHOpyI.js";import{c as h,u as y}from"./Input-_UksbHRr.js";import{c as w,d as l,f as j,F as N,I as m}from"./index.esm-CsUhBK4U.js";import{s as E}from"./auth-b4n4nRI-.js";function C({label:r,disabled:a,className:o,variant:t="primary",type:s="submit"}){return e.jsx("button",{disabled:a,type:s,className:h("border border-transparent p-3 font-semibold transition hover:opacity-80 disabled:bg-gray-400 max-sm:w-full",{"rounded-xl bg-primary text-muted":t==="primary","border-foreground bg-transparent text-foreground":t==="secondary"},o),children:r})}function F({children:r}){return e.jsx("span",{className:"border-s-4 border-s-secondary bg-secondary/10 px-2 py-3 text-center text-sm font-semibold text-secondary max-sm:text-xs",children:r})}const{invalidEmail:S}=d.error.auth,M=w({email:l().email(S).required(i),password:l().required(i)});function q(){const[r,a]=f.useState(null),o=v(),{mutate:t,isPending:s}=y({mutationFn:E,onMutate:()=>a(null),onSuccess:()=>{o("/")},onError:n=>{const{code:c,statusCode:u}=n;if(u===400&&c==="invalid_credentials"){const{invalidCredentials:x}=d.error.auth;a(x)}else p.error(b)}});return e.jsx(j,{initialValues:{email:"",password:""},validationSchema:M,onSubmit:n=>t(n),children:e.jsx(N,{className:"flex-1",children:e.jsxs("div",{className:"flex flex-1 flex-col gap-3 overflow-auto px-7 max-sm:px-5",children:[e.jsx(m,{className:"[&>div]:border-primary/50 [&>div]:transition",name:"email",label:"البريد الإلكتروني",disabled:s,autoComplete:"on"}),e.jsx(m,{className:"[&>div]:border-primary/50 [&>div]:transition",name:"password",label:"كلمة السر",disabled:s,type:"password",autoComplete:"on"}),r&&e.jsx(F,{children:r}),e.jsx(C,{variant:"primary",label:"تسجيل الدخول",className:"w-full",disabled:s,type:"submit"})]})})})}const k=g(function(){return e.jsx("div",{className:"flex h-full w-full items-center justify-center bg-[linear-gradient(45deg,rgb(var(--secondary)),rgb(var(--primary)))]",children:e.jsxs("div",{className:"flex max-h-[90%] w-[25rem] flex-col gap-5 overflow-hidden rounded-[50px] bg-white pb-8 pt-3 max-sm:max-w-[90%] max-sm:rounded-3xl max-sm:pb-5",children:[e.jsx("img",{src:"/images/full-logo.webp",alt:"logo",className:"mx-auto w-48 object-contain max-sm:w-40"}),e.jsx(q,{})]})})});export{k as default};
