import{p as s,w as d}from"./chunk-PVWAREVJ-DbUQBqSc.js";import{u as n}from"./input-D3y1GKQf.js";import{c,a as o,b as p,F as x,d as u}from"./index.esm-C0DY_CMF.js";import{k as t,u as w,q as f,v as g,t as i}from"./QueryClientProvider-B0e4pmks.js";import{B as h}from"./Button-CX5LaLF9.js";import{I as m}from"./InputField-Bsv0isQJ.js";import"./Input-D675VA38.js";const b=c({password:o().min(6,"يجب أن لا تقل كلمة السر عن 6 حروف").required(t),confirm_password:o().oneOf([p("password")],"كلمة السر غير متطابقة").required(t)});function j(){const{userId:r}=w(),{mutate:l,isPending:a}=n({mutationFn:f,onSuccess:async()=>{const{error:e}=await g(r,!0);if(e)throw i.error("لم نتمكن من تغيير كلمة السر، برجاء المحاولة مجددا"),new Error(e.message);i.success("تم تغيير كلمة السر بنجاح"),window.location.href="/"}});return s.jsx(x,{initialValues:{password:"",confirm_password:""},validationSchema:b,onSubmit:e=>l(e.password),children:s.jsx(u,{className:"flex-1",children:s.jsxs("div",{className:"flex flex-1 flex-col gap-3 overflow-auto px-7 max-sm:px-5",children:[s.jsx(m,{className:"[&>div]:border-primary/50 [&>div]:transition",name:"password",label:"كلمة السر الجديدة",type:"password",disabled:a,autoComplete:"otp",autoFocus:!0}),s.jsx(m,{className:"[&>div]:border-primary/50 [&>div]:transition",name:"confirm_password",label:"تأكيد كلمة السر",disabled:a,type:"password",autoComplete:"otp"}),s.jsx(h,{variant:"primary",className:"mt-5 w-full lg:w-fit",disabled:a,type:"submit",children:"تغيير كلمة السر"})]})})})}const S=d(function(){return s.jsx("div",{className:"flex h-full w-full items-center justify-center bg-[linear-gradient(45deg,rgb(var(--secondary)),rgb(var(--primary)))] px-5",children:s.jsxs("div",{className:"flex max-h-[90%] w-full flex-col gap-5 overflow-hidden rounded-[50px] bg-white pb-8 pt-3 max-sm:rounded-3xl max-sm:pb-5 lg:w-3/4 xl:w-1/2",children:[s.jsx("img",{src:"/images/full-logo.webp",alt:"logo",className:"mx-auto w-48 object-contain max-sm:w-40"}),s.jsxs("div",{className:"my-4 flex flex-col gap-3 px-7 max-sm:px-5",children:[s.jsx("h2",{className:"text-lg font-semibold text-primary md:text-2xl",children:"أهلا بك !"}),s.jsx("p",{className:"text-secondary max-md:text-sm",children:"الرجاء تغيير كلمة السر لتتمكن من الدخول إلى حسابك"})]}),s.jsx(j,{})]})})});export{S as default};
