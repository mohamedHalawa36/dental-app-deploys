import{t as p,w as g}from"./index-CqN0-kB3.js";import{n as e,r as b,w as f}from"./chunk-SYFQ2XB5-cOOTfj5h.js";import{b as v,k as h,l as i,r as l,h as d,u as y,F as j,p as w,q as m,C as N,g as E}from"./auth-CycpWtGa.js";import"./QueryClientProvider-DhYsH4_f.js";function F({label:r,disabled:a,className:n,variant:t="primary",type:s="submit"}){return e.jsx("button",{disabled:a,type:s,className:v("p-3 max-sm:w-full hover:opacity-80 transition font-semibold disabled:bg-gray-400 border border-transparent",{"bg-primary rounded-xl text-muted":t==="primary","border-foreground text-foreground bg-transparent":t==="secondary"},n),children:r})}function S({children:r}){return e.jsx("span",{className:"text-secondary font-semibold text-sm text-center bg-secondary/10 border-s-4 border-s-secondary px-2 py-3 max-sm:text-xs",children:r})}const{invalidEmail:q}=d.error.auth,C=h({email:i().email(q).required(l),password:i().required(l)});function M(){const[r,a]=b.useState(null),n=f(),{mutate:t,isPending:s}=y({mutationFn:N,onMutate:()=>a(null),onSuccess:()=>n("/"),onError:o=>{const{code:c,statusCode:u}=o;if(u===400&&c==="invalid_credentials"){const{invalidCredentials:x}=d.error.auth;a(x)}else p.error(E)}});return e.jsx(j,{initialValues:{email:"",password:""},validationSchema:C,onSubmit:o=>t(o),children:e.jsx(w,{className:"flex-1",children:e.jsxs("div",{className:"px-7 flex-1 overflow-auto flex flex-col gap-3",children:[e.jsx(m,{className:" [&>div]:border-primary/50 [&>div]:transition",name:"email",label:"البريد الإلكتروني",disabled:s}),e.jsx(m,{className:" [&>div]:border-primary/50 [&>div]:transition",name:"password",label:"كلمة السر",disabled:s}),r&&e.jsx(S,{children:r}),e.jsx(F,{variant:"primary",label:"تسجيل الدخول",className:"w-full",disabled:s,type:"submit"})]})})})}const $=g(function(){return e.jsx("div",{className:" bg-[linear-gradient(45deg,rgb(var(--secondary)),rgb(var(--primary)))] h-full w-full flex justify-center items-center",children:e.jsxs("div",{className:"flex flex-col gap-5 w-[25rem] bg-white max-sm:max-w-[90%] max-h-[90%] min-h-[28rem] max-sm:rounded-3xl rounded-[50px] pb-8 pt-3  ",children:[e.jsx("img",{src:"/images/full-logo.png",alt:"logo",className:"object-contain w-48 mx-auto max-sm:w-40"}),e.jsx(M,{})]})})});export{$ as default};
