const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/browser-CHMKikde.js","assets/chunk-SYFQ2XB5-njiB-zGT.js"])))=>i.map(i=>d[i]);
var qs=n=>{throw TypeError(n)};var or=(n,e,t)=>e.has(n)||qs("Cannot "+t);var x=(n,e,t)=>(or(n,e,"read from private field"),t?t.call(n):e.get(n)),W=(n,e,t)=>e.has(n)?qs("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(n):e.set(n,t),I=(n,e,t,r)=>(or(n,e,"write to private field"),r?r.call(n,t):e.set(n,t),t),U=(n,e,t)=>(or(n,e,"access private method"),t);import{r as f,t as cl,v as oe,l as h,q as lo,w as ll,x as uo,y as ul}from"./chunk-SYFQ2XB5-njiB-zGT.js";import{b as T,d as dl,F as fo,e as ho,g as it,u as fl,n as hl,h as Hs,j as pl}from"./InputField-D5eXrVu2.js";import{S as po,k as Ks,l as ve,q as An,r as _n,b as ml,t as kr,u as Gs,v as gl,f as yl,w as vl,x as Js,n as Mn,i as Qs,y as bl,z as It}from"./QueryClientProvider-1EYpsnlr.js";import{t as te}from"./index-DTcR2HV0.js";import{r as Un,R as mo}from"./index-yUhyWXqZ.js";import{T as wl}from"./sonner-8lL5rIcL.js";var Z,$,Zt,G,nt,Pt,Fe,ye,Yt,At,Tt,rt,st,Me,jt,L,Vt,Pr,Ar,Tr,jr,Rr,$r,Nr,go,ao,xl=(ao=class extends po{constructor(e,t){super();W(this,L);W(this,Z);W(this,$);W(this,Zt);W(this,G);W(this,nt);W(this,Pt);W(this,Fe);W(this,ye);W(this,Yt);W(this,At);W(this,Tt);W(this,rt);W(this,st);W(this,Me);W(this,jt,new Set);this.options=t,I(this,Z,e),I(this,ye,null),I(this,Fe,Ks()),this.options.experimental_prefetchInRender||x(this,Fe).reject(new Error("experimental_prefetchInRender feature flag is not enabled")),this.bindMethods(),this.setOptions(t)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(x(this,$).addObserver(this),Zs(x(this,$),this.options)?U(this,L,Vt).call(this):this.updateResult(),U(this,L,jr).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return Dr(x(this,$),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return Dr(x(this,$),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,U(this,L,Rr).call(this),U(this,L,$r).call(this),x(this,$).removeObserver(this)}setOptions(e,t){const r=this.options,s=x(this,$);if(this.options=x(this,Z).defaultQueryOptions(e),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof ve(this.options.enabled,x(this,$))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");U(this,L,Nr).call(this),x(this,$).setOptions(this.options),r._defaulted&&!An(this.options,r)&&x(this,Z).getQueryCache().notify({type:"observerOptionsUpdated",query:x(this,$),observer:this});const i=this.hasListeners();i&&Ys(x(this,$),s,this.options,r)&&U(this,L,Vt).call(this),this.updateResult(t),i&&(x(this,$)!==s||ve(this.options.enabled,x(this,$))!==ve(r.enabled,x(this,$))||_n(this.options.staleTime,x(this,$))!==_n(r.staleTime,x(this,$)))&&U(this,L,Pr).call(this);const o=U(this,L,Ar).call(this);i&&(x(this,$)!==s||ve(this.options.enabled,x(this,$))!==ve(r.enabled,x(this,$))||o!==x(this,Me))&&U(this,L,Tr).call(this,o)}getOptimisticResult(e){const t=x(this,Z).getQueryCache().build(x(this,Z),e),r=this.createResult(t,e);return El(this,r)&&(I(this,G,r),I(this,Pt,this.options),I(this,nt,x(this,$).state)),r}getCurrentResult(){return x(this,G)}trackResult(e,t){const r={};return Object.keys(e).forEach(s=>{Object.defineProperty(r,s,{configurable:!1,enumerable:!0,get:()=>(this.trackProp(s),t==null||t(s),e[s])})}),r}trackProp(e){x(this,jt).add(e)}getCurrentQuery(){return x(this,$)}refetch({...e}={}){return this.fetch({...e})}fetchOptimistic(e){const t=x(this,Z).defaultQueryOptions(e),r=x(this,Z).getQueryCache().build(x(this,Z),t);return r.fetch().then(()=>this.createResult(r,t))}fetch(e){return U(this,L,Vt).call(this,{...e,cancelRefetch:e.cancelRefetch??!0}).then(()=>(this.updateResult(),x(this,G)))}createResult(e,t){var j;const r=x(this,$),s=this.options,i=x(this,G),o=x(this,nt),a=x(this,Pt),l=e!==r?e.state:x(this,Zt),{state:u}=e;let d={...u},p=!1,m;if(t._optimisticResults){const k=this.hasListeners(),R=!k&&Zs(e,t),P=k&&Ys(e,r,t,s);(R||P)&&(d={...d,...vl(u.data,e.options)}),t._optimisticResults==="isRestoring"&&(d.fetchStatus="idle")}let{error:v,errorUpdatedAt:g,status:y}=d;if(t.select&&d.data!==void 0)if(i&&d.data===(o==null?void 0:o.data)&&t.select===x(this,Yt))m=x(this,At);else try{I(this,Yt,t.select),m=t.select(d.data),m=Js(i==null?void 0:i.data,m,t),I(this,At,m),I(this,ye,null)}catch(k){I(this,ye,k)}else m=d.data;if(t.placeholderData!==void 0&&m===void 0&&y==="pending"){let k;if(i!=null&&i.isPlaceholderData&&t.placeholderData===(a==null?void 0:a.placeholderData))k=i.data;else if(k=typeof t.placeholderData=="function"?t.placeholderData((j=x(this,Tt))==null?void 0:j.state.data,x(this,Tt)):t.placeholderData,t.select&&k!==void 0)try{k=t.select(k),I(this,ye,null)}catch(R){I(this,ye,R)}k!==void 0&&(y="success",m=Js(i==null?void 0:i.data,k,t),p=!0)}x(this,ye)&&(v=x(this,ye),m=x(this,At),g=Date.now(),y="error");const b=d.fetchStatus==="fetching",_=y==="pending",E=y==="error",w=_&&b,C=m!==void 0,S={status:y,fetchStatus:d.fetchStatus,isPending:_,isSuccess:y==="success",isError:E,isInitialLoading:w,isLoading:w,data:m,dataUpdatedAt:d.dataUpdatedAt,error:v,errorUpdatedAt:g,failureCount:d.fetchFailureCount,failureReason:d.fetchFailureReason,errorUpdateCount:d.errorUpdateCount,isFetched:d.dataUpdateCount>0||d.errorUpdateCount>0,isFetchedAfterMount:d.dataUpdateCount>l.dataUpdateCount||d.errorUpdateCount>l.errorUpdateCount,isFetching:b,isRefetching:b&&!_,isLoadingError:E&&!C,isPaused:d.fetchStatus==="paused",isPlaceholderData:p,isRefetchError:E&&C,isStale:os(e,t),refetch:this.refetch,promise:x(this,Fe)};if(this.options.experimental_prefetchInRender){const k=F=>{S.status==="error"?F.reject(S.error):S.data!==void 0&&F.resolve(S.data)},R=()=>{const F=I(this,Fe,S.promise=Ks());k(F)},P=x(this,Fe);switch(P.status){case"pending":e.queryHash===r.queryHash&&k(P);break;case"fulfilled":(S.status==="error"||S.data!==P.value)&&R();break;case"rejected":(S.status!=="error"||S.error!==P.reason)&&R();break}}return S}updateResult(e){const t=x(this,G),r=this.createResult(x(this,$),this.options);if(I(this,nt,x(this,$).state),I(this,Pt,this.options),x(this,nt).data!==void 0&&I(this,Tt,x(this,$)),An(r,t))return;I(this,G,r);const s={},i=()=>{if(!t)return!0;const{notifyOnChangeProps:o}=this.options,a=typeof o=="function"?o():o;if(a==="all"||!a&&!x(this,jt).size)return!0;const c=new Set(a??x(this,jt));return this.options.throwOnError&&c.add("error"),Object.keys(x(this,G)).some(l=>{const u=l;return x(this,G)[u]!==t[u]&&c.has(u)})};(e==null?void 0:e.listeners)!==!1&&i()&&(s.listeners=!0),U(this,L,go).call(this,{...s,...e})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&U(this,L,jr).call(this)}},Z=new WeakMap,$=new WeakMap,Zt=new WeakMap,G=new WeakMap,nt=new WeakMap,Pt=new WeakMap,Fe=new WeakMap,ye=new WeakMap,Yt=new WeakMap,At=new WeakMap,Tt=new WeakMap,rt=new WeakMap,st=new WeakMap,Me=new WeakMap,jt=new WeakMap,L=new WeakSet,Vt=function(e){U(this,L,Nr).call(this);let t=x(this,$).fetch(this.options,e);return e!=null&&e.throwOnError||(t=t.catch(ml)),t},Pr=function(){U(this,L,Rr).call(this);const e=_n(this.options.staleTime,x(this,$));if(kr||x(this,G).isStale||!Gs(e))return;const r=gl(x(this,G).dataUpdatedAt,e)+1;I(this,rt,setTimeout(()=>{x(this,G).isStale||this.updateResult()},r))},Ar=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(x(this,$)):this.options.refetchInterval)??!1},Tr=function(e){U(this,L,$r).call(this),I(this,Me,e),!(kr||ve(this.options.enabled,x(this,$))===!1||!Gs(x(this,Me))||x(this,Me)===0)&&I(this,st,setInterval(()=>{(this.options.refetchIntervalInBackground||yl.isFocused())&&U(this,L,Vt).call(this)},x(this,Me)))},jr=function(){U(this,L,Pr).call(this),U(this,L,Tr).call(this,U(this,L,Ar).call(this))},Rr=function(){x(this,rt)&&(clearTimeout(x(this,rt)),I(this,rt,void 0))},$r=function(){x(this,st)&&(clearInterval(x(this,st)),I(this,st,void 0))},Nr=function(){const e=x(this,Z).getQueryCache().build(x(this,Z),this.options);if(e===x(this,$))return;const t=x(this,$);I(this,$,e),I(this,Zt,e.state),this.hasListeners()&&(t==null||t.removeObserver(this),e.addObserver(this))},go=function(e){Mn.batch(()=>{e.listeners&&this.listeners.forEach(t=>{t(x(this,G))}),x(this,Z).getQueryCache().notify({query:x(this,$),type:"observerResultsUpdated"})})},ao);function _l(n,e){return ve(e.enabled,n)!==!1&&n.state.data===void 0&&!(n.state.status==="error"&&e.retryOnMount===!1)}function Zs(n,e){return _l(n,e)||n.state.data!==void 0&&Dr(n,e,e.refetchOnMount)}function Dr(n,e,t){if(ve(e.enabled,n)!==!1){const r=typeof t=="function"?t(n):t;return r==="always"||r!==!1&&os(n,e)}return!1}function Ys(n,e,t,r){return(n!==e||ve(r.enabled,n)===!1)&&(!t.suspense||n.state.status!=="error")&&os(n,t)}function os(n,e){return ve(e.enabled,n)!==!1&&n.isStaleByTime(_n(e.staleTime,n))}function El(n,e){return!An(n.getCurrentResult(),e)}var Ue,Be,Y,Se,Oe,En,Ir,co,Cl=(co=class extends po{constructor(t,r){super();W(this,Oe);W(this,Ue);W(this,Be);W(this,Y);W(this,Se);I(this,Ue,t),this.setOptions(r),this.bindMethods(),U(this,Oe,En).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(t){var s;const r=this.options;this.options=x(this,Ue).defaultMutationOptions(t),An(this.options,r)||x(this,Ue).getMutationCache().notify({type:"observerOptionsUpdated",mutation:x(this,Y),observer:this}),r!=null&&r.mutationKey&&this.options.mutationKey&&Qs(r.mutationKey)!==Qs(this.options.mutationKey)?this.reset():((s=x(this,Y))==null?void 0:s.state.status)==="pending"&&x(this,Y).setOptions(this.options)}onUnsubscribe(){var t;this.hasListeners()||(t=x(this,Y))==null||t.removeObserver(this)}onMutationUpdate(t){U(this,Oe,En).call(this),U(this,Oe,Ir).call(this,t)}getCurrentResult(){return x(this,Be)}reset(){var t;(t=x(this,Y))==null||t.removeObserver(this),I(this,Y,void 0),U(this,Oe,En).call(this),U(this,Oe,Ir).call(this)}mutate(t,r){var s;return I(this,Se,r),(s=x(this,Y))==null||s.removeObserver(this),I(this,Y,x(this,Ue).getMutationCache().build(x(this,Ue),this.options)),x(this,Y).addObserver(this),x(this,Y).execute(t)}},Ue=new WeakMap,Be=new WeakMap,Y=new WeakMap,Se=new WeakMap,Oe=new WeakSet,En=function(){var r;const t=((r=x(this,Y))==null?void 0:r.state)??bl();I(this,Be,{...t,isPending:t.status==="pending",isSuccess:t.status==="success",isError:t.status==="error",isIdle:t.status==="idle",mutate:this.mutate,reset:this.reset})},Ir=function(t){Mn.batch(()=>{var r,s,i,o,a,c,l,u;if(x(this,Se)&&this.hasListeners()){const d=x(this,Be).variables,p=x(this,Be).context;(t==null?void 0:t.type)==="success"?((s=(r=x(this,Se)).onSuccess)==null||s.call(r,t.data,d,p),(o=(i=x(this,Se)).onSettled)==null||o.call(i,t.data,null,d,p)):(t==null?void 0:t.type)==="error"&&((c=(a=x(this,Se)).onError)==null||c.call(a,t.error,d,p),(u=(l=x(this,Se)).onSettled)==null||u.call(l,void 0,t.error,d,p))}this.listeners.forEach(d=>{d(x(this,Be))})})},co),yo=f.createContext(!1),Sl=()=>f.useContext(yo);yo.Provider;function Ol(){let n=!1;return{clearReset:()=>{n=!1},reset:()=>{n=!0},isReset:()=>n}}var kl=f.createContext(Ol()),Pl=()=>f.useContext(kl);function vo(n,e){return typeof n=="function"?n(...e):!!n}function Lr(){}var Al=(n,e)=>{(n.suspense||n.throwOnError||n.experimental_prefetchInRender)&&(e.isReset()||(n.retryOnMount=!1))},Tl=n=>{f.useEffect(()=>{n.clearReset()},[n])},jl=({result:n,errorResetBoundary:e,throwOnError:t,query:r})=>n.isError&&!e.isReset()&&!n.isFetching&&r&&vo(t,[n.error,r]),Rl=n=>{const e=n.staleTime;n.suspense&&(n.staleTime=typeof e=="function"?(...t)=>Math.max(e(...t),1e3):Math.max(e??1e3,1e3),typeof n.gcTime=="number"&&(n.gcTime=Math.max(n.gcTime,1e3)))},$l=(n,e)=>n.isLoading&&n.isFetching&&!e,Nl=(n,e)=>(n==null?void 0:n.suspense)&&e.isPending,Xs=(n,e,t)=>e.fetchOptimistic(n).catch(()=>{t.clearReset()});function Dl(n,e,t){var d,p,m,v,g;const r=It(),s=Sl(),i=Pl(),o=r.defaultQueryOptions(n);(p=(d=r.getDefaultOptions().queries)==null?void 0:d._experimental_beforeQuery)==null||p.call(d,o),o._optimisticResults=s?"isRestoring":"optimistic",Rl(o),Al(o,i),Tl(i);const a=!r.getQueryCache().get(o.queryHash),[c]=f.useState(()=>new e(r,o)),l=c.getOptimisticResult(o),u=!s&&n.subscribed!==!1;if(f.useSyncExternalStore(f.useCallback(y=>{const b=u?c.subscribe(Mn.batchCalls(y)):Lr;return c.updateResult(),b},[c,u]),()=>c.getCurrentResult(),()=>c.getCurrentResult()),f.useEffect(()=>{c.setOptions(o,{listeners:!1})},[o,c]),Nl(o,l))throw Xs(o,c,i);if(jl({result:l,errorResetBoundary:i,throwOnError:o.throwOnError,query:r.getQueryCache().get(o.queryHash)}))throw l.error;if((v=(m=r.getDefaultOptions().queries)==null?void 0:m._experimental_afterQuery)==null||v.call(m,o,l),o.experimental_prefetchInRender&&!kr&&$l(l,s)){const y=a?Xs(o,c,i):(g=r.getQueryCache().get(o.queryHash))==null?void 0:g.promise;y==null||y.catch(Lr).finally(()=>{c.updateResult()})}return o.notifyOnChangeProps?l:c.trackResult(l)}function Fr(n,e){return Dl(n,xl)}function Bn(n,e){const t=It(),[r]=f.useState(()=>new Cl(t,n));f.useEffect(()=>{r.setOptions(n)},[r,n]);const s=f.useSyncExternalStore(f.useCallback(o=>r.subscribe(Mn.batchCalls(o)),[r]),()=>r.getCurrentResult(),()=>r.getCurrentResult()),i=f.useCallback((o,a)=>{r.mutate(o,a).catch(Lr)},[r]);if(s.error&&vo(r.options.throwOnError,[s.error]))throw s.error;return{...s,mutate:i,mutateAsync:s.mutate}}const Xt={success:{patient:{add:"تم إضافة المريض بنجاح",update:"تم تعديل المريض بنجاح",delete:"تم حذف المريض"},appointment:{add:"تم حجز الموعد",update:"تم تعديل الموعد بنجاح",delete:"تم إلغاء الموعد"}},error:{somethingWentWrong:"حدث خطأ ما، برجاء المحاولة مجددا",patient:{conflict:"لا يمكن حذف المريض لأن لديه حجوزات أو سجلات مرتبطة."},appointment:{conflict:"تم حجز موعد للمريض في نفس اليوم مسبقا"}}},dt=Xt.error.somethingWentWrong,Il="modulepreload",Ll=function(n){return"/"+n},ei={},Rt=function(e,t,r){let s=Promise.resolve();if(t&&t.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),a=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));s=Promise.allSettled(t.map(c=>{if(c=Ll(c),c in ei)return;ei[c]=!0;const l=c.endsWith(".css"),u=l?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${u}`))return;const d=document.createElement("link");if(d.rel=l?"stylesheet":Il,l||(d.as="script"),d.crossOrigin="",d.href=c,a&&d.setAttribute("nonce",a),document.head.appendChild(d),l)return new Promise((p,m)=>{d.addEventListener("load",p),d.addEventListener("error",()=>m(new Error(`Unable to preload CSS for ${c}`)))})}))}function i(o){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=o,window.dispatchEvent(a),!a.defaultPrevented)throw o}return s.then(o=>{for(const a of o||[])a.status==="rejected"&&i(a.reason);return e().catch(i)})},Fl=n=>{let e;return n?e=n:typeof fetch>"u"?e=(...t)=>Rt(async()=>{const{default:r}=await Promise.resolve().then(()=>Lt);return{default:r}},void 0).then(({default:r})=>r(...t)):e=fetch,(...t)=>e(...t)};class as extends Error{constructor(e,t="FunctionsError",r){super(e),this.name=t,this.context=r}}class Ml extends as{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class Ul extends as{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class Bl extends as{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var Mr;(function(n){n.Any="any",n.ApNortheast1="ap-northeast-1",n.ApNortheast2="ap-northeast-2",n.ApSouth1="ap-south-1",n.ApSoutheast1="ap-southeast-1",n.ApSoutheast2="ap-southeast-2",n.CaCentral1="ca-central-1",n.EuCentral1="eu-central-1",n.EuWest1="eu-west-1",n.EuWest2="eu-west-2",n.EuWest3="eu-west-3",n.SaEast1="sa-east-1",n.UsEast1="us-east-1",n.UsWest1="us-west-1",n.UsWest2="us-west-2"})(Mr||(Mr={}));var zl=function(n,e,t,r){function s(i){return i instanceof t?i:new t(function(o){o(i)})}return new(t||(t=Promise))(function(i,o){function a(u){try{l(r.next(u))}catch(d){o(d)}}function c(u){try{l(r.throw(u))}catch(d){o(d)}}function l(u){u.done?i(u.value):s(u.value).then(a,c)}l((r=r.apply(n,e||[])).next())})};class Wl{constructor(e,{headers:t={},customFetch:r,region:s=Mr.Any}={}){this.url=e,this.headers=t,this.region=s,this.fetch=Fl(r)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e,t={}){var r;return zl(this,void 0,void 0,function*(){try{const{headers:s,method:i,body:o}=t;let a={},{region:c}=t;c||(c=this.region),c&&c!=="any"&&(a["x-region"]=c);let l;o&&(s&&!Object.prototype.hasOwnProperty.call(s,"Content-Type")||!s)&&(typeof Blob<"u"&&o instanceof Blob||o instanceof ArrayBuffer?(a["Content-Type"]="application/octet-stream",l=o):typeof o=="string"?(a["Content-Type"]="text/plain",l=o):typeof FormData<"u"&&o instanceof FormData?l=o:(a["Content-Type"]="application/json",l=JSON.stringify(o)));const u=yield this.fetch(`${this.url}/${e}`,{method:i||"POST",headers:Object.assign(Object.assign(Object.assign({},a),this.headers),s),body:l}).catch(v=>{throw new Ml(v)}),d=u.headers.get("x-relay-error");if(d&&d==="true")throw new Ul(u);if(!u.ok)throw new Bl(u);let p=((r=u.headers.get("Content-Type"))!==null&&r!==void 0?r:"text/plain").split(";")[0].trim(),m;return p==="application/json"?m=yield u.json():p==="application/octet-stream"?m=yield u.blob():p==="text/event-stream"?m=u:p==="multipart/form-data"?m=yield u.formData():m=yield u.text(),{data:m,error:null}}catch(s){return{data:null,error:s}}})}}var X={},cs={},zn={},en={},Wn={},Vn={},Vl=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},$t=Vl();const ql=$t.fetch,bo=$t.fetch.bind($t),wo=$t.Headers,Hl=$t.Request,Kl=$t.Response,Lt=Object.freeze(Object.defineProperty({__proto__:null,Headers:wo,Request:Hl,Response:Kl,default:bo,fetch:ql},Symbol.toStringTag,{value:"Module"})),Gl=cl(Lt);var qn={};Object.defineProperty(qn,"__esModule",{value:!0});let Jl=class extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}};qn.default=Jl;var xo=oe&&oe.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(Vn,"__esModule",{value:!0});const Ql=xo(Gl),Zl=xo(qn);let Yl=class{constructor(e){this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=e.headers,this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=e.shouldThrowOnError,this.signal=e.signal,this.isMaybeSingle=e.isMaybeSingle,e.fetch?this.fetch=e.fetch:typeof fetch>"u"?this.fetch=Ql.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,t){return this.headers=Object.assign({},this.headers),this.headers[e]=t,this}then(e,t){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const r=this.fetch;let s=r(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async i=>{var o,a,c;let l=null,u=null,d=null,p=i.status,m=i.statusText;if(i.ok){if(this.method!=="HEAD"){const b=await i.text();b===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?u=b:u=JSON.parse(b))}const g=(o=this.headers.Prefer)===null||o===void 0?void 0:o.match(/count=(exact|planned|estimated)/),y=(a=i.headers.get("content-range"))===null||a===void 0?void 0:a.split("/");g&&y&&y.length>1&&(d=parseInt(y[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(u)&&(u.length>1?(l={code:"PGRST116",details:`Results contain ${u.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},u=null,d=null,p=406,m="Not Acceptable"):u.length===1?u=u[0]:u=null)}else{const g=await i.text();try{l=JSON.parse(g),Array.isArray(l)&&i.status===404&&(u=[],l=null,p=200,m="OK")}catch{i.status===404&&g===""?(p=204,m="No Content"):l={message:g}}if(l&&this.isMaybeSingle&&(!((c=l==null?void 0:l.details)===null||c===void 0)&&c.includes("0 rows"))&&(l=null,p=200,m="OK"),l&&this.shouldThrowOnError)throw new Zl.default(l)}return{error:l,data:u,count:d,status:p,statusText:m}});return this.shouldThrowOnError||(s=s.catch(i=>{var o,a,c;return{error:{message:`${(o=i==null?void 0:i.name)!==null&&o!==void 0?o:"FetchError"}: ${i==null?void 0:i.message}`,details:`${(a=i==null?void 0:i.stack)!==null&&a!==void 0?a:""}`,hint:"",code:`${(c=i==null?void 0:i.code)!==null&&c!==void 0?c:""}`},data:null,count:null,status:0,statusText:""}})),s.then(e,t)}};Vn.default=Yl;var Xl=oe&&oe.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(Wn,"__esModule",{value:!0});const eu=Xl(Vn);let tu=class extends eu.default{select(e){let t=!1;const r=(e??"*").split("").map(s=>/\s/.test(s)&&!t?"":(s==='"'&&(t=!t),s)).join("");return this.url.searchParams.set("select",r),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(e,{ascending:t=!0,nullsFirst:r,foreignTable:s,referencedTable:i=s}={}){const o=i?`${i}.order`:"order",a=this.url.searchParams.get(o);return this.url.searchParams.set(o,`${a?`${a},`:""}${e}.${t?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:t,referencedTable:r=t}={}){const s=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(s,`${e}`),this}range(e,t,{foreignTable:r,referencedTable:s=r}={}){const i=typeof s>"u"?"offset":`${s}.offset`,o=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(i,`${e}`),this.url.searchParams.set(o,`${t-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:e=!1,verbose:t=!1,settings:r=!1,buffers:s=!1,wal:i=!1,format:o="text"}={}){var a;const c=[e?"analyze":null,t?"verbose":null,r?"settings":null,s?"buffers":null,i?"wal":null].filter(Boolean).join("|"),l=(a=this.headers.Accept)!==null&&a!==void 0?a:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${o}; for="${l}"; options=${c};`,o==="json"?this:this}rollback(){var e;return((e=this.headers.Prefer)!==null&&e!==void 0?e:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}};Wn.default=tu;var nu=oe&&oe.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(en,"__esModule",{value:!0});const ru=nu(Wn);let su=class extends ru.default{eq(e,t){return this.url.searchParams.append(e,`eq.${t}`),this}neq(e,t){return this.url.searchParams.append(e,`neq.${t}`),this}gt(e,t){return this.url.searchParams.append(e,`gt.${t}`),this}gte(e,t){return this.url.searchParams.append(e,`gte.${t}`),this}lt(e,t){return this.url.searchParams.append(e,`lt.${t}`),this}lte(e,t){return this.url.searchParams.append(e,`lte.${t}`),this}like(e,t){return this.url.searchParams.append(e,`like.${t}`),this}likeAllOf(e,t){return this.url.searchParams.append(e,`like(all).{${t.join(",")}}`),this}likeAnyOf(e,t){return this.url.searchParams.append(e,`like(any).{${t.join(",")}}`),this}ilike(e,t){return this.url.searchParams.append(e,`ilike.${t}`),this}ilikeAllOf(e,t){return this.url.searchParams.append(e,`ilike(all).{${t.join(",")}}`),this}ilikeAnyOf(e,t){return this.url.searchParams.append(e,`ilike(any).{${t.join(",")}}`),this}is(e,t){return this.url.searchParams.append(e,`is.${t}`),this}in(e,t){const r=Array.from(new Set(t)).map(s=>typeof s=="string"&&new RegExp("[,()]").test(s)?`"${s}"`:`${s}`).join(",");return this.url.searchParams.append(e,`in.(${r})`),this}contains(e,t){return typeof t=="string"?this.url.searchParams.append(e,`cs.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cs.{${t.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(t)}`),this}containedBy(e,t){return typeof t=="string"?this.url.searchParams.append(e,`cd.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cd.{${t.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(t)}`),this}rangeGt(e,t){return this.url.searchParams.append(e,`sr.${t}`),this}rangeGte(e,t){return this.url.searchParams.append(e,`nxl.${t}`),this}rangeLt(e,t){return this.url.searchParams.append(e,`sl.${t}`),this}rangeLte(e,t){return this.url.searchParams.append(e,`nxr.${t}`),this}rangeAdjacent(e,t){return this.url.searchParams.append(e,`adj.${t}`),this}overlaps(e,t){return typeof t=="string"?this.url.searchParams.append(e,`ov.${t}`):this.url.searchParams.append(e,`ov.{${t.join(",")}}`),this}textSearch(e,t,{config:r,type:s}={}){let i="";s==="plain"?i="pl":s==="phrase"?i="ph":s==="websearch"&&(i="w");const o=r===void 0?"":`(${r})`;return this.url.searchParams.append(e,`${i}fts${o}.${t}`),this}match(e){return Object.entries(e).forEach(([t,r])=>{this.url.searchParams.append(t,`eq.${r}`)}),this}not(e,t,r){return this.url.searchParams.append(e,`not.${t}.${r}`),this}or(e,{foreignTable:t,referencedTable:r=t}={}){const s=r?`${r}.or`:"or";return this.url.searchParams.append(s,`(${e})`),this}filter(e,t,r){return this.url.searchParams.append(e,`${t}.${r}`),this}};en.default=su;var iu=oe&&oe.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(zn,"__esModule",{value:!0});const zt=iu(en);let ou=class{constructor(e,{headers:t={},schema:r,fetch:s}){this.url=e,this.headers=t,this.schema=r,this.fetch=s}select(e,{head:t=!1,count:r}={}){const s=t?"HEAD":"GET";let i=!1;const o=(e??"*").split("").map(a=>/\s/.test(a)&&!i?"":(a==='"'&&(i=!i),a)).join("");return this.url.searchParams.set("select",o),r&&(this.headers.Prefer=`count=${r}`),new zt.default({method:s,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(e,{count:t,defaultToNull:r=!0}={}){const s="POST",i=[];if(this.headers.Prefer&&i.push(this.headers.Prefer),t&&i.push(`count=${t}`),r||i.push("missing=default"),this.headers.Prefer=i.join(","),Array.isArray(e)){const o=e.reduce((a,c)=>a.concat(Object.keys(c)),[]);if(o.length>0){const a=[...new Set(o)].map(c=>`"${c}"`);this.url.searchParams.set("columns",a.join(","))}}return new zt.default({method:s,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}upsert(e,{onConflict:t,ignoreDuplicates:r=!1,count:s,defaultToNull:i=!0}={}){const o="POST",a=[`resolution=${r?"ignore":"merge"}-duplicates`];if(t!==void 0&&this.url.searchParams.set("on_conflict",t),this.headers.Prefer&&a.push(this.headers.Prefer),s&&a.push(`count=${s}`),i||a.push("missing=default"),this.headers.Prefer=a.join(","),Array.isArray(e)){const c=e.reduce((l,u)=>l.concat(Object.keys(u)),[]);if(c.length>0){const l=[...new Set(c)].map(u=>`"${u}"`);this.url.searchParams.set("columns",l.join(","))}}return new zt.default({method:o,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}update(e,{count:t}={}){const r="PATCH",s=[];return this.headers.Prefer&&s.push(this.headers.Prefer),t&&s.push(`count=${t}`),this.headers.Prefer=s.join(","),new zt.default({method:r,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}delete({count:e}={}){const t="DELETE",r=[];return e&&r.push(`count=${e}`),this.headers.Prefer&&r.unshift(this.headers.Prefer),this.headers.Prefer=r.join(","),new zt.default({method:t,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}};zn.default=ou;var Hn={},Kn={};Object.defineProperty(Kn,"__esModule",{value:!0});Kn.version=void 0;Kn.version="0.0.0-automated";Object.defineProperty(Hn,"__esModule",{value:!0});Hn.DEFAULT_HEADERS=void 0;const au=Kn;Hn.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${au.version}`};var _o=oe&&oe.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(cs,"__esModule",{value:!0});const cu=_o(zn),lu=_o(en),uu=Hn;let du=class Eo{constructor(e,{headers:t={},schema:r,fetch:s}={}){this.url=e,this.headers=Object.assign(Object.assign({},uu.DEFAULT_HEADERS),t),this.schemaName=r,this.fetch=s}from(e){const t=new URL(`${this.url}/${e}`);return new cu.default(t,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(e){return new Eo(this.url,{headers:this.headers,schema:e,fetch:this.fetch})}rpc(e,t={},{head:r=!1,get:s=!1,count:i}={}){let o;const a=new URL(`${this.url}/rpc/${e}`);let c;r||s?(o=r?"HEAD":"GET",Object.entries(t).filter(([u,d])=>d!==void 0).map(([u,d])=>[u,Array.isArray(d)?`{${d.join(",")}}`:`${d}`]).forEach(([u,d])=>{a.searchParams.append(u,d)})):(o="POST",c=t);const l=Object.assign({},this.headers);return i&&(l.Prefer=`count=${i}`),new lu.default({method:o,url:a,headers:l,schema:this.schemaName,body:c,fetch:this.fetch,allowEmpty:!1})}};cs.default=du;var Ft=oe&&oe.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(X,"__esModule",{value:!0});X.PostgrestError=X.PostgrestBuilder=X.PostgrestTransformBuilder=X.PostgrestFilterBuilder=X.PostgrestQueryBuilder=X.PostgrestClient=void 0;const Co=Ft(cs);X.PostgrestClient=Co.default;const So=Ft(zn);X.PostgrestQueryBuilder=So.default;const Oo=Ft(en);X.PostgrestFilterBuilder=Oo.default;const ko=Ft(Wn);X.PostgrestTransformBuilder=ko.default;const Po=Ft(Vn);X.PostgrestBuilder=Po.default;const Ao=Ft(qn);X.PostgrestError=Ao.default;var fu=X.default={PostgrestClient:Co.default,PostgrestQueryBuilder:So.default,PostgrestFilterBuilder:Oo.default,PostgrestTransformBuilder:ko.default,PostgrestBuilder:Po.default,PostgrestError:Ao.default};const{PostgrestClient:hu,PostgrestQueryBuilder:qy,PostgrestFilterBuilder:Hy,PostgrestTransformBuilder:Ky,PostgrestBuilder:Gy,PostgrestError:Jy}=fu,pu="2.11.2",mu={"X-Client-Info":`realtime-js/${pu}`},gu="1.0.0",To=1e4,yu=1e3;var St;(function(n){n[n.connecting=0]="connecting",n[n.open=1]="open",n[n.closing=2]="closing",n[n.closed=3]="closed"})(St||(St={}));var ne;(function(n){n.closed="closed",n.errored="errored",n.joined="joined",n.joining="joining",n.leaving="leaving"})(ne||(ne={}));var ce;(function(n){n.close="phx_close",n.error="phx_error",n.join="phx_join",n.reply="phx_reply",n.leave="phx_leave",n.access_token="access_token"})(ce||(ce={}));var Ur;(function(n){n.websocket="websocket"})(Ur||(Ur={}));var et;(function(n){n.Connecting="connecting",n.Open="open",n.Closing="closing",n.Closed="closed"})(et||(et={}));class vu{constructor(){this.HEADER_LENGTH=1}decode(e,t){return e.constructor===ArrayBuffer?t(this._binaryDecode(e)):t(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){const t=new DataView(e),r=new TextDecoder;return this._decodeBroadcast(e,t,r)}_decodeBroadcast(e,t,r){const s=t.getUint8(1),i=t.getUint8(2);let o=this.HEADER_LENGTH+2;const a=r.decode(e.slice(o,o+s));o=o+s;const c=r.decode(e.slice(o,o+i));o=o+i;const l=JSON.parse(r.decode(e.slice(o,e.byteLength)));return{ref:null,topic:a,event:c,payload:l}}}class jo{constructor(e,t){this.callback=e,this.timerCalc=t,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=t}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var M;(function(n){n.abstime="abstime",n.bool="bool",n.date="date",n.daterange="daterange",n.float4="float4",n.float8="float8",n.int2="int2",n.int4="int4",n.int4range="int4range",n.int8="int8",n.int8range="int8range",n.json="json",n.jsonb="jsonb",n.money="money",n.numeric="numeric",n.oid="oid",n.reltime="reltime",n.text="text",n.time="time",n.timestamp="timestamp",n.timestamptz="timestamptz",n.timetz="timetz",n.tsrange="tsrange",n.tstzrange="tstzrange"})(M||(M={}));const ti=(n,e,t={})=>{var r;const s=(r=t.skipTypes)!==null&&r!==void 0?r:[];return Object.keys(e).reduce((i,o)=>(i[o]=bu(o,n,e,s),i),{})},bu=(n,e,t,r)=>{const s=e.find(a=>a.name===n),i=s==null?void 0:s.type,o=t[n];return i&&!r.includes(i)?Ro(i,o):Br(o)},Ro=(n,e)=>{if(n.charAt(0)==="_"){const t=n.slice(1,n.length);return Eu(e,t)}switch(n){case M.bool:return wu(e);case M.float4:case M.float8:case M.int2:case M.int4:case M.int8:case M.numeric:case M.oid:return xu(e);case M.json:case M.jsonb:return _u(e);case M.timestamp:return Cu(e);case M.abstime:case M.date:case M.daterange:case M.int4range:case M.int8range:case M.money:case M.reltime:case M.text:case M.time:case M.timestamptz:case M.timetz:case M.tsrange:case M.tstzrange:return Br(e);default:return Br(e)}},Br=n=>n,wu=n=>{switch(n){case"t":return!0;case"f":return!1;default:return n}},xu=n=>{if(typeof n=="string"){const e=parseFloat(n);if(!Number.isNaN(e))return e}return n},_u=n=>{if(typeof n=="string")try{return JSON.parse(n)}catch(e){return console.log(`JSON parse error: ${e}`),n}return n},Eu=(n,e)=>{if(typeof n!="string")return n;const t=n.length-1,r=n[t];if(n[0]==="{"&&r==="}"){let i;const o=n.slice(1,t);try{i=JSON.parse("["+o+"]")}catch{i=o?o.split(","):[]}return i.map(a=>Ro(e,a))}return n},Cu=n=>typeof n=="string"?n.replace(" ","T"):n,$o=n=>{let e=n;return e=e.replace(/^ws/i,"http"),e=e.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),e.replace(/\/+$/,"")};class ar{constructor(e,t,r={},s=To){this.channel=e,this.event=t,this.payload=r,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,t){var r;return this._hasReceived(e)&&t((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:e,callback:t}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=t=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=t,this._matchReceive(t)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,t){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:t})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:t}){this.recHooks.filter(r=>r.status===e).forEach(r=>r.callback(t))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var ni;(function(n){n.SYNC="sync",n.JOIN="join",n.LEAVE="leave"})(ni||(ni={}));class Ht{constructor(e,t){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(t==null?void 0:t.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},s=>{const{onJoin:i,onLeave:o,onSync:a}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Ht.syncState(this.state,s,i,o),this.pendingDiffs.forEach(c=>{this.state=Ht.syncDiff(this.state,c,i,o)}),this.pendingDiffs=[],a()}),this.channel._on(r.diff,{},s=>{const{onJoin:i,onLeave:o,onSync:a}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=Ht.syncDiff(this.state,s,i,o),a())}),this.onJoin((s,i,o)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:i,newPresences:o})}),this.onLeave((s,i,o)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:i,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,t,r,s){const i=this.cloneDeep(e),o=this.transformState(t),a={},c={};return this.map(i,(l,u)=>{o[l]||(c[l]=u)}),this.map(o,(l,u)=>{const d=i[l];if(d){const p=u.map(y=>y.presence_ref),m=d.map(y=>y.presence_ref),v=u.filter(y=>m.indexOf(y.presence_ref)<0),g=d.filter(y=>p.indexOf(y.presence_ref)<0);v.length>0&&(a[l]=v),g.length>0&&(c[l]=g)}else a[l]=u}),this.syncDiff(i,{joins:a,leaves:c},r,s)}static syncDiff(e,t,r,s){const{joins:i,leaves:o}={joins:this.transformState(t.joins),leaves:this.transformState(t.leaves)};return r||(r=()=>{}),s||(s=()=>{}),this.map(i,(a,c)=>{var l;const u=(l=e[a])!==null&&l!==void 0?l:[];if(e[a]=this.cloneDeep(c),u.length>0){const d=e[a].map(m=>m.presence_ref),p=u.filter(m=>d.indexOf(m.presence_ref)<0);e[a].unshift(...p)}r(a,u,c)}),this.map(o,(a,c)=>{let l=e[a];if(!l)return;const u=c.map(d=>d.presence_ref);l=l.filter(d=>u.indexOf(d.presence_ref)<0),e[a]=l,s(a,l,c),l.length===0&&delete e[a]}),e}static map(e,t){return Object.getOwnPropertyNames(e).map(r=>t(r,e[r]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((t,r)=>{const s=e[r];return"metas"in s?t[r]=s.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):t[r]=s,t},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var ri;(function(n){n.ALL="*",n.INSERT="INSERT",n.UPDATE="UPDATE",n.DELETE="DELETE"})(ri||(ri={}));var si;(function(n){n.BROADCAST="broadcast",n.PRESENCE="presence",n.POSTGRES_CHANGES="postgres_changes",n.SYSTEM="system"})(si||(si={}));var Ce;(function(n){n.SUBSCRIBED="SUBSCRIBED",n.TIMED_OUT="TIMED_OUT",n.CLOSED="CLOSED",n.CHANNEL_ERROR="CHANNEL_ERROR"})(Ce||(Ce={}));class ls{constructor(e,t={config:{}},r){this.topic=e,this.params=t,this.socket=r,this.bindings={},this.state=ne.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},t.config),this.timeout=this.socket.timeout,this.joinPush=new ar(this,ce.join,this.params,this.timeout),this.rejoinTimer=new jo(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=ne.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(s=>s.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=ne.closed,this.socket._remove(this)}),this._onError(s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=ne.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=ne.errored,this.rejoinTimer.scheduleTimeout())}),this._on(ce.reply,{},(s,i)=>{this._trigger(this._replyEventName(i),s)}),this.presence=new Ht(this),this.broadcastEndpointURL=$o(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(e,t=this.timeout){var r,s;if(this.socket.isConnected()||this.socket.connect(),this.joinedOnce)throw"tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance";{const{config:{broadcast:i,presence:o,private:a}}=this.params;this._onError(u=>e==null?void 0:e(Ce.CHANNEL_ERROR,u)),this._onClose(()=>e==null?void 0:e(Ce.CLOSED));const c={},l={broadcast:i,presence:o,postgres_changes:(s=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(u=>u.filter))!==null&&s!==void 0?s:[],private:a};this.socket.accessTokenValue&&(c.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:l},c)),this.joinedOnce=!0,this._rejoin(t),this.joinPush.receive("ok",async({postgres_changes:u})=>{var d;if(this.socket.setAuth(),u===void 0){e==null||e(Ce.SUBSCRIBED);return}else{const p=this.bindings.postgres_changes,m=(d=p==null?void 0:p.length)!==null&&d!==void 0?d:0,v=[];for(let g=0;g<m;g++){const y=p[g],{filter:{event:b,schema:_,table:E,filter:w}}=y,C=u&&u[g];if(C&&C.event===b&&C.schema===_&&C.table===E&&C.filter===w)v.push(Object.assign(Object.assign({},y),{id:C.id}));else{this.unsubscribe(),e==null||e(Ce.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=v,e&&e(Ce.SUBSCRIBED);return}}).receive("error",u=>{e==null||e(Ce.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(u).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(Ce.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,t={}){return await this.send({type:"presence",event:"track",payload:e},t.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,t,r){return this._on(e,t,r)}async send(e,t={}){var r,s;if(!this._canPush()&&e.type==="broadcast"){const{event:i,payload:o}=e,c={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:o,private:this.private}]})};try{const l=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(r=t.timeout)!==null&&r!==void 0?r:this.timeout);return await((s=l.body)===null||s===void 0?void 0:s.cancel()),l.ok?"ok":"error"}catch(l){return l.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var o,a,c;const l=this._push(e.type,e,t.timeout||this.timeout);e.type==="broadcast"&&!(!((c=(a=(o=this.params)===null||o===void 0?void 0:o.config)===null||a===void 0?void 0:a.broadcast)===null||c===void 0)&&c.ack)&&i("ok"),l.receive("ok",()=>i("ok")),l.receive("error",()=>i("error")),l.receive("timeout",()=>i("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=ne.leaving;const t=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(ce.close,"leave",this._joinRef())};return this.rejoinTimer.reset(),this.joinPush.destroy(),new Promise(r=>{const s=new ar(this,ce.leave,{},e);s.receive("ok",()=>{t(),r("ok")}).receive("timeout",()=>{t(),r("timed out")}).receive("error",()=>{r("error")}),s.send(),this._canPush()||s.trigger("ok",{})})}async _fetchWithTimeout(e,t,r){const s=new AbortController,i=setTimeout(()=>s.abort(),r),o=await this.socket.fetch(e,Object.assign(Object.assign({},t),{signal:s.signal}));return clearTimeout(i),o}_push(e,t,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new ar(this,e,t,r);return this._canPush()?s.send():(s.startTimeout(),this.pushBuffer.push(s)),s}_onMessage(e,t,r){return t}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,t,r){var s,i;const o=e.toLocaleLowerCase(),{close:a,error:c,leave:l,join:u}=ce;if(r&&[a,c,l,u].indexOf(o)>=0&&r!==this._joinRef())return;let p=this._onMessage(o,t,r);if(t&&!p)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(m=>{var v,g,y;return((v=m.filter)===null||v===void 0?void 0:v.event)==="*"||((y=(g=m.filter)===null||g===void 0?void 0:g.event)===null||y===void 0?void 0:y.toLocaleLowerCase())===o}).map(m=>m.callback(p,r)):(i=this.bindings[o])===null||i===void 0||i.filter(m=>{var v,g,y,b,_,E;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in m){const w=m.id,C=(v=m.filter)===null||v===void 0?void 0:v.event;return w&&((g=t.ids)===null||g===void 0?void 0:g.includes(w))&&(C==="*"||(C==null?void 0:C.toLocaleLowerCase())===((y=t.data)===null||y===void 0?void 0:y.type.toLocaleLowerCase()))}else{const w=(_=(b=m==null?void 0:m.filter)===null||b===void 0?void 0:b.event)===null||_===void 0?void 0:_.toLocaleLowerCase();return w==="*"||w===((E=t==null?void 0:t.event)===null||E===void 0?void 0:E.toLocaleLowerCase())}else return m.type.toLocaleLowerCase()===o}).map(m=>{if(typeof p=="object"&&"ids"in p){const v=p.data,{schema:g,table:y,commit_timestamp:b,type:_,errors:E}=v;p=Object.assign(Object.assign({},{schema:g,table:y,commit_timestamp:b,eventType:_,new:{},old:{},errors:E}),this._getPayloadRecords(v))}m.callback(p,r)})}_isClosed(){return this.state===ne.closed}_isJoined(){return this.state===ne.joined}_isJoining(){return this.state===ne.joining}_isLeaving(){return this.state===ne.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,t,r){const s=e.toLocaleLowerCase(),i={type:s,filter:t,callback:r};return this.bindings[s]?this.bindings[s].push(i):this.bindings[s]=[i],this}_off(e,t){const r=e.toLocaleLowerCase();return this.bindings[r]=this.bindings[r].filter(s=>{var i;return!(((i=s.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===r&&ls.isEqual(s.filter,t))}),this}static isEqual(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const r in e)if(e[r]!==t[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(ce.close,{},e)}_onError(e){this._on(ce.error,{},t=>e(t))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=ne.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const t={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(t.new=ti(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(t.old=ti(e.columns,e.old_record)),t}}const Su=()=>{},Ou=typeof WebSocket<"u",ku=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class Pu{constructor(e,t){var r;this.accessTokenValue=null,this.apiKey=null,this.channels=[],this.endPoint="",this.httpEndpoint="",this.headers=mu,this.params={},this.timeout=To,this.heartbeatIntervalMs=3e4,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.ref=0,this.logger=Su,this.conn=null,this.sendBuffer=[],this.serializer=new vu,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=i=>{let o;return i?o=i:typeof fetch>"u"?o=(...a)=>Rt(async()=>{const{default:c}=await Promise.resolve().then(()=>Lt);return{default:c}},void 0).then(({default:c})=>c(...a)):o=fetch,(...a)=>o(...a)},this.endPoint=`${e}/${Ur.websocket}`,this.httpEndpoint=$o(e),t!=null&&t.transport?this.transport=t.transport:this.transport=null,t!=null&&t.params&&(this.params=t.params),t!=null&&t.headers&&(this.headers=Object.assign(Object.assign({},this.headers),t.headers)),t!=null&&t.timeout&&(this.timeout=t.timeout),t!=null&&t.logger&&(this.logger=t.logger),t!=null&&t.heartbeatIntervalMs&&(this.heartbeatIntervalMs=t.heartbeatIntervalMs);const s=(r=t==null?void 0:t.params)===null||r===void 0?void 0:r.apikey;if(s&&(this.accessTokenValue=s,this.apiKey=s),this.reconnectAfterMs=t!=null&&t.reconnectAfterMs?t.reconnectAfterMs:i=>[1e3,2e3,5e3,1e4][i-1]||1e4,this.encode=t!=null&&t.encode?t.encode:(i,o)=>o(JSON.stringify(i)),this.decode=t!=null&&t.decode?t.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new jo(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(t==null?void 0:t.fetch),t!=null&&t.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(t==null?void 0:t.worker)||!1,this.workerUrl=t==null?void 0:t.workerUrl}this.accessToken=(t==null?void 0:t.accessToken)||null}connect(){if(!this.conn){if(this.transport){this.conn=new this.transport(this.endpointURL(),void 0,{headers:this.headers});return}if(Ou){this.conn=new WebSocket(this.endpointURL()),this.setupConnection();return}this.conn=new Au(this.endpointURL(),void 0,{close:()=>{this.conn=null}}),Rt(async()=>{const{default:e}=await import("./browser-CHMKikde.js").then(t=>t.b);return{default:e}},__vite__mapDeps([0,1])).then(({default:e})=>{this.conn=new e(this.endpointURL(),void 0,{headers:this.headers}),this.setupConnection()})}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:gu}))}disconnect(e,t){this.conn&&(this.conn.onclose=function(){},e?this.conn.close(e,t??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset())}getChannels(){return this.channels}async removeChannel(e){const t=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),t}async removeAllChannels(){const e=await Promise.all(this.channels.map(t=>t.unsubscribe()));return this.disconnect(),e}log(e,t,r){this.logger(e,t,r)}connectionState(){switch(this.conn&&this.conn.readyState){case St.connecting:return et.Connecting;case St.open:return et.Open;case St.closing:return et.Closing;default:return et.Closed}}isConnected(){return this.connectionState()===et.Open}channel(e,t={config:{}}){const r=new ls(`realtime:${e}`,t,this);return this.channels.push(r),r}push(e){const{topic:t,event:r,payload:s,ref:i}=e,o=()=>{this.encode(e,a=>{var c;(c=this.conn)===null||c===void 0||c.send(a)})};this.log("push",`${t} ${r} (${i})`,s),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(e=null){let t=e||this.accessToken&&await this.accessToken()||this.accessTokenValue;if(t){let r=null;try{r=JSON.parse(atob(t.split(".")[1]))}catch{}if(r&&r.exp&&!(Math.floor(Date.now()/1e3)-r.exp<0))return this.log("auth",`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${r.exp}`),Promise.reject(`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${r.exp}`);this.accessTokenValue=t,this.channels.forEach(s=>{t&&s.updateJoinPayload({access_token:t}),s.joinedOnce&&s._isJoined()&&s._push(ce.access_token,{access_token:t})})}}async sendHeartbeat(){var e;if(this.isConnected()){if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),(e=this.conn)===null||e===void 0||e.close(yu,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.setAuth()}}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let t=this.channels.find(r=>r.topic===e&&(r._isJoined()||r._isJoining()));t&&(this.log("transport",`leaving duplicate topic "${e}"`),t.unsubscribe())}_remove(e){this.channels=this.channels.filter(t=>t._joinRef()!==e._joinRef())}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_onConnMessage(e){this.decode(e.data,t=>{let{topic:r,event:s,payload:i,ref:o}=t;o&&o===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${i.status||""} ${r} ${s} ${o&&"("+o+")"||""}`,i),this.channels.filter(a=>a._isMember(r)).forEach(a=>a._trigger(s,i,o)),this.stateChangeCallbacks.message.forEach(a=>a(t))})}async _onConnOpen(){if(this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),!this.worker)this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs);else{this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=t=>{this.log("worker","worker error",t.message),this.workerRef.terminate()},this.workerRef.onmessage=t=>{t.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}this.stateChangeCallbacks.open.forEach(e=>e())}_onConnClose(e){this.log("transport","close",e),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(t=>t(e))}_onConnError(e){this.log("transport",e.message),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(t=>t(e))}_triggerChanError(){this.channels.forEach(e=>e._trigger(ce.error))}_appendParams(e,t){if(Object.keys(t).length===0)return e;const r=e.match(/\?/)?"&":"?",s=new URLSearchParams(t);return`${e}${r}${s}`}_workerObjectUrl(e){let t;if(e)t=e;else{const r=new Blob([ku],{type:"application/javascript"});t=URL.createObjectURL(r)}return t}}class Au{constructor(e,t,r){this.binaryType="arraybuffer",this.onclose=()=>{},this.onerror=()=>{},this.onmessage=()=>{},this.onopen=()=>{},this.readyState=St.connecting,this.send=()=>{},this.url=null,this.url=e,this.close=r.close}}class us extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function H(n){return typeof n=="object"&&n!==null&&"__isStorageError"in n}class Tu extends us{constructor(e,t){super(e),this.name="StorageApiError",this.status=t}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class zr extends us{constructor(e,t){super(e),this.name="StorageUnknownError",this.originalError=t}}var ju=function(n,e,t,r){function s(i){return i instanceof t?i:new t(function(o){o(i)})}return new(t||(t=Promise))(function(i,o){function a(u){try{l(r.next(u))}catch(d){o(d)}}function c(u){try{l(r.throw(u))}catch(d){o(d)}}function l(u){u.done?i(u.value):s(u.value).then(a,c)}l((r=r.apply(n,e||[])).next())})};const No=n=>{let e;return n?e=n:typeof fetch>"u"?e=(...t)=>Rt(async()=>{const{default:r}=await Promise.resolve().then(()=>Lt);return{default:r}},void 0).then(({default:r})=>r(...t)):e=fetch,(...t)=>e(...t)},Ru=()=>ju(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield Rt(()=>Promise.resolve().then(()=>Lt),void 0)).Response:Response}),Wr=n=>{if(Array.isArray(n))return n.map(t=>Wr(t));if(typeof n=="function"||n!==Object(n))return n;const e={};return Object.entries(n).forEach(([t,r])=>{const s=t.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));e[s]=Wr(r)}),e};var ft=function(n,e,t,r){function s(i){return i instanceof t?i:new t(function(o){o(i)})}return new(t||(t=Promise))(function(i,o){function a(u){try{l(r.next(u))}catch(d){o(d)}}function c(u){try{l(r.throw(u))}catch(d){o(d)}}function l(u){u.done?i(u.value):s(u.value).then(a,c)}l((r=r.apply(n,e||[])).next())})};const cr=n=>n.msg||n.message||n.error_description||n.error||JSON.stringify(n),$u=(n,e,t)=>ft(void 0,void 0,void 0,function*(){const r=yield Ru();n instanceof r&&!(t!=null&&t.noResolveJson)?n.json().then(s=>{e(new Tu(cr(s),n.status||500))}).catch(s=>{e(new zr(cr(s),s))}):e(new zr(cr(n),n))}),Nu=(n,e,t,r)=>{const s={method:n,headers:(e==null?void 0:e.headers)||{}};return n==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),r&&(s.body=JSON.stringify(r)),Object.assign(Object.assign({},s),t))};function tn(n,e,t,r,s,i){return ft(this,void 0,void 0,function*(){return new Promise((o,a)=>{n(t,Nu(e,r,s,i)).then(c=>{if(!c.ok)throw c;return r!=null&&r.noResolveJson?c:c.json()}).then(c=>o(c)).catch(c=>$u(c,a,r))})})}function Tn(n,e,t,r){return ft(this,void 0,void 0,function*(){return tn(n,"GET",e,t,r)})}function Ie(n,e,t,r,s){return ft(this,void 0,void 0,function*(){return tn(n,"POST",e,r,s,t)})}function Du(n,e,t,r,s){return ft(this,void 0,void 0,function*(){return tn(n,"PUT",e,r,s,t)})}function Iu(n,e,t,r){return ft(this,void 0,void 0,function*(){return tn(n,"HEAD",e,Object.assign(Object.assign({},t),{noResolveJson:!0}),r)})}function Do(n,e,t,r,s){return ft(this,void 0,void 0,function*(){return tn(n,"DELETE",e,r,s,t)})}var J=function(n,e,t,r){function s(i){return i instanceof t?i:new t(function(o){o(i)})}return new(t||(t=Promise))(function(i,o){function a(u){try{l(r.next(u))}catch(d){o(d)}}function c(u){try{l(r.throw(u))}catch(d){o(d)}}function l(u){u.done?i(u.value):s(u.value).then(a,c)}l((r=r.apply(n,e||[])).next())})};const Lu={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},ii={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class Fu{constructor(e,t={},r,s){this.url=e,this.headers=t,this.bucketId=r,this.fetch=No(s)}uploadOrUpdate(e,t,r,s){return J(this,void 0,void 0,function*(){try{let i;const o=Object.assign(Object.assign({},ii),s);let a=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(o.upsert)});const c=o.metadata;typeof Blob<"u"&&r instanceof Blob?(i=new FormData,i.append("cacheControl",o.cacheControl),c&&i.append("metadata",this.encodeMetadata(c)),i.append("",r)):typeof FormData<"u"&&r instanceof FormData?(i=r,i.append("cacheControl",o.cacheControl),c&&i.append("metadata",this.encodeMetadata(c))):(i=r,a["cache-control"]=`max-age=${o.cacheControl}`,a["content-type"]=o.contentType,c&&(a["x-metadata"]=this.toBase64(this.encodeMetadata(c)))),s!=null&&s.headers&&(a=Object.assign(Object.assign({},a),s.headers));const l=this._removeEmptyFolders(t),u=this._getFinalPath(l),d=yield this.fetch(`${this.url}/object/${u}`,Object.assign({method:e,body:i,headers:a},o!=null&&o.duplex?{duplex:o.duplex}:{})),p=yield d.json();return d.ok?{data:{path:l,id:p.Id,fullPath:p.Key},error:null}:{data:null,error:p}}catch(i){if(H(i))return{data:null,error:i};throw i}})}upload(e,t,r){return J(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,t,r)})}uploadToSignedUrl(e,t,r,s){return J(this,void 0,void 0,function*(){const i=this._removeEmptyFolders(e),o=this._getFinalPath(i),a=new URL(this.url+`/object/upload/sign/${o}`);a.searchParams.set("token",t);try{let c;const l=Object.assign({upsert:ii.upsert},s),u=Object.assign(Object.assign({},this.headers),{"x-upsert":String(l.upsert)});typeof Blob<"u"&&r instanceof Blob?(c=new FormData,c.append("cacheControl",l.cacheControl),c.append("",r)):typeof FormData<"u"&&r instanceof FormData?(c=r,c.append("cacheControl",l.cacheControl)):(c=r,u["cache-control"]=`max-age=${l.cacheControl}`,u["content-type"]=l.contentType);const d=yield this.fetch(a.toString(),{method:"PUT",body:c,headers:u}),p=yield d.json();return d.ok?{data:{path:i,fullPath:p.Key},error:null}:{data:null,error:p}}catch(c){if(H(c))return{data:null,error:c};throw c}})}createSignedUploadUrl(e,t){return J(this,void 0,void 0,function*(){try{let r=this._getFinalPath(e);const s=Object.assign({},this.headers);t!=null&&t.upsert&&(s["x-upsert"]="true");const i=yield Ie(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:s}),o=new URL(this.url+i.url),a=o.searchParams.get("token");if(!a)throw new us("No token returned by API");return{data:{signedUrl:o.toString(),path:e,token:a},error:null}}catch(r){if(H(r))return{data:null,error:r};throw r}})}update(e,t,r){return J(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,t,r)})}move(e,t,r){return J(this,void 0,void 0,function*(){try{return{data:yield Ie(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:t,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers}),error:null}}catch(s){if(H(s))return{data:null,error:s};throw s}})}copy(e,t,r){return J(this,void 0,void 0,function*(){try{return{data:{path:(yield Ie(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:t,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers})).Key},error:null}}catch(s){if(H(s))return{data:null,error:s};throw s}})}createSignedUrl(e,t,r){return J(this,void 0,void 0,function*(){try{let s=this._getFinalPath(e),i=yield Ie(this.fetch,`${this.url}/object/sign/${s}`,Object.assign({expiresIn:t},r!=null&&r.transform?{transform:r.transform}:{}),{headers:this.headers});const o=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${o}`)},{data:i,error:null}}catch(s){if(H(s))return{data:null,error:s};throw s}})}createSignedUrls(e,t,r){return J(this,void 0,void 0,function*(){try{const s=yield Ie(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:t,paths:e},{headers:this.headers}),i=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{data:s.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${i}`):null})),error:null}}catch(s){if(H(s))return{data:null,error:s};throw s}})}download(e,t){return J(this,void 0,void 0,function*(){const s=typeof(t==null?void 0:t.transform)<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString((t==null?void 0:t.transform)||{}),o=i?`?${i}`:"";try{const a=this._getFinalPath(e);return{data:yield(yield Tn(this.fetch,`${this.url}/${s}/${a}${o}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(a){if(H(a))return{data:null,error:a};throw a}})}info(e){return J(this,void 0,void 0,function*(){const t=this._getFinalPath(e);try{const r=yield Tn(this.fetch,`${this.url}/object/info/${t}`,{headers:this.headers});return{data:Wr(r),error:null}}catch(r){if(H(r))return{data:null,error:r};throw r}})}exists(e){return J(this,void 0,void 0,function*(){const t=this._getFinalPath(e);try{return yield Iu(this.fetch,`${this.url}/object/${t}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(H(r)&&r instanceof zr){const s=r.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:r}}throw r}})}getPublicUrl(e,t){const r=this._getFinalPath(e),s=[],i=t!=null&&t.download?`download=${t.download===!0?"":t.download}`:"";i!==""&&s.push(i);const a=typeof(t==null?void 0:t.transform)<"u"?"render/image":"object",c=this.transformOptsToQueryString((t==null?void 0:t.transform)||{});c!==""&&s.push(c);let l=s.join("&");return l!==""&&(l=`?${l}`),{data:{publicUrl:encodeURI(`${this.url}/${a}/public/${r}${l}`)}}}remove(e){return J(this,void 0,void 0,function*(){try{return{data:yield Do(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(t){if(H(t))return{data:null,error:t};throw t}})}list(e,t,r){return J(this,void 0,void 0,function*(){try{const s=Object.assign(Object.assign(Object.assign({},Lu),t),{prefix:e||""});return{data:yield Ie(this.fetch,`${this.url}/object/list/${this.bucketId}`,s,{headers:this.headers},r),error:null}}catch(s){if(H(s))return{data:null,error:s};throw s}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const t=[];return e.width&&t.push(`width=${e.width}`),e.height&&t.push(`height=${e.height}`),e.resize&&t.push(`resize=${e.resize}`),e.format&&t.push(`format=${e.format}`),e.quality&&t.push(`quality=${e.quality}`),t.join("&")}}const Mu="2.7.1",Uu={"X-Client-Info":`storage-js/${Mu}`};var yt=function(n,e,t,r){function s(i){return i instanceof t?i:new t(function(o){o(i)})}return new(t||(t=Promise))(function(i,o){function a(u){try{l(r.next(u))}catch(d){o(d)}}function c(u){try{l(r.throw(u))}catch(d){o(d)}}function l(u){u.done?i(u.value):s(u.value).then(a,c)}l((r=r.apply(n,e||[])).next())})};class Bu{constructor(e,t={},r){this.url=e,this.headers=Object.assign(Object.assign({},Uu),t),this.fetch=No(r)}listBuckets(){return yt(this,void 0,void 0,function*(){try{return{data:yield Tn(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(e){if(H(e))return{data:null,error:e};throw e}})}getBucket(e){return yt(this,void 0,void 0,function*(){try{return{data:yield Tn(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(t){if(H(t))return{data:null,error:t};throw t}})}createBucket(e,t={public:!1}){return yt(this,void 0,void 0,function*(){try{return{data:yield Ie(this.fetch,`${this.url}/bucket`,{id:e,name:e,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(H(r))return{data:null,error:r};throw r}})}updateBucket(e,t){return yt(this,void 0,void 0,function*(){try{return{data:yield Du(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(H(r))return{data:null,error:r};throw r}})}emptyBucket(e){return yt(this,void 0,void 0,function*(){try{return{data:yield Ie(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(t){if(H(t))return{data:null,error:t};throw t}})}deleteBucket(e){return yt(this,void 0,void 0,function*(){try{return{data:yield Do(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(t){if(H(t))return{data:null,error:t};throw t}})}}class zu extends Bu{constructor(e,t={},r){super(e,t,r)}from(e){return new Fu(this.url,this.headers,e,this.fetch)}}const Wu="2.47.16";let qt="";typeof Deno<"u"?qt="deno":typeof document<"u"?qt="web":typeof navigator<"u"&&navigator.product==="ReactNative"?qt="react-native":qt="node";const Vu={"X-Client-Info":`supabase-js-${qt}/${Wu}`},qu={headers:Vu},Hu={schema:"public"},Ku={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},Gu={};var Ju=function(n,e,t,r){function s(i){return i instanceof t?i:new t(function(o){o(i)})}return new(t||(t=Promise))(function(i,o){function a(u){try{l(r.next(u))}catch(d){o(d)}}function c(u){try{l(r.throw(u))}catch(d){o(d)}}function l(u){u.done?i(u.value):s(u.value).then(a,c)}l((r=r.apply(n,e||[])).next())})};const Qu=n=>{let e;return n?e=n:typeof fetch>"u"?e=bo:e=fetch,(...t)=>e(...t)},Zu=()=>typeof Headers>"u"?wo:Headers,Yu=(n,e,t)=>{const r=Qu(t),s=Zu();return(i,o)=>Ju(void 0,void 0,void 0,function*(){var a;const c=(a=yield e())!==null&&a!==void 0?a:n;let l=new s(o==null?void 0:o.headers);return l.has("apikey")||l.set("apikey",n),l.has("Authorization")||l.set("Authorization",`Bearer ${c}`),r(i,Object.assign(Object.assign({},o),{headers:l}))})};var Xu=function(n,e,t,r){function s(i){return i instanceof t?i:new t(function(o){o(i)})}return new(t||(t=Promise))(function(i,o){function a(u){try{l(r.next(u))}catch(d){o(d)}}function c(u){try{l(r.throw(u))}catch(d){o(d)}}function l(u){u.done?i(u.value):s(u.value).then(a,c)}l((r=r.apply(n,e||[])).next())})};function ed(n){return n.replace(/\/$/,"")}function td(n,e){const{db:t,auth:r,realtime:s,global:i}=n,{db:o,auth:a,realtime:c,global:l}=e,u={db:Object.assign(Object.assign({},o),t),auth:Object.assign(Object.assign({},a),r),realtime:Object.assign(Object.assign({},c),s),global:Object.assign(Object.assign({},l),i),accessToken:()=>Xu(this,void 0,void 0,function*(){return""})};return n.accessToken?u.accessToken=n.accessToken:delete u.accessToken,u}const Io="2.67.3",nd="http://localhost:9999",rd="supabase.auth.token",sd={"X-Client-Info":`gotrue-js/${Io}`},oi=10,Vr="X-Supabase-Api-Version",Lo={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}};function id(n){return Math.round(Date.now()/1e3)+n}function od(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(n){const e=Math.random()*16|0;return(n=="x"?e:e&3|8).toString(16)})}const me=()=>typeof window<"u"&&typeof document<"u",Ye={tested:!1,writable:!1},Kt=()=>{if(!me())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Ye.tested)return Ye.writable;const n=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(n,n),globalThis.localStorage.removeItem(n),Ye.tested=!0,Ye.writable=!0}catch{Ye.tested=!0,Ye.writable=!1}return Ye.writable};function ad(n){const e={},t=new URL(n);if(t.hash&&t.hash[0]==="#")try{new URLSearchParams(t.hash.substring(1)).forEach((s,i)=>{e[i]=s})}catch{}return t.searchParams.forEach((r,s)=>{e[s]=r}),e}const Fo=n=>{let e;return n?e=n:typeof fetch>"u"?e=(...t)=>Rt(async()=>{const{default:r}=await Promise.resolve().then(()=>Lt);return{default:r}},void 0).then(({default:r})=>r(...t)):e=fetch,(...t)=>e(...t)},cd=n=>typeof n=="object"&&n!==null&&"status"in n&&"ok"in n&&"json"in n&&typeof n.json=="function",Mo=async(n,e,t)=>{await n.setItem(e,JSON.stringify(t))},ln=async(n,e)=>{const t=await n.getItem(e);if(!t)return null;try{return JSON.parse(t)}catch{return t}},un=async(n,e)=>{await n.removeItem(e)};function ld(n){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";let t="",r,s,i,o,a,c,l,u=0;for(n=n.replace("-","+").replace("_","/");u<n.length;)o=e.indexOf(n.charAt(u++)),a=e.indexOf(n.charAt(u++)),c=e.indexOf(n.charAt(u++)),l=e.indexOf(n.charAt(u++)),r=o<<2|a>>4,s=(a&15)<<4|c>>2,i=(c&3)<<6|l,t=t+String.fromCharCode(r),c!=64&&s!=0&&(t=t+String.fromCharCode(s)),l!=64&&i!=0&&(t=t+String.fromCharCode(i));return t}class Gn{constructor(){this.promise=new Gn.promiseConstructor((e,t)=>{this.resolve=e,this.reject=t})}}Gn.promiseConstructor=Promise;function ai(n){const e=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}=?$|[a-z0-9_-]{2}(==)?$)$/i,t=n.split(".");if(t.length!==3)throw new Error("JWT is not valid: not a JWT structure");if(!e.test(t[1]))throw new Error("JWT is not valid: payload is not in base64url format");const r=t[1];return JSON.parse(ld(r))}async function ud(n){return await new Promise(e=>{setTimeout(()=>e(null),n)})}function dd(n,e){return new Promise((r,s)=>{(async()=>{for(let i=0;i<1/0;i++)try{const o=await n(i);if(!e(i,null,o)){r(o);return}}catch(o){if(!e(i,o)){s(o);return}}})()})}function fd(n){return("0"+n.toString(16)).substr(-2)}function hd(){const e=new Uint32Array(56);if(typeof crypto>"u"){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=t.length;let s="";for(let i=0;i<56;i++)s+=t.charAt(Math.floor(Math.random()*r));return s}return crypto.getRandomValues(e),Array.from(e,fd).join("")}async function pd(n){const t=new TextEncoder().encode(n),r=await crypto.subtle.digest("SHA-256",t),s=new Uint8Array(r);return Array.from(s).map(i=>String.fromCharCode(i)).join("")}function md(n){return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function gd(n){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),n;const t=await pd(n);return md(t)}async function vt(n,e,t=!1){const r=hd();let s=r;t&&(s+="/PASSWORD_RECOVERY"),await Mo(n,`${e}-code-verifier`,s);const i=await gd(r);return[i,r===i?"plain":"s256"]}const yd=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function vd(n){const e=n.headers.get(Vr);if(!e||!e.match(yd))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}class ds extends Error{constructor(e,t,r){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=t,this.code=r}}function A(n){return typeof n=="object"&&n!==null&&"__isAuthError"in n}class bd extends ds{constructor(e,t,r){super(e,t,r),this.name="AuthApiError",this.status=t,this.code=r}}function wd(n){return A(n)&&n.name==="AuthApiError"}class Uo extends ds{constructor(e,t){super(e),this.name="AuthUnknownError",this.originalError=t}}class ht extends ds{constructor(e,t,r,s){super(e,r,s),this.name=t,this.status=r}}class je extends ht{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function xd(n){return A(n)&&n.name==="AuthSessionMissingError"}class lr extends ht{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class dn extends ht{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class fn extends ht{constructor(e,t=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=t}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function _d(n){return A(n)&&n.name==="AuthImplicitGrantRedirectError"}class ci extends ht{constructor(e,t=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=t}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class qr extends ht{constructor(e,t){super(e,"AuthRetryableFetchError",t,void 0)}}function ur(n){return A(n)&&n.name==="AuthRetryableFetchError"}class li extends ht{constructor(e,t,r){super(e,"AuthWeakPasswordError",t,"weak_password"),this.reasons=r}}var Ed=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(n);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(n,r[s])&&(t[r[s]]=n[r[s]]);return t};const Xe=n=>n.msg||n.message||n.error_description||n.error||JSON.stringify(n),Cd=[502,503,504];async function ui(n){var e;if(!cd(n))throw new qr(Xe(n),0);if(Cd.includes(n.status))throw new qr(Xe(n),n.status);let t;try{t=await n.json()}catch(i){throw new Uo(Xe(i),i)}let r;const s=vd(n);if(s&&s.getTime()>=Lo["2024-01-01"].timestamp&&typeof t=="object"&&t&&typeof t.code=="string"?r=t.code:typeof t=="object"&&t&&typeof t.error_code=="string"&&(r=t.error_code),r){if(r==="weak_password")throw new li(Xe(t),n.status,((e=t.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(r==="session_not_found")throw new je}else if(typeof t=="object"&&t&&typeof t.weak_password=="object"&&t.weak_password&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.reasons.reduce((i,o)=>i&&typeof o=="string",!0))throw new li(Xe(t),n.status,t.weak_password.reasons);throw new bd(Xe(t),n.status||500,r)}const Sd=(n,e,t,r)=>{const s={method:n,headers:(e==null?void 0:e.headers)||{}};return n==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),s.body=JSON.stringify(r),Object.assign(Object.assign({},s),t))};async function N(n,e,t,r){var s;const i=Object.assign({},r==null?void 0:r.headers);i[Vr]||(i[Vr]=Lo["2024-01-01"].name),r!=null&&r.jwt&&(i.Authorization=`Bearer ${r.jwt}`);const o=(s=r==null?void 0:r.query)!==null&&s!==void 0?s:{};r!=null&&r.redirectTo&&(o.redirect_to=r.redirectTo);const a=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",c=await Od(n,e,t+a,{headers:i,noResolveJson:r==null?void 0:r.noResolveJson},{},r==null?void 0:r.body);return r!=null&&r.xform?r==null?void 0:r.xform(c):{data:Object.assign({},c),error:null}}async function Od(n,e,t,r,s,i){const o=Sd(e,r,s,i);let a;try{a=await n(t,Object.assign({},o))}catch(c){throw console.error(c),new qr(Xe(c),0)}if(a.ok||await ui(a),r!=null&&r.noResolveJson)return a;try{return await a.json()}catch(c){await ui(c)}}function Re(n){var e;let t=null;Td(n)&&(t=Object.assign({},n),n.expires_at||(t.expires_at=id(n.expires_in)));const r=(e=n.user)!==null&&e!==void 0?e:n;return{data:{session:t,user:r},error:null}}function di(n){const e=Re(n);return!e.error&&n.weak_password&&typeof n.weak_password=="object"&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.message&&typeof n.weak_password.message=="string"&&n.weak_password.reasons.reduce((t,r)=>t&&typeof r=="string",!0)&&(e.data.weak_password=n.weak_password),e}function Le(n){var e;return{data:{user:(e=n.user)!==null&&e!==void 0?e:n},error:null}}function kd(n){return{data:n,error:null}}function Pd(n){const{action_link:e,email_otp:t,hashed_token:r,redirect_to:s,verification_type:i}=n,o=Ed(n,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),a={action_link:e,email_otp:t,hashed_token:r,redirect_to:s,verification_type:i},c=Object.assign({},o);return{data:{properties:a,user:c},error:null}}function Ad(n){return n}function Td(n){return n.access_token&&n.refresh_token&&n.expires_in}var jd=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(n);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(n,r[s])&&(t[r[s]]=n[r[s]]);return t};class Rd{constructor({url:e="",headers:t={},fetch:r}){this.url=e,this.headers=t,this.fetch=Fo(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(e,t="global"){try{return await N(this.fetch,"POST",`${this.url}/logout?scope=${t}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(r){if(A(r))return{data:null,error:r};throw r}}async inviteUserByEmail(e,t={}){try{return await N(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:t.data},headers:this.headers,redirectTo:t.redirectTo,xform:Le})}catch(r){if(A(r))return{data:{user:null},error:r};throw r}}async generateLink(e){try{const{options:t}=e,r=jd(e,["options"]),s=Object.assign(Object.assign({},r),t);return"newEmail"in r&&(s.new_email=r==null?void 0:r.newEmail,delete s.newEmail),await N(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:Pd,redirectTo:t==null?void 0:t.redirectTo})}catch(t){if(A(t))return{data:{properties:null,user:null},error:t};throw t}}async createUser(e){try{return await N(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:Le})}catch(t){if(A(t))return{data:{user:null},error:t};throw t}}async listUsers(e){var t,r,s,i,o,a,c;try{const l={nextPage:null,lastPage:0,total:0},u=await N(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(t=e==null?void 0:e.page)===null||t===void 0?void 0:t.toString())!==null&&r!==void 0?r:"",per_page:(i=(s=e==null?void 0:e.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:Ad});if(u.error)throw u.error;const d=await u.json(),p=(o=u.headers.get("x-total-count"))!==null&&o!==void 0?o:0,m=(c=(a=u.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&c!==void 0?c:[];return m.length>0&&(m.forEach(v=>{const g=parseInt(v.split(";")[0].split("=")[1].substring(0,1)),y=JSON.parse(v.split(";")[1].split("=")[1]);l[`${y}Page`]=g}),l.total=parseInt(p)),{data:Object.assign(Object.assign({},d),l),error:null}}catch(l){if(A(l))return{data:{users:[]},error:l};throw l}}async getUserById(e){try{return await N(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:Le})}catch(t){if(A(t))return{data:{user:null},error:t};throw t}}async updateUserById(e,t){try{return await N(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:t,headers:this.headers,xform:Le})}catch(r){if(A(r))return{data:{user:null},error:r};throw r}}async deleteUser(e,t=!1){try{return await N(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:t},xform:Le})}catch(r){if(A(r))return{data:{user:null},error:r};throw r}}async _listFactors(e){try{const{data:t,error:r}=await N(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:t,error:r}}catch(t){if(A(t))return{data:null,error:t};throw t}}async _deleteFactor(e){try{return{data:await N(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(t){if(A(t))return{data:null,error:t};throw t}}}const $d={getItem:n=>Kt()?globalThis.localStorage.getItem(n):null,setItem:(n,e)=>{Kt()&&globalThis.localStorage.setItem(n,e)},removeItem:n=>{Kt()&&globalThis.localStorage.removeItem(n)}};function fi(n={}){return{getItem:e=>n[e]||null,setItem:(e,t)=>{n[e]=t},removeItem:e=>{delete n[e]}}}function Nd(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const bt={debug:!!(globalThis&&Kt()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Bo extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class Dd extends Bo{}async function Id(n,e,t){bt.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",n,e);const r=new globalThis.AbortController;return e>0&&setTimeout(()=>{r.abort(),bt.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",n)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(n,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async s=>{if(s){bt.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",n,s.name);try{return await t()}finally{bt.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",n,s.name)}}else{if(e===0)throw bt.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",n),new Dd(`Acquiring an exclusive Navigator LockManager lock "${n}" immediately failed`);if(bt.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await t()}}))}Nd();const Ld={url:nd,storageKey:rd,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:sd,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1},Wt=30*1e3,hi=3;async function pi(n,e,t){return await t()}class Gt{constructor(e){var t,r;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Gt.nextInstanceID,Gt.nextInstanceID+=1,this.instanceID>0&&me()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const s=Object.assign(Object.assign({},Ld),e);if(this.logDebugMessages=!!s.debug,typeof s.debug=="function"&&(this.logger=s.debug),this.persistSession=s.persistSession,this.storageKey=s.storageKey,this.autoRefreshToken=s.autoRefreshToken,this.admin=new Rd({url:s.url,headers:s.headers,fetch:s.fetch}),this.url=s.url,this.headers=s.headers,this.fetch=Fo(s.fetch),this.lock=s.lock||pi,this.detectSessionInUrl=s.detectSessionInUrl,this.flowType=s.flowType,this.hasCustomAuthorizationHeader=s.hasCustomAuthorizationHeader,s.lock?this.lock=s.lock:me()&&(!((t=globalThis==null?void 0:globalThis.navigator)===null||t===void 0)&&t.locks)?this.lock=Id:this.lock=pi,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?s.storage?this.storage=s.storage:Kt()?this.storage=$d:(this.memoryStorage={},this.storage=fi(this.memoryStorage)):(this.memoryStorage={},this.storage=fi(this.memoryStorage)),me()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(i){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",i)}(r=this.broadcastChannel)===null||r===void 0||r.addEventListener("message",async i=>{this._debug("received broadcast notification from other tab or client",i),await this._notifyAllSubscribers(i.data.event,i.data.session,!1)})}this.initialize()}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${Io}) ${new Date().toISOString()}`,...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{const t=ad(window.location.href);let r="none";if(this._isImplicitGrantCallback(t)?r="implicit":await this._isPKCECallback(t)&&(r="pkce"),me()&&this.detectSessionInUrl&&r!=="none"){const{data:s,error:i}=await this._getSessionFromURL(t,r);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),_d(i)){const c=(e=i.details)===null||e===void 0?void 0:e.code;if(c==="identity_already_exists"||c==="identity_not_found"||c==="single_identity_not_deletable")return{error:i}}return await this._removeSession(),{error:i}}const{session:o,redirectType:a}=s;return this._debug("#_initialize()","detected session in URL",o,"redirect type",a),await this._saveSession(o),setTimeout(async()=>{a==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(t){return A(t)?{error:t}:{error:new Uo("Unexpected error during initialization",t)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var t,r,s;try{const i=await N(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(t=e==null?void 0:e.options)===null||t===void 0?void 0:t.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(s=e==null?void 0:e.options)===null||s===void 0?void 0:s.captchaToken}},xform:Re}),{data:o,error:a}=i;if(a||!o)return{data:{user:null,session:null},error:a};const c=o.session,l=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:l,session:c},error:null}}catch(i){if(A(i))return{data:{user:null,session:null},error:i};throw i}}async signUp(e){var t,r,s;try{let i;if("email"in e){const{email:u,password:d,options:p}=e;let m=null,v=null;this.flowType==="pkce"&&([m,v]=await vt(this.storage,this.storageKey)),i=await N(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:p==null?void 0:p.emailRedirectTo,body:{email:u,password:d,data:(t=p==null?void 0:p.data)!==null&&t!==void 0?t:{},gotrue_meta_security:{captcha_token:p==null?void 0:p.captchaToken},code_challenge:m,code_challenge_method:v},xform:Re})}else if("phone"in e){const{phone:u,password:d,options:p}=e;i=await N(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:u,password:d,data:(r=p==null?void 0:p.data)!==null&&r!==void 0?r:{},channel:(s=p==null?void 0:p.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:p==null?void 0:p.captchaToken}},xform:Re})}else throw new dn("You must provide either an email or phone number and a password");const{data:o,error:a}=i;if(a||!o)return{data:{user:null,session:null},error:a};const c=o.session,l=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:l,session:c},error:null}}catch(i){if(A(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithPassword(e){try{let t;if("email"in e){const{email:i,password:o,options:a}=e;t=await N(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:di})}else if("phone"in e){const{phone:i,password:o,options:a}=e;t=await N(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:di})}else throw new dn("You must provide either an email or phone number and a password");const{data:r,error:s}=t;return s?{data:{user:null,session:null},error:s}:!r||!r.session||!r.user?{data:{user:null,session:null},error:new lr}:(r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),{data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:s})}catch(t){if(A(t))return{data:{user:null,session:null},error:t};throw t}}async signInWithOAuth(e){var t,r,s,i;return await this._handleProviderSignIn(e.provider,{redirectTo:(t=e.options)===null||t===void 0?void 0:t.redirectTo,scopes:(r=e.options)===null||r===void 0?void 0:r.scopes,queryParams:(s=e.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(i=e.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async _exchangeCodeForSession(e){const t=await ln(this.storage,`${this.storageKey}-code-verifier`),[r,s]=(t??"").split("/");try{const{data:i,error:o}=await N(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:r},xform:Re});if(await un(this.storage,`${this.storageKey}-code-verifier`),o)throw o;return!i||!i.session||!i.user?{data:{user:null,session:null,redirectType:null},error:new lr}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign(Object.assign({},i),{redirectType:s??null}),error:o})}catch(i){if(A(i))return{data:{user:null,session:null,redirectType:null},error:i};throw i}}async signInWithIdToken(e){try{const{options:t,provider:r,token:s,access_token:i,nonce:o}=e,a=await N(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:s,access_token:i,nonce:o,gotrue_meta_security:{captcha_token:t==null?void 0:t.captchaToken}},xform:Re}),{data:c,error:l}=a;return l?{data:{user:null,session:null},error:l}:!c||!c.session||!c.user?{data:{user:null,session:null},error:new lr}:(c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),{data:c,error:l})}catch(t){if(A(t))return{data:{user:null,session:null},error:t};throw t}}async signInWithOtp(e){var t,r,s,i,o;try{if("email"in e){const{email:a,options:c}=e;let l=null,u=null;this.flowType==="pkce"&&([l,u]=await vt(this.storage,this.storageKey));const{error:d}=await N(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:a,data:(t=c==null?void 0:c.data)!==null&&t!==void 0?t:{},create_user:(r=c==null?void 0:c.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},code_challenge:l,code_challenge_method:u},redirectTo:c==null?void 0:c.emailRedirectTo});return{data:{user:null,session:null},error:d}}if("phone"in e){const{phone:a,options:c}=e,{data:l,error:u}=await N(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:a,data:(s=c==null?void 0:c.data)!==null&&s!==void 0?s:{},create_user:(i=c==null?void 0:c.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},channel:(o=c==null?void 0:c.channel)!==null&&o!==void 0?o:"sms"}});return{data:{user:null,session:null,messageId:l==null?void 0:l.message_id},error:u}}throw new dn("You must provide either an email or phone number.")}catch(a){if(A(a))return{data:{user:null,session:null},error:a};throw a}}async verifyOtp(e){var t,r;try{let s,i;"options"in e&&(s=(t=e.options)===null||t===void 0?void 0:t.redirectTo,i=(r=e.options)===null||r===void 0?void 0:r.captchaToken);const{data:o,error:a}=await N(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:i}}),redirectTo:s,xform:Re});if(a)throw a;if(!o)throw new Error("An error occurred on token verification.");const c=o.session,l=o.user;return c!=null&&c.access_token&&(await this._saveSession(c),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",c)),{data:{user:l,session:c},error:null}}catch(s){if(A(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithSSO(e){var t,r,s;try{let i=null,o=null;return this.flowType==="pkce"&&([i,o]=await vt(this.storage,this.storageKey)),await N(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(r=(t=e.options)===null||t===void 0?void 0:t.redirectTo)!==null&&r!==void 0?r:void 0}),!((s=e==null?void 0:e.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:i,code_challenge_method:o}),headers:this.headers,xform:kd})}catch(i){if(A(i))return{data:null,error:i};throw i}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:t},error:r}=e;if(r)throw r;if(!t)throw new je;const{error:s}=await N(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:t.access_token});return{data:{user:null,session:null},error:s}})}catch(e){if(A(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{const t=`${this.url}/resend`;if("email"in e){const{email:r,type:s,options:i}=e,{error:o}=await N(this.fetch,"POST",t,{headers:this.headers,body:{email:r,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return{data:{user:null,session:null},error:o}}else if("phone"in e){const{phone:r,type:s,options:i}=e,{data:o,error:a}=await N(this.fetch,"POST",t,{headers:this.headers,body:{phone:r,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return{data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:a}}throw new dn("You must provide either an email or phone number and a type")}catch(t){if(A(t))return{data:{user:null,session:null},error:t};throw t}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async t=>t))}async _acquireLock(e,t){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await r,await t()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=t();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const t=await this.__loadSession();return await e(t)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const t=await ln(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",t),t!==null&&(this._isValidSession(t)?e=t:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const r=e.expires_at?e.expires_at<=Date.now()/1e3:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",e.expires_at),!r){if(this.storage.isServer){let o=this.suppressGetSessionWarning;e=new Proxy(e,{get:(c,l,u)=>(!o&&l==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),o=!0,this.suppressGetSessionWarning=!0),Reflect.get(c,l,u))})}return{data:{session:e},error:null}}const{session:s,error:i}=await this._callRefreshToken(e.refresh_token);return i?{data:{session:null},error:i}:{data:{session:s},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await N(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:Le}):await this._useSession(async t=>{var r,s,i;const{data:o,error:a}=t;if(a)throw a;return!(!((r=o.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new je}:await N(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(s=o.session)===null||s===void 0?void 0:s.access_token)!==null&&i!==void 0?i:void 0,xform:Le})})}catch(t){if(A(t))return xd(t)&&(await this._removeSession(),await un(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:t};throw t}}async updateUser(e,t={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,t))}async _updateUser(e,t={}){try{return await this._useSession(async r=>{const{data:s,error:i}=r;if(i)throw i;if(!s.session)throw new je;const o=s.session;let a=null,c=null;this.flowType==="pkce"&&e.email!=null&&([a,c]=await vt(this.storage,this.storageKey));const{data:l,error:u}=await N(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:t==null?void 0:t.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:a,code_challenge_method:c}),jwt:o.access_token,xform:Le});if(u)throw u;return o.user=l.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),{data:{user:o.user},error:null}})}catch(r){if(A(r))return{data:{user:null},error:r};throw r}}_decodeJWT(e){return ai(e)}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new je;const t=Date.now()/1e3;let r=t,s=!0,i=null;const o=ai(e.access_token);if(o.exp&&(r=o.exp,s=r<=t),s){const{session:a,error:c}=await this._callRefreshToken(e.refresh_token);if(c)return{data:{user:null,session:null},error:c};if(!a)return{data:{user:null,session:null},error:null};i=a}else{const{data:a,error:c}=await this._getUser(e.access_token);if(c)throw c;i={access_token:e.access_token,refresh_token:e.refresh_token,user:a.user,token_type:"bearer",expires_in:r-t,expires_at:r},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return{data:{user:i.user,session:i},error:null}}catch(t){if(A(t))return{data:{session:null,user:null},error:t};throw t}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async t=>{var r;if(!e){const{data:o,error:a}=t;if(a)throw a;e=(r=o.session)!==null&&r!==void 0?r:void 0}if(!(e!=null&&e.refresh_token))throw new je;const{session:s,error:i}=await this._callRefreshToken(e.refresh_token);return i?{data:{user:null,session:null},error:i}:s?{data:{user:s.user,session:s},error:null}:{data:{user:null,session:null},error:null}})}catch(t){if(A(t))return{data:{user:null,session:null},error:t};throw t}}async _getSessionFromURL(e,t){try{if(!me())throw new fn("No browser detected.");if(e.error||e.error_description||e.error_code)throw new fn(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(t){case"implicit":if(this.flowType==="pkce")throw new ci("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new fn("Not a valid implicit grant flow url.");break;default:}if(t==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new ci("No code detected.");const{data:_,error:E}=await this._exchangeCodeForSession(e.code);if(E)throw E;const w=new URL(window.location.href);return w.searchParams.delete("code"),window.history.replaceState(window.history.state,"",w.toString()),{data:{session:_.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:s,access_token:i,refresh_token:o,expires_in:a,expires_at:c,token_type:l}=e;if(!i||!a||!o||!l)throw new fn("No session defined in URL");const u=Math.round(Date.now()/1e3),d=parseInt(a);let p=u+d;c&&(p=parseInt(c));const m=p-u;m*1e3<=Wt&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${m}s, should have been closer to ${d}s`);const v=p-d;u-v>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",v,p,u):u-v<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",v,p,u);const{data:g,error:y}=await this._getUser(i);if(y)throw y;const b={provider_token:r,provider_refresh_token:s,access_token:i,expires_in:d,expires_at:p,refresh_token:o,token_type:l,user:g.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:b,redirectType:e.type},error:null}}catch(r){if(A(r))return{data:{session:null,redirectType:null},error:r};throw r}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const t=await ln(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&t)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async t=>{var r;const{data:s,error:i}=t;if(i)return{error:i};const o=(r=s.session)===null||r===void 0?void 0:r.access_token;if(o){const{error:a}=await this.admin.signOut(o,e);if(a&&!(wd(a)&&(a.status===404||a.status===401||a.status===403)))return{error:a}}return e!=="others"&&(await this._removeSession(),await un(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(e){const t=od(),r={id:t,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",t),this.stateChangeEmitters.delete(t)}};return this._debug("#onAuthStateChange()","registered callback with id",t),this.stateChangeEmitters.set(t,r),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(t)})))(),{data:{subscription:r}}}async _emitInitialSession(e){return await this._useSession(async t=>{var r,s;try{const{data:{session:i},error:o}=t;if(o)throw o;await((r=this.stateChangeEmitters.get(e))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",e,"session",i)}catch(i){await((s=this.stateChangeEmitters.get(e))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",i),console.error(i)}})}async resetPasswordForEmail(e,t={}){let r=null,s=null;this.flowType==="pkce"&&([r,s]=await vt(this.storage,this.storageKey,!0));try{return await N(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:r,code_challenge_method:s,gotrue_meta_security:{captcha_token:t.captchaToken}},headers:this.headers,redirectTo:t.redirectTo})}catch(i){if(A(i))return{data:null,error:i};throw i}}async getUserIdentities(){var e;try{const{data:t,error:r}=await this.getUser();if(r)throw r;return{data:{identities:(e=t.user.identities)!==null&&e!==void 0?e:[]},error:null}}catch(t){if(A(t))return{data:null,error:t};throw t}}async linkIdentity(e){var t;try{const{data:r,error:s}=await this._useSession(async i=>{var o,a,c,l,u;const{data:d,error:p}=i;if(p)throw p;const m=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(o=e.options)===null||o===void 0?void 0:o.redirectTo,scopes:(a=e.options)===null||a===void 0?void 0:a.scopes,queryParams:(c=e.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:!0});return await N(this.fetch,"GET",m,{headers:this.headers,jwt:(u=(l=d.session)===null||l===void 0?void 0:l.access_token)!==null&&u!==void 0?u:void 0})});if(s)throw s;return me()&&!(!((t=e.options)===null||t===void 0)&&t.skipBrowserRedirect)&&window.location.assign(r==null?void 0:r.url),{data:{provider:e.provider,url:r==null?void 0:r.url},error:null}}catch(r){if(A(r))return{data:{provider:e.provider,url:null},error:r};throw r}}async unlinkIdentity(e){try{return await this._useSession(async t=>{var r,s;const{data:i,error:o}=t;if(o)throw o;return await N(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(s=(r=i.session)===null||r===void 0?void 0:r.access_token)!==null&&s!==void 0?s:void 0})})}catch(t){if(A(t))return{data:null,error:t};throw t}}async _refreshAccessToken(e){const t=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(t,"begin");try{const r=Date.now();return await dd(async s=>(s>0&&await ud(200*Math.pow(2,s-1)),this._debug(t,"refreshing attempt",s),await N(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:Re})),(s,i)=>{const o=200*Math.pow(2,s);return i&&ur(i)&&Date.now()+o-r<Wt})}catch(r){if(this._debug(t,"error",r),A(r))return{data:{session:null,user:null},error:r};throw r}finally{this._debug(t,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,t){const r=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:t.redirectTo,scopes:t.scopes,queryParams:t.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",t,"url",r),me()&&!t.skipBrowserRedirect&&window.location.assign(r),{data:{provider:e,url:r},error:null}}async _recoverAndRefresh(){var e;const t="#_recoverAndRefresh()";this._debug(t,"begin");try{const r=await ln(this.storage,this.storageKey);if(this._debug(t,"session from storage",r),!this._isValidSession(r)){this._debug(t,"session is not valid"),r!==null&&await this._removeSession();return}const s=Math.round(Date.now()/1e3),i=((e=r.expires_at)!==null&&e!==void 0?e:1/0)<s+oi;if(this._debug(t,`session has${i?"":" not"} expired with margin of ${oi}s`),i){if(this.autoRefreshToken&&r.refresh_token){const{error:o}=await this._callRefreshToken(r.refresh_token);o&&(console.error(o),ur(o)||(this._debug(t,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",r)}catch(r){this._debug(t,"error",r),console.error(r);return}finally{this._debug(t,"end")}}async _callRefreshToken(e){var t,r;if(!e)throw new je;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new Gn;const{data:i,error:o}=await this._refreshAccessToken(e);if(o)throw o;if(!i.session)throw new je;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const a={session:i.session,error:null};return this.refreshingDeferred.resolve(a),a}catch(i){if(this._debug(s,"error",i),A(i)){const o={session:null,error:i};return ur(i)||await this._removeSession(),(t=this.refreshingDeferred)===null||t===void 0||t.resolve(o),o}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(i),i}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(e,t,r=!0){const s=`#_notifyAllSubscribers(${e})`;this._debug(s,"begin",t,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:e,session:t});const i=[],o=Array.from(this.stateChangeEmitters.values()).map(async a=>{try{await a.callback(e,t)}catch(c){i.push(c)}});if(await Promise.all(o),i.length>0){for(let a=0;a<i.length;a+=1)console.error(i[a]);throw i[0]}}finally{this._debug(s,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0,await Mo(this.storage,this.storageKey,e)}async _removeSession(){this._debug("#_removeSession()"),await un(this.storage,this.storageKey),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&me()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(t){console.error("removing visibilitychange callback failed",t)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),Wt);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async t=>{const{data:{session:r}}=t;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((r.expires_at*1e3-e)/Wt);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${Wt}ms, refresh threshold is ${hi} ticks`),s<=hi&&await this._callRefreshToken(r.refresh_token)})}catch(t){console.error("Auto refresh tick failed with error. This is likely a transient error.",t)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof Bo)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!me()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const t=`#_onVisibilityChanged(${e})`;this._debug(t,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(t,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,t,r){const s=[`provider=${encodeURIComponent(t)}`];if(r!=null&&r.redirectTo&&s.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r!=null&&r.scopes&&s.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[i,o]=await vt(this.storage,this.storageKey),a=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(o)}`});s.push(a.toString())}if(r!=null&&r.queryParams){const i=new URLSearchParams(r.queryParams);s.push(i.toString())}return r!=null&&r.skipBrowserRedirect&&s.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${e}?${s.join("&")}`}async _unenroll(e){try{return await this._useSession(async t=>{var r;const{data:s,error:i}=t;return i?{data:null,error:i}:await N(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token})})}catch(t){if(A(t))return{data:null,error:t};throw t}}async _enroll(e){try{return await this._useSession(async t=>{var r,s;const{data:i,error:o}=t;if(o)return{data:null,error:o};const a=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:{issuer:e.issuer}),{data:c,error:l}=await N(this.fetch,"POST",`${this.url}/factors`,{body:a,headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token});return l?{data:null,error:l}:(e.factorType==="totp"&&(!((s=c==null?void 0:c.totp)===null||s===void 0)&&s.qr_code)&&(c.totp.qr_code=`data:image/svg+xml;utf-8,${c.totp.qr_code}`),{data:c,error:null})})}catch(t){if(A(t))return{data:null,error:t};throw t}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async t=>{var r;const{data:s,error:i}=t;if(i)return{data:null,error:i};const{data:o,error:a}=await N(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:{code:e.code,challenge_id:e.challengeId},headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token});return a?{data:null,error:a}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+o.expires_in},o)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",o),{data:o,error:a})})}catch(t){if(A(t))return{data:null,error:t};throw t}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async t=>{var r;const{data:s,error:i}=t;return i?{data:null,error:i}:await N(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:{channel:e.channel},headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token})})}catch(t){if(A(t))return{data:null,error:t};throw t}})}async _challengeAndVerify(e){const{data:t,error:r}=await this._challenge({factorId:e.factorId});return r?{data:null,error:r}:await this._verify({factorId:e.factorId,challengeId:t.id,code:e.code})}async _listFactors(){const{data:{user:e},error:t}=await this.getUser();if(t)return{data:null,error:t};const r=(e==null?void 0:e.factors)||[],s=r.filter(o=>o.factor_type==="totp"&&o.status==="verified"),i=r.filter(o=>o.factor_type==="phone"&&o.status==="verified");return{data:{all:r,totp:s,phone:i},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async e=>{var t,r;const{data:{session:s},error:i}=e;if(i)return{data:null,error:i};if(!s)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const o=this._decodeJWT(s.access_token);let a=null;o.aal&&(a=o.aal);let c=a;((r=(t=s.user.factors)===null||t===void 0?void 0:t.filter(d=>d.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(c="aal2");const u=o.amr||[];return{data:{currentLevel:a,nextLevel:c,currentAuthenticationMethods:u},error:null}}))}}Gt.nextInstanceID=0;const Fd=Gt;class Md extends Fd{constructor(e){super(e)}}var Ud=function(n,e,t,r){function s(i){return i instanceof t?i:new t(function(o){o(i)})}return new(t||(t=Promise))(function(i,o){function a(u){try{l(r.next(u))}catch(d){o(d)}}function c(u){try{l(r.throw(u))}catch(d){o(d)}}function l(u){u.done?i(u.value):s(u.value).then(a,c)}l((r=r.apply(n,e||[])).next())})};class Bd{constructor(e,t,r){var s,i,o;if(this.supabaseUrl=e,this.supabaseKey=t,!e)throw new Error("supabaseUrl is required.");if(!t)throw new Error("supabaseKey is required.");const a=ed(e);this.realtimeUrl=`${a}/realtime/v1`.replace(/^http/i,"ws"),this.authUrl=`${a}/auth/v1`,this.storageUrl=`${a}/storage/v1`,this.functionsUrl=`${a}/functions/v1`;const c=`sb-${new URL(this.authUrl).hostname.split(".")[0]}-auth-token`,l={db:Hu,realtime:Gu,auth:Object.assign(Object.assign({},Ku),{storageKey:c}),global:qu},u=td(r??{},l);this.storageKey=(s=u.auth.storageKey)!==null&&s!==void 0?s:"",this.headers=(i=u.global.headers)!==null&&i!==void 0?i:{},u.accessToken?(this.accessToken=u.accessToken,this.auth=new Proxy({},{get:(d,p)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(p)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=u.auth)!==null&&o!==void 0?o:{},this.headers,u.global.fetch),this.fetch=Yu(t,this._getAccessToken.bind(this),u.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},u.realtime)),this.rest=new hu(`${a}/rest/v1`,{headers:this.headers,schema:u.db.schema,fetch:this.fetch}),u.accessToken||this._listenForAuthEvents()}get functions(){return new Wl(this.functionsUrl,{headers:this.headers,customFetch:this.fetch})}get storage(){return new zu(this.storageUrl,this.headers,this.fetch)}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,t={},r={}){return this.rest.rpc(e,t,r)}channel(e,t={config:{}}){return this.realtime.channel(e,t)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var e,t;return Ud(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:r}=yield this.auth.getSession();return(t=(e=r.session)===null||e===void 0?void 0:e.access_token)!==null&&t!==void 0?t:null})}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:t,detectSessionInUrl:r,storage:s,storageKey:i,flowType:o,lock:a,debug:c},l,u){const d={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new Md({url:this.authUrl,headers:Object.assign(Object.assign({},d),l),storageKey:i,autoRefreshToken:e,persistSession:t,detectSessionInUrl:r,storage:s,flowType:o,lock:a,debug:c,fetch:u,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(e){return new Pu(this.realtimeUrl,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((t,r)=>{this._handleTokenChanged(t,"CLIENT",r==null?void 0:r.access_token)})}_handleTokenChanged(e,t,r){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==r?this.changedAccessToken=r:e==="SIGNED_OUT"&&(this.realtime.setAuth(),t=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const zd=(n,e,t)=>new Bd(n,e,t),Wd="https://rhibyqyxpkcouaxhicgr.supabase.co",Vd="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InJoaWJ5cXl4cGtjb3VheGhpY2dyIiwicm9sZSI6ImFub24iLCJpYXQiOjE3MzY3NjQwMDAsImV4cCI6MjA1MjM0MDAwMH0.La6DhxuaSSOoEvwiTHh6AL0geOJliwPzg3l7dw9ZBME",fe=zd(Wd,Vd,{}),{add:qd,update:Hd,delete:Kd}=Xt.success.appointment,{conflict:Gd}=Xt.error.appointment,Qy=async({search:n,date:e},t)=>{let r=fe.from("Appointments").select("*, patient:Patients(*)");return e&&(r=r.eq("date",e)),n.trim().length>0&&(r=r.ilike("Patients.name",`%${n}%`)),t?await r.abortSignal(t):await r},Jd=async n=>await fe.from("Appointments").select("*, patient:Patients(*)").eq("id",n),Zy=async()=>{const e=new Date().toLocaleDateString("en-CA");return await fe.from("Appointments").select("*, patient:Patients(*)").eq("date",e)},Qd=async n=>{const{status:e,error:t}=await fe.from("Appointments").insert([n]).select("*");t?e===409?te.error(Gd):te.error(dt):te.success(qd)},Zd=async n=>{const{patient:e,...t}=n,{error:r}=await fe.from("Appointments").update(t).eq("id",n.id).select("*");r?te.error(dt):te.success(Hd)},Yd=async n=>{const{error:e}=await fe.from("Appointments").delete().eq("id",n).select("*");e?te.error(dt):te.success(Kd)};function Yy({children:n,className:e}){return h.jsx("div",{className:T("grid auto-rows-max grid-cols-[repeat(auto-fill,minmax(19rem,1fr))] max-sm:py-0 p-2 gap-5 overflow-auto",e),children:n})}function mi(n,e){if(typeof n=="function")return n(e);n!=null&&(n.current=e)}function Xd(...n){return e=>{let t=!1;const r=n.map(s=>{const i=mi(s,e);return!t&&typeof i=="function"&&(t=!0),i});if(t)return()=>{for(let s=0;s<r.length;s++){const i=r[s];typeof i=="function"?i():mi(n[s],null)}}}}function nn(n){const e=ef(n),t=f.forwardRef((r,s)=>{const{children:i,...o}=r,a=f.Children.toArray(i),c=a.find(nf);if(c){const l=c.props.children,u=a.map(d=>d===c?f.Children.count(l)>1?f.Children.only(null):f.isValidElement(l)?l.props.children:null:d);return h.jsx(e,{...o,ref:s,children:f.isValidElement(l)?f.cloneElement(l,void 0,u):null})}return h.jsx(e,{...o,ref:s,children:i})});return t.displayName=`${n}.Slot`,t}var Xy=nn("Slot");function ef(n){const e=f.forwardRef((t,r)=>{const{children:s,...i}=t;if(f.isValidElement(s)){const o=sf(s),a=rf(i,s.props);return s.type!==f.Fragment&&(a.ref=r?Xd(r,o):o),f.cloneElement(s,a)}return f.Children.count(s)>1?f.Children.only(null):null});return e.displayName=`${n}.SlotClone`,e}var tf=Symbol("radix.slottable");function nf(n){return f.isValidElement(n)&&typeof n.type=="function"&&"__radixId"in n.type&&n.type.__radixId===tf}function rf(n,e){const t={...e};for(const r in e){const s=n[r],i=e[r];/^on[A-Z]/.test(r)?s&&i?t[r]=(...a)=>{i(...a),s(...a)}:s&&(t[r]=s):r==="style"?t[r]={...s,...i}:r==="className"&&(t[r]=[s,i].filter(Boolean).join(" "))}return{...n,...t}}function sf(n){var r,s;let e=(r=Object.getOwnPropertyDescriptor(n.props,"ref"))==null?void 0:r.get,t=e&&"isReactWarning"in e&&e.isReactWarning;return t?n.ref:(e=(s=Object.getOwnPropertyDescriptor(n,"ref"))==null?void 0:s.get,t=e&&"isReactWarning"in e&&e.isReactWarning,t?n.props.ref:n.props.ref||n.ref)}const gi=n=>typeof n=="boolean"?`${n}`:n===0?"0":n,yi=dl,of=(n,e)=>t=>{var r;if((e==null?void 0:e.variants)==null)return yi(n,t==null?void 0:t.class,t==null?void 0:t.className);const{variants:s,defaultVariants:i}=e,o=Object.keys(s).map(l=>{const u=t==null?void 0:t[l],d=i==null?void 0:i[l];if(u===null)return null;const p=gi(u)||gi(d);return s[l][p]}),a=t&&Object.entries(t).reduce((l,u)=>{let[d,p]=u;return p===void 0||(l[d]=p),l},{}),c=e==null||(r=e.compoundVariants)===null||r===void 0?void 0:r.reduce((l,u)=>{let{class:d,className:p,...m}=u;return Object.entries(m).every(v=>{let[g,y]=v;return Array.isArray(y)?y.includes({...i,...a}[g]):{...i,...a}[g]===y})?[...l,d,p]:l},[]);return yi(n,o,c,t==null?void 0:t.class,t==null?void 0:t.className)};function ze(n,e,{checkForDefaultPrevented:t=!0}={}){return function(s){if(n==null||n(s),t===!1||!s.defaultPrevented)return e==null?void 0:e(s)}}function vi(n,e){if(typeof n=="function")return n(e);n!=null&&(n.current=e)}function af(...n){return e=>{let t=!1;const r=n.map(s=>{const i=vi(s,e);return!t&&typeof i=="function"&&(t=!0),i});if(t)return()=>{for(let s=0;s<r.length;s++){const i=r[s];typeof i=="function"?i():vi(n[s],null)}}}}function Qe(...n){return f.useCallback(af(...n),n)}function zo(n,e=[]){let t=[];function r(i,o){const a=f.createContext(o),c=t.length;t=[...t,o];const l=d=>{var b;const{scope:p,children:m,...v}=d,g=((b=p==null?void 0:p[n])==null?void 0:b[c])||a,y=f.useMemo(()=>v,Object.values(v));return h.jsx(g.Provider,{value:y,children:m})};l.displayName=i+"Provider";function u(d,p){var g;const m=((g=p==null?void 0:p[n])==null?void 0:g[c])||a,v=f.useContext(m);if(v)return v;if(o!==void 0)return o;throw new Error(`\`${d}\` must be used within \`${i}\``)}return[l,u]}const s=()=>{const i=t.map(o=>f.createContext(o));return function(a){const c=(a==null?void 0:a[n])||i;return f.useMemo(()=>({[`__scope${n}`]:{...a,[n]:c}}),[a,c])}};return s.scopeName=n,[r,cf(s,...e)]}function cf(...n){const e=n[0];if(n.length===1)return e;const t=()=>{const r=n.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const o=r.reduce((a,{useScope:c,scopeName:l})=>{const d=c(i)[`__scope${l}`];return{...a,...d}},{});return f.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return t.scopeName=e.scopeName,t}var lf=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],Ae=lf.reduce((n,e)=>{const t=nn(`Primitive.${e}`),r=f.forwardRef((s,i)=>{const{asChild:o,...a}=s,c=o?t:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),h.jsx(c,{...a,ref:i})});return r.displayName=`Primitive.${e}`,{...n,[e]:r}},{});function uf(n,e){n&&Un.flushSync(()=>n.dispatchEvent(e))}function He(n){const e=f.useRef(n);return f.useEffect(()=>{e.current=n}),f.useMemo(()=>(...t)=>{var r;return(r=e.current)==null?void 0:r.call(e,...t)},[])}function df(n,e=globalThis==null?void 0:globalThis.document){const t=He(n);f.useEffect(()=>{const r=s=>{s.key==="Escape"&&t(s)};return e.addEventListener("keydown",r,{capture:!0}),()=>e.removeEventListener("keydown",r,{capture:!0})},[t,e])}var ff="DismissableLayer",Hr="dismissableLayer.update",hf="dismissableLayer.pointerDownOutside",pf="dismissableLayer.focusOutside",bi,Wo=f.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Vo=f.forwardRef((n,e)=>{const{disableOutsidePointerEvents:t=!1,onEscapeKeyDown:r,onPointerDownOutside:s,onFocusOutside:i,onInteractOutside:o,onDismiss:a,...c}=n,l=f.useContext(Wo),[u,d]=f.useState(null),p=(u==null?void 0:u.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,m]=f.useState({}),v=Qe(e,S=>d(S)),g=Array.from(l.layers),[y]=[...l.layersWithOutsidePointerEventsDisabled].slice(-1),b=g.indexOf(y),_=u?g.indexOf(u):-1,E=l.layersWithOutsidePointerEventsDisabled.size>0,w=_>=b,C=yf(S=>{const j=S.target,k=[...l.branches].some(R=>R.contains(j));!w||k||(s==null||s(S),o==null||o(S),S.defaultPrevented||a==null||a())},p),O=vf(S=>{const j=S.target;[...l.branches].some(R=>R.contains(j))||(i==null||i(S),o==null||o(S),S.defaultPrevented||a==null||a())},p);return df(S=>{_===l.layers.size-1&&(r==null||r(S),!S.defaultPrevented&&a&&(S.preventDefault(),a()))},p),f.useEffect(()=>{if(u)return t&&(l.layersWithOutsidePointerEventsDisabled.size===0&&(bi=p.body.style.pointerEvents,p.body.style.pointerEvents="none"),l.layersWithOutsidePointerEventsDisabled.add(u)),l.layers.add(u),wi(),()=>{t&&l.layersWithOutsidePointerEventsDisabled.size===1&&(p.body.style.pointerEvents=bi)}},[u,p,t,l]),f.useEffect(()=>()=>{u&&(l.layers.delete(u),l.layersWithOutsidePointerEventsDisabled.delete(u),wi())},[u,l]),f.useEffect(()=>{const S=()=>m({});return document.addEventListener(Hr,S),()=>document.removeEventListener(Hr,S)},[]),h.jsx(Ae.div,{...c,ref:v,style:{pointerEvents:E?w?"auto":"none":void 0,...n.style},onFocusCapture:ze(n.onFocusCapture,O.onFocusCapture),onBlurCapture:ze(n.onBlurCapture,O.onBlurCapture),onPointerDownCapture:ze(n.onPointerDownCapture,C.onPointerDownCapture)})});Vo.displayName=ff;var mf="DismissableLayerBranch",gf=f.forwardRef((n,e)=>{const t=f.useContext(Wo),r=f.useRef(null),s=Qe(e,r);return f.useEffect(()=>{const i=r.current;if(i)return t.branches.add(i),()=>{t.branches.delete(i)}},[t.branches]),h.jsx(Ae.div,{...n,ref:s})});gf.displayName=mf;function yf(n,e=globalThis==null?void 0:globalThis.document){const t=He(n),r=f.useRef(!1),s=f.useRef(()=>{});return f.useEffect(()=>{const i=a=>{if(a.target&&!r.current){let c=function(){qo(hf,t,l,{discrete:!0})};const l={originalEvent:a};a.pointerType==="touch"?(e.removeEventListener("click",s.current),s.current=c,e.addEventListener("click",s.current,{once:!0})):c()}else e.removeEventListener("click",s.current);r.current=!1},o=window.setTimeout(()=>{e.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(o),e.removeEventListener("pointerdown",i),e.removeEventListener("click",s.current)}},[e,t]),{onPointerDownCapture:()=>r.current=!0}}function vf(n,e=globalThis==null?void 0:globalThis.document){const t=He(n),r=f.useRef(!1);return f.useEffect(()=>{const s=i=>{i.target&&!r.current&&qo(pf,t,{originalEvent:i},{discrete:!1})};return e.addEventListener("focusin",s),()=>e.removeEventListener("focusin",s)},[e,t]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function wi(){const n=new CustomEvent(Hr);document.dispatchEvent(n)}function qo(n,e,t,{discrete:r}){const s=t.originalEvent.target,i=new CustomEvent(n,{bubbles:!1,cancelable:!0,detail:t});e&&s.addEventListener(n,e,{once:!0}),r?uf(s,i):s.dispatchEvent(i)}var dr=0;function bf(){f.useEffect(()=>{const n=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",n[0]??xi()),document.body.insertAdjacentElement("beforeend",n[1]??xi()),dr++,()=>{dr===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),dr--}},[])}function xi(){const n=document.createElement("span");return n.setAttribute("data-radix-focus-guard",""),n.tabIndex=0,n.style.outline="none",n.style.opacity="0",n.style.position="fixed",n.style.pointerEvents="none",n}var fr="focusScope.autoFocusOnMount",hr="focusScope.autoFocusOnUnmount",_i={bubbles:!1,cancelable:!0},wf="FocusScope",Ho=f.forwardRef((n,e)=>{const{loop:t=!1,trapped:r=!1,onMountAutoFocus:s,onUnmountAutoFocus:i,...o}=n,[a,c]=f.useState(null),l=He(s),u=He(i),d=f.useRef(null),p=Qe(e,g=>c(g)),m=f.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;f.useEffect(()=>{if(r){let g=function(E){if(m.paused||!a)return;const w=E.target;a.contains(w)?d.current=w:$e(d.current,{select:!0})},y=function(E){if(m.paused||!a)return;const w=E.relatedTarget;w!==null&&(a.contains(w)||$e(d.current,{select:!0}))},b=function(E){if(document.activeElement===document.body)for(const C of E)C.removedNodes.length>0&&$e(a)};document.addEventListener("focusin",g),document.addEventListener("focusout",y);const _=new MutationObserver(b);return a&&_.observe(a,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",g),document.removeEventListener("focusout",y),_.disconnect()}}},[r,a,m.paused]),f.useEffect(()=>{if(a){Ci.add(m);const g=document.activeElement;if(!a.contains(g)){const b=new CustomEvent(fr,_i);a.addEventListener(fr,l),a.dispatchEvent(b),b.defaultPrevented||(xf(Of(Ko(a)),{select:!0}),document.activeElement===g&&$e(a))}return()=>{a.removeEventListener(fr,l),setTimeout(()=>{const b=new CustomEvent(hr,_i);a.addEventListener(hr,u),a.dispatchEvent(b),b.defaultPrevented||$e(g??document.body,{select:!0}),a.removeEventListener(hr,u),Ci.remove(m)},0)}}},[a,l,u,m]);const v=f.useCallback(g=>{if(!t&&!r||m.paused)return;const y=g.key==="Tab"&&!g.altKey&&!g.ctrlKey&&!g.metaKey,b=document.activeElement;if(y&&b){const _=g.currentTarget,[E,w]=_f(_);E&&w?!g.shiftKey&&b===w?(g.preventDefault(),t&&$e(E,{select:!0})):g.shiftKey&&b===E&&(g.preventDefault(),t&&$e(w,{select:!0})):b===_&&g.preventDefault()}},[t,r,m.paused]);return h.jsx(Ae.div,{tabIndex:-1,...o,ref:p,onKeyDown:v})});Ho.displayName=wf;function xf(n,{select:e=!1}={}){const t=document.activeElement;for(const r of n)if($e(r,{select:e}),document.activeElement!==t)return}function _f(n){const e=Ko(n),t=Ei(e,n),r=Ei(e.reverse(),n);return[t,r]}function Ko(n){const e=[],t=document.createTreeWalker(n,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;t.nextNode();)e.push(t.currentNode);return e}function Ei(n,e){for(const t of n)if(!Ef(t,{upTo:e}))return t}function Ef(n,{upTo:e}){if(getComputedStyle(n).visibility==="hidden")return!0;for(;n;){if(e!==void 0&&n===e)return!1;if(getComputedStyle(n).display==="none")return!0;n=n.parentElement}return!1}function Cf(n){return n instanceof HTMLInputElement&&"select"in n}function $e(n,{select:e=!1}={}){if(n&&n.focus){const t=document.activeElement;n.focus({preventScroll:!0}),n!==t&&Cf(n)&&e&&n.select()}}var Ci=Sf();function Sf(){let n=[];return{add(e){const t=n[0];e!==t&&(t==null||t.pause()),n=Si(n,e),n.unshift(e)},remove(e){var t;n=Si(n,e),(t=n[0])==null||t.resume()}}}function Si(n,e){const t=[...n],r=t.indexOf(e);return r!==-1&&t.splice(r,1),t}function Of(n){return n.filter(e=>e.tagName!=="A")}var at=globalThis!=null&&globalThis.document?f.useLayoutEffect:()=>{},kf=lo[" useId ".trim().toString()]||(()=>{}),Pf=0;function Af(n){const[e,t]=f.useState(kf());return at(()=>{n||t(r=>r??String(Pf++))},[n]),n||(e?`radix-${e}`:"")}const Tf=["top","right","bottom","left"],Ke=Math.min,re=Math.max,jn=Math.round,hn=Math.floor,we=n=>({x:n,y:n}),jf={left:"right",right:"left",bottom:"top",top:"bottom"},Rf={start:"end",end:"start"};function Kr(n,e,t){return re(n,Ke(e,t))}function ke(n,e){return typeof n=="function"?n(e):n}function Pe(n){return n.split("-")[0]}function Mt(n){return n.split("-")[1]}function fs(n){return n==="x"?"y":"x"}function hs(n){return n==="y"?"height":"width"}function Ge(n){return["top","bottom"].includes(Pe(n))?"y":"x"}function ps(n){return fs(Ge(n))}function $f(n,e,t){t===void 0&&(t=!1);const r=Mt(n),s=ps(n),i=hs(s);let o=s==="x"?r===(t?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[i]>e.floating[i]&&(o=Rn(o)),[o,Rn(o)]}function Nf(n){const e=Rn(n);return[Gr(n),e,Gr(e)]}function Gr(n){return n.replace(/start|end/g,e=>Rf[e])}function Df(n,e,t){const r=["left","right"],s=["right","left"],i=["top","bottom"],o=["bottom","top"];switch(n){case"top":case"bottom":return t?e?s:r:e?r:s;case"left":case"right":return e?i:o;default:return[]}}function If(n,e,t,r){const s=Mt(n);let i=Df(Pe(n),t==="start",r);return s&&(i=i.map(o=>o+"-"+s),e&&(i=i.concat(i.map(Gr)))),i}function Rn(n){return n.replace(/left|right|bottom|top/g,e=>jf[e])}function Lf(n){return{top:0,right:0,bottom:0,left:0,...n}}function Go(n){return typeof n!="number"?Lf(n):{top:n,right:n,bottom:n,left:n}}function $n(n){const{x:e,y:t,width:r,height:s}=n;return{width:r,height:s,top:t,left:e,right:e+r,bottom:t+s,x:e,y:t}}function Oi(n,e,t){let{reference:r,floating:s}=n;const i=Ge(e),o=ps(e),a=hs(o),c=Pe(e),l=i==="y",u=r.x+r.width/2-s.width/2,d=r.y+r.height/2-s.height/2,p=r[a]/2-s[a]/2;let m;switch(c){case"top":m={x:u,y:r.y-s.height};break;case"bottom":m={x:u,y:r.y+r.height};break;case"right":m={x:r.x+r.width,y:d};break;case"left":m={x:r.x-s.width,y:d};break;default:m={x:r.x,y:r.y}}switch(Mt(e)){case"start":m[o]-=p*(t&&l?-1:1);break;case"end":m[o]+=p*(t&&l?-1:1);break}return m}const Ff=async(n,e,t)=>{const{placement:r="bottom",strategy:s="absolute",middleware:i=[],platform:o}=t,a=i.filter(Boolean),c=await(o.isRTL==null?void 0:o.isRTL(e));let l=await o.getElementRects({reference:n,floating:e,strategy:s}),{x:u,y:d}=Oi(l,r,c),p=r,m={},v=0;for(let g=0;g<a.length;g++){const{name:y,fn:b}=a[g],{x:_,y:E,data:w,reset:C}=await b({x:u,y:d,initialPlacement:r,placement:p,strategy:s,middlewareData:m,rects:l,platform:o,elements:{reference:n,floating:e}});u=_??u,d=E??d,m={...m,[y]:{...m[y],...w}},C&&v<=50&&(v++,typeof C=="object"&&(C.placement&&(p=C.placement),C.rects&&(l=C.rects===!0?await o.getElementRects({reference:n,floating:e,strategy:s}):C.rects),{x:u,y:d}=Oi(l,p,c)),g=-1)}return{x:u,y:d,placement:p,strategy:s,middlewareData:m}};async function Jt(n,e){var t;e===void 0&&(e={});const{x:r,y:s,platform:i,rects:o,elements:a,strategy:c}=n,{boundary:l="clippingAncestors",rootBoundary:u="viewport",elementContext:d="floating",altBoundary:p=!1,padding:m=0}=ke(e,n),v=Go(m),y=a[p?d==="floating"?"reference":"floating":d],b=$n(await i.getClippingRect({element:(t=await(i.isElement==null?void 0:i.isElement(y)))==null||t?y:y.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(a.floating)),boundary:l,rootBoundary:u,strategy:c})),_=d==="floating"?{x:r,y:s,width:o.floating.width,height:o.floating.height}:o.reference,E=await(i.getOffsetParent==null?void 0:i.getOffsetParent(a.floating)),w=await(i.isElement==null?void 0:i.isElement(E))?await(i.getScale==null?void 0:i.getScale(E))||{x:1,y:1}:{x:1,y:1},C=$n(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:_,offsetParent:E,strategy:c}):_);return{top:(b.top-C.top+v.top)/w.y,bottom:(C.bottom-b.bottom+v.bottom)/w.y,left:(b.left-C.left+v.left)/w.x,right:(C.right-b.right+v.right)/w.x}}const Mf=n=>({name:"arrow",options:n,async fn(e){const{x:t,y:r,placement:s,rects:i,platform:o,elements:a,middlewareData:c}=e,{element:l,padding:u=0}=ke(n,e)||{};if(l==null)return{};const d=Go(u),p={x:t,y:r},m=ps(s),v=hs(m),g=await o.getDimensions(l),y=m==="y",b=y?"top":"left",_=y?"bottom":"right",E=y?"clientHeight":"clientWidth",w=i.reference[v]+i.reference[m]-p[m]-i.floating[v],C=p[m]-i.reference[m],O=await(o.getOffsetParent==null?void 0:o.getOffsetParent(l));let S=O?O[E]:0;(!S||!await(o.isElement==null?void 0:o.isElement(O)))&&(S=a.floating[E]||i.floating[v]);const j=w/2-C/2,k=S/2-g[v]/2-1,R=Ke(d[b],k),P=Ke(d[_],k),F=R,z=S-g[v]-P,B=S/2-g[v]/2+j,ie=Kr(F,B,z),V=!c.arrow&&Mt(s)!=null&&B!==ie&&i.reference[v]/2-(B<F?R:P)-g[v]/2<0,q=V?B<F?B-F:B-z:0;return{[m]:p[m]+q,data:{[m]:ie,centerOffset:B-ie-q,...V&&{alignmentOffset:q}},reset:V}}}),Uf=function(n){return n===void 0&&(n={}),{name:"flip",options:n,async fn(e){var t,r;const{placement:s,middlewareData:i,rects:o,initialPlacement:a,platform:c,elements:l}=e,{mainAxis:u=!0,crossAxis:d=!0,fallbackPlacements:p,fallbackStrategy:m="bestFit",fallbackAxisSideDirection:v="none",flipAlignment:g=!0,...y}=ke(n,e);if((t=i.arrow)!=null&&t.alignmentOffset)return{};const b=Pe(s),_=Ge(a),E=Pe(a)===a,w=await(c.isRTL==null?void 0:c.isRTL(l.floating)),C=p||(E||!g?[Rn(a)]:Nf(a)),O=v!=="none";!p&&O&&C.push(...If(a,g,v,w));const S=[a,...C],j=await Jt(e,y),k=[];let R=((r=i.flip)==null?void 0:r.overflows)||[];if(u&&k.push(j[b]),d){const B=$f(s,o,w);k.push(j[B[0]],j[B[1]])}if(R=[...R,{placement:s,overflows:k}],!k.every(B=>B<=0)){var P,F;const B=(((P=i.flip)==null?void 0:P.index)||0)+1,ie=S[B];if(ie)return{data:{index:B,overflows:R},reset:{placement:ie}};let V=(F=R.filter(q=>q.overflows[0]<=0).sort((q,D)=>q.overflows[1]-D.overflows[1])[0])==null?void 0:F.placement;if(!V)switch(m){case"bestFit":{var z;const q=(z=R.filter(D=>{if(O){const K=Ge(D.placement);return K===_||K==="y"}return!0}).map(D=>[D.placement,D.overflows.filter(K=>K>0).reduce((K,pe)=>K+pe,0)]).sort((D,K)=>D[1]-K[1])[0])==null?void 0:z[0];q&&(V=q);break}case"initialPlacement":V=a;break}if(s!==V)return{reset:{placement:V}}}return{}}}};function ki(n,e){return{top:n.top-e.height,right:n.right-e.width,bottom:n.bottom-e.height,left:n.left-e.width}}function Pi(n){return Tf.some(e=>n[e]>=0)}const Bf=function(n){return n===void 0&&(n={}),{name:"hide",options:n,async fn(e){const{rects:t}=e,{strategy:r="referenceHidden",...s}=ke(n,e);switch(r){case"referenceHidden":{const i=await Jt(e,{...s,elementContext:"reference"}),o=ki(i,t.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:Pi(o)}}}case"escaped":{const i=await Jt(e,{...s,altBoundary:!0}),o=ki(i,t.floating);return{data:{escapedOffsets:o,escaped:Pi(o)}}}default:return{}}}}};async function zf(n,e){const{placement:t,platform:r,elements:s}=n,i=await(r.isRTL==null?void 0:r.isRTL(s.floating)),o=Pe(t),a=Mt(t),c=Ge(t)==="y",l=["left","top"].includes(o)?-1:1,u=i&&c?-1:1,d=ke(e,n);let{mainAxis:p,crossAxis:m,alignmentAxis:v}=typeof d=="number"?{mainAxis:d,crossAxis:0,alignmentAxis:null}:{mainAxis:d.mainAxis||0,crossAxis:d.crossAxis||0,alignmentAxis:d.alignmentAxis};return a&&typeof v=="number"&&(m=a==="end"?v*-1:v),c?{x:m*u,y:p*l}:{x:p*l,y:m*u}}const Wf=function(n){return n===void 0&&(n=0),{name:"offset",options:n,async fn(e){var t,r;const{x:s,y:i,placement:o,middlewareData:a}=e,c=await zf(e,n);return o===((t=a.offset)==null?void 0:t.placement)&&(r=a.arrow)!=null&&r.alignmentOffset?{}:{x:s+c.x,y:i+c.y,data:{...c,placement:o}}}}},Vf=function(n){return n===void 0&&(n={}),{name:"shift",options:n,async fn(e){const{x:t,y:r,placement:s}=e,{mainAxis:i=!0,crossAxis:o=!1,limiter:a={fn:y=>{let{x:b,y:_}=y;return{x:b,y:_}}},...c}=ke(n,e),l={x:t,y:r},u=await Jt(e,c),d=Ge(Pe(s)),p=fs(d);let m=l[p],v=l[d];if(i){const y=p==="y"?"top":"left",b=p==="y"?"bottom":"right",_=m+u[y],E=m-u[b];m=Kr(_,m,E)}if(o){const y=d==="y"?"top":"left",b=d==="y"?"bottom":"right",_=v+u[y],E=v-u[b];v=Kr(_,v,E)}const g=a.fn({...e,[p]:m,[d]:v});return{...g,data:{x:g.x-t,y:g.y-r,enabled:{[p]:i,[d]:o}}}}}},qf=function(n){return n===void 0&&(n={}),{options:n,fn(e){const{x:t,y:r,placement:s,rects:i,middlewareData:o}=e,{offset:a=0,mainAxis:c=!0,crossAxis:l=!0}=ke(n,e),u={x:t,y:r},d=Ge(s),p=fs(d);let m=u[p],v=u[d];const g=ke(a,e),y=typeof g=="number"?{mainAxis:g,crossAxis:0}:{mainAxis:0,crossAxis:0,...g};if(c){const E=p==="y"?"height":"width",w=i.reference[p]-i.floating[E]+y.mainAxis,C=i.reference[p]+i.reference[E]-y.mainAxis;m<w?m=w:m>C&&(m=C)}if(l){var b,_;const E=p==="y"?"width":"height",w=["top","left"].includes(Pe(s)),C=i.reference[d]-i.floating[E]+(w&&((b=o.offset)==null?void 0:b[d])||0)+(w?0:y.crossAxis),O=i.reference[d]+i.reference[E]+(w?0:((_=o.offset)==null?void 0:_[d])||0)-(w?y.crossAxis:0);v<C?v=C:v>O&&(v=O)}return{[p]:m,[d]:v}}}},Hf=function(n){return n===void 0&&(n={}),{name:"size",options:n,async fn(e){var t,r;const{placement:s,rects:i,platform:o,elements:a}=e,{apply:c=()=>{},...l}=ke(n,e),u=await Jt(e,l),d=Pe(s),p=Mt(s),m=Ge(s)==="y",{width:v,height:g}=i.floating;let y,b;d==="top"||d==="bottom"?(y=d,b=p===(await(o.isRTL==null?void 0:o.isRTL(a.floating))?"start":"end")?"left":"right"):(b=d,y=p==="end"?"top":"bottom");const _=g-u.top-u.bottom,E=v-u.left-u.right,w=Ke(g-u[y],_),C=Ke(v-u[b],E),O=!e.middlewareData.shift;let S=w,j=C;if((t=e.middlewareData.shift)!=null&&t.enabled.x&&(j=E),(r=e.middlewareData.shift)!=null&&r.enabled.y&&(S=_),O&&!p){const R=re(u.left,0),P=re(u.right,0),F=re(u.top,0),z=re(u.bottom,0);m?j=v-2*(R!==0||P!==0?R+P:re(u.left,u.right)):S=g-2*(F!==0||z!==0?F+z:re(u.top,u.bottom))}await c({...e,availableWidth:j,availableHeight:S});const k=await o.getDimensions(a.floating);return v!==k.width||g!==k.height?{reset:{rects:!0}}:{}}}};function Jn(){return typeof window<"u"}function Ut(n){return Jo(n)?(n.nodeName||"").toLowerCase():"#document"}function se(n){var e;return(n==null||(e=n.ownerDocument)==null?void 0:e.defaultView)||window}function _e(n){var e;return(e=(Jo(n)?n.ownerDocument:n.document)||window.document)==null?void 0:e.documentElement}function Jo(n){return Jn()?n instanceof Node||n instanceof se(n).Node:!1}function ue(n){return Jn()?n instanceof Element||n instanceof se(n).Element:!1}function xe(n){return Jn()?n instanceof HTMLElement||n instanceof se(n).HTMLElement:!1}function Ai(n){return!Jn()||typeof ShadowRoot>"u"?!1:n instanceof ShadowRoot||n instanceof se(n).ShadowRoot}function rn(n){const{overflow:e,overflowX:t,overflowY:r,display:s}=de(n);return/auto|scroll|overlay|hidden|clip/.test(e+r+t)&&!["inline","contents"].includes(s)}function Kf(n){return["table","td","th"].includes(Ut(n))}function Qn(n){return[":popover-open",":modal"].some(e=>{try{return n.matches(e)}catch{return!1}})}function ms(n){const e=gs(),t=ue(n)?de(n):n;return["transform","translate","scale","rotate","perspective"].some(r=>t[r]?t[r]!=="none":!1)||(t.containerType?t.containerType!=="normal":!1)||!e&&(t.backdropFilter?t.backdropFilter!=="none":!1)||!e&&(t.filter?t.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(r=>(t.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(t.contain||"").includes(r))}function Gf(n){let e=Je(n);for(;xe(e)&&!Nt(e);){if(ms(e))return e;if(Qn(e))return null;e=Je(e)}return null}function gs(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function Nt(n){return["html","body","#document"].includes(Ut(n))}function de(n){return se(n).getComputedStyle(n)}function Zn(n){return ue(n)?{scrollLeft:n.scrollLeft,scrollTop:n.scrollTop}:{scrollLeft:n.scrollX,scrollTop:n.scrollY}}function Je(n){if(Ut(n)==="html")return n;const e=n.assignedSlot||n.parentNode||Ai(n)&&n.host||_e(n);return Ai(e)?e.host:e}function Qo(n){const e=Je(n);return Nt(e)?n.ownerDocument?n.ownerDocument.body:n.body:xe(e)&&rn(e)?e:Qo(e)}function Qt(n,e,t){var r;e===void 0&&(e=[]),t===void 0&&(t=!0);const s=Qo(n),i=s===((r=n.ownerDocument)==null?void 0:r.body),o=se(s);if(i){const a=Jr(o);return e.concat(o,o.visualViewport||[],rn(s)?s:[],a&&t?Qt(a):[])}return e.concat(s,Qt(s,[],t))}function Jr(n){return n.parent&&Object.getPrototypeOf(n.parent)?n.frameElement:null}function Zo(n){const e=de(n);let t=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const s=xe(n),i=s?n.offsetWidth:t,o=s?n.offsetHeight:r,a=jn(t)!==i||jn(r)!==o;return a&&(t=i,r=o),{width:t,height:r,$:a}}function ys(n){return ue(n)?n:n.contextElement}function Ot(n){const e=ys(n);if(!xe(e))return we(1);const t=e.getBoundingClientRect(),{width:r,height:s,$:i}=Zo(e);let o=(i?jn(t.width):t.width)/r,a=(i?jn(t.height):t.height)/s;return(!o||!Number.isFinite(o))&&(o=1),(!a||!Number.isFinite(a))&&(a=1),{x:o,y:a}}const Jf=we(0);function Yo(n){const e=se(n);return!gs()||!e.visualViewport?Jf:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function Qf(n,e,t){return e===void 0&&(e=!1),!t||e&&t!==se(n)?!1:e}function ct(n,e,t,r){e===void 0&&(e=!1),t===void 0&&(t=!1);const s=n.getBoundingClientRect(),i=ys(n);let o=we(1);e&&(r?ue(r)&&(o=Ot(r)):o=Ot(n));const a=Qf(i,t,r)?Yo(i):we(0);let c=(s.left+a.x)/o.x,l=(s.top+a.y)/o.y,u=s.width/o.x,d=s.height/o.y;if(i){const p=se(i),m=r&&ue(r)?se(r):r;let v=p,g=Jr(v);for(;g&&r&&m!==v;){const y=Ot(g),b=g.getBoundingClientRect(),_=de(g),E=b.left+(g.clientLeft+parseFloat(_.paddingLeft))*y.x,w=b.top+(g.clientTop+parseFloat(_.paddingTop))*y.y;c*=y.x,l*=y.y,u*=y.x,d*=y.y,c+=E,l+=w,v=se(g),g=Jr(v)}}return $n({width:u,height:d,x:c,y:l})}function vs(n,e){const t=Zn(n).scrollLeft;return e?e.left+t:ct(_e(n)).left+t}function Xo(n,e,t){t===void 0&&(t=!1);const r=n.getBoundingClientRect(),s=r.left+e.scrollLeft-(t?0:vs(n,r)),i=r.top+e.scrollTop;return{x:s,y:i}}function Zf(n){let{elements:e,rect:t,offsetParent:r,strategy:s}=n;const i=s==="fixed",o=_e(r),a=e?Qn(e.floating):!1;if(r===o||a&&i)return t;let c={scrollLeft:0,scrollTop:0},l=we(1);const u=we(0),d=xe(r);if((d||!d&&!i)&&((Ut(r)!=="body"||rn(o))&&(c=Zn(r)),xe(r))){const m=ct(r);l=Ot(r),u.x=m.x+r.clientLeft,u.y=m.y+r.clientTop}const p=o&&!d&&!i?Xo(o,c,!0):we(0);return{width:t.width*l.x,height:t.height*l.y,x:t.x*l.x-c.scrollLeft*l.x+u.x+p.x,y:t.y*l.y-c.scrollTop*l.y+u.y+p.y}}function Yf(n){return Array.from(n.getClientRects())}function Xf(n){const e=_e(n),t=Zn(n),r=n.ownerDocument.body,s=re(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),i=re(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let o=-t.scrollLeft+vs(n);const a=-t.scrollTop;return de(r).direction==="rtl"&&(o+=re(e.clientWidth,r.clientWidth)-s),{width:s,height:i,x:o,y:a}}function eh(n,e){const t=se(n),r=_e(n),s=t.visualViewport;let i=r.clientWidth,o=r.clientHeight,a=0,c=0;if(s){i=s.width,o=s.height;const l=gs();(!l||l&&e==="fixed")&&(a=s.offsetLeft,c=s.offsetTop)}return{width:i,height:o,x:a,y:c}}function th(n,e){const t=ct(n,!0,e==="fixed"),r=t.top+n.clientTop,s=t.left+n.clientLeft,i=xe(n)?Ot(n):we(1),o=n.clientWidth*i.x,a=n.clientHeight*i.y,c=s*i.x,l=r*i.y;return{width:o,height:a,x:c,y:l}}function Ti(n,e,t){let r;if(e==="viewport")r=eh(n,t);else if(e==="document")r=Xf(_e(n));else if(ue(e))r=th(e,t);else{const s=Yo(n);r={x:e.x-s.x,y:e.y-s.y,width:e.width,height:e.height}}return $n(r)}function ea(n,e){const t=Je(n);return t===e||!ue(t)||Nt(t)?!1:de(t).position==="fixed"||ea(t,e)}function nh(n,e){const t=e.get(n);if(t)return t;let r=Qt(n,[],!1).filter(a=>ue(a)&&Ut(a)!=="body"),s=null;const i=de(n).position==="fixed";let o=i?Je(n):n;for(;ue(o)&&!Nt(o);){const a=de(o),c=ms(o);!c&&a.position==="fixed"&&(s=null),(i?!c&&!s:!c&&a.position==="static"&&!!s&&["absolute","fixed"].includes(s.position)||rn(o)&&!c&&ea(n,o))?r=r.filter(u=>u!==o):s=a,o=Je(o)}return e.set(n,r),r}function rh(n){let{element:e,boundary:t,rootBoundary:r,strategy:s}=n;const o=[...t==="clippingAncestors"?Qn(e)?[]:nh(e,this._c):[].concat(t),r],a=o[0],c=o.reduce((l,u)=>{const d=Ti(e,u,s);return l.top=re(d.top,l.top),l.right=Ke(d.right,l.right),l.bottom=Ke(d.bottom,l.bottom),l.left=re(d.left,l.left),l},Ti(e,a,s));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function sh(n){const{width:e,height:t}=Zo(n);return{width:e,height:t}}function ih(n,e,t){const r=xe(e),s=_e(e),i=t==="fixed",o=ct(n,!0,i,e);let a={scrollLeft:0,scrollTop:0};const c=we(0);if(r||!r&&!i)if((Ut(e)!=="body"||rn(s))&&(a=Zn(e)),r){const p=ct(e,!0,i,e);c.x=p.x+e.clientLeft,c.y=p.y+e.clientTop}else s&&(c.x=vs(s));const l=s&&!r&&!i?Xo(s,a):we(0),u=o.left+a.scrollLeft-c.x-l.x,d=o.top+a.scrollTop-c.y-l.y;return{x:u,y:d,width:o.width,height:o.height}}function pr(n){return de(n).position==="static"}function ji(n,e){if(!xe(n)||de(n).position==="fixed")return null;if(e)return e(n);let t=n.offsetParent;return _e(n)===t&&(t=t.ownerDocument.body),t}function ta(n,e){const t=se(n);if(Qn(n))return t;if(!xe(n)){let s=Je(n);for(;s&&!Nt(s);){if(ue(s)&&!pr(s))return s;s=Je(s)}return t}let r=ji(n,e);for(;r&&Kf(r)&&pr(r);)r=ji(r,e);return r&&Nt(r)&&pr(r)&&!ms(r)?t:r||Gf(n)||t}const oh=async function(n){const e=this.getOffsetParent||ta,t=this.getDimensions,r=await t(n.floating);return{reference:ih(n.reference,await e(n.floating),n.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function ah(n){return de(n).direction==="rtl"}const ch={convertOffsetParentRelativeRectToViewportRelativeRect:Zf,getDocumentElement:_e,getClippingRect:rh,getOffsetParent:ta,getElementRects:oh,getClientRects:Yf,getDimensions:sh,getScale:Ot,isElement:ue,isRTL:ah};function na(n,e){return n.x===e.x&&n.y===e.y&&n.width===e.width&&n.height===e.height}function lh(n,e){let t=null,r;const s=_e(n);function i(){var a;clearTimeout(r),(a=t)==null||a.disconnect(),t=null}function o(a,c){a===void 0&&(a=!1),c===void 0&&(c=1),i();const l=n.getBoundingClientRect(),{left:u,top:d,width:p,height:m}=l;if(a||e(),!p||!m)return;const v=hn(d),g=hn(s.clientWidth-(u+p)),y=hn(s.clientHeight-(d+m)),b=hn(u),E={rootMargin:-v+"px "+-g+"px "+-y+"px "+-b+"px",threshold:re(0,Ke(1,c))||1};let w=!0;function C(O){const S=O[0].intersectionRatio;if(S!==c){if(!w)return o();S?o(!1,S):r=setTimeout(()=>{o(!1,1e-7)},1e3)}S===1&&!na(l,n.getBoundingClientRect())&&o(),w=!1}try{t=new IntersectionObserver(C,{...E,root:s.ownerDocument})}catch{t=new IntersectionObserver(C,E)}t.observe(n)}return o(!0),i}function uh(n,e,t,r){r===void 0&&(r={});const{ancestorScroll:s=!0,ancestorResize:i=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:c=!1}=r,l=ys(n),u=s||i?[...l?Qt(l):[],...Qt(e)]:[];u.forEach(b=>{s&&b.addEventListener("scroll",t,{passive:!0}),i&&b.addEventListener("resize",t)});const d=l&&a?lh(l,t):null;let p=-1,m=null;o&&(m=new ResizeObserver(b=>{let[_]=b;_&&_.target===l&&m&&(m.unobserve(e),cancelAnimationFrame(p),p=requestAnimationFrame(()=>{var E;(E=m)==null||E.observe(e)})),t()}),l&&!c&&m.observe(l),m.observe(e));let v,g=c?ct(n):null;c&&y();function y(){const b=ct(n);g&&!na(g,b)&&t(),g=b,v=requestAnimationFrame(y)}return t(),()=>{var b;u.forEach(_=>{s&&_.removeEventListener("scroll",t),i&&_.removeEventListener("resize",t)}),d==null||d(),(b=m)==null||b.disconnect(),m=null,c&&cancelAnimationFrame(v)}}const dh=Wf,fh=Vf,hh=Uf,ph=Hf,mh=Bf,Ri=Mf,gh=qf,yh=(n,e,t)=>{const r=new Map,s={platform:ch,...t},i={...s.platform,_c:r};return Ff(n,e,{...s,platform:i})};var Cn=typeof document<"u"?f.useLayoutEffect:f.useEffect;function Nn(n,e){if(n===e)return!0;if(typeof n!=typeof e)return!1;if(typeof n=="function"&&n.toString()===e.toString())return!0;let t,r,s;if(n&&e&&typeof n=="object"){if(Array.isArray(n)){if(t=n.length,t!==e.length)return!1;for(r=t;r--!==0;)if(!Nn(n[r],e[r]))return!1;return!0}if(s=Object.keys(n),t=s.length,t!==Object.keys(e).length)return!1;for(r=t;r--!==0;)if(!{}.hasOwnProperty.call(e,s[r]))return!1;for(r=t;r--!==0;){const i=s[r];if(!(i==="_owner"&&n.$$typeof)&&!Nn(n[i],e[i]))return!1}return!0}return n!==n&&e!==e}function ra(n){return typeof window>"u"?1:(n.ownerDocument.defaultView||window).devicePixelRatio||1}function $i(n,e){const t=ra(n);return Math.round(e*t)/t}function mr(n){const e=f.useRef(n);return Cn(()=>{e.current=n}),e}function vh(n){n===void 0&&(n={});const{placement:e="bottom",strategy:t="absolute",middleware:r=[],platform:s,elements:{reference:i,floating:o}={},transform:a=!0,whileElementsMounted:c,open:l}=n,[u,d]=f.useState({x:0,y:0,strategy:t,placement:e,middlewareData:{},isPositioned:!1}),[p,m]=f.useState(r);Nn(p,r)||m(r);const[v,g]=f.useState(null),[y,b]=f.useState(null),_=f.useCallback(D=>{D!==O.current&&(O.current=D,g(D))},[]),E=f.useCallback(D=>{D!==S.current&&(S.current=D,b(D))},[]),w=i||v,C=o||y,O=f.useRef(null),S=f.useRef(null),j=f.useRef(u),k=c!=null,R=mr(c),P=mr(s),F=mr(l),z=f.useCallback(()=>{if(!O.current||!S.current)return;const D={placement:e,strategy:t,middleware:p};P.current&&(D.platform=P.current),yh(O.current,S.current,D).then(K=>{const pe={...K,isPositioned:F.current!==!1};B.current&&!Nn(j.current,pe)&&(j.current=pe,Un.flushSync(()=>{d(pe)}))})},[p,e,t,P,F]);Cn(()=>{l===!1&&j.current.isPositioned&&(j.current.isPositioned=!1,d(D=>({...D,isPositioned:!1})))},[l]);const B=f.useRef(!1);Cn(()=>(B.current=!0,()=>{B.current=!1}),[]),Cn(()=>{if(w&&(O.current=w),C&&(S.current=C),w&&C){if(R.current)return R.current(w,C,z);z()}},[w,C,z,R,k]);const ie=f.useMemo(()=>({reference:O,floating:S,setReference:_,setFloating:E}),[_,E]),V=f.useMemo(()=>({reference:w,floating:C}),[w,C]),q=f.useMemo(()=>{const D={position:t,left:0,top:0};if(!V.floating)return D;const K=$i(V.floating,u.x),pe=$i(V.floating,u.y);return a?{...D,transform:"translate("+K+"px, "+pe+"px)",...ra(V.floating)>=1.5&&{willChange:"transform"}}:{position:t,left:K,top:pe}},[t,a,V.floating,u.x,u.y]);return f.useMemo(()=>({...u,update:z,refs:ie,elements:V,floatingStyles:q}),[u,z,ie,V,q])}const bh=n=>{function e(t){return{}.hasOwnProperty.call(t,"current")}return{name:"arrow",options:n,fn(t){const{element:r,padding:s}=typeof n=="function"?n(t):n;return r&&e(r)?r.current!=null?Ri({element:r.current,padding:s}).fn(t):{}:r?Ri({element:r,padding:s}).fn(t):{}}}},wh=(n,e)=>({...dh(n),options:[n,e]}),xh=(n,e)=>({...fh(n),options:[n,e]}),_h=(n,e)=>({...gh(n),options:[n,e]}),Eh=(n,e)=>({...hh(n),options:[n,e]}),Ch=(n,e)=>({...ph(n),options:[n,e]}),Sh=(n,e)=>({...mh(n),options:[n,e]}),Oh=(n,e)=>({...bh(n),options:[n,e]});var kh="Arrow",sa=f.forwardRef((n,e)=>{const{children:t,width:r=10,height:s=5,...i}=n;return h.jsx(Ae.svg,{...i,ref:e,width:r,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:n.asChild?t:h.jsx("polygon",{points:"0,0 30,0 15,10"})})});sa.displayName=kh;var Ph=sa;function Ah(n){const[e,t]=f.useState(void 0);return at(()=>{if(n){t({width:n.offsetWidth,height:n.offsetHeight});const r=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const i=s[0];let o,a;if("borderBoxSize"in i){const c=i.borderBoxSize,l=Array.isArray(c)?c[0]:c;o=l.inlineSize,a=l.blockSize}else o=n.offsetWidth,a=n.offsetHeight;t({width:o,height:a})});return r.observe(n,{box:"border-box"}),()=>r.unobserve(n)}else t(void 0)},[n]),e}var bs="Popper",[ia,oa]=zo(bs),[Th,aa]=ia(bs),ca=n=>{const{__scopePopper:e,children:t}=n,[r,s]=f.useState(null);return h.jsx(Th,{scope:e,anchor:r,onAnchorChange:s,children:t})};ca.displayName=bs;var la="PopperAnchor",ua=f.forwardRef((n,e)=>{const{__scopePopper:t,virtualRef:r,...s}=n,i=aa(la,t),o=f.useRef(null),a=Qe(e,o);return f.useEffect(()=>{i.onAnchorChange((r==null?void 0:r.current)||o.current)}),r?null:h.jsx(Ae.div,{...s,ref:a})});ua.displayName=la;var ws="PopperContent",[jh,Rh]=ia(ws),da=f.forwardRef((n,e)=>{var Fs,Ms,Us,Bs,zs,Ws;const{__scopePopper:t,side:r="bottom",sideOffset:s=0,align:i="center",alignOffset:o=0,arrowPadding:a=0,avoidCollisions:c=!0,collisionBoundary:l=[],collisionPadding:u=0,sticky:d="partial",hideWhenDetached:p=!1,updatePositionStrategy:m="optimized",onPlaced:v,...g}=n,y=aa(ws,t),[b,_]=f.useState(null),E=Qe(e,Bt=>_(Bt)),[w,C]=f.useState(null),O=Ah(w),S=(O==null?void 0:O.width)??0,j=(O==null?void 0:O.height)??0,k=r+(i!=="center"?"-"+i:""),R=typeof u=="number"?u:{top:0,right:0,bottom:0,left:0,...u},P=Array.isArray(l)?l:[l],F=P.length>0,z={padding:R,boundary:P.filter(Nh),altBoundary:F},{refs:B,floatingStyles:ie,placement:V,isPositioned:q,middlewareData:D}=vh({strategy:"fixed",placement:k,whileElementsMounted:(...Bt)=>uh(...Bt,{animationFrame:m==="always"}),elements:{reference:y.anchor},middleware:[wh({mainAxis:s+j,alignmentAxis:o}),c&&xh({mainAxis:!0,crossAxis:!1,limiter:d==="partial"?_h():void 0,...z}),c&&Eh({...z}),Ch({...z,apply:({elements:Bt,rects:Vs,availableWidth:sl,availableHeight:il})=>{const{width:ol,height:al}=Vs.reference,cn=Bt.floating.style;cn.setProperty("--radix-popper-available-width",`${sl}px`),cn.setProperty("--radix-popper-available-height",`${il}px`),cn.setProperty("--radix-popper-anchor-width",`${ol}px`),cn.setProperty("--radix-popper-anchor-height",`${al}px`)}}),w&&Oh({element:w,padding:a}),Dh({arrowWidth:S,arrowHeight:j}),p&&Sh({strategy:"referenceHidden",...z})]}),[K,pe]=pa(V),an=He(v);at(()=>{q&&(an==null||an())},[q,an]);const Xc=(Fs=D.arrow)==null?void 0:Fs.x,el=(Ms=D.arrow)==null?void 0:Ms.y,tl=((Us=D.arrow)==null?void 0:Us.centerOffset)!==0,[nl,rl]=f.useState();return at(()=>{b&&rl(window.getComputedStyle(b).zIndex)},[b]),h.jsx("div",{ref:B.setFloating,"data-radix-popper-content-wrapper":"",style:{...ie,transform:q?ie.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:nl,"--radix-popper-transform-origin":[(Bs=D.transformOrigin)==null?void 0:Bs.x,(zs=D.transformOrigin)==null?void 0:zs.y].join(" "),...((Ws=D.hide)==null?void 0:Ws.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:n.dir,children:h.jsx(jh,{scope:t,placedSide:K,onArrowChange:C,arrowX:Xc,arrowY:el,shouldHideArrow:tl,children:h.jsx(Ae.div,{"data-side":K,"data-align":pe,...g,ref:E,style:{...g.style,animation:q?void 0:"none"}})})})});da.displayName=ws;var fa="PopperArrow",$h={top:"bottom",right:"left",bottom:"top",left:"right"},ha=f.forwardRef(function(e,t){const{__scopePopper:r,...s}=e,i=Rh(fa,r),o=$h[i.placedSide];return h.jsx("span",{ref:i.onArrowChange,style:{position:"absolute",left:i.arrowX,top:i.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[i.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[i.placedSide],visibility:i.shouldHideArrow?"hidden":void 0},children:h.jsx(Ph,{...s,ref:t,style:{...s.style,display:"block"}})})});ha.displayName=fa;function Nh(n){return n!==null}var Dh=n=>({name:"transformOrigin",options:n,fn(e){var y,b,_;const{placement:t,rects:r,middlewareData:s}=e,o=((y=s.arrow)==null?void 0:y.centerOffset)!==0,a=o?0:n.arrowWidth,c=o?0:n.arrowHeight,[l,u]=pa(t),d={start:"0%",center:"50%",end:"100%"}[u],p=(((b=s.arrow)==null?void 0:b.x)??0)+a/2,m=(((_=s.arrow)==null?void 0:_.y)??0)+c/2;let v="",g="";return l==="bottom"?(v=o?d:`${p}px`,g=`${-c}px`):l==="top"?(v=o?d:`${p}px`,g=`${r.floating.height+c}px`):l==="right"?(v=`${-c}px`,g=o?d:`${m}px`):l==="left"&&(v=`${r.floating.width+c}px`,g=o?d:`${m}px`),{data:{x:v,y:g}}}});function pa(n){const[e,t="center"]=n.split("-");return[e,t]}var Ih=ca,ma=ua,Lh=da,Fh=ha,Mh="Portal",ga=f.forwardRef((n,e)=>{var a;const{container:t,...r}=n,[s,i]=f.useState(!1);at(()=>i(!0),[]);const o=t||s&&((a=globalThis==null?void 0:globalThis.document)==null?void 0:a.body);return o?mo.createPortal(h.jsx(Ae.div,{...r,ref:e}),o):null});ga.displayName=Mh;function Uh(n,e){return f.useReducer((t,r)=>e[t][r]??t,n)}var xs=n=>{const{present:e,children:t}=n,r=Bh(e),s=typeof t=="function"?t({present:r.isPresent}):f.Children.only(t),i=Qe(r.ref,zh(s));return typeof t=="function"||r.isPresent?f.cloneElement(s,{ref:i}):null};xs.displayName="Presence";function Bh(n){const[e,t]=f.useState(),r=f.useRef({}),s=f.useRef(n),i=f.useRef("none"),o=n?"mounted":"unmounted",[a,c]=Uh(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return f.useEffect(()=>{const l=pn(r.current);i.current=a==="mounted"?l:"none"},[a]),at(()=>{const l=r.current,u=s.current;if(u!==n){const p=i.current,m=pn(l);n?c("MOUNT"):m==="none"||(l==null?void 0:l.display)==="none"?c("UNMOUNT"):c(u&&p!==m?"ANIMATION_OUT":"UNMOUNT"),s.current=n}},[n,c]),at(()=>{if(e){let l;const u=e.ownerDocument.defaultView??window,d=m=>{const g=pn(r.current).includes(m.animationName);if(m.target===e&&g&&(c("ANIMATION_END"),!s.current)){const y=e.style.animationFillMode;e.style.animationFillMode="forwards",l=u.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=y)})}},p=m=>{m.target===e&&(i.current=pn(r.current))};return e.addEventListener("animationstart",p),e.addEventListener("animationcancel",d),e.addEventListener("animationend",d),()=>{u.clearTimeout(l),e.removeEventListener("animationstart",p),e.removeEventListener("animationcancel",d),e.removeEventListener("animationend",d)}}else c("ANIMATION_END")},[e,c]),{isPresent:["mounted","unmountSuspended"].includes(a),ref:f.useCallback(l=>{l&&(r.current=getComputedStyle(l)),t(l)},[])}}function pn(n){return(n==null?void 0:n.animationName)||"none"}function zh(n){var r,s;let e=(r=Object.getOwnPropertyDescriptor(n.props,"ref"))==null?void 0:r.get,t=e&&"isReactWarning"in e&&e.isReactWarning;return t?n.ref:(e=(s=Object.getOwnPropertyDescriptor(n,"ref"))==null?void 0:s.get,t=e&&"isReactWarning"in e&&e.isReactWarning,t?n.props.ref:n.props.ref||n.ref)}function Wh({prop:n,defaultProp:e,onChange:t=()=>{}}){const[r,s]=Vh({defaultProp:e,onChange:t}),i=n!==void 0,o=i?n:r,a=He(t),c=f.useCallback(l=>{if(i){const d=typeof l=="function"?l(n):l;d!==n&&a(d)}else s(l)},[i,n,s,a]);return[o,c]}function Vh({defaultProp:n,onChange:e}){const t=f.useState(n),[r]=t,s=f.useRef(r),i=He(e);return f.useEffect(()=>{s.current!==r&&(i(r),s.current=r)},[r,s,i]),t}var qh=function(n){if(typeof document>"u")return null;var e=Array.isArray(n)?n[0]:n;return e.ownerDocument.body},wt=new WeakMap,mn=new WeakMap,gn={},gr=0,ya=function(n){return n&&(n.host||ya(n.parentNode))},Hh=function(n,e){return e.map(function(t){if(n.contains(t))return t;var r=ya(t);return r&&n.contains(r)?r:(console.error("aria-hidden",t,"in not contained inside",n,". Doing nothing"),null)}).filter(function(t){return!!t})},Kh=function(n,e,t,r){var s=Hh(e,Array.isArray(n)?n:[n]);gn[t]||(gn[t]=new WeakMap);var i=gn[t],o=[],a=new Set,c=new Set(s),l=function(d){!d||a.has(d)||(a.add(d),l(d.parentNode))};s.forEach(l);var u=function(d){!d||c.has(d)||Array.prototype.forEach.call(d.children,function(p){if(a.has(p))u(p);else try{var m=p.getAttribute(r),v=m!==null&&m!=="false",g=(wt.get(p)||0)+1,y=(i.get(p)||0)+1;wt.set(p,g),i.set(p,y),o.push(p),g===1&&v&&mn.set(p,!0),y===1&&p.setAttribute(t,"true"),v||p.setAttribute(r,"true")}catch(b){console.error("aria-hidden: cannot operate on ",p,b)}})};return u(e),a.clear(),gr++,function(){o.forEach(function(d){var p=wt.get(d)-1,m=i.get(d)-1;wt.set(d,p),i.set(d,m),p||(mn.has(d)||d.removeAttribute(r),mn.delete(d)),m||d.removeAttribute(t)}),gr--,gr||(wt=new WeakMap,wt=new WeakMap,mn=new WeakMap,gn={})}},va=function(n,e,t){t===void 0&&(t="data-aria-hidden");var r=Array.from(Array.isArray(n)?n:[n]),s=qh(n);return s?(r.push.apply(r,Array.from(s.querySelectorAll("[aria-live]"))),Kh(r,s,t,"aria-hidden")):function(){return null}},be=function(){return be=Object.assign||function(e){for(var t,r=1,s=arguments.length;r<s;r++){t=arguments[r];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},be.apply(this,arguments)};function ba(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(n);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(n,r[s])&&(t[r[s]]=n[r[s]]);return t}function Gh(n,e,t){if(t||arguments.length===2)for(var r=0,s=e.length,i;r<s;r++)(i||!(r in e))&&(i||(i=Array.prototype.slice.call(e,0,r)),i[r]=e[r]);return n.concat(i||Array.prototype.slice.call(e))}var Sn="right-scroll-bar-position",On="width-before-scroll-bar",Jh="with-scroll-bars-hidden",Qh="--removed-body-scroll-bar-size";function yr(n,e){return typeof n=="function"?n(e):n&&(n.current=e),n}function Zh(n,e){var t=f.useState(function(){return{value:n,callback:e,facade:{get current(){return t.value},set current(r){var s=t.value;s!==r&&(t.value=r,t.callback(r,s))}}}})[0];return t.callback=e,t.facade}var Yh=typeof window<"u"?f.useLayoutEffect:f.useEffect,Ni=new WeakMap;function Xh(n,e){var t=Zh(null,function(r){return n.forEach(function(s){return yr(s,r)})});return Yh(function(){var r=Ni.get(t);if(r){var s=new Set(r),i=new Set(n),o=t.current;s.forEach(function(a){i.has(a)||yr(a,null)}),i.forEach(function(a){s.has(a)||yr(a,o)})}Ni.set(t,n)},[n]),t}function ep(n){return n}function tp(n,e){e===void 0&&(e=ep);var t=[],r=!1,s={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return t.length?t[t.length-1]:n},useMedium:function(i){var o=e(i,r);return t.push(o),function(){t=t.filter(function(a){return a!==o})}},assignSyncMedium:function(i){for(r=!0;t.length;){var o=t;t=[],o.forEach(i)}t={push:function(a){return i(a)},filter:function(){return t}}},assignMedium:function(i){r=!0;var o=[];if(t.length){var a=t;t=[],a.forEach(i),o=t}var c=function(){var u=o;o=[],u.forEach(i)},l=function(){return Promise.resolve().then(c)};l(),t={push:function(u){o.push(u),l()},filter:function(u){return o=o.filter(u),t}}}};return s}function np(n){n===void 0&&(n={});var e=tp(null);return e.options=be({async:!0,ssr:!1},n),e}var wa=function(n){var e=n.sideCar,t=ba(n,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=e.read();if(!r)throw new Error("Sidecar medium not found");return f.createElement(r,be({},t))};wa.isSideCarExport=!0;function rp(n,e){return n.useMedium(e),wa}var xa=np(),vr=function(){},Yn=f.forwardRef(function(n,e){var t=f.useRef(null),r=f.useState({onScrollCapture:vr,onWheelCapture:vr,onTouchMoveCapture:vr}),s=r[0],i=r[1],o=n.forwardProps,a=n.children,c=n.className,l=n.removeScrollBar,u=n.enabled,d=n.shards,p=n.sideCar,m=n.noIsolation,v=n.inert,g=n.allowPinchZoom,y=n.as,b=y===void 0?"div":y,_=n.gapMode,E=ba(n,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),w=p,C=Xh([t,e]),O=be(be({},E),s);return f.createElement(f.Fragment,null,u&&f.createElement(w,{sideCar:xa,removeScrollBar:l,shards:d,noIsolation:m,inert:v,setCallbacks:i,allowPinchZoom:!!g,lockRef:t,gapMode:_}),o?f.cloneElement(f.Children.only(a),be(be({},O),{ref:C})):f.createElement(b,be({},O,{className:c,ref:C}),a))});Yn.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Yn.classNames={fullWidth:On,zeroRight:Sn};var sp=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function ip(){if(!document)return null;var n=document.createElement("style");n.type="text/css";var e=sp();return e&&n.setAttribute("nonce",e),n}function op(n,e){n.styleSheet?n.styleSheet.cssText=e:n.appendChild(document.createTextNode(e))}function ap(n){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(n)}var cp=function(){var n=0,e=null;return{add:function(t){n==0&&(e=ip())&&(op(e,t),ap(e)),n++},remove:function(){n--,!n&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},lp=function(){var n=cp();return function(e,t){f.useEffect(function(){return n.add(e),function(){n.remove()}},[e&&t])}},_a=function(){var n=lp(),e=function(t){var r=t.styles,s=t.dynamic;return n(r,s),null};return e},up={left:0,top:0,right:0,gap:0},br=function(n){return parseInt(n||"",10)||0},dp=function(n){var e=window.getComputedStyle(document.body),t=e[n==="padding"?"paddingLeft":"marginLeft"],r=e[n==="padding"?"paddingTop":"marginTop"],s=e[n==="padding"?"paddingRight":"marginRight"];return[br(t),br(r),br(s)]},fp=function(n){if(n===void 0&&(n="margin"),typeof window>"u")return up;var e=dp(n),t=document.documentElement.clientWidth,r=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,r-t+e[2]-e[0])}},hp=_a(),kt="data-scroll-locked",pp=function(n,e,t,r){var s=n.left,i=n.top,o=n.right,a=n.gap;return t===void 0&&(t="margin"),`
  .`.concat(Jh,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(a,"px ").concat(r,`;
  }
  body[`).concat(kt,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(r,";"),t==="margin"&&`
    padding-left: `.concat(s,`px;
    padding-top: `).concat(i,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(a,"px ").concat(r,`;
    `),t==="padding"&&"padding-right: ".concat(a,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Sn,` {
    right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(On,` {
    margin-right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(Sn," .").concat(Sn,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(On," .").concat(On,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(kt,`] {
    `).concat(Qh,": ").concat(a,`px;
  }
`)},Di=function(){var n=parseInt(document.body.getAttribute(kt)||"0",10);return isFinite(n)?n:0},mp=function(){f.useEffect(function(){return document.body.setAttribute(kt,(Di()+1).toString()),function(){var n=Di()-1;n<=0?document.body.removeAttribute(kt):document.body.setAttribute(kt,n.toString())}},[])},gp=function(n){var e=n.noRelative,t=n.noImportant,r=n.gapMode,s=r===void 0?"margin":r;mp();var i=f.useMemo(function(){return fp(s)},[s]);return f.createElement(hp,{styles:pp(i,!e,s,t?"":"!important")})},Qr=!1;if(typeof window<"u")try{var yn=Object.defineProperty({},"passive",{get:function(){return Qr=!0,!0}});window.addEventListener("test",yn,yn),window.removeEventListener("test",yn,yn)}catch{Qr=!1}var xt=Qr?{passive:!1}:!1,yp=function(n){return n.tagName==="TEXTAREA"},Ea=function(n,e){if(!(n instanceof Element))return!1;var t=window.getComputedStyle(n);return t[e]!=="hidden"&&!(t.overflowY===t.overflowX&&!yp(n)&&t[e]==="visible")},vp=function(n){return Ea(n,"overflowY")},bp=function(n){return Ea(n,"overflowX")},Ii=function(n,e){var t=e.ownerDocument,r=e;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var s=Ca(n,r);if(s){var i=Sa(n,r),o=i[1],a=i[2];if(o>a)return!0}r=r.parentNode}while(r&&r!==t.body);return!1},wp=function(n){var e=n.scrollTop,t=n.scrollHeight,r=n.clientHeight;return[e,t,r]},xp=function(n){var e=n.scrollLeft,t=n.scrollWidth,r=n.clientWidth;return[e,t,r]},Ca=function(n,e){return n==="v"?vp(e):bp(e)},Sa=function(n,e){return n==="v"?wp(e):xp(e)},_p=function(n,e){return n==="h"&&e==="rtl"?-1:1},Ep=function(n,e,t,r,s){var i=_p(n,window.getComputedStyle(e).direction),o=i*r,a=t.target,c=e.contains(a),l=!1,u=o>0,d=0,p=0;do{var m=Sa(n,a),v=m[0],g=m[1],y=m[2],b=g-y-i*v;(v||b)&&Ca(n,a)&&(d+=b,p+=v),a instanceof ShadowRoot?a=a.host:a=a.parentNode}while(!c&&a!==document.body||c&&(e.contains(a)||e===a));return(u&&Math.abs(d)<1||!u&&Math.abs(p)<1)&&(l=!0),l},vn=function(n){return"changedTouches"in n?[n.changedTouches[0].clientX,n.changedTouches[0].clientY]:[0,0]},Li=function(n){return[n.deltaX,n.deltaY]},Fi=function(n){return n&&"current"in n?n.current:n},Cp=function(n,e){return n[0]===e[0]&&n[1]===e[1]},Sp=function(n){return`
  .block-interactivity-`.concat(n,` {pointer-events: none;}
  .allow-interactivity-`).concat(n,` {pointer-events: all;}
`)},Op=0,_t=[];function kp(n){var e=f.useRef([]),t=f.useRef([0,0]),r=f.useRef(),s=f.useState(Op++)[0],i=f.useState(_a)[0],o=f.useRef(n);f.useEffect(function(){o.current=n},[n]),f.useEffect(function(){if(n.inert){document.body.classList.add("block-interactivity-".concat(s));var g=Gh([n.lockRef.current],(n.shards||[]).map(Fi),!0).filter(Boolean);return g.forEach(function(y){return y.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),g.forEach(function(y){return y.classList.remove("allow-interactivity-".concat(s))})}}},[n.inert,n.lockRef.current,n.shards]);var a=f.useCallback(function(g,y){if("touches"in g&&g.touches.length===2||g.type==="wheel"&&g.ctrlKey)return!o.current.allowPinchZoom;var b=vn(g),_=t.current,E="deltaX"in g?g.deltaX:_[0]-b[0],w="deltaY"in g?g.deltaY:_[1]-b[1],C,O=g.target,S=Math.abs(E)>Math.abs(w)?"h":"v";if("touches"in g&&S==="h"&&O.type==="range")return!1;var j=Ii(S,O);if(!j)return!0;if(j?C=S:(C=S==="v"?"h":"v",j=Ii(S,O)),!j)return!1;if(!r.current&&"changedTouches"in g&&(E||w)&&(r.current=C),!C)return!0;var k=r.current||C;return Ep(k,y,g,k==="h"?E:w)},[]),c=f.useCallback(function(g){var y=g;if(!(!_t.length||_t[_t.length-1]!==i)){var b="deltaY"in y?Li(y):vn(y),_=e.current.filter(function(C){return C.name===y.type&&(C.target===y.target||y.target===C.shadowParent)&&Cp(C.delta,b)})[0];if(_&&_.should){y.cancelable&&y.preventDefault();return}if(!_){var E=(o.current.shards||[]).map(Fi).filter(Boolean).filter(function(C){return C.contains(y.target)}),w=E.length>0?a(y,E[0]):!o.current.noIsolation;w&&y.cancelable&&y.preventDefault()}}},[]),l=f.useCallback(function(g,y,b,_){var E={name:g,delta:y,target:b,should:_,shadowParent:Pp(b)};e.current.push(E),setTimeout(function(){e.current=e.current.filter(function(w){return w!==E})},1)},[]),u=f.useCallback(function(g){t.current=vn(g),r.current=void 0},[]),d=f.useCallback(function(g){l(g.type,Li(g),g.target,a(g,n.lockRef.current))},[]),p=f.useCallback(function(g){l(g.type,vn(g),g.target,a(g,n.lockRef.current))},[]);f.useEffect(function(){return _t.push(i),n.setCallbacks({onScrollCapture:d,onWheelCapture:d,onTouchMoveCapture:p}),document.addEventListener("wheel",c,xt),document.addEventListener("touchmove",c,xt),document.addEventListener("touchstart",u,xt),function(){_t=_t.filter(function(g){return g!==i}),document.removeEventListener("wheel",c,xt),document.removeEventListener("touchmove",c,xt),document.removeEventListener("touchstart",u,xt)}},[]);var m=n.removeScrollBar,v=n.inert;return f.createElement(f.Fragment,null,v?f.createElement(i,{styles:Sp(s)}):null,m?f.createElement(gp,{gapMode:n.gapMode}):null)}function Pp(n){for(var e=null;n!==null;)n instanceof ShadowRoot&&(e=n.host,n=n.host),n=n.parentNode;return e}const Ap=rp(xa,kp);var _s=f.forwardRef(function(n,e){return f.createElement(Yn,be({},n,{ref:e,sideCar:Ap}))});_s.classNames=Yn.classNames;var Es="Popover",[Oa,e0]=zo(Es,[oa]),sn=oa(),[Tp,Ze]=Oa(Es),ka=n=>{const{__scopePopover:e,children:t,open:r,defaultOpen:s,onOpenChange:i,modal:o=!1}=n,a=sn(e),c=f.useRef(null),[l,u]=f.useState(!1),[d=!1,p]=Wh({prop:r,defaultProp:s,onChange:i});return h.jsx(Ih,{...a,children:h.jsx(Tp,{scope:e,contentId:Af(),triggerRef:c,open:d,onOpenChange:p,onOpenToggle:f.useCallback(()=>p(m=>!m),[p]),hasCustomAnchor:l,onCustomAnchorAdd:f.useCallback(()=>u(!0),[]),onCustomAnchorRemove:f.useCallback(()=>u(!1),[]),modal:o,children:t})})};ka.displayName=Es;var Pa="PopoverAnchor",jp=f.forwardRef((n,e)=>{const{__scopePopover:t,...r}=n,s=Ze(Pa,t),i=sn(t),{onCustomAnchorAdd:o,onCustomAnchorRemove:a}=s;return f.useEffect(()=>(o(),()=>a()),[o,a]),h.jsx(ma,{...i,...r,ref:e})});jp.displayName=Pa;var Aa="PopoverTrigger",Ta=f.forwardRef((n,e)=>{const{__scopePopover:t,...r}=n,s=Ze(Aa,t),i=sn(t),o=Qe(e,s.triggerRef),a=h.jsx(Ae.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":Da(s.open),...r,ref:o,onClick:ze(n.onClick,s.onOpenToggle)});return s.hasCustomAnchor?a:h.jsx(ma,{asChild:!0,...i,children:a})});Ta.displayName=Aa;var Cs="PopoverPortal",[Rp,$p]=Oa(Cs,{forceMount:void 0}),ja=n=>{const{__scopePopover:e,forceMount:t,children:r,container:s}=n,i=Ze(Cs,e);return h.jsx(Rp,{scope:e,forceMount:t,children:h.jsx(xs,{present:t||i.open,children:h.jsx(ga,{asChild:!0,container:s,children:r})})})};ja.displayName=Cs;var Dt="PopoverContent",Ra=f.forwardRef((n,e)=>{const t=$p(Dt,n.__scopePopover),{forceMount:r=t.forceMount,...s}=n,i=Ze(Dt,n.__scopePopover);return h.jsx(xs,{present:r||i.open,children:i.modal?h.jsx(Dp,{...s,ref:e}):h.jsx(Ip,{...s,ref:e})})});Ra.displayName=Dt;var Np=nn("PopoverContent.RemoveScroll"),Dp=f.forwardRef((n,e)=>{const t=Ze(Dt,n.__scopePopover),r=f.useRef(null),s=Qe(e,r),i=f.useRef(!1);return f.useEffect(()=>{const o=r.current;if(o)return va(o)},[]),h.jsx(_s,{as:Np,allowPinchZoom:!0,children:h.jsx($a,{...n,ref:s,trapFocus:t.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:ze(n.onCloseAutoFocus,o=>{var a;o.preventDefault(),i.current||(a=t.triggerRef.current)==null||a.focus()}),onPointerDownOutside:ze(n.onPointerDownOutside,o=>{const a=o.detail.originalEvent,c=a.button===0&&a.ctrlKey===!0,l=a.button===2||c;i.current=l},{checkForDefaultPrevented:!1}),onFocusOutside:ze(n.onFocusOutside,o=>o.preventDefault(),{checkForDefaultPrevented:!1})})})}),Ip=f.forwardRef((n,e)=>{const t=Ze(Dt,n.__scopePopover),r=f.useRef(!1),s=f.useRef(!1);return h.jsx($a,{...n,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var o,a;(o=n.onCloseAutoFocus)==null||o.call(n,i),i.defaultPrevented||(r.current||(a=t.triggerRef.current)==null||a.focus(),i.preventDefault()),r.current=!1,s.current=!1},onInteractOutside:i=>{var c,l;(c=n.onInteractOutside)==null||c.call(n,i),i.defaultPrevented||(r.current=!0,i.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const o=i.target;((l=t.triggerRef.current)==null?void 0:l.contains(o))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&s.current&&i.preventDefault()}})}),$a=f.forwardRef((n,e)=>{const{__scopePopover:t,trapFocus:r,onOpenAutoFocus:s,onCloseAutoFocus:i,disableOutsidePointerEvents:o,onEscapeKeyDown:a,onPointerDownOutside:c,onFocusOutside:l,onInteractOutside:u,...d}=n,p=Ze(Dt,t),m=sn(t);return bf(),h.jsx(Ho,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:s,onUnmountAutoFocus:i,children:h.jsx(Vo,{asChild:!0,disableOutsidePointerEvents:o,onInteractOutside:u,onEscapeKeyDown:a,onPointerDownOutside:c,onFocusOutside:l,onDismiss:()=>p.onOpenChange(!1),children:h.jsx(Lh,{"data-state":Da(p.open),role:"dialog",id:p.contentId,...m,...d,ref:e,style:{...d.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),Na="PopoverClose",Lp=f.forwardRef((n,e)=>{const{__scopePopover:t,...r}=n,s=Ze(Na,t);return h.jsx(Ae.button,{type:"button",...r,ref:e,onClick:ze(n.onClick,()=>s.onOpenChange(!1))})});Lp.displayName=Na;var Fp="PopoverArrow",Mp=f.forwardRef((n,e)=>{const{__scopePopover:t,...r}=n,s=sn(t);return h.jsx(Fh,{...s,...r,ref:e})});Mp.displayName=Fp;function Da(n){return n?"open":"closed"}var Up=ka,Bp=Ta,zp=ja,Ia=Ra;const Wp=Up,Vp=Bp,La=f.forwardRef(({className:n,align:e="center",sideOffset:t=4,...r},s)=>h.jsx(zp,{children:h.jsx(Ia,{ref:s,align:e,sideOffset:t,className:T("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",n),...r})}));La.displayName=Ia.displayName;function Mi(n,e,{checkForDefaultPrevented:t=!0}={}){return function(s){if(n==null||n(s),t===!1||!s.defaultPrevented)return e==null?void 0:e(s)}}function qp(n,e=[]){let t=[];function r(i,o){const a=f.createContext(o),c=t.length;t=[...t,o];const l=d=>{var b;const{scope:p,children:m,...v}=d,g=((b=p==null?void 0:p[n])==null?void 0:b[c])||a,y=f.useMemo(()=>v,Object.values(v));return h.jsx(g.Provider,{value:y,children:m})};l.displayName=i+"Provider";function u(d,p){var g;const m=((g=p==null?void 0:p[n])==null?void 0:g[c])||a,v=f.useContext(m);if(v)return v;if(o!==void 0)return o;throw new Error(`\`${d}\` must be used within \`${i}\``)}return[l,u]}const s=()=>{const i=t.map(o=>f.createContext(o));return function(a){const c=(a==null?void 0:a[n])||i;return f.useMemo(()=>({[`__scope${n}`]:{...a,[n]:c}}),[a,c])}};return s.scopeName=n,[r,Hp(s,...e)]}function Hp(...n){const e=n[0];if(n.length===1)return e;const t=()=>{const r=n.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const o=r.reduce((a,{useScope:c,scopeName:l})=>{const d=c(i)[`__scope${l}`];return{...a,...d}},{});return f.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return t.scopeName=e.scopeName,t}function Ui(n,e){if(typeof n=="function")return n(e);n!=null&&(n.current=e)}function Fa(...n){return e=>{let t=!1;const r=n.map(s=>{const i=Ui(s,e);return!t&&typeof i=="function"&&(t=!0),i});if(t)return()=>{for(let s=0;s<r.length;s++){const i=r[s];typeof i=="function"?i():Ui(n[s],null)}}}}function Ma(...n){return f.useCallback(Fa(...n),n)}var Ua=f.forwardRef((n,e)=>{const{children:t,...r}=n,s=f.Children.toArray(t),i=s.find(Gp);if(i){const o=i.props.children,a=s.map(c=>c===i?f.Children.count(o)>1?f.Children.only(null):f.isValidElement(o)?o.props.children:null:c);return h.jsx(Zr,{...r,ref:e,children:f.isValidElement(o)?f.cloneElement(o,void 0,a):null})}return h.jsx(Zr,{...r,ref:e,children:t})});Ua.displayName="Slot";var Zr=f.forwardRef((n,e)=>{const{children:t,...r}=n;if(f.isValidElement(t)){const s=Qp(t),i=Jp(r,t.props);return t.type!==f.Fragment&&(i.ref=e?Fa(e,s):s),f.cloneElement(t,i)}return f.Children.count(t)>1?f.Children.only(null):null});Zr.displayName="SlotClone";var Kp=({children:n})=>h.jsx(h.Fragment,{children:n});function Gp(n){return f.isValidElement(n)&&n.type===Kp}function Jp(n,e){const t={...e};for(const r in e){const s=n[r],i=e[r];/^on[A-Z]/.test(r)?s&&i?t[r]=(...a)=>{i(...a),s(...a)}:s&&(t[r]=s):r==="style"?t[r]={...s,...i}:r==="className"&&(t[r]=[s,i].filter(Boolean).join(" "))}return{...n,...t}}function Qp(n){var r,s;let e=(r=Object.getOwnPropertyDescriptor(n.props,"ref"))==null?void 0:r.get,t=e&&"isReactWarning"in e&&e.isReactWarning;return t?n.ref:(e=(s=Object.getOwnPropertyDescriptor(n,"ref"))==null?void 0:s.get,t=e&&"isReactWarning"in e&&e.isReactWarning,t?n.props.ref:n.props.ref||n.ref)}var Zp=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],Ba=Zp.reduce((n,e)=>{const t=f.forwardRef((r,s)=>{const{asChild:i,...o}=r,a=i?Ua:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),h.jsx(a,{...o,ref:s})});return t.displayName=`Primitive.${e}`,{...n,[e]:t}},{});function t0(n,e){n&&Un.flushSync(()=>n.dispatchEvent(e))}function za(n){const e=f.useRef(n);return f.useEffect(()=>{e.current=n}),f.useMemo(()=>(...t)=>{var r;return(r=e.current)==null?void 0:r.call(e,...t)},[])}var Yr=globalThis!=null&&globalThis.document?f.useLayoutEffect:()=>{};function Yp(n){const[e,t]=f.useState(void 0);return Yr(()=>{if(n){t({width:n.offsetWidth,height:n.offsetHeight});const r=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const i=s[0];let o,a;if("borderBoxSize"in i){const c=i.borderBoxSize,l=Array.isArray(c)?c[0]:c;o=l.inlineSize,a=l.blockSize}else o=n.offsetWidth,a=n.offsetHeight;t({width:o,height:a})});return r.observe(n,{box:"border-box"}),()=>r.unobserve(n)}else t(void 0)},[n]),e}function Xp({prop:n,defaultProp:e,onChange:t=()=>{}}){const[r,s]=em({defaultProp:e,onChange:t}),i=n!==void 0,o=i?n:r,a=za(t),c=f.useCallback(l=>{if(i){const d=typeof l=="function"?l(n):l;d!==n&&a(d)}else s(l)},[i,n,s,a]);return[o,c]}function em({defaultProp:n,onChange:e}){const t=f.useState(n),[r]=t,s=f.useRef(r),i=za(e);return f.useEffect(()=>{s.current!==r&&(i(r),s.current=r)},[r,s,i]),t}function tm(n){const e=f.useRef({value:n,previous:n});return f.useMemo(()=>(e.current.value!==n&&(e.current.previous=e.current.value,e.current.value=n),e.current.previous),[n])}function nm({className:n}){return h.jsx("svg",{width:"27px",height:"27px",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:T("stroke-primary",n),children:h.jsx("path",{d:"M4 12.6111L8.92308 17.5L20 6.5",stroke:"#fff",strokeWidth:"4",strokeLinecap:"round",strokeLinejoin:"round"})})}function Wa(){return h.jsxs("div",{className:"flex space-x-5 justify-center h-full items-center",children:[h.jsx("span",{className:"sr-only",children:"Loading..."}),h.jsx("div",{className:"size-6 bg-primary rounded-full animate-bounce [animation-delay:-0.3s]"}),h.jsx("div",{className:"size-6 bg-primary rounded-full animate-bounce [animation-delay:-0.15s]"}),h.jsx("div",{className:"size-6 bg-primary rounded-full animate-bounce"})]})}function We(n,e,{checkForDefaultPrevented:t=!0}={}){return function(s){if(n==null||n(s),t===!1||!s.defaultPrevented)return e==null?void 0:e(s)}}function Bi(n,e){if(typeof n=="function")return n(e);n!=null&&(n.current=e)}function rm(...n){return e=>{let t=!1;const r=n.map(s=>{const i=Bi(s,e);return!t&&typeof i=="function"&&(t=!0),i});if(t)return()=>{for(let s=0;s<r.length;s++){const i=r[s];typeof i=="function"?i():Bi(n[s],null)}}}}function pt(...n){return f.useCallback(rm(...n),n)}function sm(n,e){const t=f.createContext(e),r=i=>{const{children:o,...a}=i,c=f.useMemo(()=>a,Object.values(a));return h.jsx(t.Provider,{value:c,children:o})};r.displayName=n+"Provider";function s(i){const o=f.useContext(t);if(o)return o;if(e!==void 0)return e;throw new Error(`\`${i}\` must be used within \`${n}\``)}return[r,s]}function im(n,e=[]){let t=[];function r(i,o){const a=f.createContext(o),c=t.length;t=[...t,o];const l=d=>{var b;const{scope:p,children:m,...v}=d,g=((b=p==null?void 0:p[n])==null?void 0:b[c])||a,y=f.useMemo(()=>v,Object.values(v));return h.jsx(g.Provider,{value:y,children:m})};l.displayName=i+"Provider";function u(d,p){var g;const m=((g=p==null?void 0:p[n])==null?void 0:g[c])||a,v=f.useContext(m);if(v)return v;if(o!==void 0)return o;throw new Error(`\`${d}\` must be used within \`${i}\``)}return[l,u]}const s=()=>{const i=t.map(o=>f.createContext(o));return function(a){const c=(a==null?void 0:a[n])||i;return f.useMemo(()=>({[`__scope${n}`]:{...a,[n]:c}}),[a,c])}};return s.scopeName=n,[r,om(s,...e)]}function om(...n){const e=n[0];if(n.length===1)return e;const t=()=>{const r=n.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const o=r.reduce((a,{useScope:c,scopeName:l})=>{const d=c(i)[`__scope${l}`];return{...a,...d}},{});return f.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return t.scopeName=e.scopeName,t}var Dn=globalThis!=null&&globalThis.document?f.useLayoutEffect:()=>{},am=lo[" useId ".trim().toString()]||(()=>{}),cm=0;function wr(n){const[e,t]=f.useState(am());return Dn(()=>{n||t(r=>r??String(cm++))},[n]),n||(e?`radix-${e}`:"")}function lt(n){const e=f.useRef(n);return f.useEffect(()=>{e.current=n}),f.useMemo(()=>(...t)=>{var r;return(r=e.current)==null?void 0:r.call(e,...t)},[])}function lm({prop:n,defaultProp:e,onChange:t=()=>{}}){const[r,s]=um({defaultProp:e,onChange:t}),i=n!==void 0,o=i?n:r,a=lt(t),c=f.useCallback(l=>{if(i){const d=typeof l=="function"?l(n):l;d!==n&&a(d)}else s(l)},[i,n,s,a]);return[o,c]}function um({defaultProp:n,onChange:e}){const t=f.useState(n),[r]=t,s=f.useRef(r),i=lt(e);return f.useEffect(()=>{s.current!==r&&(i(r),s.current=r)},[r,s,i]),t}var dm=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],Te=dm.reduce((n,e)=>{const t=nn(`Primitive.${e}`),r=f.forwardRef((s,i)=>{const{asChild:o,...a}=s,c=o?t:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),h.jsx(c,{...a,ref:i})});return r.displayName=`Primitive.${e}`,{...n,[e]:r}},{});function fm(n,e){n&&Un.flushSync(()=>n.dispatchEvent(e))}function hm(n,e=globalThis==null?void 0:globalThis.document){const t=lt(n);f.useEffect(()=>{const r=s=>{s.key==="Escape"&&t(s)};return e.addEventListener("keydown",r,{capture:!0}),()=>e.removeEventListener("keydown",r,{capture:!0})},[t,e])}var pm="DismissableLayer",Xr="dismissableLayer.update",mm="dismissableLayer.pointerDownOutside",gm="dismissableLayer.focusOutside",zi,Va=f.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),qa=f.forwardRef((n,e)=>{const{disableOutsidePointerEvents:t=!1,onEscapeKeyDown:r,onPointerDownOutside:s,onFocusOutside:i,onInteractOutside:o,onDismiss:a,...c}=n,l=f.useContext(Va),[u,d]=f.useState(null),p=(u==null?void 0:u.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,m]=f.useState({}),v=pt(e,S=>d(S)),g=Array.from(l.layers),[y]=[...l.layersWithOutsidePointerEventsDisabled].slice(-1),b=g.indexOf(y),_=u?g.indexOf(u):-1,E=l.layersWithOutsidePointerEventsDisabled.size>0,w=_>=b,C=bm(S=>{const j=S.target,k=[...l.branches].some(R=>R.contains(j));!w||k||(s==null||s(S),o==null||o(S),S.defaultPrevented||a==null||a())},p),O=wm(S=>{const j=S.target;[...l.branches].some(R=>R.contains(j))||(i==null||i(S),o==null||o(S),S.defaultPrevented||a==null||a())},p);return hm(S=>{_===l.layers.size-1&&(r==null||r(S),!S.defaultPrevented&&a&&(S.preventDefault(),a()))},p),f.useEffect(()=>{if(u)return t&&(l.layersWithOutsidePointerEventsDisabled.size===0&&(zi=p.body.style.pointerEvents,p.body.style.pointerEvents="none"),l.layersWithOutsidePointerEventsDisabled.add(u)),l.layers.add(u),Wi(),()=>{t&&l.layersWithOutsidePointerEventsDisabled.size===1&&(p.body.style.pointerEvents=zi)}},[u,p,t,l]),f.useEffect(()=>()=>{u&&(l.layers.delete(u),l.layersWithOutsidePointerEventsDisabled.delete(u),Wi())},[u,l]),f.useEffect(()=>{const S=()=>m({});return document.addEventListener(Xr,S),()=>document.removeEventListener(Xr,S)},[]),h.jsx(Te.div,{...c,ref:v,style:{pointerEvents:E?w?"auto":"none":void 0,...n.style},onFocusCapture:We(n.onFocusCapture,O.onFocusCapture),onBlurCapture:We(n.onBlurCapture,O.onBlurCapture),onPointerDownCapture:We(n.onPointerDownCapture,C.onPointerDownCapture)})});qa.displayName=pm;var ym="DismissableLayerBranch",vm=f.forwardRef((n,e)=>{const t=f.useContext(Va),r=f.useRef(null),s=pt(e,r);return f.useEffect(()=>{const i=r.current;if(i)return t.branches.add(i),()=>{t.branches.delete(i)}},[t.branches]),h.jsx(Te.div,{...n,ref:s})});vm.displayName=ym;function bm(n,e=globalThis==null?void 0:globalThis.document){const t=lt(n),r=f.useRef(!1),s=f.useRef(()=>{});return f.useEffect(()=>{const i=a=>{if(a.target&&!r.current){let c=function(){Ha(mm,t,l,{discrete:!0})};const l={originalEvent:a};a.pointerType==="touch"?(e.removeEventListener("click",s.current),s.current=c,e.addEventListener("click",s.current,{once:!0})):c()}else e.removeEventListener("click",s.current);r.current=!1},o=window.setTimeout(()=>{e.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(o),e.removeEventListener("pointerdown",i),e.removeEventListener("click",s.current)}},[e,t]),{onPointerDownCapture:()=>r.current=!0}}function wm(n,e=globalThis==null?void 0:globalThis.document){const t=lt(n),r=f.useRef(!1);return f.useEffect(()=>{const s=i=>{i.target&&!r.current&&Ha(gm,t,{originalEvent:i},{discrete:!1})};return e.addEventListener("focusin",s),()=>e.removeEventListener("focusin",s)},[e,t]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function Wi(){const n=new CustomEvent(Xr);document.dispatchEvent(n)}function Ha(n,e,t,{discrete:r}){const s=t.originalEvent.target,i=new CustomEvent(n,{bubbles:!1,cancelable:!0,detail:t});e&&s.addEventListener(n,e,{once:!0}),r?fm(s,i):s.dispatchEvent(i)}var xr="focusScope.autoFocusOnMount",_r="focusScope.autoFocusOnUnmount",Vi={bubbles:!1,cancelable:!0},xm="FocusScope",Ka=f.forwardRef((n,e)=>{const{loop:t=!1,trapped:r=!1,onMountAutoFocus:s,onUnmountAutoFocus:i,...o}=n,[a,c]=f.useState(null),l=lt(s),u=lt(i),d=f.useRef(null),p=pt(e,g=>c(g)),m=f.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;f.useEffect(()=>{if(r){let g=function(E){if(m.paused||!a)return;const w=E.target;a.contains(w)?d.current=w:Ne(d.current,{select:!0})},y=function(E){if(m.paused||!a)return;const w=E.relatedTarget;w!==null&&(a.contains(w)||Ne(d.current,{select:!0}))},b=function(E){if(document.activeElement===document.body)for(const C of E)C.removedNodes.length>0&&Ne(a)};document.addEventListener("focusin",g),document.addEventListener("focusout",y);const _=new MutationObserver(b);return a&&_.observe(a,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",g),document.removeEventListener("focusout",y),_.disconnect()}}},[r,a,m.paused]),f.useEffect(()=>{if(a){Hi.add(m);const g=document.activeElement;if(!a.contains(g)){const b=new CustomEvent(xr,Vi);a.addEventListener(xr,l),a.dispatchEvent(b),b.defaultPrevented||(_m(km(Ga(a)),{select:!0}),document.activeElement===g&&Ne(a))}return()=>{a.removeEventListener(xr,l),setTimeout(()=>{const b=new CustomEvent(_r,Vi);a.addEventListener(_r,u),a.dispatchEvent(b),b.defaultPrevented||Ne(g??document.body,{select:!0}),a.removeEventListener(_r,u),Hi.remove(m)},0)}}},[a,l,u,m]);const v=f.useCallback(g=>{if(!t&&!r||m.paused)return;const y=g.key==="Tab"&&!g.altKey&&!g.ctrlKey&&!g.metaKey,b=document.activeElement;if(y&&b){const _=g.currentTarget,[E,w]=Em(_);E&&w?!g.shiftKey&&b===w?(g.preventDefault(),t&&Ne(E,{select:!0})):g.shiftKey&&b===E&&(g.preventDefault(),t&&Ne(w,{select:!0})):b===_&&g.preventDefault()}},[t,r,m.paused]);return h.jsx(Te.div,{tabIndex:-1,...o,ref:p,onKeyDown:v})});Ka.displayName=xm;function _m(n,{select:e=!1}={}){const t=document.activeElement;for(const r of n)if(Ne(r,{select:e}),document.activeElement!==t)return}function Em(n){const e=Ga(n),t=qi(e,n),r=qi(e.reverse(),n);return[t,r]}function Ga(n){const e=[],t=document.createTreeWalker(n,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;t.nextNode();)e.push(t.currentNode);return e}function qi(n,e){for(const t of n)if(!Cm(t,{upTo:e}))return t}function Cm(n,{upTo:e}){if(getComputedStyle(n).visibility==="hidden")return!0;for(;n;){if(e!==void 0&&n===e)return!1;if(getComputedStyle(n).display==="none")return!0;n=n.parentElement}return!1}function Sm(n){return n instanceof HTMLInputElement&&"select"in n}function Ne(n,{select:e=!1}={}){if(n&&n.focus){const t=document.activeElement;n.focus({preventScroll:!0}),n!==t&&Sm(n)&&e&&n.select()}}var Hi=Om();function Om(){let n=[];return{add(e){const t=n[0];e!==t&&(t==null||t.pause()),n=Ki(n,e),n.unshift(e)},remove(e){var t;n=Ki(n,e),(t=n[0])==null||t.resume()}}}function Ki(n,e){const t=[...n],r=t.indexOf(e);return r!==-1&&t.splice(r,1),t}function km(n){return n.filter(e=>e.tagName!=="A")}var Pm="Portal",Ja=f.forwardRef((n,e)=>{var a;const{container:t,...r}=n,[s,i]=f.useState(!1);Dn(()=>i(!0),[]);const o=t||s&&((a=globalThis==null?void 0:globalThis.document)==null?void 0:a.body);return o?mo.createPortal(h.jsx(Te.div,{...r,ref:e}),o):null});Ja.displayName=Pm;function Am(n,e){return f.useReducer((t,r)=>e[t][r]??t,n)}var Xn=n=>{const{present:e,children:t}=n,r=Tm(e),s=typeof t=="function"?t({present:r.isPresent}):f.Children.only(t),i=pt(r.ref,jm(s));return typeof t=="function"||r.isPresent?f.cloneElement(s,{ref:i}):null};Xn.displayName="Presence";function Tm(n){const[e,t]=f.useState(),r=f.useRef({}),s=f.useRef(n),i=f.useRef("none"),o=n?"mounted":"unmounted",[a,c]=Am(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return f.useEffect(()=>{const l=bn(r.current);i.current=a==="mounted"?l:"none"},[a]),Dn(()=>{const l=r.current,u=s.current;if(u!==n){const p=i.current,m=bn(l);n?c("MOUNT"):m==="none"||(l==null?void 0:l.display)==="none"?c("UNMOUNT"):c(u&&p!==m?"ANIMATION_OUT":"UNMOUNT"),s.current=n}},[n,c]),Dn(()=>{if(e){let l;const u=e.ownerDocument.defaultView??window,d=m=>{const g=bn(r.current).includes(m.animationName);if(m.target===e&&g&&(c("ANIMATION_END"),!s.current)){const y=e.style.animationFillMode;e.style.animationFillMode="forwards",l=u.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=y)})}},p=m=>{m.target===e&&(i.current=bn(r.current))};return e.addEventListener("animationstart",p),e.addEventListener("animationcancel",d),e.addEventListener("animationend",d),()=>{u.clearTimeout(l),e.removeEventListener("animationstart",p),e.removeEventListener("animationcancel",d),e.removeEventListener("animationend",d)}}else c("ANIMATION_END")},[e,c]),{isPresent:["mounted","unmountSuspended"].includes(a),ref:f.useCallback(l=>{l&&(r.current=getComputedStyle(l)),t(l)},[])}}function bn(n){return(n==null?void 0:n.animationName)||"none"}function jm(n){var r,s;let e=(r=Object.getOwnPropertyDescriptor(n.props,"ref"))==null?void 0:r.get,t=e&&"isReactWarning"in e&&e.isReactWarning;return t?n.ref:(e=(s=Object.getOwnPropertyDescriptor(n,"ref"))==null?void 0:s.get,t=e&&"isReactWarning"in e&&e.isReactWarning,t?n.props.ref:n.props.ref||n.ref)}var Er=0;function Rm(){f.useEffect(()=>{const n=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",n[0]??Gi()),document.body.insertAdjacentElement("beforeend",n[1]??Gi()),Er++,()=>{Er===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),Er--}},[])}function Gi(){const n=document.createElement("span");return n.setAttribute("data-radix-focus-guard",""),n.tabIndex=0,n.style.outline="none",n.style.opacity="0",n.style.position="fixed",n.style.pointerEvents="none",n}var Ss="Dialog",[Qa,n0]=im(Ss),[$m,he]=Qa(Ss),Za=n=>{const{__scopeDialog:e,children:t,open:r,defaultOpen:s,onOpenChange:i,modal:o=!0}=n,a=f.useRef(null),c=f.useRef(null),[l=!1,u]=lm({prop:r,defaultProp:s,onChange:i});return h.jsx($m,{scope:e,triggerRef:a,contentRef:c,contentId:wr(),titleId:wr(),descriptionId:wr(),open:l,onOpenChange:u,onOpenToggle:f.useCallback(()=>u(d=>!d),[u]),modal:o,children:t})};Za.displayName=Ss;var Ya="DialogTrigger",Xa=f.forwardRef((n,e)=>{const{__scopeDialog:t,...r}=n,s=he(Ya,t),i=pt(e,s.triggerRef);return h.jsx(Te.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":Ps(s.open),...r,ref:i,onClick:We(n.onClick,s.onOpenToggle)})});Xa.displayName=Ya;var Os="DialogPortal",[Nm,ec]=Qa(Os,{forceMount:void 0}),tc=n=>{const{__scopeDialog:e,forceMount:t,children:r,container:s}=n,i=he(Os,e);return h.jsx(Nm,{scope:e,forceMount:t,children:f.Children.map(r,o=>h.jsx(Xn,{present:t||i.open,children:h.jsx(Ja,{asChild:!0,container:s,children:o})}))})};tc.displayName=Os;var In="DialogOverlay",nc=f.forwardRef((n,e)=>{const t=ec(In,n.__scopeDialog),{forceMount:r=t.forceMount,...s}=n,i=he(In,n.__scopeDialog);return i.modal?h.jsx(Xn,{present:r||i.open,children:h.jsx(Im,{...s,ref:e})}):null});nc.displayName=In;var Dm=nn("DialogOverlay.RemoveScroll"),Im=f.forwardRef((n,e)=>{const{__scopeDialog:t,...r}=n,s=he(In,t);return h.jsx(_s,{as:Dm,allowPinchZoom:!0,shards:[s.contentRef],children:h.jsx(Te.div,{"data-state":Ps(s.open),...r,ref:e,style:{pointerEvents:"auto",...r.style}})})}),ut="DialogContent",rc=f.forwardRef((n,e)=>{const t=ec(ut,n.__scopeDialog),{forceMount:r=t.forceMount,...s}=n,i=he(ut,n.__scopeDialog);return h.jsx(Xn,{present:r||i.open,children:i.modal?h.jsx(Lm,{...s,ref:e}):h.jsx(Fm,{...s,ref:e})})});rc.displayName=ut;var Lm=f.forwardRef((n,e)=>{const t=he(ut,n.__scopeDialog),r=f.useRef(null),s=pt(e,t.contentRef,r);return f.useEffect(()=>{const i=r.current;if(i)return va(i)},[]),h.jsx(sc,{...n,ref:s,trapFocus:t.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:We(n.onCloseAutoFocus,i=>{var o;i.preventDefault(),(o=t.triggerRef.current)==null||o.focus()}),onPointerDownOutside:We(n.onPointerDownOutside,i=>{const o=i.detail.originalEvent,a=o.button===0&&o.ctrlKey===!0;(o.button===2||a)&&i.preventDefault()}),onFocusOutside:We(n.onFocusOutside,i=>i.preventDefault())})}),Fm=f.forwardRef((n,e)=>{const t=he(ut,n.__scopeDialog),r=f.useRef(!1),s=f.useRef(!1);return h.jsx(sc,{...n,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var o,a;(o=n.onCloseAutoFocus)==null||o.call(n,i),i.defaultPrevented||(r.current||(a=t.triggerRef.current)==null||a.focus(),i.preventDefault()),r.current=!1,s.current=!1},onInteractOutside:i=>{var c,l;(c=n.onInteractOutside)==null||c.call(n,i),i.defaultPrevented||(r.current=!0,i.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const o=i.target;((l=t.triggerRef.current)==null?void 0:l.contains(o))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&s.current&&i.preventDefault()}})}),sc=f.forwardRef((n,e)=>{const{__scopeDialog:t,trapFocus:r,onOpenAutoFocus:s,onCloseAutoFocus:i,...o}=n,a=he(ut,t),c=f.useRef(null),l=pt(e,c);return Rm(),h.jsxs(h.Fragment,{children:[h.jsx(Ka,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:s,onUnmountAutoFocus:i,children:h.jsx(qa,{role:"dialog",id:a.contentId,"aria-describedby":a.descriptionId,"aria-labelledby":a.titleId,"data-state":Ps(a.open),...o,ref:l,onDismiss:()=>a.onOpenChange(!1)})}),h.jsxs(h.Fragment,{children:[h.jsx(Mm,{titleId:a.titleId}),h.jsx(Bm,{contentRef:c,descriptionId:a.descriptionId})]})]})}),ks="DialogTitle",ic=f.forwardRef((n,e)=>{const{__scopeDialog:t,...r}=n,s=he(ks,t);return h.jsx(Te.h2,{id:s.titleId,...r,ref:e})});ic.displayName=ks;var oc="DialogDescription",ac=f.forwardRef((n,e)=>{const{__scopeDialog:t,...r}=n,s=he(oc,t);return h.jsx(Te.p,{id:s.descriptionId,...r,ref:e})});ac.displayName=oc;var cc="DialogClose",lc=f.forwardRef((n,e)=>{const{__scopeDialog:t,...r}=n,s=he(cc,t);return h.jsx(Te.button,{type:"button",...r,ref:e,onClick:We(n.onClick,()=>s.onOpenChange(!1))})});lc.displayName=cc;function Ps(n){return n?"open":"closed"}var uc="DialogTitleWarning",[r0,dc]=sm(uc,{contentName:ut,titleName:ks,docsSlug:"dialog"}),Mm=({titleId:n})=>{const e=dc(uc),t=`\`${e.contentName}\` requires a \`${e.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${e.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${e.docsSlug}`;return f.useEffect(()=>{n&&(document.getElementById(n)||console.error(t))},[t,n]),null},Um="DialogDescriptionWarning",Bm=({contentRef:n,descriptionId:e})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${dc(Um).contentName}}.`;return f.useEffect(()=>{var i;const s=(i=n.current)==null?void 0:i.getAttribute("aria-describedby");e&&s&&(document.getElementById(e)||console.warn(r))},[r,n,e]),null},fc=Za,hc=Xa,pc=tc,er=nc,tr=rc,nr=ic,rr=ac,mc=lc;function gc({className:n}){return h.jsx("svg",{width:"27px",height:"27px",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:T("",n),children:h.jsx("path",{d:"M20.7457 3.32851C20.3552 2.93798 19.722 2.93798 19.3315 3.32851L12.0371 10.6229L4.74275 3.32851C4.35223 2.93798 3.71906 2.93798 3.32854 3.32851C2.93801 3.71903 2.93801 4.3522 3.32854 4.74272L10.6229 12.0371L3.32856 19.3314C2.93803 19.722 2.93803 20.3551 3.32856 20.7457C3.71908 21.1362 4.35225 21.1362 4.74277 20.7457L12.0371 13.4513L19.3315 20.7457C19.722 21.1362 20.3552 21.1362 20.7457 20.7457C21.1362 20.3551 21.1362 19.722 20.7457 19.3315L13.4513 12.0371L20.7457 4.74272C21.1362 4.3522 21.1362 3.71903 20.7457 3.32851Z",fill:"#0F0F0F"})})}const zm=fc,Wm=hc,Vm=pc,yc=f.forwardRef(({className:n,...e},t)=>h.jsx(er,{ref:t,className:T("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",n),...e}));yc.displayName=er.displayName;const vc=f.forwardRef(({className:n,children:e,...t},r)=>h.jsxs(Vm,{children:[h.jsx(yc,{}),h.jsx(tr,{ref:r,className:T("fixed left-[50%] h-full top-[50%] py-5 px-3 z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",n),...t,children:e})]}));vc.displayName=tr.displayName;const bc=({className:n,...e})=>h.jsxs("div",{className:"flex justify-between",children:[h.jsx("div",{className:T("flex flex-col space-y-1.5 text-center sm:text-left",n),...e}),h.jsxs(mc,{className:"flex flex-col h-fit w-fit focus:ring-transparent focus:ring-0 items-end rounded-sm opacity-70 transition-opacity hover:opacity-100 focus:outline-none disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[h.jsx(gc,{}),h.jsx("span",{className:"sr-only",children:"Close"})]})]});bc.displayName="DialogHeader";const wc=({className:n,...e})=>h.jsx("div",{className:T("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",n),...e});wc.displayName="DialogFooter";const xc=f.forwardRef(({className:n,...e},t)=>h.jsx(nr,{ref:t,className:T("text-lg font-semibold leading-none tracking-tight",n),...e}));xc.displayName=nr.displayName;const qm=f.forwardRef(({className:n,...e},t)=>h.jsx(rr,{ref:t,className:T("text-sm text-muted-foreground",n),...e}));qm.displayName=rr.displayName;const As=({onClose:n,trigger:e,className:t,toggle:r,title:s,isOpen:i,children:o,forceModal:a,actions:c})=>{const l=u=>{r==null||r(u),u||n==null||n()};return h.jsxs(zm,{open:i,modal:a,onOpenChange:l,children:[e&&h.jsx(Wm,{children:e}),h.jsx(vc,{forceMount:!0,className:T("max-md:max-h-[90%]",t),onInteractOutside:u=>u.preventDefault(),children:h.jsxs("div",{className:"flex flex-col overflow-hidden",children:[h.jsx(bc,{className:"mb-7",children:s&&h.jsx(xc,{className:"text-xl",children:s})}),h.jsx("div",{className:"flex-1 overflow-hidden",children:o}),c&&h.jsx(wc,{children:c})]})})]})};function es({isOpen:n,setIsOpen:e,children:t,className:r,trigger:s,title:i}){return h.jsx(As,{title:i,className:T("max-w-none lg:w-3/4 xl:w-1/2 w-10/12 md:h-fit overflow-hidden rounded-lg",r),isOpen:n,toggle:o=>e(o??!1),trigger:s,children:t})}function s0({label:n="لا توجد نتائج"}){return h.jsx("p",{className:"text-2xl mt-5 max-sm:text-base text-center text-slate-500 flex-1",children:n})}const{add:Hm,update:Km,delete:Gm}=Xt.success.patient,{conflict:Jm}=Xt.error.patient,Qm=async(n="",e)=>{let t=fe.from("Patients").select("*");return n.trim().length>0&&(t=t.ilike("name",`%${n}%`)),e?await t.abortSignal(e):await t},Zm=async n=>fe.from("Patients").select("*").eq("id",n),Ym=async n=>{const{error:e}=await fe.from("Patients").insert([n]).select("*");e?te.error(dt):te.success(Hm)},Xm=async n=>{const{error:e}=await fe.from("Patients").update(n).eq("id",n.id).select("*");e?te.error(dt):te.success(Km)},eg=async n=>{const{error:e,status:t}=await fe.from("Patients").delete().eq("id",n).select("*");e?t===409?te.error(Jm,{duration:1/0}):te.error(dt):te.success(Gm)};function _c({label:n,disabled:e}){return h.jsx("button",{disabled:e,type:"submit",className:"p-3 bg-primary max-sm:w-full w-24 hover:opacity-80 transition rounded-xl mt-3 text-muted font-semibold disabled:bg-gray-400",children:n})}function Ec({children:n,className:e}){return h.jsx("div",{className:T("grid grid-cols-2 gap-8 max-md:grid-cols-1 max-md:gap-8 overflow-auto ",e),children:n})}function mt(n){this._maxSize=n,this.clear()}mt.prototype.clear=function(){this._size=0,this._values=Object.create(null)};mt.prototype.get=function(n){return this._values[n]};mt.prototype.set=function(n,e){return this._size>=this._maxSize&&this.clear(),n in this._values||this._size++,this._values[n]=e};var tg=/[^.^\]^[]+|(?=\[\]|\.\.)/g,Cc=/^\d+$/,ng=/^\d/,rg=/[~`!#$%\^&*+=\-\[\]\\';,/{}|\\":<>\?]/g,sg=/^\s*(['"]?)(.*?)(\1)\s*$/,Ts=512,Ji=new mt(Ts),Qi=new mt(Ts),Zi=new mt(Ts),ot={Cache:mt,split:ts,normalizePath:Cr,setter:function(n){var e=Cr(n);return Qi.get(n)||Qi.set(n,function(r,s){for(var i=0,o=e.length,a=r;i<o-1;){var c=e[i];if(c==="__proto__"||c==="constructor"||c==="prototype")return r;a=a[e[i++]]}a[e[i]]=s})},getter:function(n,e){var t=Cr(n);return Zi.get(n)||Zi.set(n,function(s){for(var i=0,o=t.length;i<o;)if(s!=null||!e)s=s[t[i++]];else return;return s})},join:function(n){return n.reduce(function(e,t){return e+(js(t)||Cc.test(t)?"["+t+"]":(e?".":"")+t)},"")},forEach:function(n,e,t){ig(Array.isArray(n)?n:ts(n),e,t)}};function Cr(n){return Ji.get(n)||Ji.set(n,ts(n).map(function(e){return e.replace(sg,"$2")}))}function ts(n){return n.match(tg)||[""]}function ig(n,e,t){var r=n.length,s,i,o,a;for(i=0;i<r;i++)s=n[i],s&&(cg(s)&&(s='"'+s+'"'),a=js(s),o=!a&&/^\d+$/.test(s),e.call(t,s,a,o,i,n))}function js(n){return typeof n=="string"&&n&&["'",'"'].indexOf(n.charAt(0))!==-1}function og(n){return n.match(ng)&&!n.match(Cc)}function ag(n){return rg.test(n)}function cg(n){return!js(n)&&(og(n)||ag(n))}const lg=/[A-Z\xc0-\xd6\xd8-\xde]?[a-z\xdf-\xf6\xf8-\xff]+(?:['’](?:d|ll|m|re|s|t|ve))?(?=[\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000]|[A-Z\xc0-\xd6\xd8-\xde]|$)|(?:[A-Z\xc0-\xd6\xd8-\xde]|[^\ud800-\udfff\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\d+\u2700-\u27bfa-z\xdf-\xf6\xf8-\xffA-Z\xc0-\xd6\xd8-\xde])+(?:['’](?:D|LL|M|RE|S|T|VE))?(?=[\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000]|[A-Z\xc0-\xd6\xd8-\xde](?:[a-z\xdf-\xf6\xf8-\xff]|[^\ud800-\udfff\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\d+\u2700-\u27bfa-z\xdf-\xf6\xf8-\xffA-Z\xc0-\xd6\xd8-\xde])|$)|[A-Z\xc0-\xd6\xd8-\xde]?(?:[a-z\xdf-\xf6\xf8-\xff]|[^\ud800-\udfff\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\d+\u2700-\u27bfa-z\xdf-\xf6\xf8-\xffA-Z\xc0-\xd6\xd8-\xde])+(?:['’](?:d|ll|m|re|s|t|ve))?|[A-Z\xc0-\xd6\xd8-\xde]+(?:['’](?:D|LL|M|RE|S|T|VE))?|\d*(?:1ST|2ND|3RD|(?![123])\dTH)(?=\b|[a-z_])|\d*(?:1st|2nd|3rd|(?![123])\dth)(?=\b|[A-Z_])|\d+|(?:[\u2700-\u27bf]|(?:\ud83c[\udde6-\uddff]){2}|[\ud800-\udbff][\udc00-\udfff])[\ufe0e\ufe0f]?(?:[\u0300-\u036f\ufe20-\ufe2f\u20d0-\u20ff]|\ud83c[\udffb-\udfff])?(?:\u200d(?:[^\ud800-\udfff]|(?:\ud83c[\udde6-\uddff]){2}|[\ud800-\udbff][\udc00-\udfff])[\ufe0e\ufe0f]?(?:[\u0300-\u036f\ufe20-\ufe2f\u20d0-\u20ff]|\ud83c[\udffb-\udfff])?)*/g,sr=n=>n.match(lg)||[],ir=n=>n[0].toUpperCase()+n.slice(1),Rs=(n,e)=>sr(n).join(e).toLowerCase(),Sc=n=>sr(n).reduce((e,t)=>`${e}${e?t[0].toUpperCase()+t.slice(1).toLowerCase():t.toLowerCase()}`,""),ug=n=>ir(Sc(n)),dg=n=>Rs(n,"_"),fg=n=>Rs(n,"-"),hg=n=>ir(Rs(n," ")),pg=n=>sr(n).map(ir).join(" ");var Sr={words:sr,upperFirst:ir,camelCase:Sc,pascalCase:ug,snakeCase:dg,kebabCase:fg,sentenceCase:hg,titleCase:pg},$s={exports:{}};$s.exports=function(n){return Oc(mg(n),n)};$s.exports.array=Oc;function Oc(n,e){var t=n.length,r=new Array(t),s={},i=t,o=gg(e),a=yg(n);for(e.forEach(function(l){if(!a.has(l[0])||!a.has(l[1]))throw new Error("Unknown node. There is an unknown node in the supplied edges.")});i--;)s[i]||c(n[i],i,new Set);return r;function c(l,u,d){if(d.has(l)){var p;try{p=", node was:"+JSON.stringify(l)}catch{p=""}throw new Error("Cyclic dependency"+p)}if(!a.has(l))throw new Error("Found unknown node. Make sure to provided all involved nodes. Unknown node: "+JSON.stringify(l));if(!s[u]){s[u]=!0;var m=o.get(l)||new Set;if(m=Array.from(m),u=m.length){d.add(l);do{var v=m[--u];c(v,a.get(v),d)}while(u);d.delete(l)}r[--t]=l}}}function mg(n){for(var e=new Set,t=0,r=n.length;t<r;t++){var s=n[t];e.add(s[0]),e.add(s[1])}return Array.from(e)}function gg(n){for(var e=new Map,t=0,r=n.length;t<r;t++){var s=n[t];e.has(s[0])||e.set(s[0],new Set),e.has(s[1])||e.set(s[1],new Set),e.get(s[0]).add(s[1])}return e}function yg(n){for(var e=new Map,t=0,r=n.length;t<r;t++)e.set(n[t],t);return e}var vg=$s.exports;const bg=ll(vg),wg=Object.prototype.toString,xg=Error.prototype.toString,_g=RegExp.prototype.toString,Eg=typeof Symbol<"u"?Symbol.prototype.toString:()=>"",Cg=/^Symbol\((.*)\)(.*)$/;function Sg(n){return n!=+n?"NaN":n===0&&1/n<0?"-0":""+n}function Yi(n,e=!1){if(n==null||n===!0||n===!1)return""+n;const t=typeof n;if(t==="number")return Sg(n);if(t==="string")return e?`"${n}"`:n;if(t==="function")return"[Function "+(n.name||"anonymous")+"]";if(t==="symbol")return Eg.call(n).replace(Cg,"Symbol($1)");const r=wg.call(n).slice(8,-1);return r==="Date"?isNaN(n.getTime())?""+n:n.toISOString(n):r==="Error"||n instanceof Error?"["+xg.call(n)+"]":r==="RegExp"?_g.call(n):null}function Ve(n,e){let t=Yi(n,e);return t!==null?t:JSON.stringify(n,function(r,s){let i=Yi(this[r],e);return i!==null?i:s},2)}function kc(n){return n==null?[]:[].concat(n)}let Pc,Ac,Tc,Og=/\$\{\s*(\w+)\s*\}/g;Pc=Symbol.toStringTag;class Xi{constructor(e,t,r,s){this.name=void 0,this.message=void 0,this.value=void 0,this.path=void 0,this.type=void 0,this.params=void 0,this.errors=void 0,this.inner=void 0,this[Pc]="Error",this.name="ValidationError",this.value=t,this.path=r,this.type=s,this.errors=[],this.inner=[],kc(e).forEach(i=>{if(ee.isError(i)){this.errors.push(...i.errors);const o=i.inner.length?i.inner:[i];this.inner.push(...o)}else this.errors.push(i)}),this.message=this.errors.length>1?`${this.errors.length} errors occurred`:this.errors[0]}}Ac=Symbol.hasInstance;Tc=Symbol.toStringTag;class ee extends Error{static formatError(e,t){const r=t.label||t.path||"this";return t=Object.assign({},t,{path:r,originalPath:t.path}),typeof e=="string"?e.replace(Og,(s,i)=>Ve(t[i])):typeof e=="function"?e(t):e}static isError(e){return e&&e.name==="ValidationError"}constructor(e,t,r,s,i){const o=new Xi(e,t,r,s);if(i)return o;super(),this.value=void 0,this.path=void 0,this.type=void 0,this.params=void 0,this.errors=[],this.inner=[],this[Tc]="Error",this.name=o.name,this.message=o.message,this.type=o.type,this.value=o.value,this.path=o.path,this.errors=o.errors,this.inner=o.inner,Error.captureStackTrace&&Error.captureStackTrace(this,ee)}static[Ac](e){return Xi[Symbol.hasInstance](e)||super[Symbol.hasInstance](e)}}let ge={default:"${path} is invalid",required:"${path} is a required field",defined:"${path} must be defined",notNull:"${path} cannot be null",oneOf:"${path} must be one of the following values: ${values}",notOneOf:"${path} must not be one of the following values: ${values}",notType:({path:n,type:e,value:t,originalValue:r})=>{const s=r!=null&&r!==t?` (cast from the value \`${Ve(r,!0)}\`).`:".";return e!=="mixed"?`${n} must be a \`${e}\` type, but the final value was: \`${Ve(t,!0)}\``+s:`${n} must match the configured type. The validated value was: \`${Ve(t,!0)}\``+s}},Q={length:"${path} must be exactly ${length} characters",min:"${path} must be at least ${min} characters",max:"${path} must be at most ${max} characters",matches:'${path} must match the following: "${regex}"',email:"${path} must be a valid email",url:"${path} must be a valid URL",uuid:"${path} must be a valid UUID",datetime:"${path} must be a valid ISO date-time",datetime_precision:"${path} must be a valid ISO date-time with a sub-second precision of exactly ${precision} digits",datetime_offset:'${path} must be a valid ISO date-time with UTC "Z" timezone',trim:"${path} must be a trimmed string",lowercase:"${path} must be a lowercase string",uppercase:"${path} must be a upper case string"},De={min:"${path} must be greater than or equal to ${min}",max:"${path} must be less than or equal to ${max}",lessThan:"${path} must be less than ${less}",moreThan:"${path} must be greater than ${more}",positive:"${path} must be a positive number",negative:"${path} must be a negative number",integer:"${path} must be an integer"},ns={min:"${path} field must be later than ${min}",max:"${path} field must be at earlier than ${max}"},rs={isValue:"${path} field must be ${value}"},kn={noUnknown:"${path} field has unspecified keys: ${unknown}",exact:"${path} object contains unknown properties: ${properties}"},kg={min:"${path} field must have at least ${min} items",max:"${path} field must have less than or equal to ${max} items",length:"${path} must have ${length} items"},Pg={notType:n=>{const{path:e,value:t,spec:r}=n,s=r.types.length;if(Array.isArray(t)){if(t.length<s)return`${e} tuple value has too few items, expected a length of ${s} but got ${t.length} for value: \`${Ve(t,!0)}\``;if(t.length>s)return`${e} tuple value has too many items, expected a length of ${s} but got ${t.length} for value: \`${Ve(t,!0)}\``}return ee.formatError(ge.notType,n)}};Object.assign(Object.create(null),{mixed:ge,string:Q,number:De,date:ns,object:kn,array:kg,boolean:rs,tuple:Pg});const Ns=n=>n&&n.__isYupSchema__;class Ln{static fromOptions(e,t){if(!t.then&&!t.otherwise)throw new TypeError("either `then:` or `otherwise:` is required for `when()` conditions");let{is:r,then:s,otherwise:i}=t,o=typeof r=="function"?r:(...a)=>a.every(c=>c===r);return new Ln(e,(a,c)=>{var l;let u=o(...a)?s:i;return(l=u==null?void 0:u(c))!=null?l:c})}constructor(e,t){this.fn=void 0,this.refs=e,this.refs=e,this.fn=t}resolve(e,t){let r=this.refs.map(i=>i.getValue(t==null?void 0:t.value,t==null?void 0:t.parent,t==null?void 0:t.context)),s=this.fn(r,e,t);if(s===void 0||s===e)return e;if(!Ns(s))throw new TypeError("conditions must return a schema object");return s.resolve(t)}}const wn={context:"$",value:"."};class gt{constructor(e,t={}){if(this.key=void 0,this.isContext=void 0,this.isValue=void 0,this.isSibling=void 0,this.path=void 0,this.getter=void 0,this.map=void 0,typeof e!="string")throw new TypeError("ref must be a string, got: "+e);if(this.key=e.trim(),e==="")throw new TypeError("ref must be a non-empty string");this.isContext=this.key[0]===wn.context,this.isValue=this.key[0]===wn.value,this.isSibling=!this.isContext&&!this.isValue;let r=this.isContext?wn.context:this.isValue?wn.value:"";this.path=this.key.slice(r.length),this.getter=this.path&&ot.getter(this.path,!0),this.map=t.map}getValue(e,t,r){let s=this.isContext?r:this.isValue?e:t;return this.getter&&(s=this.getter(s||{})),this.map&&(s=this.map(s)),s}cast(e,t){return this.getValue(e,t==null?void 0:t.parent,t==null?void 0:t.context)}resolve(){return this}describe(){return{type:"ref",key:this.key}}toString(){return`Ref(${this.key})`}static isRef(e){return e&&e.__isYupRef}}gt.prototype.__isYupRef=!0;const le=n=>n==null;function Et(n){function e({value:t,path:r="",options:s,originalValue:i,schema:o},a,c){const{name:l,test:u,params:d,message:p,skipAbsent:m}=n;let{parent:v,context:g,abortEarly:y=o.spec.abortEarly,disableStackTrace:b=o.spec.disableStackTrace}=s;function _(P){return gt.isRef(P)?P.getValue(t,v,g):P}function E(P={}){const F=Object.assign({value:t,originalValue:i,label:o.spec.label,path:P.path||r,spec:o.spec,disableStackTrace:P.disableStackTrace||b},d,P.params);for(const B of Object.keys(F))F[B]=_(F[B]);const z=new ee(ee.formatError(P.message||p,F),t,F.path,P.type||l,F.disableStackTrace);return z.params=F,z}const w=y?a:c;let C={path:r,parent:v,type:l,from:s.from,createError:E,resolve:_,options:s,originalValue:i,schema:o};const O=P=>{ee.isError(P)?w(P):P?c(null):w(E())},S=P=>{ee.isError(P)?w(P):a(P)};if(m&&le(t))return O(!0);let k;try{var R;if(k=u.call(C,t,C),typeof((R=k)==null?void 0:R.then)=="function"){if(s.sync)throw new Error(`Validation test of type: "${C.type}" returned a Promise during a synchronous validate. This test will finish after the validate call has returned`);return Promise.resolve(k).then(O,S)}}catch(P){S(P);return}O(k)}return e.OPTIONS=n,e}function Ag(n,e,t,r=t){let s,i,o;return e?(ot.forEach(e,(a,c,l)=>{let u=c?a.slice(1,a.length-1):a;n=n.resolve({context:r,parent:s,value:t});let d=n.type==="tuple",p=l?parseInt(u,10):0;if(n.innerType||d){if(d&&!l)throw new Error(`Yup.reach cannot implicitly index into a tuple type. the path part "${o}" must contain an index to the tuple element, e.g. "${o}[0]"`);if(t&&p>=t.length)throw new Error(`Yup.reach cannot resolve an array item at index: ${a}, in the path: ${e}. because there is no value at that index. `);s=t,t=t&&t[p],n=d?n.spec.types[p]:n.innerType}if(!l){if(!n.fields||!n.fields[u])throw new Error(`The schema does not contain the path: ${e}. (failed at: ${o} which is a type: "${n.type}")`);s=t,t=t&&t[u],n=n.fields[u]}i=u,o=c?"["+a+"]":"."+a}),{schema:n,parent:s,parentPath:i}):{parent:s,parentPath:e,schema:n}}class Fn extends Set{describe(){const e=[];for(const t of this.values())e.push(gt.isRef(t)?t.describe():t);return e}resolveAll(e){let t=[];for(const r of this.values())t.push(e(r));return t}clone(){return new Fn(this.values())}merge(e,t){const r=this.clone();return e.forEach(s=>r.add(s)),t.forEach(s=>r.delete(s)),r}}function Ct(n,e=new Map){if(Ns(n)||!n||typeof n!="object")return n;if(e.has(n))return e.get(n);let t;if(n instanceof Date)t=new Date(n.getTime()),e.set(n,t);else if(n instanceof RegExp)t=new RegExp(n),e.set(n,t);else if(Array.isArray(n)){t=new Array(n.length),e.set(n,t);for(let r=0;r<n.length;r++)t[r]=Ct(n[r],e)}else if(n instanceof Map){t=new Map,e.set(n,t);for(const[r,s]of n.entries())t.set(r,Ct(s,e))}else if(n instanceof Set){t=new Set,e.set(n,t);for(const r of n)t.add(Ct(r,e))}else if(n instanceof Object){t={},e.set(n,t);for(const[r,s]of Object.entries(n))t[r]=Ct(s,e)}else throw Error(`Unable to clone ${n}`);return t}class ae{constructor(e){this.type=void 0,this.deps=[],this.tests=void 0,this.transforms=void 0,this.conditions=[],this._mutate=void 0,this.internalTests={},this._whitelist=new Fn,this._blacklist=new Fn,this.exclusiveTests=Object.create(null),this._typeCheck=void 0,this.spec=void 0,this.tests=[],this.transforms=[],this.withMutation(()=>{this.typeError(ge.notType)}),this.type=e.type,this._typeCheck=e.check,this.spec=Object.assign({strip:!1,strict:!1,abortEarly:!0,recursive:!0,disableStackTrace:!1,nullable:!1,optional:!0,coerce:!0},e==null?void 0:e.spec),this.withMutation(t=>{t.nonNullable()})}get _type(){return this.type}clone(e){if(this._mutate)return e&&Object.assign(this.spec,e),this;const t=Object.create(Object.getPrototypeOf(this));return t.type=this.type,t._typeCheck=this._typeCheck,t._whitelist=this._whitelist.clone(),t._blacklist=this._blacklist.clone(),t.internalTests=Object.assign({},this.internalTests),t.exclusiveTests=Object.assign({},this.exclusiveTests),t.deps=[...this.deps],t.conditions=[...this.conditions],t.tests=[...this.tests],t.transforms=[...this.transforms],t.spec=Ct(Object.assign({},this.spec,e)),t}label(e){let t=this.clone();return t.spec.label=e,t}meta(...e){if(e.length===0)return this.spec.meta;let t=this.clone();return t.spec.meta=Object.assign(t.spec.meta||{},e[0]),t}withMutation(e){let t=this._mutate;this._mutate=!0;let r=e(this);return this._mutate=t,r}concat(e){if(!e||e===this)return this;if(e.type!==this.type&&this.type!=="mixed")throw new TypeError(`You cannot \`concat()\` schema's of different types: ${this.type} and ${e.type}`);let t=this,r=e.clone();const s=Object.assign({},t.spec,r.spec);return r.spec=s,r.internalTests=Object.assign({},t.internalTests,r.internalTests),r._whitelist=t._whitelist.merge(e._whitelist,e._blacklist),r._blacklist=t._blacklist.merge(e._blacklist,e._whitelist),r.tests=t.tests,r.exclusiveTests=t.exclusiveTests,r.withMutation(i=>{e.tests.forEach(o=>{i.test(o.OPTIONS)})}),r.transforms=[...t.transforms,...r.transforms],r}isType(e){return e==null?!!(this.spec.nullable&&e===null||this.spec.optional&&e===void 0):this._typeCheck(e)}resolve(e){let t=this;if(t.conditions.length){let r=t.conditions;t=t.clone(),t.conditions=[],t=r.reduce((s,i)=>i.resolve(s,e),t),t=t.resolve(e)}return t}resolveOptions(e){var t,r,s,i;return Object.assign({},e,{from:e.from||[],strict:(t=e.strict)!=null?t:this.spec.strict,abortEarly:(r=e.abortEarly)!=null?r:this.spec.abortEarly,recursive:(s=e.recursive)!=null?s:this.spec.recursive,disableStackTrace:(i=e.disableStackTrace)!=null?i:this.spec.disableStackTrace})}cast(e,t={}){let r=this.resolve(Object.assign({value:e},t)),s=t.assert==="ignore-optionality",i=r._cast(e,t);if(t.assert!==!1&&!r.isType(i)){if(s&&le(i))return i;let o=Ve(e),a=Ve(i);throw new TypeError(`The value of ${t.path||"field"} could not be cast to a value that satisfies the schema type: "${r.type}". 

attempted value: ${o} 
`+(a!==o?`result of cast: ${a}`:""))}return i}_cast(e,t){let r=e===void 0?e:this.transforms.reduce((s,i)=>i.call(this,s,e,this),e);return r===void 0&&(r=this.getDefault(t)),r}_validate(e,t={},r,s){let{path:i,originalValue:o=e,strict:a=this.spec.strict}=t,c=e;a||(c=this._cast(c,Object.assign({assert:!1},t)));let l=[];for(let u of Object.values(this.internalTests))u&&l.push(u);this.runTests({path:i,value:c,originalValue:o,options:t,tests:l},r,u=>{if(u.length)return s(u,c);this.runTests({path:i,value:c,originalValue:o,options:t,tests:this.tests},r,s)})}runTests(e,t,r){let s=!1,{tests:i,value:o,originalValue:a,path:c,options:l}=e,u=g=>{s||(s=!0,t(g,o))},d=g=>{s||(s=!0,r(g,o))},p=i.length,m=[];if(!p)return d([]);let v={value:o,originalValue:a,path:c,options:l,schema:this};for(let g=0;g<i.length;g++){const y=i[g];y(v,u,function(_){_&&(Array.isArray(_)?m.push(..._):m.push(_)),--p<=0&&d(m)})}}asNestedTest({key:e,index:t,parent:r,parentPath:s,originalParent:i,options:o}){const a=e??t;if(a==null)throw TypeError("Must include `key` or `index` for nested validations");const c=typeof a=="number";let l=r[a];const u=Object.assign({},o,{strict:!0,parent:r,value:l,originalValue:i[a],key:void 0,[c?"index":"key"]:a,path:c||a.includes(".")?`${s||""}[${c?a:`"${a}"`}]`:(s?`${s}.`:"")+e});return(d,p,m)=>this.resolve(u)._validate(l,u,p,m)}validate(e,t){var r;let s=this.resolve(Object.assign({},t,{value:e})),i=(r=t==null?void 0:t.disableStackTrace)!=null?r:s.spec.disableStackTrace;return new Promise((o,a)=>s._validate(e,t,(c,l)=>{ee.isError(c)&&(c.value=l),a(c)},(c,l)=>{c.length?a(new ee(c,l,void 0,void 0,i)):o(l)}))}validateSync(e,t){var r;let s=this.resolve(Object.assign({},t,{value:e})),i,o=(r=t==null?void 0:t.disableStackTrace)!=null?r:s.spec.disableStackTrace;return s._validate(e,Object.assign({},t,{sync:!0}),(a,c)=>{throw ee.isError(a)&&(a.value=c),a},(a,c)=>{if(a.length)throw new ee(a,e,void 0,void 0,o);i=c}),i}isValid(e,t){return this.validate(e,t).then(()=>!0,r=>{if(ee.isError(r))return!1;throw r})}isValidSync(e,t){try{return this.validateSync(e,t),!0}catch(r){if(ee.isError(r))return!1;throw r}}_getDefault(e){let t=this.spec.default;return t==null?t:typeof t=="function"?t.call(this,e):Ct(t)}getDefault(e){return this.resolve(e||{})._getDefault(e)}default(e){return arguments.length===0?this._getDefault():this.clone({default:e})}strict(e=!0){return this.clone({strict:e})}nullability(e,t){const r=this.clone({nullable:e});return r.internalTests.nullable=Et({message:t,name:"nullable",test(s){return s===null?this.schema.spec.nullable:!0}}),r}optionality(e,t){const r=this.clone({optional:e});return r.internalTests.optionality=Et({message:t,name:"optionality",test(s){return s===void 0?this.schema.spec.optional:!0}}),r}optional(){return this.optionality(!0)}defined(e=ge.defined){return this.optionality(!1,e)}nullable(){return this.nullability(!0)}nonNullable(e=ge.notNull){return this.nullability(!1,e)}required(e=ge.required){return this.clone().withMutation(t=>t.nonNullable(e).defined(e))}notRequired(){return this.clone().withMutation(e=>e.nullable().optional())}transform(e){let t=this.clone();return t.transforms.push(e),t}test(...e){let t;if(e.length===1?typeof e[0]=="function"?t={test:e[0]}:t=e[0]:e.length===2?t={name:e[0],test:e[1]}:t={name:e[0],message:e[1],test:e[2]},t.message===void 0&&(t.message=ge.default),typeof t.test!="function")throw new TypeError("`test` is a required parameters");let r=this.clone(),s=Et(t),i=t.exclusive||t.name&&r.exclusiveTests[t.name]===!0;if(t.exclusive&&!t.name)throw new TypeError("Exclusive tests must provide a unique `name` identifying the test");return t.name&&(r.exclusiveTests[t.name]=!!t.exclusive),r.tests=r.tests.filter(o=>!(o.OPTIONS.name===t.name&&(i||o.OPTIONS.test===s.OPTIONS.test))),r.tests.push(s),r}when(e,t){!Array.isArray(e)&&typeof e!="string"&&(t=e,e=".");let r=this.clone(),s=kc(e).map(i=>new gt(i));return s.forEach(i=>{i.isSibling&&r.deps.push(i.key)}),r.conditions.push(typeof t=="function"?new Ln(s,t):Ln.fromOptions(s,t)),r}typeError(e){let t=this.clone();return t.internalTests.typeError=Et({message:e,name:"typeError",skipAbsent:!0,test(r){return this.schema._typeCheck(r)?!0:this.createError({params:{type:this.schema.type}})}}),t}oneOf(e,t=ge.oneOf){let r=this.clone();return e.forEach(s=>{r._whitelist.add(s),r._blacklist.delete(s)}),r.internalTests.whiteList=Et({message:t,name:"oneOf",skipAbsent:!0,test(s){let i=this.schema._whitelist,o=i.resolveAll(this.resolve);return o.includes(s)?!0:this.createError({params:{values:Array.from(i).join(", "),resolved:o}})}}),r}notOneOf(e,t=ge.notOneOf){let r=this.clone();return e.forEach(s=>{r._blacklist.add(s),r._whitelist.delete(s)}),r.internalTests.blacklist=Et({message:t,name:"notOneOf",test(s){let i=this.schema._blacklist,o=i.resolveAll(this.resolve);return o.includes(s)?this.createError({params:{values:Array.from(i).join(", "),resolved:o}}):!0}}),r}strip(e=!0){let t=this.clone();return t.spec.strip=e,t}describe(e){const t=(e?this.resolve(e):this).clone(),{label:r,meta:s,optional:i,nullable:o}=t.spec;return{meta:s,label:r,optional:i,nullable:o,default:t.getDefault(e),type:t.type,oneOf:t._whitelist.describe(),notOneOf:t._blacklist.describe(),tests:t.tests.map(c=>({name:c.OPTIONS.name,params:c.OPTIONS.params})).filter((c,l,u)=>u.findIndex(d=>d.name===c.name)===l)}}}ae.prototype.__isYupSchema__=!0;for(const n of["validate","validateSync"])ae.prototype[`${n}At`]=function(e,t,r={}){const{parent:s,parentPath:i,schema:o}=Ag(this,e,t,r.context);return o[n](s&&s[i],Object.assign({},r,{parent:s,path:e}))};for(const n of["equals","is"])ae.prototype[n]=ae.prototype.oneOf;for(const n of["not","nope"])ae.prototype[n]=ae.prototype.notOneOf;function ss(){return new jc}class jc extends ae{constructor(){super({type:"boolean",check(e){return e instanceof Boolean&&(e=e.valueOf()),typeof e=="boolean"}}),this.withMutation(()=>{this.transform((e,t,r)=>{if(r.spec.coerce&&!r.isType(e)){if(/^(true|1)$/i.test(String(e)))return!0;if(/^(false|0)$/i.test(String(e)))return!1}return e})})}isTrue(e=rs.isValue){return this.test({message:e,name:"is-value",exclusive:!0,params:{value:"true"},test(t){return le(t)||t===!0}})}isFalse(e=rs.isValue){return this.test({message:e,name:"is-value",exclusive:!0,params:{value:"false"},test(t){return le(t)||t===!1}})}default(e){return super.default(e)}defined(e){return super.defined(e)}optional(){return super.optional()}required(e){return super.required(e)}notRequired(){return super.notRequired()}nullable(){return super.nullable()}nonNullable(e){return super.nonNullable(e)}strip(e){return super.strip(e)}}ss.prototype=jc.prototype;const Tg=/^(\d{4}|[+-]\d{6})(?:-?(\d{2})(?:-?(\d{2}))?)?(?:[ T]?(\d{2}):?(\d{2})(?::?(\d{2})(?:[,.](\d{1,}))?)?(?:(Z)|([+-])(\d{2})(?::?(\d{2}))?)?)?$/;function jg(n){const e=is(n);if(!e)return Date.parse?Date.parse(n):Number.NaN;if(e.z===void 0&&e.plusMinus===void 0)return new Date(e.year,e.month,e.day,e.hour,e.minute,e.second,e.millisecond).valueOf();let t=0;return e.z!=="Z"&&e.plusMinus!==void 0&&(t=e.hourOffset*60+e.minuteOffset,e.plusMinus==="+"&&(t=0-t)),Date.UTC(e.year,e.month,e.day,e.hour,e.minute+t,e.second,e.millisecond)}function is(n){var e,t;const r=Tg.exec(n);return r?{year:Ee(r[1]),month:Ee(r[2],1)-1,day:Ee(r[3],1),hour:Ee(r[4]),minute:Ee(r[5]),second:Ee(r[6]),millisecond:r[7]?Ee(r[7].substring(0,3)):0,precision:(e=(t=r[7])==null?void 0:t.length)!=null?e:void 0,z:r[8]||void 0,plusMinus:r[9]||void 0,hourOffset:Ee(r[10]),minuteOffset:Ee(r[11])}:null}function Ee(n,e=0){return Number(n)||e}let Rg=/^[a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,$g=/^((https?|ftp):)?\/\/(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(\#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i,Ng=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i,Dg="^\\d{4}-\\d{2}-\\d{2}",Ig="\\d{2}:\\d{2}:\\d{2}",Lg="(([+-]\\d{2}(:?\\d{2})?)|Z)",Fg=new RegExp(`${Dg}T${Ig}(\\.\\d+)?${Lg}$`),Mg=n=>le(n)||n===n.trim(),Ug={}.toString();function tt(){return new Rc}class Rc extends ae{constructor(){super({type:"string",check(e){return e instanceof String&&(e=e.valueOf()),typeof e=="string"}}),this.withMutation(()=>{this.transform((e,t,r)=>{if(!r.spec.coerce||r.isType(e)||Array.isArray(e))return e;const s=e!=null&&e.toString?e.toString():e;return s===Ug?e:s})})}required(e){return super.required(e).withMutation(t=>t.test({message:e||ge.required,name:"required",skipAbsent:!0,test:r=>!!r.length}))}notRequired(){return super.notRequired().withMutation(e=>(e.tests=e.tests.filter(t=>t.OPTIONS.name!=="required"),e))}length(e,t=Q.length){return this.test({message:t,name:"length",exclusive:!0,params:{length:e},skipAbsent:!0,test(r){return r.length===this.resolve(e)}})}min(e,t=Q.min){return this.test({message:t,name:"min",exclusive:!0,params:{min:e},skipAbsent:!0,test(r){return r.length>=this.resolve(e)}})}max(e,t=Q.max){return this.test({name:"max",exclusive:!0,message:t,params:{max:e},skipAbsent:!0,test(r){return r.length<=this.resolve(e)}})}matches(e,t){let r=!1,s,i;return t&&(typeof t=="object"?{excludeEmptyString:r=!1,message:s,name:i}=t:s=t),this.test({name:i||"matches",message:s||Q.matches,params:{regex:e},skipAbsent:!0,test:o=>o===""&&r||o.search(e)!==-1})}email(e=Q.email){return this.matches(Rg,{name:"email",message:e,excludeEmptyString:!0})}url(e=Q.url){return this.matches($g,{name:"url",message:e,excludeEmptyString:!0})}uuid(e=Q.uuid){return this.matches(Ng,{name:"uuid",message:e,excludeEmptyString:!1})}datetime(e){let t="",r,s;return e&&(typeof e=="object"?{message:t="",allowOffset:r=!1,precision:s=void 0}=e:t=e),this.matches(Fg,{name:"datetime",message:t||Q.datetime,excludeEmptyString:!0}).test({name:"datetime_offset",message:t||Q.datetime_offset,params:{allowOffset:r},skipAbsent:!0,test:i=>{if(!i||r)return!0;const o=is(i);return o?!!o.z:!1}}).test({name:"datetime_precision",message:t||Q.datetime_precision,params:{precision:s},skipAbsent:!0,test:i=>{if(!i||s==null)return!0;const o=is(i);return o?o.precision===s:!1}})}ensure(){return this.default("").transform(e=>e===null?"":e)}trim(e=Q.trim){return this.transform(t=>t!=null?t.trim():t).test({message:e,name:"trim",test:Mg})}lowercase(e=Q.lowercase){return this.transform(t=>le(t)?t:t.toLowerCase()).test({message:e,name:"string_case",exclusive:!0,skipAbsent:!0,test:t=>le(t)||t===t.toLowerCase()})}uppercase(e=Q.uppercase){return this.transform(t=>le(t)?t:t.toUpperCase()).test({message:e,name:"string_case",exclusive:!0,skipAbsent:!0,test:t=>le(t)||t===t.toUpperCase()})}}tt.prototype=Rc.prototype;let Bg=n=>n!=+n;function $c(){return new Nc}class Nc extends ae{constructor(){super({type:"number",check(e){return e instanceof Number&&(e=e.valueOf()),typeof e=="number"&&!Bg(e)}}),this.withMutation(()=>{this.transform((e,t,r)=>{if(!r.spec.coerce)return e;let s=e;if(typeof s=="string"){if(s=s.replace(/\s/g,""),s==="")return NaN;s=+s}return r.isType(s)||s===null?s:parseFloat(s)})})}min(e,t=De.min){return this.test({message:t,name:"min",exclusive:!0,params:{min:e},skipAbsent:!0,test(r){return r>=this.resolve(e)}})}max(e,t=De.max){return this.test({message:t,name:"max",exclusive:!0,params:{max:e},skipAbsent:!0,test(r){return r<=this.resolve(e)}})}lessThan(e,t=De.lessThan){return this.test({message:t,name:"max",exclusive:!0,params:{less:e},skipAbsent:!0,test(r){return r<this.resolve(e)}})}moreThan(e,t=De.moreThan){return this.test({message:t,name:"min",exclusive:!0,params:{more:e},skipAbsent:!0,test(r){return r>this.resolve(e)}})}positive(e=De.positive){return this.moreThan(0,e)}negative(e=De.negative){return this.lessThan(0,e)}integer(e=De.integer){return this.test({name:"integer",message:e,skipAbsent:!0,test:t=>Number.isInteger(t)})}truncate(){return this.transform(e=>le(e)?e:e|0)}round(e){var t;let r=["ceil","floor","round","trunc"];if(e=((t=e)==null?void 0:t.toLowerCase())||"round",e==="trunc")return this.truncate();if(r.indexOf(e.toLowerCase())===-1)throw new TypeError("Only valid options for round() are: "+r.join(", "));return this.transform(s=>le(s)?s:Math[e](s))}}$c.prototype=Nc.prototype;let Dc=new Date(""),zg=n=>Object.prototype.toString.call(n)==="[object Date]";function Ds(){return new on}class on extends ae{constructor(){super({type:"date",check(e){return zg(e)&&!isNaN(e.getTime())}}),this.withMutation(()=>{this.transform((e,t,r)=>!r.spec.coerce||r.isType(e)||e===null?e:(e=jg(e),isNaN(e)?on.INVALID_DATE:new Date(e)))})}prepareParam(e,t){let r;if(gt.isRef(e))r=e;else{let s=this.cast(e);if(!this._typeCheck(s))throw new TypeError(`\`${t}\` must be a Date or a value that can be \`cast()\` to a Date`);r=s}return r}min(e,t=ns.min){let r=this.prepareParam(e,"min");return this.test({message:t,name:"min",exclusive:!0,params:{min:e},skipAbsent:!0,test(s){return s>=this.resolve(r)}})}max(e,t=ns.max){let r=this.prepareParam(e,"max");return this.test({message:t,name:"max",exclusive:!0,params:{max:e},skipAbsent:!0,test(s){return s<=this.resolve(r)}})}}on.INVALID_DATE=Dc;Ds.prototype=on.prototype;Ds.INVALID_DATE=Dc;function Wg(n,e=[]){let t=[],r=new Set,s=new Set(e.map(([o,a])=>`${o}-${a}`));function i(o,a){let c=ot.split(o)[0];r.add(c),s.has(`${a}-${c}`)||t.push([a,c])}for(const o of Object.keys(n)){let a=n[o];r.add(o),gt.isRef(a)&&a.isSibling?i(a.path,o):Ns(a)&&"deps"in a&&a.deps.forEach(c=>i(c,o))}return bg.array(Array.from(r),t).reverse()}function eo(n,e){let t=1/0;return n.some((r,s)=>{var i;if((i=e.path)!=null&&i.includes(r))return t=s,!0}),t}function Ic(n){return(e,t)=>eo(n,e)-eo(n,t)}const Vg=(n,e,t)=>{if(typeof n!="string")return n;let r=n;try{r=JSON.parse(n)}catch{}return t.isType(r)?r:n};function Pn(n){if("fields"in n){const e={};for(const[t,r]of Object.entries(n.fields))e[t]=Pn(r);return n.setFields(e)}if(n.type==="array"){const e=n.optional();return e.innerType&&(e.innerType=Pn(e.innerType)),e}return n.type==="tuple"?n.optional().clone({types:n.spec.types.map(Pn)}):"optional"in n?n.optional():n}const qg=(n,e)=>{const t=[...ot.normalizePath(e)];if(t.length===1)return t[0]in n;let r=t.pop(),s=ot.getter(ot.join(t),!0)(n);return!!(s&&r in s)};let to=n=>Object.prototype.toString.call(n)==="[object Object]";function no(n,e){let t=Object.keys(n.fields);return Object.keys(e).filter(r=>t.indexOf(r)===-1)}const Hg=Ic([]);function Is(n){return new Lc(n)}class Lc extends ae{constructor(e){super({type:"object",check(t){return to(t)||typeof t=="function"}}),this.fields=Object.create(null),this._sortErrors=Hg,this._nodes=[],this._excludedEdges=[],this.withMutation(()=>{e&&this.shape(e)})}_cast(e,t={}){var r;let s=super._cast(e,t);if(s===void 0)return this.getDefault(t);if(!this._typeCheck(s))return s;let i=this.fields,o=(r=t.stripUnknown)!=null?r:this.spec.noUnknown,a=[].concat(this._nodes,Object.keys(s).filter(d=>!this._nodes.includes(d))),c={},l=Object.assign({},t,{parent:c,__validating:t.__validating||!1}),u=!1;for(const d of a){let p=i[d],m=d in s;if(p){let v,g=s[d];l.path=(t.path?`${t.path}.`:"")+d,p=p.resolve({value:g,context:t.context,parent:c});let y=p instanceof ae?p.spec:void 0,b=y==null?void 0:y.strict;if(y!=null&&y.strip){u=u||d in s;continue}v=!t.__validating||!b?p.cast(s[d],l):s[d],v!==void 0&&(c[d]=v)}else m&&!o&&(c[d]=s[d]);(m!==d in c||c[d]!==s[d])&&(u=!0)}return u?c:s}_validate(e,t={},r,s){let{from:i=[],originalValue:o=e,recursive:a=this.spec.recursive}=t;t.from=[{schema:this,value:o},...i],t.__validating=!0,t.originalValue=o,super._validate(e,t,r,(c,l)=>{if(!a||!to(l)){s(c,l);return}o=o||l;let u=[];for(let d of this._nodes){let p=this.fields[d];!p||gt.isRef(p)||u.push(p.asNestedTest({options:t,key:d,parent:l,parentPath:t.path,originalParent:o}))}this.runTests({tests:u,value:l,originalValue:o,options:t},r,d=>{s(d.sort(this._sortErrors).concat(c),l)})})}clone(e){const t=super.clone(e);return t.fields=Object.assign({},this.fields),t._nodes=this._nodes,t._excludedEdges=this._excludedEdges,t._sortErrors=this._sortErrors,t}concat(e){let t=super.concat(e),r=t.fields;for(let[s,i]of Object.entries(this.fields)){const o=r[s];r[s]=o===void 0?i:o}return t.withMutation(s=>s.setFields(r,[...this._excludedEdges,...e._excludedEdges]))}_getDefault(e){if("default"in this.spec)return super._getDefault(e);if(!this._nodes.length)return;let t={};return this._nodes.forEach(r=>{var s;const i=this.fields[r];let o=e;(s=o)!=null&&s.value&&(o=Object.assign({},o,{parent:o.value,value:o.value[r]})),t[r]=i&&"getDefault"in i?i.getDefault(o):void 0}),t}setFields(e,t){let r=this.clone();return r.fields=e,r._nodes=Wg(e,t),r._sortErrors=Ic(Object.keys(e)),t&&(r._excludedEdges=t),r}shape(e,t=[]){return this.clone().withMutation(r=>{let s=r._excludedEdges;return t.length&&(Array.isArray(t[0])||(t=[t]),s=[...r._excludedEdges,...t]),r.setFields(Object.assign(r.fields,e),s)})}partial(){const e={};for(const[t,r]of Object.entries(this.fields))e[t]="optional"in r&&r.optional instanceof Function?r.optional():r;return this.setFields(e)}deepPartial(){return Pn(this)}pick(e){const t={};for(const r of e)this.fields[r]&&(t[r]=this.fields[r]);return this.setFields(t,this._excludedEdges.filter(([r,s])=>e.includes(r)&&e.includes(s)))}omit(e){const t=[];for(const r of Object.keys(this.fields))e.includes(r)||t.push(r);return this.pick(t)}from(e,t,r){let s=ot.getter(e,!0);return this.transform(i=>{if(!i)return i;let o=i;return qg(i,e)&&(o=Object.assign({},i),r||delete o[e],o[t]=s(i)),o})}json(){return this.transform(Vg)}exact(e){return this.test({name:"exact",exclusive:!0,message:e||kn.exact,test(t){if(t==null)return!0;const r=no(this.schema,t);return r.length===0||this.createError({params:{properties:r.join(", ")}})}})}stripUnknown(){return this.clone({noUnknown:!0})}noUnknown(e=!0,t=kn.noUnknown){typeof e!="boolean"&&(t=e,e=!0);let r=this.test({name:"noUnknown",exclusive:!0,message:t,test(s){if(s==null)return!0;const i=no(this.schema,s);return!e||i.length===0||this.createError({params:{unknown:i.join(", ")}})}});return r.spec.noUnknown=e,r}unknown(e=!0,t=kn.noUnknown){return this.noUnknown(!e,t)}transformKeys(e){return this.transform(t=>{if(!t)return t;const r={};for(const s of Object.keys(t))r[e(s)]=t[s];return r})}camelCase(){return this.transformKeys(Sr.camelCase)}snakeCase(){return this.transformKeys(Sr.snakeCase)}constantCase(){return this.transformKeys(e=>Sr.snakeCase(e).toUpperCase())}describe(e){const t=(e?this.resolve(e):this).clone(),r=super.describe(e);r.fields={};for(const[i,o]of Object.entries(t.fields)){var s;let a=e;(s=a)!=null&&s.value&&(a=Object.assign({},a,{parent:a.value,value:a.value[i]})),r.fields[i]=o.describe(a)}return r}}Is.prototype=Lc.prototype;const Kg=Is({patient_id:tt().required("مطلوب"),date:Ds().required("مطلوب"),time:tt().nullable()}),Gg={patient_id:"",date:"",time:null};function Fc(){return h.jsx("div",{className:"p-5",children:h.jsx(Wa,{})})}function ro({setIsOpen:n,patientData:e,appointmentId:t}){const{isFetching:r,data:s}=Fr({queryKey:["patients-select"],queryFn:()=>Qm(),enabled:!t,select:g=>g.data}),{isFetching:i,data:o}=Fr({queryKey:["appointment",t],queryFn:()=>Jd(t??""),enabled:!!t,select:g=>{var y;return(y=g.data)==null?void 0:y[0]}}),a=t?o==null?void 0:o.patient:e,c=[{value:"test",label:"test"}];s==null||s.map(g=>({label:g.name,value:`${g.id}`}));const l=It(),{mutate:u,isPending:d}=Bn({mutationFn:t?Zd:Qd,onSuccess:()=>{l.invalidateQueries({queryKey:["appointments"]}),n(!1)}});if(i)return h.jsx(Fc,{});const p=a==null?void 0:a.name,m=a==null?void 0:a.id,v=t?o:{...Gg,patient_id:m};return h.jsx("div",{className:"h-full overflow-auto px-2",children:h.jsx(fo,{initialValues:v,validationSchema:Kg,onSubmit:g=>u(g),children:h.jsxs(ho,{className:"flex flex-col justify-between h-full",children:[h.jsxs(Ec,{children:[h.jsx(it,{label:"اسم المريض",name:"patientId",value:p,defaultValue:p,disabled:!0,className:"[&>div>input]:!opacity-100"}),h.jsx(it,{label:"التاريخ",name:"date",type:"date"}),h.jsx(it,{label:"الوقت",name:"time",type:"time"})]}),h.jsx(_c,{label:t?"تعديل":"حجز",disabled:d})]})})})}var Mc=(n=>(n.APPOINTMENT="appointment",n.PATIENT="patient",n))(Mc||{});function Jg({className:n}){return h.jsx("svg",{width:"27px",height:"27px",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:T("stroke-black",n),children:h.jsx("path",{d:"M12 7V12L9.5 13.5M21 12C21 16.9706 16.9706 21 12 21C7.02944 21 3 16.9706 3 12C3 7.02944 7.02944 3 12 3C16.9706 3 21 7.02944 21 12Z",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})}function Qg({onClick:n,className:e}){return h.jsx("span",{onClick:n,className:T("text-sm text-primary hover:text-secondary transition font-semibold hover:underline hover:underline-offset-4",e),children:"موعد جديد"})}function Zg({yesCallBack:n,noCallBack:e,patientName:t,isDisabled:r}){return h.jsxs("div",{className:"flex flex-col gap-7 justify-center items-center",children:[h.jsxs("div",{className:"flex flex-col gap-3 justify-center items-center",children:[h.jsx("span",{className:"font-bold text-xl",children:"هل تريد إلغاء موعد"}),h.jsx("span",{className:"font-semibold text-primary",children:t})]}),h.jsxs("div",{className:"flex items-center gap-6",children:[h.jsx("button",{disabled:r,className:" border-secondary font-medium w-20 text-secondary hover:bg-secondary hover:text-white transition rounded-xl h-fit px-5 py-2 border",onClick:n,children:"نعم"}),h.jsx("button",{disabled:r,className:" border-foreground font-medium w-20 text-foreground hover:bg-foreground hover:text-white transition rounded-xl h-fit px-5 py-2 border",onClick:e,children:"لا"})]})]})}function Yg({appointmentId:n,patientName:e}){const[t,r]=f.useState(!1),s=It(),{mutate:i,isPending:o}=Bn({mutationFn:Yd,onSuccess:()=>{r(!1),s.invalidateQueries({queryKey:["appointments"]})}});return h.jsx(As,{title:"إلغاء موعد",className:" md:w-2/5 lg:w-[25.5rem] w-11/12 h-fit overflow-hidden rounded-lg",isOpen:t,toggle:a=>r(a??!1),trigger:h.jsx("div",{className:"border-secondary font-medium text-secondary hover:bg-secondary hover:text-white transition rounded-xl h-fit text-sm px-5 py-2 border",children:"إلغاء"}),children:h.jsx(Zg,{yesCallBack:()=>i(n),noCallBack:()=>r(!1),patientName:e,isDisabled:o})})}function Uc({className:n}){return h.jsx("svg",{width:"27px",height:"27px",className:T("",n),viewBox:"0 0 48 48",version:"1.1",xmlns:"http://www.w3.org/2000/svg",children:h.jsx("g",{id:"Icons",stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd",children:h.jsx("g",{id:"Color-",transform:"translate(-700.000000, -360.000000)",fill:"#67C15E",children:h.jsx("path",{d:"M723.993033,360 C710.762252,360 700,370.765287 700,383.999801 C700,389.248451 701.692661,394.116025 704.570026,398.066947 L701.579605,406.983798 L710.804449,404.035539 C714.598605,406.546975 719.126434,408 724.006967,408 C737.237748,408 748,397.234315 748,384.000199 C748,370.765685 737.237748,360.000398 724.006967,360.000398 L723.993033,360.000398 L723.993033,360 Z M717.29285,372.190836 C716.827488,371.07628 716.474784,371.034071 715.769774,371.005401 C715.529728,370.991464 715.262214,370.977527 714.96564,370.977527 C714.04845,370.977527 713.089462,371.245514 712.511043,371.838033 C711.806033,372.557577 710.056843,374.23638 710.056843,377.679202 C710.056843,381.122023 712.567571,384.451756 712.905944,384.917648 C713.258648,385.382743 717.800808,392.55031 724.853297,395.471492 C730.368379,397.757149 732.00491,397.545307 733.260074,397.27732 C735.093658,396.882308 737.393002,395.527239 737.971421,393.891043 C738.54984,392.25405 738.54984,390.857171 738.380255,390.560912 C738.211068,390.264652 737.745308,390.095816 737.040298,389.742615 C736.335288,389.389811 732.90737,387.696673 732.25849,387.470894 C731.623543,387.231179 731.017259,387.315995 730.537963,387.99333 C729.860819,388.938653 729.198006,389.89831 728.661785,390.476494 C728.238619,390.928051 727.547144,390.984595 726.969123,390.744481 C726.193254,390.420348 724.021298,389.657798 721.340985,387.273388 C719.267356,385.42535 717.856938,383.125756 717.448104,382.434484 C717.038871,381.729275 717.405907,381.319529 717.729948,380.938852 C718.082653,380.501232 718.421026,380.191036 718.77373,379.781688 C719.126434,379.372738 719.323884,379.160897 719.549599,378.681068 C719.789645,378.215575 719.62006,377.735746 719.450874,377.382942 C719.281687,377.030139 717.871269,373.587317 717.29285,372.190836 Z",id:"Whatsapp"})})})})}function Xg(n,e){return f.useReducer((t,r)=>e[t][r]??t,n)}var Bc=n=>{const{present:e,children:t}=n,r=ey(e),s=typeof t=="function"?t({present:r.isPresent}):f.Children.only(t),i=Ma(r.ref,ty(s));return typeof t=="function"||r.isPresent?f.cloneElement(s,{ref:i}):null};Bc.displayName="Presence";function ey(n){const[e,t]=f.useState(),r=f.useRef({}),s=f.useRef(n),i=f.useRef("none"),o=n?"mounted":"unmounted",[a,c]=Xg(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return f.useEffect(()=>{const l=xn(r.current);i.current=a==="mounted"?l:"none"},[a]),Yr(()=>{const l=r.current,u=s.current;if(u!==n){const p=i.current,m=xn(l);n?c("MOUNT"):m==="none"||(l==null?void 0:l.display)==="none"?c("UNMOUNT"):c(u&&p!==m?"ANIMATION_OUT":"UNMOUNT"),s.current=n}},[n,c]),Yr(()=>{if(e){let l;const u=e.ownerDocument.defaultView??window,d=m=>{const g=xn(r.current).includes(m.animationName);if(m.target===e&&g&&(c("ANIMATION_END"),!s.current)){const y=e.style.animationFillMode;e.style.animationFillMode="forwards",l=u.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=y)})}},p=m=>{m.target===e&&(i.current=xn(r.current))};return e.addEventListener("animationstart",p),e.addEventListener("animationcancel",d),e.addEventListener("animationend",d),()=>{u.clearTimeout(l),e.removeEventListener("animationstart",p),e.removeEventListener("animationcancel",d),e.removeEventListener("animationend",d)}}else c("ANIMATION_END")},[e,c]),{isPresent:["mounted","unmountSuspended"].includes(a),ref:f.useCallback(l=>{l&&(r.current=getComputedStyle(l)),t(l)},[])}}function xn(n){return(n==null?void 0:n.animationName)||"none"}function ty(n){var r,s;let e=(r=Object.getOwnPropertyDescriptor(n.props,"ref"))==null?void 0:r.get,t=e&&"isReactWarning"in e&&e.isReactWarning;return t?n.ref:(e=(s=Object.getOwnPropertyDescriptor(n,"ref"))==null?void 0:s.get,t=e&&"isReactWarning"in e&&e.isReactWarning,t?n.props.ref:n.props.ref||n.ref)}var Ls="Checkbox",[ny,i0]=qp(Ls),[ry,sy]=ny(Ls),zc=f.forwardRef((n,e)=>{const{__scopeCheckbox:t,name:r,checked:s,defaultChecked:i,required:o,disabled:a,value:c="on",onCheckedChange:l,form:u,...d}=n,[p,m]=f.useState(null),v=Ma(e,w=>m(w)),g=f.useRef(!1),y=p?u||!!p.closest("form"):!0,[b=!1,_]=Xp({prop:s,defaultProp:i,onChange:l}),E=f.useRef(b);return f.useEffect(()=>{const w=p==null?void 0:p.form;if(w){const C=()=>_(E.current);return w.addEventListener("reset",C),()=>w.removeEventListener("reset",C)}},[p,_]),h.jsxs(ry,{scope:t,state:b,disabled:a,children:[h.jsx(Ba.button,{type:"button",role:"checkbox","aria-checked":qe(b)?"mixed":b,"aria-required":o,"data-state":qc(b),"data-disabled":a?"":void 0,disabled:a,value:c,...d,ref:v,onKeyDown:Mi(n.onKeyDown,w=>{w.key==="Enter"&&w.preventDefault()}),onClick:Mi(n.onClick,w=>{_(C=>qe(C)?!0:!C),y&&(g.current=w.isPropagationStopped(),g.current||w.stopPropagation())})}),y&&h.jsx(iy,{control:p,bubbles:!g.current,name:r,value:c,checked:b,required:o,disabled:a,form:u,style:{transform:"translateX(-100%)"},defaultChecked:qe(i)?!1:i})]})});zc.displayName=Ls;var Wc="CheckboxIndicator",Vc=f.forwardRef((n,e)=>{const{__scopeCheckbox:t,forceMount:r,...s}=n,i=sy(Wc,t);return h.jsx(Bc,{present:r||qe(i.state)||i.state===!0,children:h.jsx(Ba.span,{"data-state":qc(i.state),"data-disabled":i.disabled?"":void 0,...s,ref:e,style:{pointerEvents:"none",...n.style}})})});Vc.displayName=Wc;var iy=n=>{const{control:e,checked:t,bubbles:r=!0,defaultChecked:s,...i}=n,o=f.useRef(null),a=tm(t),c=Yp(e);f.useEffect(()=>{const u=o.current,d=window.HTMLInputElement.prototype,m=Object.getOwnPropertyDescriptor(d,"checked").set;if(a!==t&&m){const v=new Event("click",{bubbles:r});u.indeterminate=qe(t),m.call(u,qe(t)?!1:t),u.dispatchEvent(v)}},[a,t,r]);const l=f.useRef(qe(t)?!1:t);return h.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:s??l.current,...i,tabIndex:-1,ref:o,style:{...n.style,...c,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function qe(n){return n==="indeterminate"}function qc(n){return qe(n)?"indeterminate":n?"checked":"unchecked"}var Hc=zc,oy=Vc;const Kc=f.forwardRef(({className:n,...e},t)=>h.jsx(Hc,{ref:t,className:T("peer size-5 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",n),...e,children:h.jsx(oy,{className:T("flex items-center justify-center text-current"),children:h.jsx(nm,{className:"h-4 w-4"})})}));Kc.displayName=Hc.displayName;function ay(n){const e=fl({...n}),t=e[0].value,r=e[2].setValue;return h.jsx(Kc,{checked:t,onCheckedChange:s=>{r(s)},...n,...e})}const cy=Is({name:tt().required("مطلوب"),age:$c().typeError("أرقام فقط").required("مطلوب").min(3,"العمر غير صحيح").max(120,"العمر غير صحيح"),address:tt(),phone1:tt().typeError("أرقام فقط").required("مطلوب").matches(/^01[0-25]\d{8}$/,"رقم غير صحيح"),phone1_has_whatsapp:ss(),phone2:tt().typeError("أرقام فقط").matches(/^01[0-25]\d{8}$/,"رقم غير صحيح"),phone2_has_whatsapp:ss().nullable()}),ly={name:"",age:"",address:"",phone1:"",phone1_has_whatsapp:!1,phone2:"",phone2_has_whatsapp:!1};function uy({setIsOpen:n,patientId:e}){var l;const{isFetching:t,isError:r,data:s}=Fr({queryKey:["patient",e],queryFn:()=>Zm(e??""),enabled:!!e}),i=It(),{mutate:o,isPending:a}=Bn({mutationFn:e?Xm:Ym,onSuccess:()=>{n(!1),i.invalidateQueries({queryKey:["patients"]})}});if(t)return h.jsx(Fc,{});if(r)return h.jsx("p",{className:"text-red-500 font-semibold",children:dt});const c=(l=s==null?void 0:s.data)==null?void 0:l[0];return h.jsx("div",{className:"h-full overflow-auto px-2",children:h.jsx(fo,{initialValues:e?c:ly,validationSchema:cy,onSubmit:u=>o(u),validateOnChange:!0,children:({values:u,errors:d})=>{const p=!!u.phone2,m=d.phone2??!1,v=p?!!m:!0,g=!!u.phone1,y=d.phone1??!1,b=g?!!y:!0;return h.jsxs(ho,{children:[h.jsxs(Ec,{children:[h.jsx(it,{label:"الاسم",name:"name"}),h.jsx(it,{onKeyDown:hl,label:"العمر",name:"age",inputMode:"numeric"}),h.jsx(so,{label:"رقم الهاتف",name:"phone1",onChange:()=>{},hasWhatsappDisabled:b}),h.jsx(so,{label:"رقم هاتف آخر (اختياري)",name:"phone2",onChange:()=>{},hasWhatsappDisabled:v}),h.jsx(it,{label:"العنوان (اختياري)",name:"address"})]}),h.jsx(_c,{label:e?"تعديل":"إضافة",disabled:a})]})}})})}function so({label:n,name:e,hasWhatsappDisabled:t}){return h.jsxs("div",{className:"flex gap-2",children:[h.jsx(it,{inputMode:"numeric",pattern:"[0-9]*",label:n,name:e,className:"flex-1 w-full"}),h.jsxs("div",{className:"flex gap-1.5 items-center mt-2",children:[h.jsx(Uc,{className:"max-sm:size-5"}),h.jsx(ay,{className:"max-sm:size-4",name:`${e}_has_whatsapp`,disabled:t})]})]})}function dy({className:n}){return h.jsxs("svg",{width:"27px",height:"27px",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg",className:T("",n),children:[h.jsx("path",{d:"M905.92 237.76a32 32 0 0 0-52.48 36.48A416 416 0 1 1 96 512a418.56 418.56 0 0 1 297.28-398.72 32 32 0 1 0-18.24-61.44A480 480 0 1 0 992 512a477.12 477.12 0 0 0-86.08-274.24z"}),h.jsx("path",{d:"M630.72 113.28A413.76 413.76 0 0 1 768 185.28a32 32 0 0 0 39.68-50.24 476.8 476.8 0 0 0-160-83.2 32 32 0 0 0-18.24 61.44zM489.28 86.72a36.8 36.8 0 0 0 10.56 6.72 30.08 30.08 0 0 0 24.32 0 37.12 37.12 0 0 0 10.56-6.72A32 32 0 0 0 544 64a33.6 33.6 0 0 0-9.28-22.72A32 32 0 0 0 505.6 32a20.8 20.8 0 0 0-5.76 1.92 23.68 23.68 0 0 0-5.76 2.88l-4.8 3.84a32 32 0 0 0-6.72 10.56A32 32 0 0 0 480 64a32 32 0 0 0 2.56 12.16 37.12 37.12 0 0 0 6.72 10.56zM726.72 297.28a32 32 0 0 0-45.12 0l-169.6 169.6-169.28-169.6A32 32 0 0 0 297.6 342.4l169.28 169.6-169.6 169.28a32 32 0 1 0 45.12 45.12l169.6-169.28 169.28 169.28a32 32 0 0 0 45.12-45.12L557.12 512l169.28-169.28a32 32 0 0 0 0.32-45.44z"})]})}function fy({className:n}){return h.jsx("svg",{width:"27px",height:"27px",viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg",className:T("",n),children:h.jsxs("g",{fill:"gray",children:[h.jsx("path",{d:"M8 16a8 8 0 0 1-8-8 8 8 0 0 1 8-8 8 8 0 0 1 8 8 8 8 0 0 1-8 8zm0-1a7 7 0 0 0 7-7 7 7 0 0 0-7-7 7 7 0 0 0-7 7 7 7 0 0 0 7 7z"}),h.jsx("path",{d:"M8 3.75c-.386 0-.69.124-.914.373A1.269 1.269 0 0 0 6.75 5c0 .336.112.628.336.877.224.249.528.373.914.373s.69-.124.914-.373c.224-.249.336-.541.336-.877 0-.336-.112-.628-.336-.877C8.69 3.874 8.386 3.75 8 3.75zM7 7v5h2V7z",fontFamily:"Ubuntu",fontWeight:"400",letterSpacing:"0",wordSpacing:"0"})]})})}function hy({className:n}){return h.jsx("svg",{width:"27px",height:"27px",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:T("",n),children:h.jsx("path",{d:"M12 5H9C7.11438 5 6.17157 5 5.58579 5.58579C5 6.17157 5 7.11438 5 9V15C5 16.8856 5 17.8284 5.58579 18.4142C6.17157 19 7.11438 19 9 19H15C16.8856 19 17.8284 19 18.4142 18.4142C19 17.8284 19 16.8856 19 15V12M9.31899 12.6911L15.2486 6.82803C15.7216 6.36041 16.4744 6.33462 16.9782 6.76876C17.5331 7.24688 17.5723 8.09299 17.064 8.62034L11.2329 14.6702L9 15L9.31899 12.6911Z",stroke:"#464455",strokeLinecap:"round",strokeLinejoin:"round"})})}const py=({className:n})=>h.jsx("svg",{width:"4",height:"16",viewBox:"0 0 4 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:T(n),children:h.jsx("path",{d:"M2 16C1.45 16 0.979167 15.8042 0.5875 15.4125C0.195833 15.0208 0 14.55 0 14C0 13.45 0.195833 12.9792 0.5875 12.5875C0.979167 12.1958 1.45 12 2 12C2.55 12 3.02083 12.1958 3.4125 12.5875C3.80417 12.9792 4 13.45 4 14C4 14.55 3.80417 15.0208 3.4125 15.4125C3.02083 15.8042 2.55 16 2 16ZM2 10C1.45 10 0.979167 9.80417 0.5875 9.4125C0.195833 9.02083 0 8.55 0 8C0 7.45 0.195833 6.97917 0.5875 6.5875C0.979167 6.19583 1.45 6 2 6C2.55 6 3.02083 6.19583 3.4125 6.5875C3.80417 6.97917 4 7.45 4 8C4 8.55 3.80417 9.02083 3.4125 9.4125C3.02083 9.80417 2.55 10 2 10ZM2 4C1.45 4 0.979167 3.80417 0.5875 3.4125C0.195833 3.02083 0 2.55 0 2C0 1.45 0.195833 0.979167 0.5875 0.5875C0.979167 0.195833 1.45 0 2 0C2.55 0 3.02083 0.195833 3.4125 0.5875C3.80417 0.979167 4 1.45 4 2C4 2.55 3.80417 3.02083 3.4125 3.4125C3.02083 3.80417 2.55 4 2 4Z",fill:"#343434"})});function my({title:n,trigger:e,confirmCallBack:t,cancelCallBack:r,isActionsDisabled:s,children:i,isOpen:o,toggle:a}){return h.jsx(As,{isOpen:o,toggle:a,trigger:e,title:n,className:" md:min-w-2/5 lg:min-w-[25.5rem] w-11/12 h-fit overflow-hidden rounded-lg",children:h.jsxs("div",{className:"flex flex-col gap-7 justify-center items-center",children:[h.jsx("div",{className:"flex flex-col gap-3 justify-center items-center",children:i}),h.jsxs("div",{className:"flex items-center gap-6",children:[h.jsx("button",{disabled:s,className:" border-secondary font-medium w-20 text-secondary hover:bg-secondary hover:text-white transition rounded-xl h-fit px-5 py-2 border",onClick:t,children:"نعم"}),h.jsx("button",{disabled:s,className:" border-foreground font-medium w-20 text-foreground hover:bg-foreground hover:text-white transition rounded-xl h-fit px-5 py-2 border",onClick:r,children:"لا"})]})]})})}function gy({patient:n}){const[e,t]=f.useState(!1),[r,s]=f.useState(!1),[i,o]=f.useState(!1),a=f.useRef(null),c=n.id,l=n.name,u=It(),{mutate:d,isPending:p}=Bn({mutationFn:eg,onSuccess:()=>{o(!1),u.invalidateQueries({queryKey:["patients"]})}});return f.useEffect(()=>{const m=()=>{var v;(v=a.current)==null||v.focus({preventScroll:!0}),t(!1)};return document.addEventListener("wheel",m),document.addEventListener("touchmove",m),()=>{document.removeEventListener("wheel",m),document.removeEventListener("touchmove",m)}},[a.current]),h.jsxs(Wp,{open:e,onOpenChange:t,children:[h.jsxs("div",{className:"relative -m-1.5",children:[h.jsx(Vp,{ref:a,className:" rounded-full hover:bg-gray-50 transition-all size-8 flex justify-center items-center ",children:h.jsx(py,{})}),h.jsxs(La,{align:"end",className:"flex flex-col h-fit bg-white drop-shadow-md w-40 rounded-lg overflow-hidden p-0 -mt-1 !animate-none !duration-0",children:[h.jsx(Or,{label:"تفاصيل",icon:h.jsx(fy,{className:"size-[22.5px]"})}),h.jsx("button",{onClick:()=>s(!0),children:h.jsx(Or,{label:"تعديل",icon:h.jsx(hy,{className:"-ms-1 h-7 w-8 -me-1"})})}),h.jsx(my,{isOpen:i,toggle:()=>o(m=>!m),title:"حذف مريض",trigger:h.jsx(Or,{label:"حذف",icon:h.jsx(dy,{className:" fill-red-600 size-[22.5px]"})}),confirmCallBack:()=>d(c),cancelCallBack:()=>o(!1),isActionsDisabled:p,children:h.jsxs("p",{className:"font-semibold text-lg",children:["هل تريد حذف ملف  ",h.jsx("span",{className:" text-primary",children:l}),"  ؟"]})})]})]}),h.jsx(es,{title:"تعديل مريض",isOpen:r,setIsOpen:s,children:h.jsx(uy,{setIsOpen:s,patientId:c})})]})}const Or=({label:n,icon:e})=>h.jsxs("span",{className:"px-2.5 py-2 flex items-center gap-2 hover:bg-gray-50 transition-all text-sm",children:[e,n]});function yy({className:n}){return h.jsx("svg",{width:"27px",height:"27px",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:T("stroke-primary",n),children:h.jsx("path",{d:"M21 5.5C21 14.0604 14.0604 21 5.5 21C5.11378 21 4.73086 20.9859 4.35172 20.9581C3.91662 20.9262 3.69906 20.9103 3.50103 20.7963C3.33701 20.7019 3.18146 20.5345 3.09925 20.364C3 20.1582 3 19.9181 3 19.438V16.6207C3 16.2169 3 16.015 3.06645 15.842C3.12515 15.6891 3.22049 15.553 3.3441 15.4456C3.48403 15.324 3.67376 15.255 4.05321 15.117L7.26005 13.9509C7.70153 13.7904 7.92227 13.7101 8.1317 13.7237C8.31637 13.7357 8.49408 13.7988 8.64506 13.9058C8.81628 14.0271 8.93713 14.2285 9.17882 14.6314L10 16C12.6499 14.7999 14.7981 12.6489 16 10L14.6314 9.17882C14.2285 8.93713 14.0271 8.81628 13.9058 8.64506C13.7988 8.49408 13.7357 8.31637 13.7237 8.1317C13.7101 7.92227 13.7904 7.70153 13.9509 7.26005L13.9509 7.26005L15.117 4.05321C15.255 3.67376 15.324 3.48403 15.4456 3.3441C15.553 3.22049 15.6891 3.12515 15.842 3.06645C16.015 3 16.2169 3 16.6207 3H19.438C19.9181 3 20.1582 3 20.364 3.09925C20.5345 3.18146 20.7019 3.33701 20.7963 3.50103C20.9103 3.69907 20.9262 3.91662 20.9581 4.35173C20.9859 4.73086 21 5.11378 21 5.5Z",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})}function io({phone:n,hasWhatsapp:e}){return h.jsx("div",{className:"flex items-center gap-2 max-sm:text-sm ",children:n?h.jsxs(h.Fragment,{children:[h.jsx("span",{children:n}),h.jsx("a",{href:`tel:${n}`,children:h.jsx(yy,{className:"size-6 max-sm:size-5 hover:stroke-secondary transition"})}),e&&h.jsx("a",{href:`https://wa.me/2${n}`,target:"_blank",rel:"noopener noreferrer",children:h.jsx(Uc,{className:"size-6 max-sm:size-5"})})]}):h.jsx("span",{className:"text-secondary",children:"لا يوجد رقم آخر"})})}function o0(n){const[e,t]=f.useState(!1),{patient:r,variant:s}=n,{name:i,phone1:o,phone1_has_whatsapp:a,phone2:c,phone2_has_whatsapp:l}=r,u=s===Mc.PATIENT;return h.jsxs("div",{className:"bg-white h-fit group w-full py-4 px-3 rounded-xl flex flex-col gap-5 max-sm:gap-5 hover:shadow-md transition duration-200 ",children:[h.jsxs("div",{className:"flex gap-2 max-lg:gap-2 items-start justify-between max-lg:justify-center",children:[h.jsx("div",{className:"flex flex-1 flex-col gap-1 text-foreground group-hover:text-primary",children:h.jsx("h4",{className:"font-bold text-sm lg:text-base  h-10 lg:h-12",children:i})}),!u&&h.jsxs("div",{className:"flex flex-col",children:[h.jsxs("div",{className:"flex items-center gap-1 -mb-1",children:[h.jsx("span",{style:{direction:"ltr"},className:"font-semibold text-sm text-foreground",children:!u&&n.time?n.time:"--:--"}),h.jsx(Jg,{className:"size-6 -me-0.5"})]}),!Hs(new Date(n.date))&&h.jsx(es,{title:"تعديل موعد",isOpen:e,setIsOpen:t,trigger:h.jsx("span",{className:"w-full inline-flex text-primary hover:text-secondary transition-all hover:underline text-sm self-start font-semibold max-sm:text-xs",children:"تغيير"}),children:h.jsx(ro,{setIsOpen:t,appointmentId:n.appointmentId})})]}),u&&h.jsx(gy,{patient:r})]}),h.jsxs("div",{className:"flex items-end max-lg:gap-2 justify-between",children:[h.jsxs("div",{className:"flex flex-col gap-4 ",children:[h.jsx(io,{phone:o,hasWhatsapp:a}),h.jsx(io,{phone:c,hasWhatsapp:!!l})]}),!u&&h.jsx(h.Fragment,{children:!Hs(new Date(n.date))&&h.jsx(Yg,{appointmentId:n.appointmentId,patientName:r.name})}),u&&h.jsx(es,{title:"حجز موعد",isOpen:e,setIsOpen:t,trigger:h.jsx(Qg,{onClick:()=>{}}),children:h.jsx(ro,{setIsOpen:t,patientData:r})})]})]})}const vy=f.createContext({search:"",setSearch:()=>{}});function by({children:n,value:e}){return h.jsx(vy.Provider,{value:e,children:n})}const wy=fc,xy=hc,_y=pc,Gc=f.forwardRef(({className:n,...e},t)=>h.jsx(er,{className:T("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",n),...e,ref:t}));Gc.displayName=er.displayName;const Ey=of("fixed z-50 gap-4 bg-background p-6 shadow-lg transition ease-in-out data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:duration-300 data-[state=open]:duration-500",{variants:{side:{top:"inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top",bottom:"inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom",left:"inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm",right:"inset-y-0 right-0 h-full w-3/4  border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm"}},defaultVariants:{side:"right"}}),Jc=f.forwardRef(({side:n="right",className:e,children:t,...r},s)=>h.jsxs(_y,{children:[h.jsx(Gc,{}),h.jsxs(tr,{ref:s,className:T(Ey({side:n}),e),...r,children:[t,h.jsxs(mc,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-secondary",children:[h.jsx(gc,{className:"h-4 w-4"}),h.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));Jc.displayName=tr.displayName;const Qc=({className:n,...e})=>h.jsx("div",{className:T("flex flex-col space-y-2 text-center sm:text-left",n),...e});Qc.displayName="SheetHeader";const Zc=f.forwardRef(({className:n,...e},t)=>h.jsx(nr,{ref:t,className:T("text-lg font-semibold text-foreground",n),...e}));Zc.displayName=nr.displayName;const Cy=f.forwardRef(({className:n,...e},t)=>h.jsx(rr,{ref:t,className:T("text-sm text-muted-foreground",n),...e}));Cy.displayName=rr.displayName;function Sy({trigger:n,title:e,children:t,className:r}){return h.jsxs(wy,{children:[h.jsx(xy,{children:n}),h.jsx(Jc,{className:"p-0 !max-w-[17rem] bg-transparent border-transparent",children:h.jsxs(Qc,{children:[h.jsx(Zc,{children:e}),h.jsx("div",{className:T("h-screen w-full !mt-0",r),children:t})]})})]})}function Oy({className:n}){return h.jsx("svg",{width:"22px",height:"22px",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:T("stroke-slate-300",n),children:h.jsx("path",{d:"M16.6725 16.6412L21 21M19 11C19 15.4183 15.4183 19 11 19C6.58172 19 3 15.4183 3 11C3 6.58172 6.58172 3 11 3C15.4183 3 19 6.58172 19 11Z",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})}function ky({className:n}){return h.jsxs("svg",{className:T("fill-text-gray group-hover:fill-text-active ",n),width:"25px",height:"25px",version:"1.1",id:"Layer_1",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512",children:[h.jsx("g",{children:h.jsx("g",{children:h.jsx("rect",{x:"114.759",y:"229.517",width:"35.31",height:"35.31"})})}),h.jsx("g",{children:h.jsx("g",{children:h.jsx("rect",{x:"185.379",y:"229.517",width:"35.31",height:"35.31"})})}),h.jsx("g",{children:h.jsx("g",{children:h.jsx("rect",{x:"256",y:"229.517",width:"35.31",height:"35.31"})})}),h.jsx("g",{children:h.jsx("g",{children:h.jsx("rect",{x:"114.759",y:"300.138",width:"35.31",height:"35.31"})})}),h.jsx("g",{children:h.jsx("g",{children:h.jsx("rect",{x:"185.379",y:"300.138",width:"35.31",height:"35.31"})})}),h.jsx("g",{children:h.jsx("g",{children:h.jsx("path",{d:`M438.437,276.598c-17.776,0-27.205,1.714-35.527,3.227c-5.365,0.976-10.232,1.86-17.439,2.321V41.195h-76.506V0h-35.31
			v41.195H132.414V0h-35.31v41.195H20.598v364.874h235.827c2.149,24.276,34.885,45.168,34.885,55.908
			c0,27.583,22.44,50.023,50.023,50.023c12.333,0,23.637-4.484,32.368-11.913c8.731,7.428,20.035,11.913,32.368,11.913
			c27.583,0,50.023-22.44,50.023-50.023c0-12.359,35.31-30.602,35.31-61.793v-70.621
			C491.402,300.358,467.643,276.598,438.437,276.598z M55.908,76.506h41.195v19.791c-3.651,4.148-5.885,9.571-5.885,15.519
			c0,12.98,10.56,23.54,23.54,23.54c12.98,0,23.54-10.56,23.54-23.54c0-5.947-2.234-11.37-5.885-15.519V76.506h141.241v19.791
			c-3.651,4.148-5.885,9.571-5.885,15.519c0,12.98,10.56,23.54,23.54,23.54s23.54-10.56,23.54-23.54
			c0-5.947-2.234-11.37-5.885-15.519V76.506h41.195v82.391H55.908V76.506z M256,329.563v41.195H55.908V194.207h294.253v86.61
			c-1.911-0.31-23.419-4.22-41.195-4.22C279.759,276.598,256,300.358,256,329.563z M456.092,400.184
			c0,12.8-35.31,30.602-35.31,61.793c0,8.113-6.599,14.713-14.713,14.713c-7.768,0-14.132-6.056-14.661-13.691v-51.045h-35.31
			v50.023h-0.052c0,8.113-6.599,14.713-14.713,14.713c-8.113,0-14.713-6.599-14.713-14.713c0-30.897-35.31-49.582-35.31-61.793
			v-70.621c0-9.735,7.92-17.655,17.655-17.655c26.483,0,33.103,5.885,64.736,5.885c31.338,0,36.34-5.885,64.736-5.885
			c9.736,0,17.655,7.92,17.655,17.655V400.184z`})})})]})}function Py({className:n}){return h.jsx("svg",{width:"25px",height:"25px",viewBox:"0 0 24 24",className:T("fill-text-gray group-hover:fill-text-active",n),xmlns:"http://www.w3.org/2000/svg",children:h.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M21.4498 10.275L11.9998 3.1875L2.5498 10.275L2.9998 11.625H3.7498V20.25H20.2498V11.625H20.9998L21.4498 10.275ZM5.2498 18.75V10.125L11.9998 5.0625L18.7498 10.125V18.75H14.9999V14.3333L14.2499 13.5833H9.74988L8.99988 14.3333V18.75H5.2498ZM10.4999 18.75H13.4999V15.0833H10.4999V18.75Z"})})}function Ay({className:n}){return h.jsx("svg",{className:T("fill-text-gray group-hover:fill-text-active ",n),height:"25px",width:"25px",version:"1.1",id:"Layer_1",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 459.384 459.384",children:h.jsx("g",{children:h.jsx("g",{children:h.jsxs("g",{children:[h.jsx("path",{d:`M117.31,178.834l105.938,69.969c8.365,5.525,19.437,4.672,26.859-2.121c3.935-1.236-1.911,2.226,84.107-54.543
				l90.077,13.361c11.269,1.672,21.772-6.112,23.445-17.388c1.673-11.275-6.112-21.772-17.388-23.445l-97.885-14.519
				c-5.029-0.747-10.154,0.39-14.397,3.19l-42.884,28.302l-17.292-13.48c-9.782,10.236-7.344,7.684-17.528,18.34
				c-6.994,7.318-17.698,8.984-26.384,4.909l-62.156-29.269c70.819,12.611,66.147,11.895,68.314,11.895
				c4.652,0,9.16-1.891,12.434-5.317l47.478-49.679c6.563-6.868,6.316-17.755-0.551-24.318c-6.869-6.563-17.757-6.316-24.319,0.551
				l-41.106,43.012l-56.219-10.011l43.922-3.86l-27.733-21.62c-11.17-8.708-27.285-6.712-35.993,4.458l-26.83,34.416
				C102.032,153.45,104.83,170.591,117.31,178.834z`}),h.jsx("circle",{cx:"78.871",cy:"90.141",r:"37.963"}),h.jsx("path",{d:`M435.425,275.642c9.276,3.358,19.526-1.439,22.887-10.72c3.36-9.28-1.44-19.527-10.72-22.887l-91.068-32.972
				c-5.222-1.891-11.027-1.246-15.708,1.745l-103.222,65.969L27.693,138.727c-8.246-5.422-19.328-3.135-24.751,5.112
				c-5.423,8.246-3.136,19.328,5.111,24.751l219.583,144.417c2.978,1.959,6.398,2.94,9.82,2.94c3.343,0,6.689-0.937,9.623-2.813
				l10.533-6.732l30.756,65.062h-51.031c-9.87,0-17.871,8.001-17.871,17.871s8.001,17.871,17.871,17.871H438.66
				c9.87,0,17.871-8.001,17.871-17.871s-8.001-17.871-17.871-17.871h-54.717l-49.685-114.047l18.382-11.748L435.425,275.642z`})]})})})})}const Yc=[{id:"home",Icon:Py,label:"الرئيسية",href:"/"},{id:"patients",Icon:Ay,label:"المرضى",href:"/patients"},{id:"appointments",Icon:ky,label:"المواعيد",href:"/appointments"}],Ty=()=>{const n=new Date,e=new Intl.DateTimeFormat("en-US",{weekday:"long"}).format(n),t=n.getDate(),r=new Intl.DateTimeFormat("en-US",{month:"short"}).format(n),s=n.getFullYear();return{dayName:e,dayDate:t,month:r,year:s}};function jy({Icon:n,label:e,href:t}){const{pathname:r}=uo(),s=r===t;return h.jsxs(ul,{to:t,className:T("flex items-center p-4 gap-2 transition hover:bg-slate-50 group hover:shadow-slate-200 hover:shadow-md duration-200 ",{"text-primary border-e-4 border-primary shadow bg-slate-50 ":s}),children:[h.jsx(n,{className:T("fill-foreground",{"fill-primary":s,"group-hover:fill-secondary":!s})}),h.jsx("span",{className:T("text-sm font-bold text-foreground ",{"text-primary":s,"group-hover:text-secondary":!s}),children:e})]})}function oo({className:n}){const{dayName:e,dayDate:t,month:r,year:s}=Ty();return h.jsxs("aside",{className:T(" shadow-xl bg-white py-2 flex flex-col transition-all ease-in-out duration-700 lg:duration-300 h-full w-[17rem] overflow-hidden lg:rounded-s-3xl",n),children:[h.jsxs("div",{className:"flex flex-col sm:px-3 gap-3 max-md:gap-0",children:[h.jsx("div",{className:"flex flex-col gap-2.5 items-center border-gray-200 ",children:h.jsx("img",{src:"/images/full-logo.png",alt:"Logo",className:"w-4/5"})}),h.jsx("div",{className:"flex hover:bg-slate-50 rounded-sm items-center sm:px-2 justify-between transition border-b border-gray-200 ",children:h.jsxs("div",{className:"flex flex-col w-full px-1 items-center py-5 text-foreground text-sm",children:[h.jsx("span",{className:"max-sm:text-[0.65rem]",children:e}),h.jsxs("span",{className:"lg:text-lg font-semibold",children:[t," ",r]}),h.jsx("span",{className:"max-sm:text-xs",children:s})]})})]}),h.jsx("div",{style:{direction:"ltr"},className:"overflow-auto",children:h.jsx("div",{className:"flex flex-col gap-3 py-5 ",style:{direction:"rtl"},children:Yc.map(i=>h.jsx(jy,{...i},i.href))})})]})}function a0({children:n,isFetching:e,addBtn:t}){const{pathname:r}=uo(),[s,i]=f.useState(""),o=Yc.find(c=>c.href===r),a=(o==null?void 0:o.id)==="home"?"مواعيد اليوم":o==null?void 0:o.label;return h.jsx(by,{value:{search:s,setSearch:i},children:h.jsx("div",{className:"h-full w-full flex flex-col lg:p-4",children:h.jsxs("div",{className:" flex h-full",children:[h.jsx("div",{className:"max-lg:hidden ",children:h.jsx(oo,{})}),h.jsx("main",{className:" bg-gradient-to-b to-fuchsia-200/30 from-cyan-200/30 to-70% flex-1 max-h-full rounded-e-2xl shadow-xl",children:h.jsxs("div",{className:"flex flex-col sm:py-6 sm:px-5 w-full h-full",children:[h.jsxs("div",{className:"flex sm:items-start max-sm:gap-2 justify-between max-sm:flex-col max-sm:bg-gradient-to-l from-primary from-20% to-secondary max-sm:pt-3 max-sm:pb-1 max-sm:px-2 max-sm:rounded-b-[2rem]",children:[h.jsxs("div",{className:"flex gap-2 ",children:[h.jsx("div",{className:"lg:hidden",children:h.jsx(Sy,{trigger:h.jsx("img",{src:"/images/logo.png",alt:"logo",className:" h-9 drop-shadow-2xl"}),title:"",children:h.jsx(oo,{className:"w-full h-full max-sm:rounded-e-2xl"})})}),h.jsxs("div",{className:"flex gap-3 max-sm:flex-1 relative",children:[h.jsx("h4",{className:"font-semibold text-2xl sm:text-3xl max-sm:text-zinc-100",children:a}),!!t&&t]})]}),h.jsx(pl,{icon:h.jsx(Oy,{}),className:"sm:w-80 text-sm max-sm:[&>div>input]:placeholder:text-sm max-sm:[&>div>input]:text-sm max-sm:h-12 max-sm:w-10/12 max-sm:mx-auto",placeholder:"بحث",value:s,onChange:c=>{const l=c.target.value;i(l)}})]}),h.jsxs("div",{className:" overflow-auto flex-1 pe-1 py-1",children:[h.jsx(wl,{richColors:!0,position:"top-left",theme:"light",closeButton:!0}),e?h.jsx(Wa,{}):n]})]})})]})})})}export{a0 as A,ro as B,nm as C,Wa as D,Yy as E,es as F,o0 as G,Mc as H,Qy as I,uy as J,Qm as K,Zy as L,s0 as N,Ba as P,_s as R,Xy as S,Fa as a,qp as b,of as c,za as d,Mi as e,t0 as f,Yr as g,Yp as h,vh as i,uh as j,Eh as k,Ch as l,Oh as m,Sh as n,wh as o,_h as p,va as q,tm as r,xh as s,Xp as t,Ma as u,Wp as v,Vp as w,La as x,vy as y,Fr as z};
