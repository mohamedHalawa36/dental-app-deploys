import{p as s,w as d}from"./chunk-PVWAREVJ-chYXeG9N.js";import{u as n}from"./Input-DeMXOuP_.js";import{c,a as o,b as p,F as x,d as u,I as t}from"./index.esm-DFOg1Bwb.js";import{r as w,s as f}from"./auth-BDwFg1jQ.js";import{B as b}from"./Button-DT6pgGpl.js";import{k as i,u as g,t as l}from"./QueryClientProvider-Xy3iKmL1.js";const h=c({password:o().min(8,"يجب أن لا تقل كلمة السر عن 8 حروف").required(i),confirm_password:o().oneOf([p("password")],"كلمة السر غير متطابقة").required(i)});function j(){const{userId:r}=g(),{mutate:m,isPending:a}=n({mutationFn:w,onSuccess:async()=>{const{error:e}=await f(r,!0);if(e)throw l.error("لم نتمكن من تغيير كلمة السر، برجاء المحاولة مجددا"),new Error(e.message);l.success("تم تغيير كلمة السر بنجاح"),window.location.href="/"}});return s.jsx(x,{initialValues:{password:"",confirm_password:""},validationSchema:h,onSubmit:e=>m(e.password),children:s.jsx(u,{className:"flex-1",children:s.jsxs("div",{className:"flex flex-1 flex-col gap-3 overflow-auto px-7 max-sm:px-5",children:[s.jsx(t,{className:"[&>div]:border-primary/50 [&>div]:transition",name:"password",label:"كلمة السر الجديدة",type:"password",disabled:a,autoComplete:"otp"}),s.jsx(t,{className:"[&>div]:border-primary/50 [&>div]:transition",name:"confirm_password",label:"تأكيد كلمة السر",disabled:a,type:"password",autoComplete:"otp"}),s.jsx(b,{variant:"primary",label:"تغيير كلمة السر",className:"mt-5 w-full lg:w-fit",disabled:a,type:"submit"})]})})})}const S=d(function(){return s.jsx("div",{className:"flex h-full w-full items-center justify-center bg-[linear-gradient(45deg,rgb(var(--secondary)),rgb(var(--primary)))] px-5",children:s.jsxs("div",{className:"flex max-h-[90%] w-full flex-col gap-5 overflow-hidden rounded-[50px] bg-white pb-8 pt-3 max-sm:rounded-3xl max-sm:pb-5 lg:w-3/4 xl:w-1/2",children:[s.jsx("img",{src:"/images/full-logo.webp",alt:"logo",className:"mx-auto w-48 object-contain max-sm:w-40"}),s.jsxs("div",{className:"my-4 flex flex-col gap-3 px-7 max-sm:px-5",children:[s.jsx("h2",{className:"text-lg font-semibold text-primary md:text-2xl",children:"أهلا بك !"}),s.jsx("p",{className:"text-secondary max-md:text-sm",children:"الرجاء تغيير كلمة السر لتتمكن من الدخول إلى حسابك"})]}),s.jsx(j,{})]})})});export{S as default};
