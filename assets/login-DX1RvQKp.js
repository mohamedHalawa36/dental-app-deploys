import{t as p,w as g}from"./index-TMktwTzD.js";import{n as e,r as b,t as f}from"./chunk-SYFQ2XB5-CUJRq7Ja.js";import{c as v,r as i,k as d,u as h,j}from"./Input-B_bg18WL.js";import{c as y,a as l,d as w,F as N,I as m}from"./index.esm-BkswzxCh.js";import{s as E}from"./auth-BbXAeHtL.js";import"./QueryClientProvider-FyhkaHWt.js";function F({label:r,disabled:a,className:n,variant:t="primary",type:s="submit"}){return e.jsx("button",{disabled:a,type:s,className:v("border border-transparent p-3 font-semibold transition hover:opacity-80 disabled:bg-gray-400 max-sm:w-full",{"rounded-xl bg-primary text-muted":t==="primary","border-foreground bg-transparent text-foreground":t==="secondary"},n),children:r})}function S({children:r}){return e.jsx("span",{className:"border-s-4 border-s-secondary bg-secondary/10 px-2 py-3 text-center text-sm font-semibold text-secondary max-sm:text-xs",children:r})}const{invalidEmail:M}=d.error.auth,q=y({email:l().email(M).required(i),password:l().required(i)});function C(){const[r,a]=b.useState(null),n=f(),{mutate:t,isPending:s}=h({mutationFn:E,onMutate:()=>a(null),onSuccess:()=>n("/"),onError:o=>{const{code:c,statusCode:u}=o;if(u===400&&c==="invalid_credentials"){const{invalidCredentials:x}=d.error.auth;a(x)}else p.error(j)}});return e.jsx(w,{initialValues:{email:"",password:""},validationSchema:q,onSubmit:o=>t(o),children:e.jsx(N,{className:"flex-1",children:e.jsxs("div",{className:"flex flex-1 flex-col gap-3 overflow-auto px-7",children:[e.jsx(m,{className:"[&>div]:border-primary/50 [&>div]:transition",name:"email",label:"البريد الإلكتروني",disabled:s}),e.jsx(m,{className:"[&>div]:border-primary/50 [&>div]:transition",name:"password",label:"كلمة السر",disabled:s}),r&&e.jsx(S,{children:r}),e.jsx(F,{variant:"primary",label:"تسجيل الدخول",className:"w-full",disabled:s,type:"submit"})]})})})}const L=g(function(){return e.jsx("div",{className:"flex h-full w-full items-center justify-center bg-[linear-gradient(45deg,rgb(var(--secondary)),rgb(var(--primary)))]",children:e.jsxs("div",{className:"flex max-h-[90%] min-h-[28rem] w-[25rem] flex-col gap-5 rounded-[50px] bg-white pb-8 pt-3 max-sm:max-w-[90%] max-sm:rounded-3xl",children:[e.jsx("img",{src:"/images/full-logo.png",alt:"logo",className:"mx-auto w-48 object-contain max-sm:w-40"}),e.jsx(C,{})]})})});export{L as default};
