const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/browser-QUIa_DOy.js","assets/chunk-SYFQ2XB5-u2i9jEjP.js"])))=>i.map(i=>d[i]);
var Wo=t=>{throw TypeError(t)};var Ls=(t,e,n)=>e.has(t)||Wo("Cannot "+n);var T=(t,e,n)=>(Ls(t,e,"read from private field"),n?n.call(t):e.get(t)),de=(t,e,n)=>e.has(t)?Wo("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,n),Z=(t,e,n,r)=>(Ls(t,e,"write to private field"),r?r.call(t,n):e.set(t,n),n),ae=(t,e,n)=>(Ls(t,e,"access private method"),n);import{r as f,q as Tf,t as Me,l as h,v as Of,p as Lt,w as Sc,x as jf}from"./chunk-SYFQ2XB5-u2i9jEjP.js";import{S as Ec,B as Ho,C as Ye,D as Mr,r as Pr,b as Af,E as oi,F as qo,G as kf,f as Pf,H as Rf,I as Ko,n as Jr,i as Go,J as $f,K as ar,L as If,x as I,N as Nf,O as Df,z as Ff,P as Mf,k as Lf}from"./Sidebar-A_LGcpON.js";import{t as at,T as Uf}from"./sonner-CKdLkDAR.js";import{r as Yr,R as Bf}from"./index-EuUU-oN2.js";var Se,W,ir,ve,qt,Tn,xt,Je,or,On,jn,Kt,Gt,_t,An,Q,Hn,ai,ci,li,ui,di,fi,hi,Cc,xc,Vf=(xc=class extends Ec{constructor(e,n){super();de(this,Q);de(this,Se);de(this,W);de(this,ir);de(this,ve);de(this,qt);de(this,Tn);de(this,xt);de(this,Je);de(this,or);de(this,On);de(this,jn);de(this,Kt);de(this,Gt);de(this,_t);de(this,An,new Set);this.options=n,Z(this,Se,e),Z(this,Je,null),Z(this,xt,Ho()),this.options.experimental_prefetchInRender||T(this,xt).reject(new Error("experimental_prefetchInRender feature flag is not enabled")),this.bindMethods(),this.setOptions(n)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(T(this,W).addObserver(this),Jo(T(this,W),this.options)?ae(this,Q,Hn).call(this):this.updateResult(),ae(this,Q,ui).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return pi(T(this,W),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return pi(T(this,W),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,ae(this,Q,di).call(this),ae(this,Q,fi).call(this),T(this,W).removeObserver(this)}setOptions(e,n){const r=this.options,s=T(this,W);if(this.options=T(this,Se).defaultQueryOptions(e),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof Ye(this.options.enabled,T(this,W))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");ae(this,Q,hi).call(this),T(this,W).setOptions(this.options),r._defaulted&&!Mr(this.options,r)&&T(this,Se).getQueryCache().notify({type:"observerOptionsUpdated",query:T(this,W),observer:this});const i=this.hasListeners();i&&Yo(T(this,W),s,this.options,r)&&ae(this,Q,Hn).call(this),this.updateResult(n),i&&(T(this,W)!==s||Ye(this.options.enabled,T(this,W))!==Ye(r.enabled,T(this,W))||Pr(this.options.staleTime,T(this,W))!==Pr(r.staleTime,T(this,W)))&&ae(this,Q,ai).call(this);const o=ae(this,Q,ci).call(this);i&&(T(this,W)!==s||Ye(this.options.enabled,T(this,W))!==Ye(r.enabled,T(this,W))||o!==T(this,_t))&&ae(this,Q,li).call(this,o)}getOptimisticResult(e){const n=T(this,Se).getQueryCache().build(T(this,Se),e),r=this.createResult(n,e);return Wf(this,r)&&(Z(this,ve,r),Z(this,Tn,this.options),Z(this,qt,T(this,W).state)),r}getCurrentResult(){return T(this,ve)}trackResult(e,n){const r={};return Object.keys(e).forEach(s=>{Object.defineProperty(r,s,{configurable:!1,enumerable:!0,get:()=>(this.trackProp(s),n==null||n(s),e[s])})}),r}trackProp(e){T(this,An).add(e)}getCurrentQuery(){return T(this,W)}refetch({...e}={}){return this.fetch({...e})}fetchOptimistic(e){const n=T(this,Se).defaultQueryOptions(e),r=T(this,Se).getQueryCache().build(T(this,Se),n);return r.fetch().then(()=>this.createResult(r,n))}fetch(e){return ae(this,Q,Hn).call(this,{...e,cancelRefetch:e.cancelRefetch??!0}).then(()=>(this.updateResult(),T(this,ve)))}createResult(e,n){var N;const r=T(this,W),s=this.options,i=T(this,ve),o=T(this,qt),a=T(this,Tn),l=e!==r?e.state:T(this,ir),{state:u}=e;let d={...u},p=!1,m;if(n._optimisticResults){const P=this.hasListeners(),M=!P&&Jo(e,n),k=P&&Yo(e,r,n,s);(M||k)&&(d={...d,...Rf(u.data,e.options)}),n._optimisticResults==="isRestoring"&&(d.fetchStatus="idle")}let{error:v,errorUpdatedAt:g,status:y}=d;if(n.select&&d.data!==void 0)if(i&&d.data===(o==null?void 0:o.data)&&n.select===T(this,or))m=T(this,On);else try{Z(this,or,n.select),m=n.select(d.data),m=Ko(i==null?void 0:i.data,m,n),Z(this,On,m),Z(this,Je,null)}catch(P){Z(this,Je,P)}else m=d.data;if(n.placeholderData!==void 0&&m===void 0&&y==="pending"){let P;if(i!=null&&i.isPlaceholderData&&n.placeholderData===(a==null?void 0:a.placeholderData))P=i.data;else if(P=typeof n.placeholderData=="function"?n.placeholderData((N=T(this,jn))==null?void 0:N.state.data,T(this,jn)):n.placeholderData,n.select&&P!==void 0)try{P=n.select(P),Z(this,Je,null)}catch(M){Z(this,Je,M)}P!==void 0&&(y="success",m=Ko(i==null?void 0:i.data,P,n),p=!0)}T(this,Je)&&(v=T(this,Je),m=T(this,On),g=Date.now(),y="error");const b=d.fetchStatus==="fetching",w=y==="pending",_=y==="error",S=w&&b,C=m!==void 0,E={status:y,fetchStatus:d.fetchStatus,isPending:w,isSuccess:y==="success",isError:_,isInitialLoading:S,isLoading:S,data:m,dataUpdatedAt:d.dataUpdatedAt,error:v,errorUpdatedAt:g,failureCount:d.fetchFailureCount,failureReason:d.fetchFailureReason,errorUpdateCount:d.errorUpdateCount,isFetched:d.dataUpdateCount>0||d.errorUpdateCount>0,isFetchedAfterMount:d.dataUpdateCount>l.dataUpdateCount||d.errorUpdateCount>l.errorUpdateCount,isFetching:b,isRefetching:b&&!w,isLoadingError:_&&!C,isPaused:d.fetchStatus==="paused",isPlaceholderData:p,isRefetchError:_&&C,isStale:Gi(e,n),refetch:this.refetch,promise:T(this,xt)};if(this.options.experimental_prefetchInRender){const P=L=>{E.status==="error"?L.reject(E.error):E.data!==void 0&&L.resolve(E.data)},M=()=>{const L=Z(this,xt,E.promise=Ho());P(L)},k=T(this,xt);switch(k.status){case"pending":e.queryHash===r.queryHash&&P(k);break;case"fulfilled":(E.status==="error"||E.data!==k.value)&&M();break;case"rejected":(E.status!=="error"||E.error!==k.reason)&&M();break}}return E}updateResult(e){const n=T(this,ve),r=this.createResult(T(this,W),this.options);if(Z(this,qt,T(this,W).state),Z(this,Tn,this.options),T(this,qt).data!==void 0&&Z(this,jn,T(this,W)),Mr(r,n))return;Z(this,ve,r);const s={},i=()=>{if(!n)return!0;const{notifyOnChangeProps:o}=this.options,a=typeof o=="function"?o():o;if(a==="all"||!a&&!T(this,An).size)return!0;const c=new Set(a??T(this,An));return this.options.throwOnError&&c.add("error"),Object.keys(T(this,ve)).some(l=>{const u=l;return T(this,ve)[u]!==n[u]&&c.has(u)})};(e==null?void 0:e.listeners)!==!1&&i()&&(s.listeners=!0),ae(this,Q,Cc).call(this,{...s,...e})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&ae(this,Q,ui).call(this)}},Se=new WeakMap,W=new WeakMap,ir=new WeakMap,ve=new WeakMap,qt=new WeakMap,Tn=new WeakMap,xt=new WeakMap,Je=new WeakMap,or=new WeakMap,On=new WeakMap,jn=new WeakMap,Kt=new WeakMap,Gt=new WeakMap,_t=new WeakMap,An=new WeakMap,Q=new WeakSet,Hn=function(e){ae(this,Q,hi).call(this);let n=T(this,W).fetch(this.options,e);return e!=null&&e.throwOnError||(n=n.catch(Af)),n},ai=function(){ae(this,Q,di).call(this);const e=Pr(this.options.staleTime,T(this,W));if(oi||T(this,ve).isStale||!qo(e))return;const r=kf(T(this,ve).dataUpdatedAt,e)+1;Z(this,Kt,setTimeout(()=>{T(this,ve).isStale||this.updateResult()},r))},ci=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(T(this,W)):this.options.refetchInterval)??!1},li=function(e){ae(this,Q,fi).call(this),Z(this,_t,e),!(oi||Ye(this.options.enabled,T(this,W))===!1||!qo(T(this,_t))||T(this,_t)===0)&&Z(this,Gt,setInterval(()=>{(this.options.refetchIntervalInBackground||Pf.isFocused())&&ae(this,Q,Hn).call(this)},T(this,_t)))},ui=function(){ae(this,Q,ai).call(this),ae(this,Q,li).call(this,ae(this,Q,ci).call(this))},di=function(){T(this,Kt)&&(clearTimeout(T(this,Kt)),Z(this,Kt,void 0))},fi=function(){T(this,Gt)&&(clearInterval(T(this,Gt)),Z(this,Gt,void 0))},hi=function(){const e=T(this,Se).getQueryCache().build(T(this,Se),this.options);if(e===T(this,W))return;const n=T(this,W);Z(this,W,e),Z(this,ir,e.state),this.hasListeners()&&(n==null||n.removeObserver(this),e.addObserver(this))},Cc=function(e){Jr.batch(()=>{e.listeners&&this.listeners.forEach(n=>{n(T(this,ve))}),T(this,Se).getQueryCache().notify({query:T(this,W),type:"observerResultsUpdated"})})},xc);function zf(t,e){return Ye(e.enabled,t)!==!1&&t.state.data===void 0&&!(t.state.status==="error"&&e.retryOnMount===!1)}function Jo(t,e){return zf(t,e)||t.state.data!==void 0&&pi(t,e,e.refetchOnMount)}function pi(t,e,n){if(Ye(e.enabled,t)!==!1){const r=typeof n=="function"?n(t):n;return r==="always"||r!==!1&&Gi(t,e)}return!1}function Yo(t,e,n,r){return(t!==e||Ye(r.enabled,t)===!1)&&(!n.suspense||t.state.status!=="error")&&Gi(t,n)}function Gi(t,e){return Ye(e.enabled,t)!==!1&&t.isStaleByTime(Pr(e.staleTime,t))}function Wf(t,e){return!Mr(t.getCurrentResult(),e)}var St,Et,Ee,ot,ct,Rr,mi,_c,Hf=(_c=class extends Ec{constructor(n,r){super();de(this,ct);de(this,St);de(this,Et);de(this,Ee);de(this,ot);Z(this,St,n),this.setOptions(r),this.bindMethods(),ae(this,ct,Rr).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(n){var s;const r=this.options;this.options=T(this,St).defaultMutationOptions(n),Mr(this.options,r)||T(this,St).getMutationCache().notify({type:"observerOptionsUpdated",mutation:T(this,Ee),observer:this}),r!=null&&r.mutationKey&&this.options.mutationKey&&Go(r.mutationKey)!==Go(this.options.mutationKey)?this.reset():((s=T(this,Ee))==null?void 0:s.state.status)==="pending"&&T(this,Ee).setOptions(this.options)}onUnsubscribe(){var n;this.hasListeners()||(n=T(this,Ee))==null||n.removeObserver(this)}onMutationUpdate(n){ae(this,ct,Rr).call(this),ae(this,ct,mi).call(this,n)}getCurrentResult(){return T(this,Et)}reset(){var n;(n=T(this,Ee))==null||n.removeObserver(this),Z(this,Ee,void 0),ae(this,ct,Rr).call(this),ae(this,ct,mi).call(this)}mutate(n,r){var s;return Z(this,ot,r),(s=T(this,Ee))==null||s.removeObserver(this),Z(this,Ee,T(this,St).getMutationCache().build(T(this,St),this.options)),T(this,Ee).addObserver(this),T(this,Ee).execute(n)}},St=new WeakMap,Et=new WeakMap,Ee=new WeakMap,ot=new WeakMap,ct=new WeakSet,Rr=function(){var r;const n=((r=T(this,Ee))==null?void 0:r.state)??$f();Z(this,Et,{...n,isPending:n.status==="pending",isSuccess:n.status==="success",isError:n.status==="error",isIdle:n.status==="idle",mutate:this.mutate,reset:this.reset})},mi=function(n){Jr.batch(()=>{var r,s,i,o,a,c,l,u;if(T(this,ot)&&this.hasListeners()){const d=T(this,Et).variables,p=T(this,Et).context;(n==null?void 0:n.type)==="success"?((s=(r=T(this,ot)).onSuccess)==null||s.call(r,n.data,d,p),(o=(i=T(this,ot)).onSettled)==null||o.call(i,n.data,null,d,p)):(n==null?void 0:n.type)==="error"&&((c=(a=T(this,ot)).onError)==null||c.call(a,n.error,d,p),(u=(l=T(this,ot)).onSettled)==null||u.call(l,void 0,n.error,d,p))}this.listeners.forEach(d=>{d(T(this,Et))})})},_c),Tc=f.createContext(!1),qf=()=>f.useContext(Tc);Tc.Provider;function Kf(){let t=!1;return{clearReset:()=>{t=!1},reset:()=>{t=!0},isReset:()=>t}}var Gf=f.createContext(Kf()),Jf=()=>f.useContext(Gf);function Oc(t,e){return typeof t=="function"?t(...e):!!t}function gi(){}var Yf=(t,e)=>{(t.suspense||t.throwOnError||t.experimental_prefetchInRender)&&(e.isReset()||(t.retryOnMount=!1))},Zf=t=>{f.useEffect(()=>{t.clearReset()},[t])},Qf=({result:t,errorResetBoundary:e,throwOnError:n,query:r})=>t.isError&&!e.isReset()&&!t.isFetching&&r&&Oc(n,[t.error,r]),Xf=t=>{const e=t.staleTime;t.suspense&&(t.staleTime=typeof e=="function"?(...n)=>Math.max(e(...n),1e3):Math.max(e??1e3,1e3),typeof t.gcTime=="number"&&(t.gcTime=Math.max(t.gcTime,1e3)))},eh=(t,e)=>t.isLoading&&t.isFetching&&!e,th=(t,e)=>(t==null?void 0:t.suspense)&&e.isPending,Zo=(t,e,n)=>e.fetchOptimistic(t).catch(()=>{n.clearReset()});function nh(t,e,n){var d,p,m,v,g;const r=ar(),s=qf(),i=Jf(),o=r.defaultQueryOptions(t);(p=(d=r.getDefaultOptions().queries)==null?void 0:d._experimental_beforeQuery)==null||p.call(d,o),o._optimisticResults=s?"isRestoring":"optimistic",Xf(o),Yf(o,i),Zf(i);const a=!r.getQueryCache().get(o.queryHash),[c]=f.useState(()=>new e(r,o)),l=c.getOptimisticResult(o),u=!s&&t.subscribed!==!1;if(f.useSyncExternalStore(f.useCallback(y=>{const b=u?c.subscribe(Jr.batchCalls(y)):gi;return c.updateResult(),b},[c,u]),()=>c.getCurrentResult(),()=>c.getCurrentResult()),f.useEffect(()=>{c.setOptions(o,{listeners:!1})},[o,c]),th(o,l))throw Zo(o,c,i);if(Qf({result:l,errorResetBoundary:i,throwOnError:o.throwOnError,query:r.getQueryCache().get(o.queryHash)}))throw l.error;if((v=(m=r.getDefaultOptions().queries)==null?void 0:m._experimental_afterQuery)==null||v.call(m,o,l),o.experimental_prefetchInRender&&!oi&&eh(l,s)){const y=a?Zo(o,c,i):(g=r.getQueryCache().get(o.queryHash))==null?void 0:g.promise;y==null||y.catch(gi).finally(()=>{c.updateResult()})}return o.notifyOnChangeProps?l:c.trackResult(l)}function jc(t,e){return nh(t,Vf)}function Ji(t,e){const n=ar(),[r]=f.useState(()=>new Hf(n,t));f.useEffect(()=>{r.setOptions(t)},[r,t]);const s=f.useSyncExternalStore(f.useCallback(o=>r.subscribe(Jr.batchCalls(o)),[r]),()=>r.getCurrentResult(),()=>r.getCurrentResult()),i=f.useCallback((o,a)=>{r.mutate(o,a).catch(gi)},[r]);if(s.error&&Oc(r.options.throwOnError,[s.error]))throw s.error;return{...s,mutate:i,mutateAsync:s.mutate}}const Ac={success:{patient:{add:"تم إضافة المريض بنجاح",update:"تم تعديل المريض بنجاح",delete:"تم حذف المريض"},appointment:{add:"",update:"",delete:""}},error:{somethingWentWrong:"حدث خطأ ما، برجاء المحاولة مجددا",patient:{conflict:""}}},cr=Ac.error.somethingWentWrong,rh="modulepreload",sh=function(t){return"/"+t},Qo={},kn=function(e,n,r){let s=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),a=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));s=Promise.allSettled(n.map(c=>{if(c=sh(c),c in Qo)return;Qo[c]=!0;const l=c.endsWith(".css"),u=l?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${u}`))return;const d=document.createElement("link");if(d.rel=l?"stylesheet":rh,l||(d.as="script"),d.crossOrigin="",d.href=c,a&&d.setAttribute("nonce",a),document.head.appendChild(d),l)return new Promise((p,m)=>{d.addEventListener("load",p),d.addEventListener("error",()=>m(new Error(`Unable to preload CSS for ${c}`)))})}))}function i(o){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=o,window.dispatchEvent(a),!a.defaultPrevented)throw o}return s.then(o=>{for(const a of o||[])a.status==="rejected"&&i(a.reason);return e().catch(i)})},ih=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>kn(async()=>{const{default:r}=await Promise.resolve().then(()=>Nn);return{default:r}},void 0).then(({default:r})=>r(...n)):e=fetch,(...n)=>e(...n)};class Yi extends Error{constructor(e,n="FunctionsError",r){super(e),this.name=n,this.context=r}}class oh extends Yi{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class ah extends Yi{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class ch extends Yi{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var yi;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(yi||(yi={}));var lh=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(u){try{l(r.next(u))}catch(d){o(d)}}function c(u){try{l(r.throw(u))}catch(d){o(d)}}function l(u){u.done?i(u.value):s(u.value).then(a,c)}l((r=r.apply(t,e||[])).next())})};class uh{constructor(e,{headers:n={},customFetch:r,region:s=yi.Any}={}){this.url=e,this.headers=n,this.region=s,this.fetch=ih(r)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e,n={}){var r;return lh(this,void 0,void 0,function*(){try{const{headers:s,method:i,body:o}=n;let a={},{region:c}=n;c||(c=this.region),c&&c!=="any"&&(a["x-region"]=c);let l;o&&(s&&!Object.prototype.hasOwnProperty.call(s,"Content-Type")||!s)&&(typeof Blob<"u"&&o instanceof Blob||o instanceof ArrayBuffer?(a["Content-Type"]="application/octet-stream",l=o):typeof o=="string"?(a["Content-Type"]="text/plain",l=o):typeof FormData<"u"&&o instanceof FormData?l=o:(a["Content-Type"]="application/json",l=JSON.stringify(o)));const u=yield this.fetch(`${this.url}/${e}`,{method:i||"POST",headers:Object.assign(Object.assign(Object.assign({},a),this.headers),s),body:l}).catch(v=>{throw new oh(v)}),d=u.headers.get("x-relay-error");if(d&&d==="true")throw new ah(u);if(!u.ok)throw new ch(u);let p=((r=u.headers.get("Content-Type"))!==null&&r!==void 0?r:"text/plain").split(";")[0].trim(),m;return p==="application/json"?m=yield u.json():p==="application/octet-stream"?m=yield u.blob():p==="text/event-stream"?m=u:p==="multipart/form-data"?m=yield u.formData():m=yield u.text(),{data:m,error:null}}catch(s){return{data:null,error:s}}})}}var Ce={},Zi={},Zr={},lr={},Qr={},Xr={},dh=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},Pn=dh();const fh=Pn.fetch,kc=Pn.fetch.bind(Pn),Pc=Pn.Headers,hh=Pn.Request,ph=Pn.Response,Nn=Object.freeze(Object.defineProperty({__proto__:null,Headers:Pc,Request:hh,Response:ph,default:kc,fetch:fh},Symbol.toStringTag,{value:"Module"})),mh=Tf(Nn);var es={};Object.defineProperty(es,"__esModule",{value:!0});let gh=class extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}};es.default=gh;var Rc=Me&&Me.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Xr,"__esModule",{value:!0});const yh=Rc(mh),vh=Rc(es);let bh=class{constructor(e){this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=e.headers,this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=e.shouldThrowOnError,this.signal=e.signal,this.isMaybeSingle=e.isMaybeSingle,e.fetch?this.fetch=e.fetch:typeof fetch>"u"?this.fetch=yh.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,n){return this.headers=Object.assign({},this.headers),this.headers[e]=n,this}then(e,n){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const r=this.fetch;let s=r(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async i=>{var o,a,c;let l=null,u=null,d=null,p=i.status,m=i.statusText;if(i.ok){if(this.method!=="HEAD"){const b=await i.text();b===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?u=b:u=JSON.parse(b))}const g=(o=this.headers.Prefer)===null||o===void 0?void 0:o.match(/count=(exact|planned|estimated)/),y=(a=i.headers.get("content-range"))===null||a===void 0?void 0:a.split("/");g&&y&&y.length>1&&(d=parseInt(y[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(u)&&(u.length>1?(l={code:"PGRST116",details:`Results contain ${u.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},u=null,d=null,p=406,m="Not Acceptable"):u.length===1?u=u[0]:u=null)}else{const g=await i.text();try{l=JSON.parse(g),Array.isArray(l)&&i.status===404&&(u=[],l=null,p=200,m="OK")}catch{i.status===404&&g===""?(p=204,m="No Content"):l={message:g}}if(l&&this.isMaybeSingle&&(!((c=l==null?void 0:l.details)===null||c===void 0)&&c.includes("0 rows"))&&(l=null,p=200,m="OK"),l&&this.shouldThrowOnError)throw new vh.default(l)}return{error:l,data:u,count:d,status:p,statusText:m}});return this.shouldThrowOnError||(s=s.catch(i=>{var o,a,c;return{error:{message:`${(o=i==null?void 0:i.name)!==null&&o!==void 0?o:"FetchError"}: ${i==null?void 0:i.message}`,details:`${(a=i==null?void 0:i.stack)!==null&&a!==void 0?a:""}`,hint:"",code:`${(c=i==null?void 0:i.code)!==null&&c!==void 0?c:""}`},data:null,count:null,status:0,statusText:""}})),s.then(e,n)}};Xr.default=bh;var wh=Me&&Me.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Qr,"__esModule",{value:!0});const xh=wh(Xr);let _h=class extends xh.default{select(e){let n=!1;const r=(e??"*").split("").map(s=>/\s/.test(s)&&!n?"":(s==='"'&&(n=!n),s)).join("");return this.url.searchParams.set("select",r),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(e,{ascending:n=!0,nullsFirst:r,foreignTable:s,referencedTable:i=s}={}){const o=i?`${i}.order`:"order",a=this.url.searchParams.get(o);return this.url.searchParams.set(o,`${a?`${a},`:""}${e}.${n?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:n,referencedTable:r=n}={}){const s=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(s,`${e}`),this}range(e,n,{foreignTable:r,referencedTable:s=r}={}){const i=typeof s>"u"?"offset":`${s}.offset`,o=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(i,`${e}`),this.url.searchParams.set(o,`${n-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:e=!1,verbose:n=!1,settings:r=!1,buffers:s=!1,wal:i=!1,format:o="text"}={}){var a;const c=[e?"analyze":null,n?"verbose":null,r?"settings":null,s?"buffers":null,i?"wal":null].filter(Boolean).join("|"),l=(a=this.headers.Accept)!==null&&a!==void 0?a:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${o}; for="${l}"; options=${c};`,o==="json"?this:this}rollback(){var e;return((e=this.headers.Prefer)!==null&&e!==void 0?e:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}};Qr.default=_h;var Sh=Me&&Me.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(lr,"__esModule",{value:!0});const Eh=Sh(Qr);let Ch=class extends Eh.default{eq(e,n){return this.url.searchParams.append(e,`eq.${n}`),this}neq(e,n){return this.url.searchParams.append(e,`neq.${n}`),this}gt(e,n){return this.url.searchParams.append(e,`gt.${n}`),this}gte(e,n){return this.url.searchParams.append(e,`gte.${n}`),this}lt(e,n){return this.url.searchParams.append(e,`lt.${n}`),this}lte(e,n){return this.url.searchParams.append(e,`lte.${n}`),this}like(e,n){return this.url.searchParams.append(e,`like.${n}`),this}likeAllOf(e,n){return this.url.searchParams.append(e,`like(all).{${n.join(",")}}`),this}likeAnyOf(e,n){return this.url.searchParams.append(e,`like(any).{${n.join(",")}}`),this}ilike(e,n){return this.url.searchParams.append(e,`ilike.${n}`),this}ilikeAllOf(e,n){return this.url.searchParams.append(e,`ilike(all).{${n.join(",")}}`),this}ilikeAnyOf(e,n){return this.url.searchParams.append(e,`ilike(any).{${n.join(",")}}`),this}is(e,n){return this.url.searchParams.append(e,`is.${n}`),this}in(e,n){const r=Array.from(new Set(n)).map(s=>typeof s=="string"&&new RegExp("[,()]").test(s)?`"${s}"`:`${s}`).join(",");return this.url.searchParams.append(e,`in.(${r})`),this}contains(e,n){return typeof n=="string"?this.url.searchParams.append(e,`cs.${n}`):Array.isArray(n)?this.url.searchParams.append(e,`cs.{${n.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(n)}`),this}containedBy(e,n){return typeof n=="string"?this.url.searchParams.append(e,`cd.${n}`):Array.isArray(n)?this.url.searchParams.append(e,`cd.{${n.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(n)}`),this}rangeGt(e,n){return this.url.searchParams.append(e,`sr.${n}`),this}rangeGte(e,n){return this.url.searchParams.append(e,`nxl.${n}`),this}rangeLt(e,n){return this.url.searchParams.append(e,`sl.${n}`),this}rangeLte(e,n){return this.url.searchParams.append(e,`nxr.${n}`),this}rangeAdjacent(e,n){return this.url.searchParams.append(e,`adj.${n}`),this}overlaps(e,n){return typeof n=="string"?this.url.searchParams.append(e,`ov.${n}`):this.url.searchParams.append(e,`ov.{${n.join(",")}}`),this}textSearch(e,n,{config:r,type:s}={}){let i="";s==="plain"?i="pl":s==="phrase"?i="ph":s==="websearch"&&(i="w");const o=r===void 0?"":`(${r})`;return this.url.searchParams.append(e,`${i}fts${o}.${n}`),this}match(e){return Object.entries(e).forEach(([n,r])=>{this.url.searchParams.append(n,`eq.${r}`)}),this}not(e,n,r){return this.url.searchParams.append(e,`not.${n}.${r}`),this}or(e,{foreignTable:n,referencedTable:r=n}={}){const s=r?`${r}.or`:"or";return this.url.searchParams.append(s,`(${e})`),this}filter(e,n,r){return this.url.searchParams.append(e,`${n}.${r}`),this}};lr.default=Ch;var Th=Me&&Me.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Zr,"__esModule",{value:!0});const Vn=Th(lr);let Oh=class{constructor(e,{headers:n={},schema:r,fetch:s}){this.url=e,this.headers=n,this.schema=r,this.fetch=s}select(e,{head:n=!1,count:r}={}){const s=n?"HEAD":"GET";let i=!1;const o=(e??"*").split("").map(a=>/\s/.test(a)&&!i?"":(a==='"'&&(i=!i),a)).join("");return this.url.searchParams.set("select",o),r&&(this.headers.Prefer=`count=${r}`),new Vn.default({method:s,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(e,{count:n,defaultToNull:r=!0}={}){const s="POST",i=[];if(this.headers.Prefer&&i.push(this.headers.Prefer),n&&i.push(`count=${n}`),r||i.push("missing=default"),this.headers.Prefer=i.join(","),Array.isArray(e)){const o=e.reduce((a,c)=>a.concat(Object.keys(c)),[]);if(o.length>0){const a=[...new Set(o)].map(c=>`"${c}"`);this.url.searchParams.set("columns",a.join(","))}}return new Vn.default({method:s,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}upsert(e,{onConflict:n,ignoreDuplicates:r=!1,count:s,defaultToNull:i=!0}={}){const o="POST",a=[`resolution=${r?"ignore":"merge"}-duplicates`];if(n!==void 0&&this.url.searchParams.set("on_conflict",n),this.headers.Prefer&&a.push(this.headers.Prefer),s&&a.push(`count=${s}`),i||a.push("missing=default"),this.headers.Prefer=a.join(","),Array.isArray(e)){const c=e.reduce((l,u)=>l.concat(Object.keys(u)),[]);if(c.length>0){const l=[...new Set(c)].map(u=>`"${u}"`);this.url.searchParams.set("columns",l.join(","))}}return new Vn.default({method:o,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}update(e,{count:n}={}){const r="PATCH",s=[];return this.headers.Prefer&&s.push(this.headers.Prefer),n&&s.push(`count=${n}`),this.headers.Prefer=s.join(","),new Vn.default({method:r,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}delete({count:e}={}){const n="DELETE",r=[];return e&&r.push(`count=${e}`),this.headers.Prefer&&r.unshift(this.headers.Prefer),this.headers.Prefer=r.join(","),new Vn.default({method:n,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}};Zr.default=Oh;var ts={},ns={};Object.defineProperty(ns,"__esModule",{value:!0});ns.version=void 0;ns.version="0.0.0-automated";Object.defineProperty(ts,"__esModule",{value:!0});ts.DEFAULT_HEADERS=void 0;const jh=ns;ts.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${jh.version}`};var $c=Me&&Me.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Zi,"__esModule",{value:!0});const Ah=$c(Zr),kh=$c(lr),Ph=ts;let Rh=class Ic{constructor(e,{headers:n={},schema:r,fetch:s}={}){this.url=e,this.headers=Object.assign(Object.assign({},Ph.DEFAULT_HEADERS),n),this.schemaName=r,this.fetch=s}from(e){const n=new URL(`${this.url}/${e}`);return new Ah.default(n,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(e){return new Ic(this.url,{headers:this.headers,schema:e,fetch:this.fetch})}rpc(e,n={},{head:r=!1,get:s=!1,count:i}={}){let o;const a=new URL(`${this.url}/rpc/${e}`);let c;r||s?(o=r?"HEAD":"GET",Object.entries(n).filter(([u,d])=>d!==void 0).map(([u,d])=>[u,Array.isArray(d)?`{${d.join(",")}}`:`${d}`]).forEach(([u,d])=>{a.searchParams.append(u,d)})):(o="POST",c=n);const l=Object.assign({},this.headers);return i&&(l.Prefer=`count=${i}`),new kh.default({method:o,url:a,headers:l,schema:this.schemaName,body:c,fetch:this.fetch,allowEmpty:!1})}};Zi.default=Rh;var Dn=Me&&Me.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Ce,"__esModule",{value:!0});Ce.PostgrestError=Ce.PostgrestBuilder=Ce.PostgrestTransformBuilder=Ce.PostgrestFilterBuilder=Ce.PostgrestQueryBuilder=Ce.PostgrestClient=void 0;const Nc=Dn(Zi);Ce.PostgrestClient=Nc.default;const Dc=Dn(Zr);Ce.PostgrestQueryBuilder=Dc.default;const Fc=Dn(lr);Ce.PostgrestFilterBuilder=Fc.default;const Mc=Dn(Qr);Ce.PostgrestTransformBuilder=Mc.default;const Lc=Dn(Xr);Ce.PostgrestBuilder=Lc.default;const Uc=Dn(es);Ce.PostgrestError=Uc.default;var $h=Ce.default={PostgrestClient:Nc.default,PostgrestQueryBuilder:Dc.default,PostgrestFilterBuilder:Fc.default,PostgrestTransformBuilder:Mc.default,PostgrestBuilder:Lc.default,PostgrestError:Uc.default};const{PostgrestClient:Ih,PostgrestQueryBuilder:ZS,PostgrestFilterBuilder:QS,PostgrestTransformBuilder:XS,PostgrestBuilder:e1,PostgrestError:t1}=$h,Nh="2.11.2",Dh={"X-Client-Info":`realtime-js/${Nh}`},Fh="1.0.0",Bc=1e4,Mh=1e3;var _n;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(_n||(_n={}));var je;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(je||(je={}));var Be;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(Be||(Be={}));var vi;(function(t){t.websocket="websocket"})(vi||(vi={}));var Wt;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(Wt||(Wt={}));class Lh{constructor(){this.HEADER_LENGTH=1}decode(e,n){return e.constructor===ArrayBuffer?n(this._binaryDecode(e)):n(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){const n=new DataView(e),r=new TextDecoder;return this._decodeBroadcast(e,n,r)}_decodeBroadcast(e,n,r){const s=n.getUint8(1),i=n.getUint8(2);let o=this.HEADER_LENGTH+2;const a=r.decode(e.slice(o,o+s));o=o+s;const c=r.decode(e.slice(o,o+i));o=o+i;const l=JSON.parse(r.decode(e.slice(o,e.byteLength)));return{ref:null,topic:a,event:c,payload:l}}}class Vc{constructor(e,n){this.callback=e,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var se;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(se||(se={}));const Xo=(t,e,n={})=>{var r;const s=(r=n.skipTypes)!==null&&r!==void 0?r:[];return Object.keys(e).reduce((i,o)=>(i[o]=Uh(o,t,e,s),i),{})},Uh=(t,e,n,r)=>{const s=e.find(a=>a.name===t),i=s==null?void 0:s.type,o=n[t];return i&&!r.includes(i)?zc(i,o):bi(o)},zc=(t,e)=>{if(t.charAt(0)==="_"){const n=t.slice(1,t.length);return Wh(e,n)}switch(t){case se.bool:return Bh(e);case se.float4:case se.float8:case se.int2:case se.int4:case se.int8:case se.numeric:case se.oid:return Vh(e);case se.json:case se.jsonb:return zh(e);case se.timestamp:return Hh(e);case se.abstime:case se.date:case se.daterange:case se.int4range:case se.int8range:case se.money:case se.reltime:case se.text:case se.time:case se.timestamptz:case se.timetz:case se.tsrange:case se.tstzrange:return bi(e);default:return bi(e)}},bi=t=>t,Bh=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},Vh=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},zh=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch(e){return console.log(`JSON parse error: ${e}`),t}return t},Wh=(t,e)=>{if(typeof t!="string")return t;const n=t.length-1,r=t[n];if(t[0]==="{"&&r==="}"){let i;const o=t.slice(1,n);try{i=JSON.parse("["+o+"]")}catch{i=o?o.split(","):[]}return i.map(a=>zc(e,a))}return t},Hh=t=>typeof t=="string"?t.replace(" ","T"):t,Wc=t=>{let e=t;return e=e.replace(/^ws/i,"http"),e=e.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),e.replace(/\/+$/,"")};class Us{constructor(e,n,r={},s=Bc){this.channel=e,this.event=n,this.payload=r,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,n){var r;return this._hasReceived(e)&&n((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:e,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:n}){this.recHooks.filter(r=>r.status===e).forEach(r=>r.callback(n))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var ea;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(ea||(ea={}));class Gn{constructor(e,n){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(n==null?void 0:n.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},s=>{const{onJoin:i,onLeave:o,onSync:a}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Gn.syncState(this.state,s,i,o),this.pendingDiffs.forEach(c=>{this.state=Gn.syncDiff(this.state,c,i,o)}),this.pendingDiffs=[],a()}),this.channel._on(r.diff,{},s=>{const{onJoin:i,onLeave:o,onSync:a}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=Gn.syncDiff(this.state,s,i,o),a())}),this.onJoin((s,i,o)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:i,newPresences:o})}),this.onLeave((s,i,o)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:i,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,n,r,s){const i=this.cloneDeep(e),o=this.transformState(n),a={},c={};return this.map(i,(l,u)=>{o[l]||(c[l]=u)}),this.map(o,(l,u)=>{const d=i[l];if(d){const p=u.map(y=>y.presence_ref),m=d.map(y=>y.presence_ref),v=u.filter(y=>m.indexOf(y.presence_ref)<0),g=d.filter(y=>p.indexOf(y.presence_ref)<0);v.length>0&&(a[l]=v),g.length>0&&(c[l]=g)}else a[l]=u}),this.syncDiff(i,{joins:a,leaves:c},r,s)}static syncDiff(e,n,r,s){const{joins:i,leaves:o}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return r||(r=()=>{}),s||(s=()=>{}),this.map(i,(a,c)=>{var l;const u=(l=e[a])!==null&&l!==void 0?l:[];if(e[a]=this.cloneDeep(c),u.length>0){const d=e[a].map(m=>m.presence_ref),p=u.filter(m=>d.indexOf(m.presence_ref)<0);e[a].unshift(...p)}r(a,u,c)}),this.map(o,(a,c)=>{let l=e[a];if(!l)return;const u=c.map(d=>d.presence_ref);l=l.filter(d=>u.indexOf(d.presence_ref)<0),e[a]=l,s(a,l,c),l.length===0&&delete e[a]}),e}static map(e,n){return Object.getOwnPropertyNames(e).map(r=>n(r,e[r]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((n,r)=>{const s=e[r];return"metas"in s?n[r]=s.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):n[r]=s,n},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var ta;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(ta||(ta={}));var na;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(na||(na={}));var st;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(st||(st={}));class Qi{constructor(e,n={config:{}},r){this.topic=e,this.params=n,this.socket=r,this.bindings={},this.state=je.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new Us(this,Be.join,this.params,this.timeout),this.rejoinTimer=new Vc(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=je.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(s=>s.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=je.closed,this.socket._remove(this)}),this._onError(s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=je.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=je.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Be.reply,{},(s,i)=>{this._trigger(this._replyEventName(i),s)}),this.presence=new Gn(this),this.broadcastEndpointURL=Wc(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(e,n=this.timeout){var r,s;if(this.socket.isConnected()||this.socket.connect(),this.joinedOnce)throw"tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance";{const{config:{broadcast:i,presence:o,private:a}}=this.params;this._onError(u=>e==null?void 0:e(st.CHANNEL_ERROR,u)),this._onClose(()=>e==null?void 0:e(st.CLOSED));const c={},l={broadcast:i,presence:o,postgres_changes:(s=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(u=>u.filter))!==null&&s!==void 0?s:[],private:a};this.socket.accessTokenValue&&(c.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:l},c)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:u})=>{var d;if(this.socket.setAuth(),u===void 0){e==null||e(st.SUBSCRIBED);return}else{const p=this.bindings.postgres_changes,m=(d=p==null?void 0:p.length)!==null&&d!==void 0?d:0,v=[];for(let g=0;g<m;g++){const y=p[g],{filter:{event:b,schema:w,table:_,filter:S}}=y,C=u&&u[g];if(C&&C.event===b&&C.schema===w&&C.table===_&&C.filter===S)v.push(Object.assign(Object.assign({},y),{id:C.id}));else{this.unsubscribe(),e==null||e(st.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=v,e&&e(st.SUBSCRIBED);return}}).receive("error",u=>{e==null||e(st.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(u).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(st.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,n={}){return await this.send({type:"presence",event:"track",payload:e},n.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,n,r){return this._on(e,n,r)}async send(e,n={}){var r,s;if(!this._canPush()&&e.type==="broadcast"){const{event:i,payload:o}=e,c={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:o,private:this.private}]})};try{const l=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(r=n.timeout)!==null&&r!==void 0?r:this.timeout);return await((s=l.body)===null||s===void 0?void 0:s.cancel()),l.ok?"ok":"error"}catch(l){return l.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var o,a,c;const l=this._push(e.type,e,n.timeout||this.timeout);e.type==="broadcast"&&!(!((c=(a=(o=this.params)===null||o===void 0?void 0:o.config)===null||a===void 0?void 0:a.broadcast)===null||c===void 0)&&c.ack)&&i("ok"),l.receive("ok",()=>i("ok")),l.receive("error",()=>i("error")),l.receive("timeout",()=>i("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=je.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Be.close,"leave",this._joinRef())};return this.rejoinTimer.reset(),this.joinPush.destroy(),new Promise(r=>{const s=new Us(this,Be.leave,{},e);s.receive("ok",()=>{n(),r("ok")}).receive("timeout",()=>{n(),r("timed out")}).receive("error",()=>{r("error")}),s.send(),this._canPush()||s.trigger("ok",{})})}async _fetchWithTimeout(e,n,r){const s=new AbortController,i=setTimeout(()=>s.abort(),r),o=await this.socket.fetch(e,Object.assign(Object.assign({},n),{signal:s.signal}));return clearTimeout(i),o}_push(e,n,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new Us(this,e,n,r);return this._canPush()?s.send():(s.startTimeout(),this.pushBuffer.push(s)),s}_onMessage(e,n,r){return n}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,n,r){var s,i;const o=e.toLocaleLowerCase(),{close:a,error:c,leave:l,join:u}=Be;if(r&&[a,c,l,u].indexOf(o)>=0&&r!==this._joinRef())return;let p=this._onMessage(o,n,r);if(n&&!p)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(m=>{var v,g,y;return((v=m.filter)===null||v===void 0?void 0:v.event)==="*"||((y=(g=m.filter)===null||g===void 0?void 0:g.event)===null||y===void 0?void 0:y.toLocaleLowerCase())===o}).map(m=>m.callback(p,r)):(i=this.bindings[o])===null||i===void 0||i.filter(m=>{var v,g,y,b,w,_;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in m){const S=m.id,C=(v=m.filter)===null||v===void 0?void 0:v.event;return S&&((g=n.ids)===null||g===void 0?void 0:g.includes(S))&&(C==="*"||(C==null?void 0:C.toLocaleLowerCase())===((y=n.data)===null||y===void 0?void 0:y.type.toLocaleLowerCase()))}else{const S=(w=(b=m==null?void 0:m.filter)===null||b===void 0?void 0:b.event)===null||w===void 0?void 0:w.toLocaleLowerCase();return S==="*"||S===((_=n==null?void 0:n.event)===null||_===void 0?void 0:_.toLocaleLowerCase())}else return m.type.toLocaleLowerCase()===o}).map(m=>{if(typeof p=="object"&&"ids"in p){const v=p.data,{schema:g,table:y,commit_timestamp:b,type:w,errors:_}=v;p=Object.assign(Object.assign({},{schema:g,table:y,commit_timestamp:b,eventType:w,new:{},old:{},errors:_}),this._getPayloadRecords(v))}m.callback(p,r)})}_isClosed(){return this.state===je.closed}_isJoined(){return this.state===je.joined}_isJoining(){return this.state===je.joining}_isLeaving(){return this.state===je.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,n,r){const s=e.toLocaleLowerCase(),i={type:s,filter:n,callback:r};return this.bindings[s]?this.bindings[s].push(i):this.bindings[s]=[i],this}_off(e,n){const r=e.toLocaleLowerCase();return this.bindings[r]=this.bindings[r].filter(s=>{var i;return!(((i=s.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===r&&Qi.isEqual(s.filter,n))}),this}static isEqual(e,n){if(Object.keys(e).length!==Object.keys(n).length)return!1;for(const r in e)if(e[r]!==n[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(Be.close,{},e)}_onError(e){this._on(Be.error,{},n=>e(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=je.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const n={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(n.new=Xo(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(n.old=Xo(e.columns,e.old_record)),n}}const qh=()=>{},Kh=typeof WebSocket<"u",Gh=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class Jh{constructor(e,n){var r;this.accessTokenValue=null,this.apiKey=null,this.channels=[],this.endPoint="",this.httpEndpoint="",this.headers=Dh,this.params={},this.timeout=Bc,this.heartbeatIntervalMs=3e4,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.ref=0,this.logger=qh,this.conn=null,this.sendBuffer=[],this.serializer=new Lh,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=i=>{let o;return i?o=i:typeof fetch>"u"?o=(...a)=>kn(async()=>{const{default:c}=await Promise.resolve().then(()=>Nn);return{default:c}},void 0).then(({default:c})=>c(...a)):o=fetch,(...a)=>o(...a)},this.endPoint=`${e}/${vi.websocket}`,this.httpEndpoint=Wc(e),n!=null&&n.transport?this.transport=n.transport:this.transport=null,n!=null&&n.params&&(this.params=n.params),n!=null&&n.headers&&(this.headers=Object.assign(Object.assign({},this.headers),n.headers)),n!=null&&n.timeout&&(this.timeout=n.timeout),n!=null&&n.logger&&(this.logger=n.logger),n!=null&&n.heartbeatIntervalMs&&(this.heartbeatIntervalMs=n.heartbeatIntervalMs);const s=(r=n==null?void 0:n.params)===null||r===void 0?void 0:r.apikey;if(s&&(this.accessTokenValue=s,this.apiKey=s),this.reconnectAfterMs=n!=null&&n.reconnectAfterMs?n.reconnectAfterMs:i=>[1e3,2e3,5e3,1e4][i-1]||1e4,this.encode=n!=null&&n.encode?n.encode:(i,o)=>o(JSON.stringify(i)),this.decode=n!=null&&n.decode?n.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new Vc(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(n==null?void 0:n.fetch),n!=null&&n.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(n==null?void 0:n.worker)||!1,this.workerUrl=n==null?void 0:n.workerUrl}this.accessToken=(n==null?void 0:n.accessToken)||null}connect(){if(!this.conn){if(this.transport){this.conn=new this.transport(this.endpointURL(),void 0,{headers:this.headers});return}if(Kh){this.conn=new WebSocket(this.endpointURL()),this.setupConnection();return}this.conn=new Yh(this.endpointURL(),void 0,{close:()=>{this.conn=null}}),kn(async()=>{const{default:e}=await import("./browser-QUIa_DOy.js").then(n=>n.b);return{default:e}},__vite__mapDeps([0,1])).then(({default:e})=>{this.conn=new e(this.endpointURL(),void 0,{headers:this.headers}),this.setupConnection()})}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:Fh}))}disconnect(e,n){this.conn&&(this.conn.onclose=function(){},e?this.conn.close(e,n??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset())}getChannels(){return this.channels}async removeChannel(e){const n=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const e=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.disconnect(),e}log(e,n,r){this.logger(e,n,r)}connectionState(){switch(this.conn&&this.conn.readyState){case _n.connecting:return Wt.Connecting;case _n.open:return Wt.Open;case _n.closing:return Wt.Closing;default:return Wt.Closed}}isConnected(){return this.connectionState()===Wt.Open}channel(e,n={config:{}}){const r=new Qi(`realtime:${e}`,n,this);return this.channels.push(r),r}push(e){const{topic:n,event:r,payload:s,ref:i}=e,o=()=>{this.encode(e,a=>{var c;(c=this.conn)===null||c===void 0||c.send(a)})};this.log("push",`${n} ${r} (${i})`,s),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(e=null){let n=e||this.accessToken&&await this.accessToken()||this.accessTokenValue;if(n){let r=null;try{r=JSON.parse(atob(n.split(".")[1]))}catch{}if(r&&r.exp&&!(Math.floor(Date.now()/1e3)-r.exp<0))return this.log("auth",`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${r.exp}`),Promise.reject(`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${r.exp}`);this.accessTokenValue=n,this.channels.forEach(s=>{n&&s.updateJoinPayload({access_token:n}),s.joinedOnce&&s._isJoined()&&s._push(Be.access_token,{access_token:n})})}}async sendHeartbeat(){var e;if(this.isConnected()){if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),(e=this.conn)===null||e===void 0||e.close(Mh,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.setAuth()}}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let n=this.channels.find(r=>r.topic===e&&(r._isJoined()||r._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${e}"`),n.unsubscribe())}_remove(e){this.channels=this.channels.filter(n=>n._joinRef()!==e._joinRef())}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_onConnMessage(e){this.decode(e.data,n=>{let{topic:r,event:s,payload:i,ref:o}=n;o&&o===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${i.status||""} ${r} ${s} ${o&&"("+o+")"||""}`,i),this.channels.filter(a=>a._isMember(r)).forEach(a=>a._trigger(s,i,o)),this.stateChangeCallbacks.message.forEach(a=>a(n))})}async _onConnOpen(){if(this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),!this.worker)this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs);else{this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this.workerRef.terminate()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}this.stateChangeCallbacks.open.forEach(e=>e())}_onConnClose(e){this.log("transport","close",e),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(n=>n(e))}_onConnError(e){this.log("transport",e.message),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(n=>n(e))}_triggerChanError(){this.channels.forEach(e=>e._trigger(Be.error))}_appendParams(e,n){if(Object.keys(n).length===0)return e;const r=e.match(/\?/)?"&":"?",s=new URLSearchParams(n);return`${e}${r}${s}`}_workerObjectUrl(e){let n;if(e)n=e;else{const r=new Blob([Gh],{type:"application/javascript"});n=URL.createObjectURL(r)}return n}}class Yh{constructor(e,n,r){this.binaryType="arraybuffer",this.onclose=()=>{},this.onerror=()=>{},this.onmessage=()=>{},this.onopen=()=>{},this.readyState=_n.connecting,this.send=()=>{},this.url=null,this.url=e,this.close=r.close}}class Xi extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function he(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}class Zh extends Xi{constructor(e,n){super(e),this.name="StorageApiError",this.status=n}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class wi extends Xi{constructor(e,n){super(e),this.name="StorageUnknownError",this.originalError=n}}var Qh=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(u){try{l(r.next(u))}catch(d){o(d)}}function c(u){try{l(r.throw(u))}catch(d){o(d)}}function l(u){u.done?i(u.value):s(u.value).then(a,c)}l((r=r.apply(t,e||[])).next())})};const Hc=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>kn(async()=>{const{default:r}=await Promise.resolve().then(()=>Nn);return{default:r}},void 0).then(({default:r})=>r(...n)):e=fetch,(...n)=>e(...n)},Xh=()=>Qh(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield kn(()=>Promise.resolve().then(()=>Nn),void 0)).Response:Response}),xi=t=>{if(Array.isArray(t))return t.map(n=>xi(n));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([n,r])=>{const s=n.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));e[s]=xi(r)}),e};var rn=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(u){try{l(r.next(u))}catch(d){o(d)}}function c(u){try{l(r.throw(u))}catch(d){o(d)}}function l(u){u.done?i(u.value):s(u.value).then(a,c)}l((r=r.apply(t,e||[])).next())})};const Bs=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),ep=(t,e,n)=>rn(void 0,void 0,void 0,function*(){const r=yield Xh();t instanceof r&&!(n!=null&&n.noResolveJson)?t.json().then(s=>{e(new Zh(Bs(s),t.status||500))}).catch(s=>{e(new wi(Bs(s),s))}):e(new wi(Bs(t),t))}),tp=(t,e,n,r)=>{const s={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),r&&(s.body=JSON.stringify(r)),Object.assign(Object.assign({},s),n))};function ur(t,e,n,r,s,i){return rn(this,void 0,void 0,function*(){return new Promise((o,a)=>{t(n,tp(e,r,s,i)).then(c=>{if(!c.ok)throw c;return r!=null&&r.noResolveJson?c:c.json()}).then(c=>o(c)).catch(c=>ep(c,a,r))})})}function Lr(t,e,n,r){return rn(this,void 0,void 0,function*(){return ur(t,"GET",e,n,r)})}function bt(t,e,n,r,s){return rn(this,void 0,void 0,function*(){return ur(t,"POST",e,r,s,n)})}function np(t,e,n,r,s){return rn(this,void 0,void 0,function*(){return ur(t,"PUT",e,r,s,n)})}function rp(t,e,n,r){return rn(this,void 0,void 0,function*(){return ur(t,"HEAD",e,Object.assign(Object.assign({},n),{noResolveJson:!0}),r)})}function qc(t,e,n,r,s){return rn(this,void 0,void 0,function*(){return ur(t,"DELETE",e,r,s,n)})}var xe=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(u){try{l(r.next(u))}catch(d){o(d)}}function c(u){try{l(r.throw(u))}catch(d){o(d)}}function l(u){u.done?i(u.value):s(u.value).then(a,c)}l((r=r.apply(t,e||[])).next())})};const sp={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},ra={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class ip{constructor(e,n={},r,s){this.url=e,this.headers=n,this.bucketId=r,this.fetch=Hc(s)}uploadOrUpdate(e,n,r,s){return xe(this,void 0,void 0,function*(){try{let i;const o=Object.assign(Object.assign({},ra),s);let a=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(o.upsert)});const c=o.metadata;typeof Blob<"u"&&r instanceof Blob?(i=new FormData,i.append("cacheControl",o.cacheControl),c&&i.append("metadata",this.encodeMetadata(c)),i.append("",r)):typeof FormData<"u"&&r instanceof FormData?(i=r,i.append("cacheControl",o.cacheControl),c&&i.append("metadata",this.encodeMetadata(c))):(i=r,a["cache-control"]=`max-age=${o.cacheControl}`,a["content-type"]=o.contentType,c&&(a["x-metadata"]=this.toBase64(this.encodeMetadata(c)))),s!=null&&s.headers&&(a=Object.assign(Object.assign({},a),s.headers));const l=this._removeEmptyFolders(n),u=this._getFinalPath(l),d=yield this.fetch(`${this.url}/object/${u}`,Object.assign({method:e,body:i,headers:a},o!=null&&o.duplex?{duplex:o.duplex}:{})),p=yield d.json();return d.ok?{data:{path:l,id:p.Id,fullPath:p.Key},error:null}:{data:null,error:p}}catch(i){if(he(i))return{data:null,error:i};throw i}})}upload(e,n,r){return xe(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,n,r)})}uploadToSignedUrl(e,n,r,s){return xe(this,void 0,void 0,function*(){const i=this._removeEmptyFolders(e),o=this._getFinalPath(i),a=new URL(this.url+`/object/upload/sign/${o}`);a.searchParams.set("token",n);try{let c;const l=Object.assign({upsert:ra.upsert},s),u=Object.assign(Object.assign({},this.headers),{"x-upsert":String(l.upsert)});typeof Blob<"u"&&r instanceof Blob?(c=new FormData,c.append("cacheControl",l.cacheControl),c.append("",r)):typeof FormData<"u"&&r instanceof FormData?(c=r,c.append("cacheControl",l.cacheControl)):(c=r,u["cache-control"]=`max-age=${l.cacheControl}`,u["content-type"]=l.contentType);const d=yield this.fetch(a.toString(),{method:"PUT",body:c,headers:u}),p=yield d.json();return d.ok?{data:{path:i,fullPath:p.Key},error:null}:{data:null,error:p}}catch(c){if(he(c))return{data:null,error:c};throw c}})}createSignedUploadUrl(e,n){return xe(this,void 0,void 0,function*(){try{let r=this._getFinalPath(e);const s=Object.assign({},this.headers);n!=null&&n.upsert&&(s["x-upsert"]="true");const i=yield bt(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:s}),o=new URL(this.url+i.url),a=o.searchParams.get("token");if(!a)throw new Xi("No token returned by API");return{data:{signedUrl:o.toString(),path:e,token:a},error:null}}catch(r){if(he(r))return{data:null,error:r};throw r}})}update(e,n,r){return xe(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,n,r)})}move(e,n,r){return xe(this,void 0,void 0,function*(){try{return{data:yield bt(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers}),error:null}}catch(s){if(he(s))return{data:null,error:s};throw s}})}copy(e,n,r){return xe(this,void 0,void 0,function*(){try{return{data:{path:(yield bt(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers})).Key},error:null}}catch(s){if(he(s))return{data:null,error:s};throw s}})}createSignedUrl(e,n,r){return xe(this,void 0,void 0,function*(){try{let s=this._getFinalPath(e),i=yield bt(this.fetch,`${this.url}/object/sign/${s}`,Object.assign({expiresIn:n},r!=null&&r.transform?{transform:r.transform}:{}),{headers:this.headers});const o=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${o}`)},{data:i,error:null}}catch(s){if(he(s))return{data:null,error:s};throw s}})}createSignedUrls(e,n,r){return xe(this,void 0,void 0,function*(){try{const s=yield bt(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:e},{headers:this.headers}),i=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{data:s.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${i}`):null})),error:null}}catch(s){if(he(s))return{data:null,error:s};throw s}})}download(e,n){return xe(this,void 0,void 0,function*(){const s=typeof(n==null?void 0:n.transform)<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString((n==null?void 0:n.transform)||{}),o=i?`?${i}`:"";try{const a=this._getFinalPath(e);return{data:yield(yield Lr(this.fetch,`${this.url}/${s}/${a}${o}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(a){if(he(a))return{data:null,error:a};throw a}})}info(e){return xe(this,void 0,void 0,function*(){const n=this._getFinalPath(e);try{const r=yield Lr(this.fetch,`${this.url}/object/info/${n}`,{headers:this.headers});return{data:xi(r),error:null}}catch(r){if(he(r))return{data:null,error:r};throw r}})}exists(e){return xe(this,void 0,void 0,function*(){const n=this._getFinalPath(e);try{return yield rp(this.fetch,`${this.url}/object/${n}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(he(r)&&r instanceof wi){const s=r.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:r}}throw r}})}getPublicUrl(e,n){const r=this._getFinalPath(e),s=[],i=n!=null&&n.download?`download=${n.download===!0?"":n.download}`:"";i!==""&&s.push(i);const a=typeof(n==null?void 0:n.transform)<"u"?"render/image":"object",c=this.transformOptsToQueryString((n==null?void 0:n.transform)||{});c!==""&&s.push(c);let l=s.join("&");return l!==""&&(l=`?${l}`),{data:{publicUrl:encodeURI(`${this.url}/${a}/public/${r}${l}`)}}}remove(e){return xe(this,void 0,void 0,function*(){try{return{data:yield qc(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(n){if(he(n))return{data:null,error:n};throw n}})}list(e,n,r){return xe(this,void 0,void 0,function*(){try{const s=Object.assign(Object.assign(Object.assign({},sp),n),{prefix:e||""});return{data:yield bt(this.fetch,`${this.url}/object/list/${this.bucketId}`,s,{headers:this.headers},r),error:null}}catch(s){if(he(s))return{data:null,error:s};throw s}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const n=[];return e.width&&n.push(`width=${e.width}`),e.height&&n.push(`height=${e.height}`),e.resize&&n.push(`resize=${e.resize}`),e.format&&n.push(`format=${e.format}`),e.quality&&n.push(`quality=${e.quality}`),n.join("&")}}const op="2.7.1",ap={"X-Client-Info":`storage-js/${op}`};var hn=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(u){try{l(r.next(u))}catch(d){o(d)}}function c(u){try{l(r.throw(u))}catch(d){o(d)}}function l(u){u.done?i(u.value):s(u.value).then(a,c)}l((r=r.apply(t,e||[])).next())})};class cp{constructor(e,n={},r){this.url=e,this.headers=Object.assign(Object.assign({},ap),n),this.fetch=Hc(r)}listBuckets(){return hn(this,void 0,void 0,function*(){try{return{data:yield Lr(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(e){if(he(e))return{data:null,error:e};throw e}})}getBucket(e){return hn(this,void 0,void 0,function*(){try{return{data:yield Lr(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(n){if(he(n))return{data:null,error:n};throw n}})}createBucket(e,n={public:!1}){return hn(this,void 0,void 0,function*(){try{return{data:yield bt(this.fetch,`${this.url}/bucket`,{id:e,name:e,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(he(r))return{data:null,error:r};throw r}})}updateBucket(e,n){return hn(this,void 0,void 0,function*(){try{return{data:yield np(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(he(r))return{data:null,error:r};throw r}})}emptyBucket(e){return hn(this,void 0,void 0,function*(){try{return{data:yield bt(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(he(n))return{data:null,error:n};throw n}})}deleteBucket(e){return hn(this,void 0,void 0,function*(){try{return{data:yield qc(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(n){if(he(n))return{data:null,error:n};throw n}})}}class lp extends cp{constructor(e,n={},r){super(e,n,r)}from(e){return new ip(this.url,this.headers,e,this.fetch)}}const up="2.47.16";let qn="";typeof Deno<"u"?qn="deno":typeof document<"u"?qn="web":typeof navigator<"u"&&navigator.product==="ReactNative"?qn="react-native":qn="node";const dp={"X-Client-Info":`supabase-js-${qn}/${up}`},fp={headers:dp},hp={schema:"public"},pp={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},mp={};var gp=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(u){try{l(r.next(u))}catch(d){o(d)}}function c(u){try{l(r.throw(u))}catch(d){o(d)}}function l(u){u.done?i(u.value):s(u.value).then(a,c)}l((r=r.apply(t,e||[])).next())})};const yp=t=>{let e;return t?e=t:typeof fetch>"u"?e=kc:e=fetch,(...n)=>e(...n)},vp=()=>typeof Headers>"u"?Pc:Headers,bp=(t,e,n)=>{const r=yp(n),s=vp();return(i,o)=>gp(void 0,void 0,void 0,function*(){var a;const c=(a=yield e())!==null&&a!==void 0?a:t;let l=new s(o==null?void 0:o.headers);return l.has("apikey")||l.set("apikey",t),l.has("Authorization")||l.set("Authorization",`Bearer ${c}`),r(i,Object.assign(Object.assign({},o),{headers:l}))})};var wp=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(u){try{l(r.next(u))}catch(d){o(d)}}function c(u){try{l(r.throw(u))}catch(d){o(d)}}function l(u){u.done?i(u.value):s(u.value).then(a,c)}l((r=r.apply(t,e||[])).next())})};function xp(t){return t.replace(/\/$/,"")}function _p(t,e){const{db:n,auth:r,realtime:s,global:i}=t,{db:o,auth:a,realtime:c,global:l}=e,u={db:Object.assign(Object.assign({},o),n),auth:Object.assign(Object.assign({},a),r),realtime:Object.assign(Object.assign({},c),s),global:Object.assign(Object.assign({},l),i),accessToken:()=>wp(this,void 0,void 0,function*(){return""})};return t.accessToken?u.accessToken=t.accessToken:delete u.accessToken,u}const Kc="2.67.3",Sp="http://localhost:9999",Ep="supabase.auth.token",Cp={"X-Client-Info":`gotrue-js/${Kc}`},sa=10,_i="X-Supabase-Api-Version",Gc={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}};function Tp(t){return Math.round(Date.now()/1e3)+t}function Op(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){const e=Math.random()*16|0;return(t=="x"?e:e&3|8).toString(16)})}const Ke=()=>typeof window<"u"&&typeof document<"u",Ut={tested:!1,writable:!1},Jn=()=>{if(!Ke())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Ut.tested)return Ut.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),Ut.tested=!0,Ut.writable=!0}catch{Ut.tested=!0,Ut.writable=!1}return Ut.writable};function jp(t){const e={},n=new URL(t);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((s,i)=>{e[i]=s})}catch{}return n.searchParams.forEach((r,s)=>{e[s]=r}),e}const Jc=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>kn(async()=>{const{default:r}=await Promise.resolve().then(()=>Nn);return{default:r}},void 0).then(({default:r})=>r(...n)):e=fetch,(...n)=>e(...n)},Ap=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",Yc=async(t,e,n)=>{await t.setItem(e,JSON.stringify(n))},vr=async(t,e)=>{const n=await t.getItem(e);if(!n)return null;try{return JSON.parse(n)}catch{return n}},br=async(t,e)=>{await t.removeItem(e)};function kp(t){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";let n="",r,s,i,o,a,c,l,u=0;for(t=t.replace("-","+").replace("_","/");u<t.length;)o=e.indexOf(t.charAt(u++)),a=e.indexOf(t.charAt(u++)),c=e.indexOf(t.charAt(u++)),l=e.indexOf(t.charAt(u++)),r=o<<2|a>>4,s=(a&15)<<4|c>>2,i=(c&3)<<6|l,n=n+String.fromCharCode(r),c!=64&&s!=0&&(n=n+String.fromCharCode(s)),l!=64&&i!=0&&(n=n+String.fromCharCode(i));return n}class rs{constructor(){this.promise=new rs.promiseConstructor((e,n)=>{this.resolve=e,this.reject=n})}}rs.promiseConstructor=Promise;function ia(t){const e=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}=?$|[a-z0-9_-]{2}(==)?$)$/i,n=t.split(".");if(n.length!==3)throw new Error("JWT is not valid: not a JWT structure");if(!e.test(n[1]))throw new Error("JWT is not valid: payload is not in base64url format");const r=n[1];return JSON.parse(kp(r))}async function Pp(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function Rp(t,e){return new Promise((r,s)=>{(async()=>{for(let i=0;i<1/0;i++)try{const o=await t(i);if(!e(i,null,o)){r(o);return}}catch(o){if(!e(i,o)){s(o);return}}})()})}function $p(t){return("0"+t.toString(16)).substr(-2)}function Ip(){const e=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=n.length;let s="";for(let i=0;i<56;i++)s+=n.charAt(Math.floor(Math.random()*r));return s}return crypto.getRandomValues(e),Array.from(e,$p).join("")}async function Np(t){const n=new TextEncoder().encode(t),r=await crypto.subtle.digest("SHA-256",n),s=new Uint8Array(r);return Array.from(s).map(i=>String.fromCharCode(i)).join("")}function Dp(t){return btoa(t).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Fp(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const n=await Np(t);return Dp(n)}async function pn(t,e,n=!1){const r=Ip();let s=r;n&&(s+="/PASSWORD_RECOVERY"),await Yc(t,`${e}-code-verifier`,s);const i=await Fp(r);return[i,r===i?"plain":"s256"]}const Mp=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function Lp(t){const e=t.headers.get(_i);if(!e||!e.match(Mp))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}class eo extends Error{constructor(e,n,r){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=r}}function B(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class Up extends eo{constructor(e,n,r){super(e,n,r),this.name="AuthApiError",this.status=n,this.code=r}}function Bp(t){return B(t)&&t.name==="AuthApiError"}class Zc extends eo{constructor(e,n){super(e),this.name="AuthUnknownError",this.originalError=n}}class sn extends eo{constructor(e,n,r,s){super(e,r,s),this.name=n,this.status=r}}class mt extends sn{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function Vp(t){return B(t)&&t.name==="AuthSessionMissingError"}class Vs extends sn{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class wr extends sn{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class xr extends sn{constructor(e,n=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function zp(t){return B(t)&&t.name==="AuthImplicitGrantRedirectError"}class oa extends sn{constructor(e,n=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Si extends sn{constructor(e,n){super(e,"AuthRetryableFetchError",n,void 0)}}function zs(t){return B(t)&&t.name==="AuthRetryableFetchError"}class aa extends sn{constructor(e,n,r){super(e,"AuthWeakPasswordError",n,"weak_password"),this.reasons=r}}var Wp=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n};const Vt=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),Hp=[502,503,504];async function ca(t){var e;if(!Ap(t))throw new Si(Vt(t),0);if(Hp.includes(t.status))throw new Si(Vt(t),t.status);let n;try{n=await t.json()}catch(i){throw new Zc(Vt(i),i)}let r;const s=Lp(t);if(s&&s.getTime()>=Gc["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?r=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(r=n.error_code),r){if(r==="weak_password")throw new aa(Vt(n),t.status,((e=n.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(r==="session_not_found")throw new mt}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((i,o)=>i&&typeof o=="string",!0))throw new aa(Vt(n),t.status,n.weak_password.reasons);throw new Up(Vt(n),t.status||500,r)}const qp=(t,e,n,r)=>{const s={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),s.body=JSON.stringify(r),Object.assign(Object.assign({},s),n))};async function H(t,e,n,r){var s;const i=Object.assign({},r==null?void 0:r.headers);i[_i]||(i[_i]=Gc["2024-01-01"].name),r!=null&&r.jwt&&(i.Authorization=`Bearer ${r.jwt}`);const o=(s=r==null?void 0:r.query)!==null&&s!==void 0?s:{};r!=null&&r.redirectTo&&(o.redirect_to=r.redirectTo);const a=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",c=await Kp(t,e,n+a,{headers:i,noResolveJson:r==null?void 0:r.noResolveJson},{},r==null?void 0:r.body);return r!=null&&r.xform?r==null?void 0:r.xform(c):{data:Object.assign({},c),error:null}}async function Kp(t,e,n,r,s,i){const o=qp(e,r,s,i);let a;try{a=await t(n,Object.assign({},o))}catch(c){throw console.error(c),new Si(Vt(c),0)}if(a.ok||await ca(a),r!=null&&r.noResolveJson)return a;try{return await a.json()}catch(c){await ca(c)}}function gt(t){var e;let n=null;Zp(t)&&(n=Object.assign({},t),t.expires_at||(n.expires_at=Tp(t.expires_in)));const r=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:n,user:r},error:null}}function la(t){const e=gt(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((n,r)=>n&&typeof r=="string",!0)&&(e.data.weak_password=t.weak_password),e}function wt(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function Gp(t){return{data:t,error:null}}function Jp(t){const{action_link:e,email_otp:n,hashed_token:r,redirect_to:s,verification_type:i}=t,o=Wp(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),a={action_link:e,email_otp:n,hashed_token:r,redirect_to:s,verification_type:i},c=Object.assign({},o);return{data:{properties:a,user:c},error:null}}function Yp(t){return t}function Zp(t){return t.access_token&&t.refresh_token&&t.expires_in}var Qp=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n};class Xp{constructor({url:e="",headers:n={},fetch:r}){this.url=e,this.headers=n,this.fetch=Jc(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(e,n="global"){try{return await H(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(r){if(B(r))return{data:null,error:r};throw r}}async inviteUserByEmail(e,n={}){try{return await H(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:wt})}catch(r){if(B(r))return{data:{user:null},error:r};throw r}}async generateLink(e){try{const{options:n}=e,r=Qp(e,["options"]),s=Object.assign(Object.assign({},r),n);return"newEmail"in r&&(s.new_email=r==null?void 0:r.newEmail,delete s.newEmail),await H(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:Jp,redirectTo:n==null?void 0:n.redirectTo})}catch(n){if(B(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(e){try{return await H(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:wt})}catch(n){if(B(n))return{data:{user:null},error:n};throw n}}async listUsers(e){var n,r,s,i,o,a,c;try{const l={nextPage:null,lastPage:0,total:0},u=await H(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=e==null?void 0:e.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(i=(s=e==null?void 0:e.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:Yp});if(u.error)throw u.error;const d=await u.json(),p=(o=u.headers.get("x-total-count"))!==null&&o!==void 0?o:0,m=(c=(a=u.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&c!==void 0?c:[];return m.length>0&&(m.forEach(v=>{const g=parseInt(v.split(";")[0].split("=")[1].substring(0,1)),y=JSON.parse(v.split(";")[1].split("=")[1]);l[`${y}Page`]=g}),l.total=parseInt(p)),{data:Object.assign(Object.assign({},d),l),error:null}}catch(l){if(B(l))return{data:{users:[]},error:l};throw l}}async getUserById(e){try{return await H(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:wt})}catch(n){if(B(n))return{data:{user:null},error:n};throw n}}async updateUserById(e,n){try{return await H(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:n,headers:this.headers,xform:wt})}catch(r){if(B(r))return{data:{user:null},error:r};throw r}}async deleteUser(e,n=!1){try{return await H(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:n},xform:wt})}catch(r){if(B(r))return{data:{user:null},error:r};throw r}}async _listFactors(e){try{const{data:n,error:r}=await H(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:n,error:r}}catch(n){if(B(n))return{data:null,error:n};throw n}}async _deleteFactor(e){try{return{data:await H(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(n){if(B(n))return{data:null,error:n};throw n}}}const em={getItem:t=>Jn()?globalThis.localStorage.getItem(t):null,setItem:(t,e)=>{Jn()&&globalThis.localStorage.setItem(t,e)},removeItem:t=>{Jn()&&globalThis.localStorage.removeItem(t)}};function ua(t={}){return{getItem:e=>t[e]||null,setItem:(e,n)=>{t[e]=n},removeItem:e=>{delete t[e]}}}function tm(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const mn={debug:!!(globalThis&&Jn()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Qc extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class nm extends Qc{}async function rm(t,e,n){mn.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const r=new globalThis.AbortController;return e>0&&setTimeout(()=>{r.abort(),mn.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async s=>{if(s){mn.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,s.name);try{return await n()}finally{mn.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,s.name)}}else{if(e===0)throw mn.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new nm(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(mn.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}tm();const sm={url:Sp,storageKey:Ep,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:Cp,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1},zn=30*1e3,da=3;async function fa(t,e,n){return await n()}class Qn{constructor(e){var n,r;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Qn.nextInstanceID,Qn.nextInstanceID+=1,this.instanceID>0&&Ke()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const s=Object.assign(Object.assign({},sm),e);if(this.logDebugMessages=!!s.debug,typeof s.debug=="function"&&(this.logger=s.debug),this.persistSession=s.persistSession,this.storageKey=s.storageKey,this.autoRefreshToken=s.autoRefreshToken,this.admin=new Xp({url:s.url,headers:s.headers,fetch:s.fetch}),this.url=s.url,this.headers=s.headers,this.fetch=Jc(s.fetch),this.lock=s.lock||fa,this.detectSessionInUrl=s.detectSessionInUrl,this.flowType=s.flowType,this.hasCustomAuthorizationHeader=s.hasCustomAuthorizationHeader,s.lock?this.lock=s.lock:Ke()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=rm:this.lock=fa,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?s.storage?this.storage=s.storage:Jn()?this.storage=em:(this.memoryStorage={},this.storage=ua(this.memoryStorage)):(this.memoryStorage={},this.storage=ua(this.memoryStorage)),Ke()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(i){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",i)}(r=this.broadcastChannel)===null||r===void 0||r.addEventListener("message",async i=>{this._debug("received broadcast notification from other tab or client",i),await this._notifyAllSubscribers(i.data.event,i.data.session,!1)})}this.initialize()}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${Kc}) ${new Date().toISOString()}`,...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{const n=jp(window.location.href);let r="none";if(this._isImplicitGrantCallback(n)?r="implicit":await this._isPKCECallback(n)&&(r="pkce"),Ke()&&this.detectSessionInUrl&&r!=="none"){const{data:s,error:i}=await this._getSessionFromURL(n,r);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),zp(i)){const c=(e=i.details)===null||e===void 0?void 0:e.code;if(c==="identity_already_exists"||c==="identity_not_found"||c==="single_identity_not_deletable")return{error:i}}return await this._removeSession(),{error:i}}const{session:o,redirectType:a}=s;return this._debug("#_initialize()","detected session in URL",o,"redirect type",a),await this._saveSession(o),setTimeout(async()=>{a==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return B(n)?{error:n}:{error:new Zc("Unexpected error during initialization",n)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var n,r,s;try{const i=await H(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(n=e==null?void 0:e.options)===null||n===void 0?void 0:n.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(s=e==null?void 0:e.options)===null||s===void 0?void 0:s.captchaToken}},xform:gt}),{data:o,error:a}=i;if(a||!o)return{data:{user:null,session:null},error:a};const c=o.session,l=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:l,session:c},error:null}}catch(i){if(B(i))return{data:{user:null,session:null},error:i};throw i}}async signUp(e){var n,r,s;try{let i;if("email"in e){const{email:u,password:d,options:p}=e;let m=null,v=null;this.flowType==="pkce"&&([m,v]=await pn(this.storage,this.storageKey)),i=await H(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:p==null?void 0:p.emailRedirectTo,body:{email:u,password:d,data:(n=p==null?void 0:p.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:p==null?void 0:p.captchaToken},code_challenge:m,code_challenge_method:v},xform:gt})}else if("phone"in e){const{phone:u,password:d,options:p}=e;i=await H(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:u,password:d,data:(r=p==null?void 0:p.data)!==null&&r!==void 0?r:{},channel:(s=p==null?void 0:p.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:p==null?void 0:p.captchaToken}},xform:gt})}else throw new wr("You must provide either an email or phone number and a password");const{data:o,error:a}=i;if(a||!o)return{data:{user:null,session:null},error:a};const c=o.session,l=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:l,session:c},error:null}}catch(i){if(B(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithPassword(e){try{let n;if("email"in e){const{email:i,password:o,options:a}=e;n=await H(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:la})}else if("phone"in e){const{phone:i,password:o,options:a}=e;n=await H(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:la})}else throw new wr("You must provide either an email or phone number and a password");const{data:r,error:s}=n;return s?{data:{user:null,session:null},error:s}:!r||!r.session||!r.user?{data:{user:null,session:null},error:new Vs}:(r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),{data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:s})}catch(n){if(B(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOAuth(e){var n,r,s,i;return await this._handleProviderSignIn(e.provider,{redirectTo:(n=e.options)===null||n===void 0?void 0:n.redirectTo,scopes:(r=e.options)===null||r===void 0?void 0:r.scopes,queryParams:(s=e.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(i=e.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async _exchangeCodeForSession(e){const n=await vr(this.storage,`${this.storageKey}-code-verifier`),[r,s]=(n??"").split("/");try{const{data:i,error:o}=await H(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:r},xform:gt});if(await br(this.storage,`${this.storageKey}-code-verifier`),o)throw o;return!i||!i.session||!i.user?{data:{user:null,session:null,redirectType:null},error:new Vs}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign(Object.assign({},i),{redirectType:s??null}),error:o})}catch(i){if(B(i))return{data:{user:null,session:null,redirectType:null},error:i};throw i}}async signInWithIdToken(e){try{const{options:n,provider:r,token:s,access_token:i,nonce:o}=e,a=await H(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:s,access_token:i,nonce:o,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},xform:gt}),{data:c,error:l}=a;return l?{data:{user:null,session:null},error:l}:!c||!c.session||!c.user?{data:{user:null,session:null},error:new Vs}:(c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),{data:c,error:l})}catch(n){if(B(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOtp(e){var n,r,s,i,o;try{if("email"in e){const{email:a,options:c}=e;let l=null,u=null;this.flowType==="pkce"&&([l,u]=await pn(this.storage,this.storageKey));const{error:d}=await H(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:a,data:(n=c==null?void 0:c.data)!==null&&n!==void 0?n:{},create_user:(r=c==null?void 0:c.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},code_challenge:l,code_challenge_method:u},redirectTo:c==null?void 0:c.emailRedirectTo});return{data:{user:null,session:null},error:d}}if("phone"in e){const{phone:a,options:c}=e,{data:l,error:u}=await H(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:a,data:(s=c==null?void 0:c.data)!==null&&s!==void 0?s:{},create_user:(i=c==null?void 0:c.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},channel:(o=c==null?void 0:c.channel)!==null&&o!==void 0?o:"sms"}});return{data:{user:null,session:null,messageId:l==null?void 0:l.message_id},error:u}}throw new wr("You must provide either an email or phone number.")}catch(a){if(B(a))return{data:{user:null,session:null},error:a};throw a}}async verifyOtp(e){var n,r;try{let s,i;"options"in e&&(s=(n=e.options)===null||n===void 0?void 0:n.redirectTo,i=(r=e.options)===null||r===void 0?void 0:r.captchaToken);const{data:o,error:a}=await H(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:i}}),redirectTo:s,xform:gt});if(a)throw a;if(!o)throw new Error("An error occurred on token verification.");const c=o.session,l=o.user;return c!=null&&c.access_token&&(await this._saveSession(c),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",c)),{data:{user:l,session:c},error:null}}catch(s){if(B(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithSSO(e){var n,r,s;try{let i=null,o=null;return this.flowType==="pkce"&&([i,o]=await pn(this.storage,this.storageKey)),await H(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(r=(n=e.options)===null||n===void 0?void 0:n.redirectTo)!==null&&r!==void 0?r:void 0}),!((s=e==null?void 0:e.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:i,code_challenge_method:o}),headers:this.headers,xform:Gp})}catch(i){if(B(i))return{data:null,error:i};throw i}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:n},error:r}=e;if(r)throw r;if(!n)throw new mt;const{error:s}=await H(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return{data:{user:null,session:null},error:s}})}catch(e){if(B(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{const n=`${this.url}/resend`;if("email"in e){const{email:r,type:s,options:i}=e,{error:o}=await H(this.fetch,"POST",n,{headers:this.headers,body:{email:r,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return{data:{user:null,session:null},error:o}}else if("phone"in e){const{phone:r,type:s,options:i}=e,{data:o,error:a}=await H(this.fetch,"POST",n,{headers:this.headers,body:{phone:r,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return{data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:a}}throw new wr("You must provide either an email or phone number and a type")}catch(n){if(B(n))return{data:{user:null,session:null},error:n};throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(e,n){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await r,await n()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=n();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await e(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const n=await vr(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?e=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const r=e.expires_at?e.expires_at<=Date.now()/1e3:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",e.expires_at),!r){if(this.storage.isServer){let o=this.suppressGetSessionWarning;e=new Proxy(e,{get:(c,l,u)=>(!o&&l==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),o=!0,this.suppressGetSessionWarning=!0),Reflect.get(c,l,u))})}return{data:{session:e},error:null}}const{session:s,error:i}=await this._callRefreshToken(e.refresh_token);return i?{data:{session:null},error:i}:{data:{session:s},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await H(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:wt}):await this._useSession(async n=>{var r,s,i;const{data:o,error:a}=n;if(a)throw a;return!(!((r=o.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new mt}:await H(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(s=o.session)===null||s===void 0?void 0:s.access_token)!==null&&i!==void 0?i:void 0,xform:wt})})}catch(n){if(B(n))return Vp(n)&&(await this._removeSession(),await br(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:n};throw n}}async updateUser(e,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,n))}async _updateUser(e,n={}){try{return await this._useSession(async r=>{const{data:s,error:i}=r;if(i)throw i;if(!s.session)throw new mt;const o=s.session;let a=null,c=null;this.flowType==="pkce"&&e.email!=null&&([a,c]=await pn(this.storage,this.storageKey));const{data:l,error:u}=await H(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n==null?void 0:n.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:a,code_challenge_method:c}),jwt:o.access_token,xform:wt});if(u)throw u;return o.user=l.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),{data:{user:o.user},error:null}})}catch(r){if(B(r))return{data:{user:null},error:r};throw r}}_decodeJWT(e){return ia(e)}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new mt;const n=Date.now()/1e3;let r=n,s=!0,i=null;const o=ia(e.access_token);if(o.exp&&(r=o.exp,s=r<=n),s){const{session:a,error:c}=await this._callRefreshToken(e.refresh_token);if(c)return{data:{user:null,session:null},error:c};if(!a)return{data:{user:null,session:null},error:null};i=a}else{const{data:a,error:c}=await this._getUser(e.access_token);if(c)throw c;i={access_token:e.access_token,refresh_token:e.refresh_token,user:a.user,token_type:"bearer",expires_in:r-n,expires_at:r},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return{data:{user:i.user,session:i},error:null}}catch(n){if(B(n))return{data:{session:null,user:null},error:n};throw n}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async n=>{var r;if(!e){const{data:o,error:a}=n;if(a)throw a;e=(r=o.session)!==null&&r!==void 0?r:void 0}if(!(e!=null&&e.refresh_token))throw new mt;const{session:s,error:i}=await this._callRefreshToken(e.refresh_token);return i?{data:{user:null,session:null},error:i}:s?{data:{user:s.user,session:s},error:null}:{data:{user:null,session:null},error:null}})}catch(n){if(B(n))return{data:{user:null,session:null},error:n};throw n}}async _getSessionFromURL(e,n){try{if(!Ke())throw new xr("No browser detected.");if(e.error||e.error_description||e.error_code)throw new xr(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new oa("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new xr("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new oa("No code detected.");const{data:w,error:_}=await this._exchangeCodeForSession(e.code);if(_)throw _;const S=new URL(window.location.href);return S.searchParams.delete("code"),window.history.replaceState(window.history.state,"",S.toString()),{data:{session:w.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:s,access_token:i,refresh_token:o,expires_in:a,expires_at:c,token_type:l}=e;if(!i||!a||!o||!l)throw new xr("No session defined in URL");const u=Math.round(Date.now()/1e3),d=parseInt(a);let p=u+d;c&&(p=parseInt(c));const m=p-u;m*1e3<=zn&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${m}s, should have been closer to ${d}s`);const v=p-d;u-v>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",v,p,u):u-v<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",v,p,u);const{data:g,error:y}=await this._getUser(i);if(y)throw y;const b={provider_token:r,provider_refresh_token:s,access_token:i,expires_in:d,expires_at:p,refresh_token:o,token_type:l,user:g.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:b,redirectType:e.type},error:null}}catch(r){if(B(r))return{data:{session:null,redirectType:null},error:r};throw r}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const n=await vr(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&n)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async n=>{var r;const{data:s,error:i}=n;if(i)return{error:i};const o=(r=s.session)===null||r===void 0?void 0:r.access_token;if(o){const{error:a}=await this.admin.signOut(o,e);if(a&&!(Bp(a)&&(a.status===404||a.status===401||a.status===403)))return{error:a}}return e!=="others"&&(await this._removeSession(),await br(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(e){const n=Op(),r={id:n,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,r),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:r}}}async _emitInitialSession(e){return await this._useSession(async n=>{var r,s;try{const{data:{session:i},error:o}=n;if(o)throw o;await((r=this.stateChangeEmitters.get(e))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",e,"session",i)}catch(i){await((s=this.stateChangeEmitters.get(e))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",i),console.error(i)}})}async resetPasswordForEmail(e,n={}){let r=null,s=null;this.flowType==="pkce"&&([r,s]=await pn(this.storage,this.storageKey,!0));try{return await H(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:r,code_challenge_method:s,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(i){if(B(i))return{data:null,error:i};throw i}}async getUserIdentities(){var e;try{const{data:n,error:r}=await this.getUser();if(r)throw r;return{data:{identities:(e=n.user.identities)!==null&&e!==void 0?e:[]},error:null}}catch(n){if(B(n))return{data:null,error:n};throw n}}async linkIdentity(e){var n;try{const{data:r,error:s}=await this._useSession(async i=>{var o,a,c,l,u;const{data:d,error:p}=i;if(p)throw p;const m=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(o=e.options)===null||o===void 0?void 0:o.redirectTo,scopes:(a=e.options)===null||a===void 0?void 0:a.scopes,queryParams:(c=e.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:!0});return await H(this.fetch,"GET",m,{headers:this.headers,jwt:(u=(l=d.session)===null||l===void 0?void 0:l.access_token)!==null&&u!==void 0?u:void 0})});if(s)throw s;return Ke()&&!(!((n=e.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(r==null?void 0:r.url),{data:{provider:e.provider,url:r==null?void 0:r.url},error:null}}catch(r){if(B(r))return{data:{provider:e.provider,url:null},error:r};throw r}}async unlinkIdentity(e){try{return await this._useSession(async n=>{var r,s;const{data:i,error:o}=n;if(o)throw o;return await H(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(s=(r=i.session)===null||r===void 0?void 0:r.access_token)!==null&&s!==void 0?s:void 0})})}catch(n){if(B(n))return{data:null,error:n};throw n}}async _refreshAccessToken(e){const n=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(n,"begin");try{const r=Date.now();return await Rp(async s=>(s>0&&await Pp(200*Math.pow(2,s-1)),this._debug(n,"refreshing attempt",s),await H(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:gt})),(s,i)=>{const o=200*Math.pow(2,s);return i&&zs(i)&&Date.now()+o-r<zn})}catch(r){if(this._debug(n,"error",r),B(r))return{data:{session:null,user:null},error:r};throw r}finally{this._debug(n,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,n){const r=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",n,"url",r),Ke()&&!n.skipBrowserRedirect&&window.location.assign(r),{data:{provider:e,url:r},error:null}}async _recoverAndRefresh(){var e;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const r=await vr(this.storage,this.storageKey);if(this._debug(n,"session from storage",r),!this._isValidSession(r)){this._debug(n,"session is not valid"),r!==null&&await this._removeSession();return}const s=Math.round(Date.now()/1e3),i=((e=r.expires_at)!==null&&e!==void 0?e:1/0)<s+sa;if(this._debug(n,`session has${i?"":" not"} expired with margin of ${sa}s`),i){if(this.autoRefreshToken&&r.refresh_token){const{error:o}=await this._callRefreshToken(r.refresh_token);o&&(console.error(o),zs(o)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",r)}catch(r){this._debug(n,"error",r),console.error(r);return}finally{this._debug(n,"end")}}async _callRefreshToken(e){var n,r;if(!e)throw new mt;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new rs;const{data:i,error:o}=await this._refreshAccessToken(e);if(o)throw o;if(!i.session)throw new mt;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const a={session:i.session,error:null};return this.refreshingDeferred.resolve(a),a}catch(i){if(this._debug(s,"error",i),B(i)){const o={session:null,error:i};return zs(i)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(o),o}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(i),i}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(e,n,r=!0){const s=`#_notifyAllSubscribers(${e})`;this._debug(s,"begin",n,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:e,session:n});const i=[],o=Array.from(this.stateChangeEmitters.values()).map(async a=>{try{await a.callback(e,n)}catch(c){i.push(c)}});if(await Promise.all(o),i.length>0){for(let a=0;a<i.length;a+=1)console.error(i[a]);throw i[0]}}finally{this._debug(s,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0,await Yc(this.storage,this.storageKey,e)}async _removeSession(){this._debug("#_removeSession()"),await br(this.storage,this.storageKey),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&Ke()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),zn);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async n=>{const{data:{session:r}}=n;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((r.expires_at*1e3-e)/zn);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${zn}ms, refresh threshold is ${da} ticks`),s<=da&&await this._callRefreshToken(r.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof Qc)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Ke()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const n=`#_onVisibilityChanged(${e})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,n,r){const s=[`provider=${encodeURIComponent(n)}`];if(r!=null&&r.redirectTo&&s.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r!=null&&r.scopes&&s.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[i,o]=await pn(this.storage,this.storageKey),a=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(o)}`});s.push(a.toString())}if(r!=null&&r.queryParams){const i=new URLSearchParams(r.queryParams);s.push(i.toString())}return r!=null&&r.skipBrowserRedirect&&s.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${e}?${s.join("&")}`}async _unenroll(e){try{return await this._useSession(async n=>{var r;const{data:s,error:i}=n;return i?{data:null,error:i}:await H(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(B(n))return{data:null,error:n};throw n}}async _enroll(e){try{return await this._useSession(async n=>{var r,s;const{data:i,error:o}=n;if(o)return{data:null,error:o};const a=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:{issuer:e.issuer}),{data:c,error:l}=await H(this.fetch,"POST",`${this.url}/factors`,{body:a,headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token});return l?{data:null,error:l}:(e.factorType==="totp"&&(!((s=c==null?void 0:c.totp)===null||s===void 0)&&s.qr_code)&&(c.totp.qr_code=`data:image/svg+xml;utf-8,${c.totp.qr_code}`),{data:c,error:null})})}catch(n){if(B(n))return{data:null,error:n};throw n}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:s,error:i}=n;if(i)return{data:null,error:i};const{data:o,error:a}=await H(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:{code:e.code,challenge_id:e.challengeId},headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token});return a?{data:null,error:a}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+o.expires_in},o)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",o),{data:o,error:a})})}catch(n){if(B(n))return{data:null,error:n};throw n}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:s,error:i}=n;return i?{data:null,error:i}:await H(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:{channel:e.channel},headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(B(n))return{data:null,error:n};throw n}})}async _challengeAndVerify(e){const{data:n,error:r}=await this._challenge({factorId:e.factorId});return r?{data:null,error:r}:await this._verify({factorId:e.factorId,challengeId:n.id,code:e.code})}async _listFactors(){const{data:{user:e},error:n}=await this.getUser();if(n)return{data:null,error:n};const r=(e==null?void 0:e.factors)||[],s=r.filter(o=>o.factor_type==="totp"&&o.status==="verified"),i=r.filter(o=>o.factor_type==="phone"&&o.status==="verified");return{data:{all:r,totp:s,phone:i},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async e=>{var n,r;const{data:{session:s},error:i}=e;if(i)return{data:null,error:i};if(!s)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const o=this._decodeJWT(s.access_token);let a=null;o.aal&&(a=o.aal);let c=a;((r=(n=s.user.factors)===null||n===void 0?void 0:n.filter(d=>d.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(c="aal2");const u=o.amr||[];return{data:{currentLevel:a,nextLevel:c,currentAuthenticationMethods:u},error:null}}))}}Qn.nextInstanceID=0;const im=Qn;class om extends im{constructor(e){super(e)}}var am=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(u){try{l(r.next(u))}catch(d){o(d)}}function c(u){try{l(r.throw(u))}catch(d){o(d)}}function l(u){u.done?i(u.value):s(u.value).then(a,c)}l((r=r.apply(t,e||[])).next())})};class cm{constructor(e,n,r){var s,i,o;if(this.supabaseUrl=e,this.supabaseKey=n,!e)throw new Error("supabaseUrl is required.");if(!n)throw new Error("supabaseKey is required.");const a=xp(e);this.realtimeUrl=`${a}/realtime/v1`.replace(/^http/i,"ws"),this.authUrl=`${a}/auth/v1`,this.storageUrl=`${a}/storage/v1`,this.functionsUrl=`${a}/functions/v1`;const c=`sb-${new URL(this.authUrl).hostname.split(".")[0]}-auth-token`,l={db:hp,realtime:mp,auth:Object.assign(Object.assign({},pp),{storageKey:c}),global:fp},u=_p(r??{},l);this.storageKey=(s=u.auth.storageKey)!==null&&s!==void 0?s:"",this.headers=(i=u.global.headers)!==null&&i!==void 0?i:{},u.accessToken?(this.accessToken=u.accessToken,this.auth=new Proxy({},{get:(d,p)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(p)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=u.auth)!==null&&o!==void 0?o:{},this.headers,u.global.fetch),this.fetch=bp(n,this._getAccessToken.bind(this),u.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},u.realtime)),this.rest=new Ih(`${a}/rest/v1`,{headers:this.headers,schema:u.db.schema,fetch:this.fetch}),u.accessToken||this._listenForAuthEvents()}get functions(){return new uh(this.functionsUrl,{headers:this.headers,customFetch:this.fetch})}get storage(){return new lp(this.storageUrl,this.headers,this.fetch)}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,n={},r={}){return this.rest.rpc(e,n,r)}channel(e,n={config:{}}){return this.realtime.channel(e,n)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var e,n;return am(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:r}=yield this.auth.getSession();return(n=(e=r.session)===null||e===void 0?void 0:e.access_token)!==null&&n!==void 0?n:null})}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:n,detectSessionInUrl:r,storage:s,storageKey:i,flowType:o,lock:a,debug:c},l,u){const d={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new om({url:this.authUrl,headers:Object.assign(Object.assign({},d),l),storageKey:i,autoRefreshToken:e,persistSession:n,detectSessionInUrl:r,storage:s,flowType:o,lock:a,debug:c,fetch:u,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(e){return new Jh(this.realtimeUrl,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,r)=>{this._handleTokenChanged(n,"CLIENT",r==null?void 0:r.access_token)})}_handleTokenChanged(e,n,r){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==r?this.changedAccessToken=r:e==="SIGNED_OUT"&&(this.realtime.setAuth(),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const lm=(t,e,n)=>new cm(t,e,n),um="https://rhibyqyxpkcouaxhicgr.supabase.co",dm="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InJoaWJ5cXl4cGtjb3VheGhpY2dyIiwicm9sZSI6ImFub24iLCJpYXQiOjE3MzY3NjQwMDAsImV4cCI6MjA1MjM0MDAwMH0.La6DhxuaSSOoEvwiTHh6AL0geOJliwPzg3l7dw9ZBME",Pt=lm(um,dm),n1=async({search:t,date:e},n)=>{let r=Pt.from("Appointments").select("*, patient:Patients(*)");return e&&(r=r.eq("date",e)),t.trim().length>0&&(r=r.ilike("Patients.name",`%${t}%`)),n?await r.abortSignal(n):await r},r1=async()=>{const e=new Date().toLocaleDateString("en-CA");return await Pt.from("Appointments").select("*, patient:Patients(*)").eq("date",e)},fm=async t=>{const{data:e,status:n,error:r}=await Pt.from("Appointments").insert([t]).select("*");r?n===409?at.error("تم حجز موعد للمريض في نفس اليوم مسبقا"):at.error(cr):at.success("تم حجز الموعد")},hm=async t=>{const{data:e,status:n,error:r}=await Pt.from("Appointments").delete().eq("id",t).select("*");r?at.error(cr):at.success("تم إلغاء الموعد")};function ha(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function Xc(...t){return e=>{let n=!1;const r=t.map(s=>{const i=ha(s,e);return!n&&typeof i=="function"&&(n=!0),i});if(n)return()=>{for(let s=0;s<r.length;s++){const i=r[s];typeof i=="function"?i():ha(t[s],null)}}}}function ue(...t){return f.useCallback(Xc(...t),t)}var Qt=f.forwardRef((t,e)=>{const{children:n,...r}=t,s=f.Children.toArray(n),i=s.find(mm);if(i){const o=i.props.children,a=s.map(c=>c===i?f.Children.count(o)>1?f.Children.only(null):f.isValidElement(o)?o.props.children:null:c);return h.jsx(Ei,{...r,ref:e,children:f.isValidElement(o)?f.cloneElement(o,void 0,a):null})}return h.jsx(Ei,{...r,ref:e,children:n})});Qt.displayName="Slot";var Ei=f.forwardRef((t,e)=>{const{children:n,...r}=t;if(f.isValidElement(n)){const s=ym(n),i=gm(r,n.props);return n.type!==f.Fragment&&(i.ref=e?Xc(e,s):s),f.cloneElement(n,i)}return f.Children.count(n)>1?f.Children.only(null):null});Ei.displayName="SlotClone";var pm=({children:t})=>h.jsx(h.Fragment,{children:t});function mm(t){return f.isValidElement(t)&&t.type===pm}function gm(t,e){const n={...e};for(const r in e){const s=t[r],i=e[r];/^on[A-Z]/.test(r)?s&&i?n[r]=(...a)=>{i(...a),s(...a)}:s&&(n[r]=s):r==="style"?n[r]={...s,...i}:r==="className"&&(n[r]=[s,i].filter(Boolean).join(" "))}return{...t,...n}}function ym(t){var r,s;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}const pa=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,ma=If,vm=(t,e)=>n=>{var r;if((e==null?void 0:e.variants)==null)return ma(t,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:s,defaultVariants:i}=e,o=Object.keys(s).map(l=>{const u=n==null?void 0:n[l],d=i==null?void 0:i[l];if(u===null)return null;const p=pa(u)||pa(d);return s[l][p]}),a=n&&Object.entries(n).reduce((l,u)=>{let[d,p]=u;return p===void 0||(l[d]=p),l},{}),c=e==null||(r=e.compoundVariants)===null||r===void 0?void 0:r.reduce((l,u)=>{let{class:d,className:p,...m}=u;return Object.entries(m).every(v=>{let[g,y]=v;return Array.isArray(y)?y.includes({...i,...a}[g]):{...i,...a}[g]===y})?[...l,d,p]:l},[]);return ma(t,o,c,n==null?void 0:n.class,n==null?void 0:n.className)},el=f.forwardRef(({className:t,type:e,...n},r)=>h.jsx("input",{type:e,className:I(" w-full rounded-md  bg-background px-3 py-1 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:r,...n}));el.displayName="Input";function K(t,e,{checkForDefaultPrevented:n=!0}={}){return function(s){if(t==null||t(s),n===!1||!s.defaultPrevented)return e==null?void 0:e(s)}}function bm(t,e){const n=f.createContext(e),r=i=>{const{children:o,...a}=i,c=f.useMemo(()=>a,Object.values(a));return h.jsx(n.Provider,{value:c,children:o})};r.displayName=t+"Provider";function s(i){const o=f.useContext(n);if(o)return o;if(e!==void 0)return e;throw new Error(`\`${i}\` must be used within \`${t}\``)}return[r,s]}function Fn(t,e=[]){let n=[];function r(i,o){const a=f.createContext(o),c=n.length;n=[...n,o];const l=d=>{var b;const{scope:p,children:m,...v}=d,g=((b=p==null?void 0:p[t])==null?void 0:b[c])||a,y=f.useMemo(()=>v,Object.values(v));return h.jsx(g.Provider,{value:y,children:m})};l.displayName=i+"Provider";function u(d,p){var g;const m=((g=p==null?void 0:p[t])==null?void 0:g[c])||a,v=f.useContext(m);if(v)return v;if(o!==void 0)return o;throw new Error(`\`${d}\` must be used within \`${i}\``)}return[l,u]}const s=()=>{const i=n.map(o=>f.createContext(o));return function(a){const c=(a==null?void 0:a[t])||i;return f.useMemo(()=>({[`__scope${t}`]:{...a,[t]:c}}),[a,c])}};return s.scopeName=t,[r,wm(s,...e)]}function wm(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const o=r.reduce((a,{useScope:c,scopeName:l})=>{const d=c(i)[`__scope${l}`];return{...a,...d}},{});return f.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}var xm=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],ee=xm.reduce((t,e)=>{const n=f.forwardRef((r,s)=>{const{asChild:i,...o}=r,a=i?Qt:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),h.jsx(a,{...o,ref:s})});return n.displayName=`Primitive.${e}`,{...t,[e]:n}},{});function _m(t,e){t&&Yr.flushSync(()=>t.dispatchEvent(e))}function lt(t){const e=f.useRef(t);return f.useEffect(()=>{e.current=t}),f.useMemo(()=>(...n)=>{var r;return(r=e.current)==null?void 0:r.call(e,...n)},[])}function Sm(t,e=globalThis==null?void 0:globalThis.document){const n=lt(t);f.useEffect(()=>{const r=s=>{s.key==="Escape"&&n(s)};return e.addEventListener("keydown",r,{capture:!0}),()=>e.removeEventListener("keydown",r,{capture:!0})},[n,e])}var Em="DismissableLayer",Ci="dismissableLayer.update",Cm="dismissableLayer.pointerDownOutside",Tm="dismissableLayer.focusOutside",ga,tl=f.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),ss=f.forwardRef((t,e)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:s,onFocusOutside:i,onInteractOutside:o,onDismiss:a,...c}=t,l=f.useContext(tl),[u,d]=f.useState(null),p=(u==null?void 0:u.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,m]=f.useState({}),v=ue(e,E=>d(E)),g=Array.from(l.layers),[y]=[...l.layersWithOutsidePointerEventsDisabled].slice(-1),b=g.indexOf(y),w=u?g.indexOf(u):-1,_=l.layersWithOutsidePointerEventsDisabled.size>0,S=w>=b,C=Am(E=>{const N=E.target,P=[...l.branches].some(M=>M.contains(N));!S||P||(s==null||s(E),o==null||o(E),E.defaultPrevented||a==null||a())},p),O=km(E=>{const N=E.target;[...l.branches].some(M=>M.contains(N))||(i==null||i(E),o==null||o(E),E.defaultPrevented||a==null||a())},p);return Sm(E=>{w===l.layers.size-1&&(r==null||r(E),!E.defaultPrevented&&a&&(E.preventDefault(),a()))},p),f.useEffect(()=>{if(u)return n&&(l.layersWithOutsidePointerEventsDisabled.size===0&&(ga=p.body.style.pointerEvents,p.body.style.pointerEvents="none"),l.layersWithOutsidePointerEventsDisabled.add(u)),l.layers.add(u),ya(),()=>{n&&l.layersWithOutsidePointerEventsDisabled.size===1&&(p.body.style.pointerEvents=ga)}},[u,p,n,l]),f.useEffect(()=>()=>{u&&(l.layers.delete(u),l.layersWithOutsidePointerEventsDisabled.delete(u),ya())},[u,l]),f.useEffect(()=>{const E=()=>m({});return document.addEventListener(Ci,E),()=>document.removeEventListener(Ci,E)},[]),h.jsx(ee.div,{...c,ref:v,style:{pointerEvents:_?S?"auto":"none":void 0,...t.style},onFocusCapture:K(t.onFocusCapture,O.onFocusCapture),onBlurCapture:K(t.onBlurCapture,O.onBlurCapture),onPointerDownCapture:K(t.onPointerDownCapture,C.onPointerDownCapture)})});ss.displayName=Em;var Om="DismissableLayerBranch",jm=f.forwardRef((t,e)=>{const n=f.useContext(tl),r=f.useRef(null),s=ue(e,r);return f.useEffect(()=>{const i=r.current;if(i)return n.branches.add(i),()=>{n.branches.delete(i)}},[n.branches]),h.jsx(ee.div,{...t,ref:s})});jm.displayName=Om;function Am(t,e=globalThis==null?void 0:globalThis.document){const n=lt(t),r=f.useRef(!1),s=f.useRef(()=>{});return f.useEffect(()=>{const i=a=>{if(a.target&&!r.current){let c=function(){nl(Cm,n,l,{discrete:!0})};const l={originalEvent:a};a.pointerType==="touch"?(e.removeEventListener("click",s.current),s.current=c,e.addEventListener("click",s.current,{once:!0})):c()}else e.removeEventListener("click",s.current);r.current=!1},o=window.setTimeout(()=>{e.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(o),e.removeEventListener("pointerdown",i),e.removeEventListener("click",s.current)}},[e,n]),{onPointerDownCapture:()=>r.current=!0}}function km(t,e=globalThis==null?void 0:globalThis.document){const n=lt(t),r=f.useRef(!1);return f.useEffect(()=>{const s=i=>{i.target&&!r.current&&nl(Tm,n,{originalEvent:i},{discrete:!1})};return e.addEventListener("focusin",s),()=>e.removeEventListener("focusin",s)},[e,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function ya(){const t=new CustomEvent(Ci);document.dispatchEvent(t)}function nl(t,e,n,{discrete:r}){const s=n.originalEvent.target,i=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&s.addEventListener(t,e,{once:!0}),r?_m(s,i):s.dispatchEvent(i)}var Ws=0;function to(){f.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??va()),document.body.insertAdjacentElement("beforeend",t[1]??va()),Ws++,()=>{Ws===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),Ws--}},[])}function va(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var Hs="focusScope.autoFocusOnMount",qs="focusScope.autoFocusOnUnmount",ba={bubbles:!1,cancelable:!0},Pm="FocusScope",is=f.forwardRef((t,e)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:s,onUnmountAutoFocus:i,...o}=t,[a,c]=f.useState(null),l=lt(s),u=lt(i),d=f.useRef(null),p=ue(e,g=>c(g)),m=f.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;f.useEffect(()=>{if(r){let g=function(_){if(m.paused||!a)return;const S=_.target;a.contains(S)?d.current=S:yt(d.current,{select:!0})},y=function(_){if(m.paused||!a)return;const S=_.relatedTarget;S!==null&&(a.contains(S)||yt(d.current,{select:!0}))},b=function(_){if(document.activeElement===document.body)for(const C of _)C.removedNodes.length>0&&yt(a)};document.addEventListener("focusin",g),document.addEventListener("focusout",y);const w=new MutationObserver(b);return a&&w.observe(a,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",g),document.removeEventListener("focusout",y),w.disconnect()}}},[r,a,m.paused]),f.useEffect(()=>{if(a){xa.add(m);const g=document.activeElement;if(!a.contains(g)){const b=new CustomEvent(Hs,ba);a.addEventListener(Hs,l),a.dispatchEvent(b),b.defaultPrevented||(Rm(Fm(rl(a)),{select:!0}),document.activeElement===g&&yt(a))}return()=>{a.removeEventListener(Hs,l),setTimeout(()=>{const b=new CustomEvent(qs,ba);a.addEventListener(qs,u),a.dispatchEvent(b),b.defaultPrevented||yt(g??document.body,{select:!0}),a.removeEventListener(qs,u),xa.remove(m)},0)}}},[a,l,u,m]);const v=f.useCallback(g=>{if(!n&&!r||m.paused)return;const y=g.key==="Tab"&&!g.altKey&&!g.ctrlKey&&!g.metaKey,b=document.activeElement;if(y&&b){const w=g.currentTarget,[_,S]=$m(w);_&&S?!g.shiftKey&&b===S?(g.preventDefault(),n&&yt(_,{select:!0})):g.shiftKey&&b===_&&(g.preventDefault(),n&&yt(S,{select:!0})):b===w&&g.preventDefault()}},[n,r,m.paused]);return h.jsx(ee.div,{tabIndex:-1,...o,ref:p,onKeyDown:v})});is.displayName=Pm;function Rm(t,{select:e=!1}={}){const n=document.activeElement;for(const r of t)if(yt(r,{select:e}),document.activeElement!==n)return}function $m(t){const e=rl(t),n=wa(e,t),r=wa(e.reverse(),t);return[n,r]}function rl(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function wa(t,e){for(const n of t)if(!Im(n,{upTo:e}))return n}function Im(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function Nm(t){return t instanceof HTMLInputElement&&"select"in t}function yt(t,{select:e=!1}={}){if(t&&t.focus){const n=document.activeElement;t.focus({preventScroll:!0}),t!==n&&Nm(t)&&e&&t.select()}}var xa=Dm();function Dm(){let t=[];return{add(e){const n=t[0];e!==n&&(n==null||n.pause()),t=_a(t,e),t.unshift(e)},remove(e){var n;t=_a(t,e),(n=t[0])==null||n.resume()}}}function _a(t,e){const n=[...t],r=n.indexOf(e);return r!==-1&&n.splice(r,1),n}function Fm(t){return t.filter(e=>e.tagName!=="A")}var be=globalThis!=null&&globalThis.document?f.useLayoutEffect:()=>{},Mm=Of.useId||(()=>{}),Lm=0;function Jt(t){const[e,n]=f.useState(Mm());return be(()=>{n(r=>r??String(Lm++))},[t]),e?`radix-${e}`:""}const Um=["top","right","bottom","left"],Ot=Math.min,Pe=Math.max,Ur=Math.round,_r=Math.floor,Qe=t=>({x:t,y:t}),Bm={left:"right",right:"left",bottom:"top",top:"bottom"},Vm={start:"end",end:"start"};function Ti(t,e,n){return Pe(t,Ot(e,n))}function ut(t,e){return typeof t=="function"?t(e):t}function dt(t){return t.split("-")[0]}function Mn(t){return t.split("-")[1]}function no(t){return t==="x"?"y":"x"}function ro(t){return t==="y"?"height":"width"}function jt(t){return["top","bottom"].includes(dt(t))?"y":"x"}function so(t){return no(jt(t))}function zm(t,e,n){n===void 0&&(n=!1);const r=Mn(t),s=so(t),i=ro(s);let o=s==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[i]>e.floating[i]&&(o=Br(o)),[o,Br(o)]}function Wm(t){const e=Br(t);return[Oi(t),e,Oi(e)]}function Oi(t){return t.replace(/start|end/g,e=>Vm[e])}function Hm(t,e,n){const r=["left","right"],s=["right","left"],i=["top","bottom"],o=["bottom","top"];switch(t){case"top":case"bottom":return n?e?s:r:e?r:s;case"left":case"right":return e?i:o;default:return[]}}function qm(t,e,n,r){const s=Mn(t);let i=Hm(dt(t),n==="start",r);return s&&(i=i.map(o=>o+"-"+s),e&&(i=i.concat(i.map(Oi)))),i}function Br(t){return t.replace(/left|right|bottom|top/g,e=>Bm[e])}function Km(t){return{top:0,right:0,bottom:0,left:0,...t}}function sl(t){return typeof t!="number"?Km(t):{top:t,right:t,bottom:t,left:t}}function Vr(t){const{x:e,y:n,width:r,height:s}=t;return{width:r,height:s,top:n,left:e,right:e+r,bottom:n+s,x:e,y:n}}function Sa(t,e,n){let{reference:r,floating:s}=t;const i=jt(e),o=so(e),a=ro(o),c=dt(e),l=i==="y",u=r.x+r.width/2-s.width/2,d=r.y+r.height/2-s.height/2,p=r[a]/2-s[a]/2;let m;switch(c){case"top":m={x:u,y:r.y-s.height};break;case"bottom":m={x:u,y:r.y+r.height};break;case"right":m={x:r.x+r.width,y:d};break;case"left":m={x:r.x-s.width,y:d};break;default:m={x:r.x,y:r.y}}switch(Mn(e)){case"start":m[o]-=p*(n&&l?-1:1);break;case"end":m[o]+=p*(n&&l?-1:1);break}return m}const Gm=async(t,e,n)=>{const{placement:r="bottom",strategy:s="absolute",middleware:i=[],platform:o}=n,a=i.filter(Boolean),c=await(o.isRTL==null?void 0:o.isRTL(e));let l=await o.getElementRects({reference:t,floating:e,strategy:s}),{x:u,y:d}=Sa(l,r,c),p=r,m={},v=0;for(let g=0;g<a.length;g++){const{name:y,fn:b}=a[g],{x:w,y:_,data:S,reset:C}=await b({x:u,y:d,initialPlacement:r,placement:p,strategy:s,middlewareData:m,rects:l,platform:o,elements:{reference:t,floating:e}});u=w??u,d=_??d,m={...m,[y]:{...m[y],...S}},C&&v<=50&&(v++,typeof C=="object"&&(C.placement&&(p=C.placement),C.rects&&(l=C.rects===!0?await o.getElementRects({reference:t,floating:e,strategy:s}):C.rects),{x:u,y:d}=Sa(l,p,c)),g=-1)}return{x:u,y:d,placement:p,strategy:s,middlewareData:m}};async function Xn(t,e){var n;e===void 0&&(e={});const{x:r,y:s,platform:i,rects:o,elements:a,strategy:c}=t,{boundary:l="clippingAncestors",rootBoundary:u="viewport",elementContext:d="floating",altBoundary:p=!1,padding:m=0}=ut(e,t),v=sl(m),y=a[p?d==="floating"?"reference":"floating":d],b=Vr(await i.getClippingRect({element:(n=await(i.isElement==null?void 0:i.isElement(y)))==null||n?y:y.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(a.floating)),boundary:l,rootBoundary:u,strategy:c})),w=d==="floating"?{x:r,y:s,width:o.floating.width,height:o.floating.height}:o.reference,_=await(i.getOffsetParent==null?void 0:i.getOffsetParent(a.floating)),S=await(i.isElement==null?void 0:i.isElement(_))?await(i.getScale==null?void 0:i.getScale(_))||{x:1,y:1}:{x:1,y:1},C=Vr(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:w,offsetParent:_,strategy:c}):w);return{top:(b.top-C.top+v.top)/S.y,bottom:(C.bottom-b.bottom+v.bottom)/S.y,left:(b.left-C.left+v.left)/S.x,right:(C.right-b.right+v.right)/S.x}}const Jm=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:r,placement:s,rects:i,platform:o,elements:a,middlewareData:c}=e,{element:l,padding:u=0}=ut(t,e)||{};if(l==null)return{};const d=sl(u),p={x:n,y:r},m=so(s),v=ro(m),g=await o.getDimensions(l),y=m==="y",b=y?"top":"left",w=y?"bottom":"right",_=y?"clientHeight":"clientWidth",S=i.reference[v]+i.reference[m]-p[m]-i.floating[v],C=p[m]-i.reference[m],O=await(o.getOffsetParent==null?void 0:o.getOffsetParent(l));let E=O?O[_]:0;(!E||!await(o.isElement==null?void 0:o.isElement(O)))&&(E=a.floating[_]||i.floating[v]);const N=S/2-C/2,P=E/2-g[v]/2-1,M=Ot(d[b],P),k=Ot(d[w],P),L=M,F=E-g[v]-k,U=E/2-g[v]/2+N,oe=Ti(L,U,F),z=!c.arrow&&Mn(s)!=null&&U!==oe&&i.reference[v]/2-(U<L?M:k)-g[v]/2<0,G=z?U<L?U-L:U-F:0;return{[m]:p[m]+G,data:{[m]:oe,centerOffset:U-oe-G,...z&&{alignmentOffset:G}},reset:z}}}),Ym=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,r;const{placement:s,middlewareData:i,rects:o,initialPlacement:a,platform:c,elements:l}=e,{mainAxis:u=!0,crossAxis:d=!0,fallbackPlacements:p,fallbackStrategy:m="bestFit",fallbackAxisSideDirection:v="none",flipAlignment:g=!0,...y}=ut(t,e);if((n=i.arrow)!=null&&n.alignmentOffset)return{};const b=dt(s),w=jt(a),_=dt(a)===a,S=await(c.isRTL==null?void 0:c.isRTL(l.floating)),C=p||(_||!g?[Br(a)]:Wm(a)),O=v!=="none";!p&&O&&C.push(...qm(a,g,v,S));const E=[a,...C],N=await Xn(e,y),P=[];let M=((r=i.flip)==null?void 0:r.overflows)||[];if(u&&P.push(N[b]),d){const U=zm(s,o,S);P.push(N[U[0]],N[U[1]])}if(M=[...M,{placement:s,overflows:P}],!P.every(U=>U<=0)){var k,L;const U=(((k=i.flip)==null?void 0:k.index)||0)+1,oe=E[U];if(oe)return{data:{index:U,overflows:M},reset:{placement:oe}};let z=(L=M.filter(G=>G.overflows[0]<=0).sort((G,D)=>G.overflows[1]-D.overflows[1])[0])==null?void 0:L.placement;if(!z)switch(m){case"bestFit":{var F;const G=(F=M.filter(D=>{if(O){const ne=jt(D.placement);return ne===w||ne==="y"}return!0}).map(D=>[D.placement,D.overflows.filter(ne=>ne>0).reduce((ne,me)=>ne+me,0)]).sort((D,ne)=>D[1]-ne[1])[0])==null?void 0:F[0];G&&(z=G);break}case"initialPlacement":z=a;break}if(s!==z)return{reset:{placement:z}}}return{}}}};function Ea(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function Ca(t){return Um.some(e=>t[e]>=0)}const Zm=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:n}=e,{strategy:r="referenceHidden",...s}=ut(t,e);switch(r){case"referenceHidden":{const i=await Xn(e,{...s,elementContext:"reference"}),o=Ea(i,n.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:Ca(o)}}}case"escaped":{const i=await Xn(e,{...s,altBoundary:!0}),o=Ea(i,n.floating);return{data:{escapedOffsets:o,escaped:Ca(o)}}}default:return{}}}}};async function Qm(t,e){const{placement:n,platform:r,elements:s}=t,i=await(r.isRTL==null?void 0:r.isRTL(s.floating)),o=dt(n),a=Mn(n),c=jt(n)==="y",l=["left","top"].includes(o)?-1:1,u=i&&c?-1:1,d=ut(e,t);let{mainAxis:p,crossAxis:m,alignmentAxis:v}=typeof d=="number"?{mainAxis:d,crossAxis:0,alignmentAxis:null}:{mainAxis:d.mainAxis||0,crossAxis:d.crossAxis||0,alignmentAxis:d.alignmentAxis};return a&&typeof v=="number"&&(m=a==="end"?v*-1:v),c?{x:m*u,y:p*l}:{x:p*l,y:m*u}}const Xm=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,r;const{x:s,y:i,placement:o,middlewareData:a}=e,c=await Qm(e,t);return o===((n=a.offset)==null?void 0:n.placement)&&(r=a.arrow)!=null&&r.alignmentOffset?{}:{x:s+c.x,y:i+c.y,data:{...c,placement:o}}}}},eg=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:r,placement:s}=e,{mainAxis:i=!0,crossAxis:o=!1,limiter:a={fn:y=>{let{x:b,y:w}=y;return{x:b,y:w}}},...c}=ut(t,e),l={x:n,y:r},u=await Xn(e,c),d=jt(dt(s)),p=no(d);let m=l[p],v=l[d];if(i){const y=p==="y"?"top":"left",b=p==="y"?"bottom":"right",w=m+u[y],_=m-u[b];m=Ti(w,m,_)}if(o){const y=d==="y"?"top":"left",b=d==="y"?"bottom":"right",w=v+u[y],_=v-u[b];v=Ti(w,v,_)}const g=a.fn({...e,[p]:m,[d]:v});return{...g,data:{x:g.x-n,y:g.y-r,enabled:{[p]:i,[d]:o}}}}}},tg=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:n,y:r,placement:s,rects:i,middlewareData:o}=e,{offset:a=0,mainAxis:c=!0,crossAxis:l=!0}=ut(t,e),u={x:n,y:r},d=jt(s),p=no(d);let m=u[p],v=u[d];const g=ut(a,e),y=typeof g=="number"?{mainAxis:g,crossAxis:0}:{mainAxis:0,crossAxis:0,...g};if(c){const _=p==="y"?"height":"width",S=i.reference[p]-i.floating[_]+y.mainAxis,C=i.reference[p]+i.reference[_]-y.mainAxis;m<S?m=S:m>C&&(m=C)}if(l){var b,w;const _=p==="y"?"width":"height",S=["top","left"].includes(dt(s)),C=i.reference[d]-i.floating[_]+(S&&((b=o.offset)==null?void 0:b[d])||0)+(S?0:y.crossAxis),O=i.reference[d]+i.reference[_]+(S?0:((w=o.offset)==null?void 0:w[d])||0)-(S?y.crossAxis:0);v<C?v=C:v>O&&(v=O)}return{[p]:m,[d]:v}}}},ng=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var n,r;const{placement:s,rects:i,platform:o,elements:a}=e,{apply:c=()=>{},...l}=ut(t,e),u=await Xn(e,l),d=dt(s),p=Mn(s),m=jt(s)==="y",{width:v,height:g}=i.floating;let y,b;d==="top"||d==="bottom"?(y=d,b=p===(await(o.isRTL==null?void 0:o.isRTL(a.floating))?"start":"end")?"left":"right"):(b=d,y=p==="end"?"top":"bottom");const w=g-u.top-u.bottom,_=v-u.left-u.right,S=Ot(g-u[y],w),C=Ot(v-u[b],_),O=!e.middlewareData.shift;let E=S,N=C;if((n=e.middlewareData.shift)!=null&&n.enabled.x&&(N=_),(r=e.middlewareData.shift)!=null&&r.enabled.y&&(E=w),O&&!p){const M=Pe(u.left,0),k=Pe(u.right,0),L=Pe(u.top,0),F=Pe(u.bottom,0);m?N=v-2*(M!==0||k!==0?M+k:Pe(u.left,u.right)):E=g-2*(L!==0||F!==0?L+F:Pe(u.top,u.bottom))}await c({...e,availableWidth:N,availableHeight:E});const P=await o.getDimensions(a.floating);return v!==P.width||g!==P.height?{reset:{rects:!0}}:{}}}};function os(){return typeof window<"u"}function Ln(t){return il(t)?(t.nodeName||"").toLowerCase():"#document"}function Re(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function et(t){var e;return(e=(il(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function il(t){return os()?t instanceof Node||t instanceof Re(t).Node:!1}function ze(t){return os()?t instanceof Element||t instanceof Re(t).Element:!1}function Xe(t){return os()?t instanceof HTMLElement||t instanceof Re(t).HTMLElement:!1}function Ta(t){return!os()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof Re(t).ShadowRoot}function dr(t){const{overflow:e,overflowX:n,overflowY:r,display:s}=We(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!["inline","contents"].includes(s)}function rg(t){return["table","td","th"].includes(Ln(t))}function as(t){return[":popover-open",":modal"].some(e=>{try{return t.matches(e)}catch{return!1}})}function io(t){const e=oo(),n=ze(t)?We(t):t;return["transform","translate","scale","rotate","perspective"].some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(r=>(n.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(n.contain||"").includes(r))}function sg(t){let e=At(t);for(;Xe(e)&&!Rn(e);){if(io(e))return e;if(as(e))return null;e=At(e)}return null}function oo(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function Rn(t){return["html","body","#document"].includes(Ln(t))}function We(t){return Re(t).getComputedStyle(t)}function cs(t){return ze(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function At(t){if(Ln(t)==="html")return t;const e=t.assignedSlot||t.parentNode||Ta(t)&&t.host||et(t);return Ta(e)?e.host:e}function ol(t){const e=At(t);return Rn(e)?t.ownerDocument?t.ownerDocument.body:t.body:Xe(e)&&dr(e)?e:ol(e)}function er(t,e,n){var r;e===void 0&&(e=[]),n===void 0&&(n=!0);const s=ol(t),i=s===((r=t.ownerDocument)==null?void 0:r.body),o=Re(s);if(i){const a=ji(o);return e.concat(o,o.visualViewport||[],dr(s)?s:[],a&&n?er(a):[])}return e.concat(s,er(s,[],n))}function ji(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function al(t){const e=We(t);let n=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const s=Xe(t),i=s?t.offsetWidth:n,o=s?t.offsetHeight:r,a=Ur(n)!==i||Ur(r)!==o;return a&&(n=i,r=o),{width:n,height:r,$:a}}function ao(t){return ze(t)?t:t.contextElement}function Sn(t){const e=ao(t);if(!Xe(e))return Qe(1);const n=e.getBoundingClientRect(),{width:r,height:s,$:i}=al(e);let o=(i?Ur(n.width):n.width)/r,a=(i?Ur(n.height):n.height)/s;return(!o||!Number.isFinite(o))&&(o=1),(!a||!Number.isFinite(a))&&(a=1),{x:o,y:a}}const ig=Qe(0);function cl(t){const e=Re(t);return!oo()||!e.visualViewport?ig:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function og(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==Re(t)?!1:e}function Xt(t,e,n,r){e===void 0&&(e=!1),n===void 0&&(n=!1);const s=t.getBoundingClientRect(),i=ao(t);let o=Qe(1);e&&(r?ze(r)&&(o=Sn(r)):o=Sn(t));const a=og(i,n,r)?cl(i):Qe(0);let c=(s.left+a.x)/o.x,l=(s.top+a.y)/o.y,u=s.width/o.x,d=s.height/o.y;if(i){const p=Re(i),m=r&&ze(r)?Re(r):r;let v=p,g=ji(v);for(;g&&r&&m!==v;){const y=Sn(g),b=g.getBoundingClientRect(),w=We(g),_=b.left+(g.clientLeft+parseFloat(w.paddingLeft))*y.x,S=b.top+(g.clientTop+parseFloat(w.paddingTop))*y.y;c*=y.x,l*=y.y,u*=y.x,d*=y.y,c+=_,l+=S,v=Re(g),g=ji(v)}}return Vr({width:u,height:d,x:c,y:l})}function co(t,e){const n=cs(t).scrollLeft;return e?e.left+n:Xt(et(t)).left+n}function ll(t,e,n){n===void 0&&(n=!1);const r=t.getBoundingClientRect(),s=r.left+e.scrollLeft-(n?0:co(t,r)),i=r.top+e.scrollTop;return{x:s,y:i}}function ag(t){let{elements:e,rect:n,offsetParent:r,strategy:s}=t;const i=s==="fixed",o=et(r),a=e?as(e.floating):!1;if(r===o||a&&i)return n;let c={scrollLeft:0,scrollTop:0},l=Qe(1);const u=Qe(0),d=Xe(r);if((d||!d&&!i)&&((Ln(r)!=="body"||dr(o))&&(c=cs(r)),Xe(r))){const m=Xt(r);l=Sn(r),u.x=m.x+r.clientLeft,u.y=m.y+r.clientTop}const p=o&&!d&&!i?ll(o,c,!0):Qe(0);return{width:n.width*l.x,height:n.height*l.y,x:n.x*l.x-c.scrollLeft*l.x+u.x+p.x,y:n.y*l.y-c.scrollTop*l.y+u.y+p.y}}function cg(t){return Array.from(t.getClientRects())}function lg(t){const e=et(t),n=cs(t),r=t.ownerDocument.body,s=Pe(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),i=Pe(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let o=-n.scrollLeft+co(t);const a=-n.scrollTop;return We(r).direction==="rtl"&&(o+=Pe(e.clientWidth,r.clientWidth)-s),{width:s,height:i,x:o,y:a}}function ug(t,e){const n=Re(t),r=et(t),s=n.visualViewport;let i=r.clientWidth,o=r.clientHeight,a=0,c=0;if(s){i=s.width,o=s.height;const l=oo();(!l||l&&e==="fixed")&&(a=s.offsetLeft,c=s.offsetTop)}return{width:i,height:o,x:a,y:c}}function dg(t,e){const n=Xt(t,!0,e==="fixed"),r=n.top+t.clientTop,s=n.left+t.clientLeft,i=Xe(t)?Sn(t):Qe(1),o=t.clientWidth*i.x,a=t.clientHeight*i.y,c=s*i.x,l=r*i.y;return{width:o,height:a,x:c,y:l}}function Oa(t,e,n){let r;if(e==="viewport")r=ug(t,n);else if(e==="document")r=lg(et(t));else if(ze(e))r=dg(e,n);else{const s=cl(t);r={x:e.x-s.x,y:e.y-s.y,width:e.width,height:e.height}}return Vr(r)}function ul(t,e){const n=At(t);return n===e||!ze(n)||Rn(n)?!1:We(n).position==="fixed"||ul(n,e)}function fg(t,e){const n=e.get(t);if(n)return n;let r=er(t,[],!1).filter(a=>ze(a)&&Ln(a)!=="body"),s=null;const i=We(t).position==="fixed";let o=i?At(t):t;for(;ze(o)&&!Rn(o);){const a=We(o),c=io(o);!c&&a.position==="fixed"&&(s=null),(i?!c&&!s:!c&&a.position==="static"&&!!s&&["absolute","fixed"].includes(s.position)||dr(o)&&!c&&ul(t,o))?r=r.filter(u=>u!==o):s=a,o=At(o)}return e.set(t,r),r}function hg(t){let{element:e,boundary:n,rootBoundary:r,strategy:s}=t;const o=[...n==="clippingAncestors"?as(e)?[]:fg(e,this._c):[].concat(n),r],a=o[0],c=o.reduce((l,u)=>{const d=Oa(e,u,s);return l.top=Pe(d.top,l.top),l.right=Ot(d.right,l.right),l.bottom=Ot(d.bottom,l.bottom),l.left=Pe(d.left,l.left),l},Oa(e,a,s));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function pg(t){const{width:e,height:n}=al(t);return{width:e,height:n}}function mg(t,e,n){const r=Xe(e),s=et(e),i=n==="fixed",o=Xt(t,!0,i,e);let a={scrollLeft:0,scrollTop:0};const c=Qe(0);if(r||!r&&!i)if((Ln(e)!=="body"||dr(s))&&(a=cs(e)),r){const p=Xt(e,!0,i,e);c.x=p.x+e.clientLeft,c.y=p.y+e.clientTop}else s&&(c.x=co(s));const l=s&&!r&&!i?ll(s,a):Qe(0),u=o.left+a.scrollLeft-c.x-l.x,d=o.top+a.scrollTop-c.y-l.y;return{x:u,y:d,width:o.width,height:o.height}}function Ks(t){return We(t).position==="static"}function ja(t,e){if(!Xe(t)||We(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return et(t)===n&&(n=n.ownerDocument.body),n}function dl(t,e){const n=Re(t);if(as(t))return n;if(!Xe(t)){let s=At(t);for(;s&&!Rn(s);){if(ze(s)&&!Ks(s))return s;s=At(s)}return n}let r=ja(t,e);for(;r&&rg(r)&&Ks(r);)r=ja(r,e);return r&&Rn(r)&&Ks(r)&&!io(r)?n:r||sg(t)||n}const gg=async function(t){const e=this.getOffsetParent||dl,n=this.getDimensions,r=await n(t.floating);return{reference:mg(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function yg(t){return We(t).direction==="rtl"}const vg={convertOffsetParentRelativeRectToViewportRelativeRect:ag,getDocumentElement:et,getClippingRect:hg,getOffsetParent:dl,getElementRects:gg,getClientRects:cg,getDimensions:pg,getScale:Sn,isElement:ze,isRTL:yg};function fl(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function bg(t,e){let n=null,r;const s=et(t);function i(){var a;clearTimeout(r),(a=n)==null||a.disconnect(),n=null}function o(a,c){a===void 0&&(a=!1),c===void 0&&(c=1),i();const l=t.getBoundingClientRect(),{left:u,top:d,width:p,height:m}=l;if(a||e(),!p||!m)return;const v=_r(d),g=_r(s.clientWidth-(u+p)),y=_r(s.clientHeight-(d+m)),b=_r(u),_={rootMargin:-v+"px "+-g+"px "+-y+"px "+-b+"px",threshold:Pe(0,Ot(1,c))||1};let S=!0;function C(O){const E=O[0].intersectionRatio;if(E!==c){if(!S)return o();E?o(!1,E):r=setTimeout(()=>{o(!1,1e-7)},1e3)}E===1&&!fl(l,t.getBoundingClientRect())&&o(),S=!1}try{n=new IntersectionObserver(C,{..._,root:s.ownerDocument})}catch{n=new IntersectionObserver(C,_)}n.observe(t)}return o(!0),i}function wg(t,e,n,r){r===void 0&&(r={});const{ancestorScroll:s=!0,ancestorResize:i=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:c=!1}=r,l=ao(t),u=s||i?[...l?er(l):[],...er(e)]:[];u.forEach(b=>{s&&b.addEventListener("scroll",n,{passive:!0}),i&&b.addEventListener("resize",n)});const d=l&&a?bg(l,n):null;let p=-1,m=null;o&&(m=new ResizeObserver(b=>{let[w]=b;w&&w.target===l&&m&&(m.unobserve(e),cancelAnimationFrame(p),p=requestAnimationFrame(()=>{var _;(_=m)==null||_.observe(e)})),n()}),l&&!c&&m.observe(l),m.observe(e));let v,g=c?Xt(t):null;c&&y();function y(){const b=Xt(t);g&&!fl(g,b)&&n(),g=b,v=requestAnimationFrame(y)}return n(),()=>{var b;u.forEach(w=>{s&&w.removeEventListener("scroll",n),i&&w.removeEventListener("resize",n)}),d==null||d(),(b=m)==null||b.disconnect(),m=null,c&&cancelAnimationFrame(v)}}const xg=Xm,_g=eg,Sg=Ym,Eg=ng,Cg=Zm,Aa=Jm,Tg=tg,Og=(t,e,n)=>{const r=new Map,s={platform:vg,...n},i={...s.platform,_c:r};return Gm(t,e,{...s,platform:i})};var $r=typeof document<"u"?f.useLayoutEffect:f.useEffect;function zr(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,r,s;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(r=n;r--!==0;)if(!zr(t[r],e[r]))return!1;return!0}if(s=Object.keys(t),n=s.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(e,s[r]))return!1;for(r=n;r--!==0;){const i=s[r];if(!(i==="_owner"&&t.$$typeof)&&!zr(t[i],e[i]))return!1}return!0}return t!==t&&e!==e}function hl(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function ka(t,e){const n=hl(t);return Math.round(e*n)/n}function Gs(t){const e=f.useRef(t);return $r(()=>{e.current=t}),e}function jg(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:r=[],platform:s,elements:{reference:i,floating:o}={},transform:a=!0,whileElementsMounted:c,open:l}=t,[u,d]=f.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[p,m]=f.useState(r);zr(p,r)||m(r);const[v,g]=f.useState(null),[y,b]=f.useState(null),w=f.useCallback(D=>{D!==O.current&&(O.current=D,g(D))},[]),_=f.useCallback(D=>{D!==E.current&&(E.current=D,b(D))},[]),S=i||v,C=o||y,O=f.useRef(null),E=f.useRef(null),N=f.useRef(u),P=c!=null,M=Gs(c),k=Gs(s),L=Gs(l),F=f.useCallback(()=>{if(!O.current||!E.current)return;const D={placement:e,strategy:n,middleware:p};k.current&&(D.platform=k.current),Og(O.current,E.current,D).then(ne=>{const me={...ne,isPositioned:L.current!==!1};U.current&&!zr(N.current,me)&&(N.current=me,Yr.flushSync(()=>{d(me)}))})},[p,e,n,k,L]);$r(()=>{l===!1&&N.current.isPositioned&&(N.current.isPositioned=!1,d(D=>({...D,isPositioned:!1})))},[l]);const U=f.useRef(!1);$r(()=>(U.current=!0,()=>{U.current=!1}),[]),$r(()=>{if(S&&(O.current=S),C&&(E.current=C),S&&C){if(M.current)return M.current(S,C,F);F()}},[S,C,F,M,P]);const oe=f.useMemo(()=>({reference:O,floating:E,setReference:w,setFloating:_}),[w,_]),z=f.useMemo(()=>({reference:S,floating:C}),[S,C]),G=f.useMemo(()=>{const D={position:n,left:0,top:0};if(!z.floating)return D;const ne=ka(z.floating,u.x),me=ka(z.floating,u.y);return a?{...D,transform:"translate("+ne+"px, "+me+"px)",...hl(z.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:ne,top:me}},[n,a,z.floating,u.x,u.y]);return f.useMemo(()=>({...u,update:F,refs:oe,elements:z,floatingStyles:G}),[u,F,oe,z,G])}const Ag=t=>{function e(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:t,fn(n){const{element:r,padding:s}=typeof t=="function"?t(n):t;return r&&e(r)?r.current!=null?Aa({element:r.current,padding:s}).fn(n):{}:r?Aa({element:r,padding:s}).fn(n):{}}}},kg=(t,e)=>({...xg(t),options:[t,e]}),Pg=(t,e)=>({..._g(t),options:[t,e]}),Rg=(t,e)=>({...Tg(t),options:[t,e]}),$g=(t,e)=>({...Sg(t),options:[t,e]}),Ig=(t,e)=>({...Eg(t),options:[t,e]}),Ng=(t,e)=>({...Cg(t),options:[t,e]}),Dg=(t,e)=>({...Ag(t),options:[t,e]});var Fg="Arrow",pl=f.forwardRef((t,e)=>{const{children:n,width:r=10,height:s=5,...i}=t;return h.jsx(ee.svg,{...i,ref:e,width:r,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?n:h.jsx("polygon",{points:"0,0 30,0 15,10"})})});pl.displayName=Fg;var Mg=pl;function ml(t){const[e,n]=f.useState(void 0);return be(()=>{if(t){n({width:t.offsetWidth,height:t.offsetHeight});const r=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const i=s[0];let o,a;if("borderBoxSize"in i){const c=i.borderBoxSize,l=Array.isArray(c)?c[0]:c;o=l.inlineSize,a=l.blockSize}else o=t.offsetWidth,a=t.offsetHeight;n({width:o,height:a})});return r.observe(t,{box:"border-box"}),()=>r.unobserve(t)}else n(void 0)},[t]),e}var lo="Popper",[gl,ls]=Fn(lo),[Lg,yl]=gl(lo),vl=t=>{const{__scopePopper:e,children:n}=t,[r,s]=f.useState(null);return h.jsx(Lg,{scope:e,anchor:r,onAnchorChange:s,children:n})};vl.displayName=lo;var bl="PopperAnchor",wl=f.forwardRef((t,e)=>{const{__scopePopper:n,virtualRef:r,...s}=t,i=yl(bl,n),o=f.useRef(null),a=ue(e,o);return f.useEffect(()=>{i.onAnchorChange((r==null?void 0:r.current)||o.current)}),r?null:h.jsx(ee.div,{...s,ref:a})});wl.displayName=bl;var uo="PopperContent",[Ug,Bg]=gl(uo),xl=f.forwardRef((t,e)=>{var $,re,fe,X,q,J;const{__scopePopper:n,side:r="bottom",sideOffset:s=0,align:i="center",alignOffset:o=0,arrowPadding:a=0,avoidCollisions:c=!0,collisionBoundary:l=[],collisionPadding:u=0,sticky:d="partial",hideWhenDetached:p=!1,updatePositionStrategy:m="optimized",onPlaced:v,...g}=t,y=yl(uo,n),[b,w]=f.useState(null),_=ue(e,ge=>w(ge)),[S,C]=f.useState(null),O=ml(S),E=(O==null?void 0:O.width)??0,N=(O==null?void 0:O.height)??0,P=r+(i!=="center"?"-"+i:""),M=typeof u=="number"?u:{top:0,right:0,bottom:0,left:0,...u},k=Array.isArray(l)?l:[l],L=k.length>0,F={padding:M,boundary:k.filter(zg),altBoundary:L},{refs:U,floatingStyles:oe,placement:z,isPositioned:G,middlewareData:D}=jg({strategy:"fixed",placement:P,whileElementsMounted:(...ge)=>wg(...ge,{animationFrame:m==="always"}),elements:{reference:y.anchor},middleware:[kg({mainAxis:s+N,alignmentAxis:o}),c&&Pg({mainAxis:!0,crossAxis:!1,limiter:d==="partial"?Rg():void 0,...F}),c&&$g({...F}),Ig({...F,apply:({elements:ge,rects:De,availableWidth:Dt,availableHeight:Ft})=>{const{width:Mt,height:Ds}=De.reference,pt=ge.floating.style;pt.setProperty("--radix-popper-available-width",`${Dt}px`),pt.setProperty("--radix-popper-available-height",`${Ft}px`),pt.setProperty("--radix-popper-anchor-width",`${Mt}px`),pt.setProperty("--radix-popper-anchor-height",`${Ds}px`)}}),S&&Dg({element:S,padding:a}),Wg({arrowWidth:E,arrowHeight:N}),p&&Ng({strategy:"referenceHidden",...F})]}),[ne,me]=El(z),we=lt(v);be(()=>{G&&(we==null||we())},[G,we]);const Ie=($=D.arrow)==null?void 0:$.x,ht=(re=D.arrow)==null?void 0:re.y,Ne=((fe=D.arrow)==null?void 0:fe.centerOffset)!==0,[Oe,qe]=f.useState();return be(()=>{b&&qe(window.getComputedStyle(b).zIndex)},[b]),h.jsx("div",{ref:U.setFloating,"data-radix-popper-content-wrapper":"",style:{...oe,transform:G?oe.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:Oe,"--radix-popper-transform-origin":[(X=D.transformOrigin)==null?void 0:X.x,(q=D.transformOrigin)==null?void 0:q.y].join(" "),...((J=D.hide)==null?void 0:J.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:h.jsx(Ug,{scope:n,placedSide:ne,onArrowChange:C,arrowX:Ie,arrowY:ht,shouldHideArrow:Ne,children:h.jsx(ee.div,{"data-side":ne,"data-align":me,...g,ref:_,style:{...g.style,animation:G?void 0:"none"}})})})});xl.displayName=uo;var _l="PopperArrow",Vg={top:"bottom",right:"left",bottom:"top",left:"right"},Sl=f.forwardRef(function(e,n){const{__scopePopper:r,...s}=e,i=Bg(_l,r),o=Vg[i.placedSide];return h.jsx("span",{ref:i.onArrowChange,style:{position:"absolute",left:i.arrowX,top:i.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[i.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[i.placedSide],visibility:i.shouldHideArrow?"hidden":void 0},children:h.jsx(Mg,{...s,ref:n,style:{...s.style,display:"block"}})})});Sl.displayName=_l;function zg(t){return t!==null}var Wg=t=>({name:"transformOrigin",options:t,fn(e){var y,b,w;const{placement:n,rects:r,middlewareData:s}=e,o=((y=s.arrow)==null?void 0:y.centerOffset)!==0,a=o?0:t.arrowWidth,c=o?0:t.arrowHeight,[l,u]=El(n),d={start:"0%",center:"50%",end:"100%"}[u],p=(((b=s.arrow)==null?void 0:b.x)??0)+a/2,m=(((w=s.arrow)==null?void 0:w.y)??0)+c/2;let v="",g="";return l==="bottom"?(v=o?d:`${p}px`,g=`${-c}px`):l==="top"?(v=o?d:`${p}px`,g=`${r.floating.height+c}px`):l==="right"?(v=`${-c}px`,g=o?d:`${m}px`):l==="left"&&(v=`${r.floating.width+c}px`,g=o?d:`${m}px`),{data:{x:v,y:g}}}});function El(t){const[e,n="center"]=t.split("-");return[e,n]}var Cl=vl,fo=wl,Tl=xl,Ol=Sl,Hg="Portal",us=f.forwardRef((t,e)=>{var a;const{container:n,...r}=t,[s,i]=f.useState(!1);be(()=>i(!0),[]);const o=n||s&&((a=globalThis==null?void 0:globalThis.document)==null?void 0:a.body);return o?Bf.createPortal(h.jsx(ee.div,{...r,ref:e}),o):null});us.displayName=Hg;function qg(t,e){return f.useReducer((n,r)=>e[n][r]??n,t)}var on=t=>{const{present:e,children:n}=t,r=Kg(e),s=typeof n=="function"?n({present:r.isPresent}):f.Children.only(n),i=ue(r.ref,Gg(s));return typeof n=="function"||r.isPresent?f.cloneElement(s,{ref:i}):null};on.displayName="Presence";function Kg(t){const[e,n]=f.useState(),r=f.useRef({}),s=f.useRef(t),i=f.useRef("none"),o=t?"mounted":"unmounted",[a,c]=qg(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return f.useEffect(()=>{const l=Sr(r.current);i.current=a==="mounted"?l:"none"},[a]),be(()=>{const l=r.current,u=s.current;if(u!==t){const p=i.current,m=Sr(l);t?c("MOUNT"):m==="none"||(l==null?void 0:l.display)==="none"?c("UNMOUNT"):c(u&&p!==m?"ANIMATION_OUT":"UNMOUNT"),s.current=t}},[t,c]),be(()=>{if(e){let l;const u=e.ownerDocument.defaultView??window,d=m=>{const g=Sr(r.current).includes(m.animationName);if(m.target===e&&g&&(c("ANIMATION_END"),!s.current)){const y=e.style.animationFillMode;e.style.animationFillMode="forwards",l=u.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=y)})}},p=m=>{m.target===e&&(i.current=Sr(r.current))};return e.addEventListener("animationstart",p),e.addEventListener("animationcancel",d),e.addEventListener("animationend",d),()=>{u.clearTimeout(l),e.removeEventListener("animationstart",p),e.removeEventListener("animationcancel",d),e.removeEventListener("animationend",d)}}else c("ANIMATION_END")},[e,c]),{isPresent:["mounted","unmountSuspended"].includes(a),ref:f.useCallback(l=>{l&&(r.current=getComputedStyle(l)),n(l)},[])}}function Sr(t){return(t==null?void 0:t.animationName)||"none"}function Gg(t){var r,s;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function tr({prop:t,defaultProp:e,onChange:n=()=>{}}){const[r,s]=Jg({defaultProp:e,onChange:n}),i=t!==void 0,o=i?t:r,a=lt(n),c=f.useCallback(l=>{if(i){const d=typeof l=="function"?l(t):l;d!==t&&a(d)}else s(l)},[i,t,s,a]);return[o,c]}function Jg({defaultProp:t,onChange:e}){const n=f.useState(t),[r]=n,s=f.useRef(r),i=lt(e);return f.useEffect(()=>{s.current!==r&&(i(r),s.current=r)},[r,s,i]),n}var Yg=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},gn=new WeakMap,Er=new WeakMap,Cr={},Js=0,jl=function(t){return t&&(t.host||jl(t.parentNode))},Zg=function(t,e){return e.map(function(n){if(t.contains(n))return n;var r=jl(n);return r&&t.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",t,". Doing nothing"),null)}).filter(function(n){return!!n})},Qg=function(t,e,n,r){var s=Zg(e,Array.isArray(t)?t:[t]);Cr[n]||(Cr[n]=new WeakMap);var i=Cr[n],o=[],a=new Set,c=new Set(s),l=function(d){!d||a.has(d)||(a.add(d),l(d.parentNode))};s.forEach(l);var u=function(d){!d||c.has(d)||Array.prototype.forEach.call(d.children,function(p){if(a.has(p))u(p);else try{var m=p.getAttribute(r),v=m!==null&&m!=="false",g=(gn.get(p)||0)+1,y=(i.get(p)||0)+1;gn.set(p,g),i.set(p,y),o.push(p),g===1&&v&&Er.set(p,!0),y===1&&p.setAttribute(n,"true"),v||p.setAttribute(r,"true")}catch(b){console.error("aria-hidden: cannot operate on ",p,b)}})};return u(e),a.clear(),Js++,function(){o.forEach(function(d){var p=gn.get(d)-1,m=i.get(d)-1;gn.set(d,p),i.set(d,m),p||(Er.has(d)||d.removeAttribute(r),Er.delete(d)),m||d.removeAttribute(n)}),Js--,Js||(gn=new WeakMap,gn=new WeakMap,Er=new WeakMap,Cr={})}},ho=function(t,e,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(t)?t:[t]),s=Yg(t);return s?(r.push.apply(r,Array.from(s.querySelectorAll("[aria-live]"))),Qg(r,s,n,"aria-hidden")):function(){return null}},Ze=function(){return Ze=Object.assign||function(e){for(var n,r=1,s=arguments.length;r<s;r++){n=arguments[r];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},Ze.apply(this,arguments)};function Al(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n}function Xg(t,e,n){if(n||arguments.length===2)for(var r=0,s=e.length,i;r<s;r++)(i||!(r in e))&&(i||(i=Array.prototype.slice.call(e,0,r)),i[r]=e[r]);return t.concat(i||Array.prototype.slice.call(e))}var Ir="right-scroll-bar-position",Nr="width-before-scroll-bar",ey="with-scroll-bars-hidden",ty="--removed-body-scroll-bar-size";function Ys(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function ny(t,e){var n=f.useState(function(){return{value:t,callback:e,facade:{get current(){return n.value},set current(r){var s=n.value;s!==r&&(n.value=r,n.callback(r,s))}}}})[0];return n.callback=e,n.facade}var ry=typeof window<"u"?f.useLayoutEffect:f.useEffect,Pa=new WeakMap;function sy(t,e){var n=ny(null,function(r){return t.forEach(function(s){return Ys(s,r)})});return ry(function(){var r=Pa.get(n);if(r){var s=new Set(r),i=new Set(t),o=n.current;s.forEach(function(a){i.has(a)||Ys(a,null)}),i.forEach(function(a){s.has(a)||Ys(a,o)})}Pa.set(n,t)},[t]),n}function iy(t){return t}function oy(t,e){e===void 0&&(e=iy);var n=[],r=!1,s={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:t},useMedium:function(i){var o=e(i,r);return n.push(o),function(){n=n.filter(function(a){return a!==o})}},assignSyncMedium:function(i){for(r=!0;n.length;){var o=n;n=[],o.forEach(i)}n={push:function(a){return i(a)},filter:function(){return n}}},assignMedium:function(i){r=!0;var o=[];if(n.length){var a=n;n=[],a.forEach(i),o=n}var c=function(){var u=o;o=[],u.forEach(i)},l=function(){return Promise.resolve().then(c)};l(),n={push:function(u){o.push(u),l()},filter:function(u){return o=o.filter(u),n}}}};return s}function ay(t){t===void 0&&(t={});var e=oy(null);return e.options=Ze({async:!0,ssr:!1},t),e}var kl=function(t){var e=t.sideCar,n=Al(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=e.read();if(!r)throw new Error("Sidecar medium not found");return f.createElement(r,Ze({},n))};kl.isSideCarExport=!0;function cy(t,e){return t.useMedium(e),kl}var Pl=ay(),Zs=function(){},ds=f.forwardRef(function(t,e){var n=f.useRef(null),r=f.useState({onScrollCapture:Zs,onWheelCapture:Zs,onTouchMoveCapture:Zs}),s=r[0],i=r[1],o=t.forwardProps,a=t.children,c=t.className,l=t.removeScrollBar,u=t.enabled,d=t.shards,p=t.sideCar,m=t.noIsolation,v=t.inert,g=t.allowPinchZoom,y=t.as,b=y===void 0?"div":y,w=t.gapMode,_=Al(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),S=p,C=sy([n,e]),O=Ze(Ze({},_),s);return f.createElement(f.Fragment,null,u&&f.createElement(S,{sideCar:Pl,removeScrollBar:l,shards:d,noIsolation:m,inert:v,setCallbacks:i,allowPinchZoom:!!g,lockRef:n,gapMode:w}),o?f.cloneElement(f.Children.only(a),Ze(Ze({},O),{ref:C})):f.createElement(b,Ze({},O,{className:c,ref:C}),a))});ds.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};ds.classNames={fullWidth:Nr,zeroRight:Ir};var ly=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function uy(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=ly();return e&&t.setAttribute("nonce",e),t}function dy(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function fy(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var hy=function(){var t=0,e=null;return{add:function(n){t==0&&(e=uy())&&(dy(e,n),fy(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},py=function(){var t=hy();return function(e,n){f.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&n])}},Rl=function(){var t=py(),e=function(n){var r=n.styles,s=n.dynamic;return t(r,s),null};return e},my={left:0,top:0,right:0,gap:0},Qs=function(t){return parseInt(t||"",10)||0},gy=function(t){var e=window.getComputedStyle(document.body),n=e[t==="padding"?"paddingLeft":"marginLeft"],r=e[t==="padding"?"paddingTop":"marginTop"],s=e[t==="padding"?"paddingRight":"marginRight"];return[Qs(n),Qs(r),Qs(s)]},yy=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return my;var e=gy(t),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,r-n+e[2]-e[0])}},vy=Rl(),En="data-scroll-locked",by=function(t,e,n,r){var s=t.left,i=t.top,o=t.right,a=t.gap;return n===void 0&&(n="margin"),`
  .`.concat(ey,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(a,"px ").concat(r,`;
  }
  body[`).concat(En,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(s,`px;
    padding-top: `).concat(i,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(a,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(a,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Ir,` {
    right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(Nr,` {
    margin-right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(Ir," .").concat(Ir,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(Nr," .").concat(Nr,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(En,`] {
    `).concat(ty,": ").concat(a,`px;
  }
`)},Ra=function(){var t=parseInt(document.body.getAttribute(En)||"0",10);return isFinite(t)?t:0},wy=function(){f.useEffect(function(){return document.body.setAttribute(En,(Ra()+1).toString()),function(){var t=Ra()-1;t<=0?document.body.removeAttribute(En):document.body.setAttribute(En,t.toString())}},[])},xy=function(t){var e=t.noRelative,n=t.noImportant,r=t.gapMode,s=r===void 0?"margin":r;wy();var i=f.useMemo(function(){return yy(s)},[s]);return f.createElement(vy,{styles:by(i,!e,s,n?"":"!important")})},Ai=!1;if(typeof window<"u")try{var Tr=Object.defineProperty({},"passive",{get:function(){return Ai=!0,!0}});window.addEventListener("test",Tr,Tr),window.removeEventListener("test",Tr,Tr)}catch{Ai=!1}var yn=Ai?{passive:!1}:!1,_y=function(t){return t.tagName==="TEXTAREA"},$l=function(t,e){if(!(t instanceof Element))return!1;var n=window.getComputedStyle(t);return n[e]!=="hidden"&&!(n.overflowY===n.overflowX&&!_y(t)&&n[e]==="visible")},Sy=function(t){return $l(t,"overflowY")},Ey=function(t){return $l(t,"overflowX")},$a=function(t,e){var n=e.ownerDocument,r=e;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var s=Il(t,r);if(s){var i=Nl(t,r),o=i[1],a=i[2];if(o>a)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},Cy=function(t){var e=t.scrollTop,n=t.scrollHeight,r=t.clientHeight;return[e,n,r]},Ty=function(t){var e=t.scrollLeft,n=t.scrollWidth,r=t.clientWidth;return[e,n,r]},Il=function(t,e){return t==="v"?Sy(e):Ey(e)},Nl=function(t,e){return t==="v"?Cy(e):Ty(e)},Oy=function(t,e){return t==="h"&&e==="rtl"?-1:1},jy=function(t,e,n,r,s){var i=Oy(t,window.getComputedStyle(e).direction),o=i*r,a=n.target,c=e.contains(a),l=!1,u=o>0,d=0,p=0;do{var m=Nl(t,a),v=m[0],g=m[1],y=m[2],b=g-y-i*v;(v||b)&&Il(t,a)&&(d+=b,p+=v),a instanceof ShadowRoot?a=a.host:a=a.parentNode}while(!c&&a!==document.body||c&&(e.contains(a)||e===a));return(u&&Math.abs(d)<1||!u&&Math.abs(p)<1)&&(l=!0),l},Or=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},Ia=function(t){return[t.deltaX,t.deltaY]},Na=function(t){return t&&"current"in t?t.current:t},Ay=function(t,e){return t[0]===e[0]&&t[1]===e[1]},ky=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},Py=0,vn=[];function Ry(t){var e=f.useRef([]),n=f.useRef([0,0]),r=f.useRef(),s=f.useState(Py++)[0],i=f.useState(Rl)[0],o=f.useRef(t);f.useEffect(function(){o.current=t},[t]),f.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(s));var g=Xg([t.lockRef.current],(t.shards||[]).map(Na),!0).filter(Boolean);return g.forEach(function(y){return y.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),g.forEach(function(y){return y.classList.remove("allow-interactivity-".concat(s))})}}},[t.inert,t.lockRef.current,t.shards]);var a=f.useCallback(function(g,y){if("touches"in g&&g.touches.length===2||g.type==="wheel"&&g.ctrlKey)return!o.current.allowPinchZoom;var b=Or(g),w=n.current,_="deltaX"in g?g.deltaX:w[0]-b[0],S="deltaY"in g?g.deltaY:w[1]-b[1],C,O=g.target,E=Math.abs(_)>Math.abs(S)?"h":"v";if("touches"in g&&E==="h"&&O.type==="range")return!1;var N=$a(E,O);if(!N)return!0;if(N?C=E:(C=E==="v"?"h":"v",N=$a(E,O)),!N)return!1;if(!r.current&&"changedTouches"in g&&(_||S)&&(r.current=C),!C)return!0;var P=r.current||C;return jy(P,y,g,P==="h"?_:S)},[]),c=f.useCallback(function(g){var y=g;if(!(!vn.length||vn[vn.length-1]!==i)){var b="deltaY"in y?Ia(y):Or(y),w=e.current.filter(function(C){return C.name===y.type&&(C.target===y.target||y.target===C.shadowParent)&&Ay(C.delta,b)})[0];if(w&&w.should){y.cancelable&&y.preventDefault();return}if(!w){var _=(o.current.shards||[]).map(Na).filter(Boolean).filter(function(C){return C.contains(y.target)}),S=_.length>0?a(y,_[0]):!o.current.noIsolation;S&&y.cancelable&&y.preventDefault()}}},[]),l=f.useCallback(function(g,y,b,w){var _={name:g,delta:y,target:b,should:w,shadowParent:$y(b)};e.current.push(_),setTimeout(function(){e.current=e.current.filter(function(S){return S!==_})},1)},[]),u=f.useCallback(function(g){n.current=Or(g),r.current=void 0},[]),d=f.useCallback(function(g){l(g.type,Ia(g),g.target,a(g,t.lockRef.current))},[]),p=f.useCallback(function(g){l(g.type,Or(g),g.target,a(g,t.lockRef.current))},[]);f.useEffect(function(){return vn.push(i),t.setCallbacks({onScrollCapture:d,onWheelCapture:d,onTouchMoveCapture:p}),document.addEventListener("wheel",c,yn),document.addEventListener("touchmove",c,yn),document.addEventListener("touchstart",u,yn),function(){vn=vn.filter(function(g){return g!==i}),document.removeEventListener("wheel",c,yn),document.removeEventListener("touchmove",c,yn),document.removeEventListener("touchstart",u,yn)}},[]);var m=t.removeScrollBar,v=t.inert;return f.createElement(f.Fragment,null,v?f.createElement(i,{styles:ky(s)}):null,m?f.createElement(xy,{gapMode:t.gapMode}):null)}function $y(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const Iy=cy(Pl,Ry);var fs=f.forwardRef(function(t,e){return f.createElement(ds,Ze({},t,{ref:e,sideCar:Iy}))});fs.classNames=ds.classNames;var po="Popover",[Dl,s1]=Fn(po,[ls]),fr=ls(),[Ny,Rt]=Dl(po),Fl=t=>{const{__scopePopover:e,children:n,open:r,defaultOpen:s,onOpenChange:i,modal:o=!1}=t,a=fr(e),c=f.useRef(null),[l,u]=f.useState(!1),[d=!1,p]=tr({prop:r,defaultProp:s,onChange:i});return h.jsx(Cl,{...a,children:h.jsx(Ny,{scope:e,contentId:Jt(),triggerRef:c,open:d,onOpenChange:p,onOpenToggle:f.useCallback(()=>p(m=>!m),[p]),hasCustomAnchor:l,onCustomAnchorAdd:f.useCallback(()=>u(!0),[]),onCustomAnchorRemove:f.useCallback(()=>u(!1),[]),modal:o,children:n})})};Fl.displayName=po;var Ml="PopoverAnchor",Dy=f.forwardRef((t,e)=>{const{__scopePopover:n,...r}=t,s=Rt(Ml,n),i=fr(n),{onCustomAnchorAdd:o,onCustomAnchorRemove:a}=s;return f.useEffect(()=>(o(),()=>a()),[o,a]),h.jsx(fo,{...i,...r,ref:e})});Dy.displayName=Ml;var Ll="PopoverTrigger",Ul=f.forwardRef((t,e)=>{const{__scopePopover:n,...r}=t,s=Rt(Ll,n),i=fr(n),o=ue(e,s.triggerRef),a=h.jsx(ee.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":Hl(s.open),...r,ref:o,onClick:K(t.onClick,s.onOpenToggle)});return s.hasCustomAnchor?a:h.jsx(fo,{asChild:!0,...i,children:a})});Ul.displayName=Ll;var mo="PopoverPortal",[Fy,My]=Dl(mo,{forceMount:void 0}),Bl=t=>{const{__scopePopover:e,forceMount:n,children:r,container:s}=t,i=Rt(mo,e);return h.jsx(Fy,{scope:e,forceMount:n,children:h.jsx(on,{present:n||i.open,children:h.jsx(us,{asChild:!0,container:s,children:r})})})};Bl.displayName=mo;var $n="PopoverContent",Vl=f.forwardRef((t,e)=>{const n=My($n,t.__scopePopover),{forceMount:r=n.forceMount,...s}=t,i=Rt($n,t.__scopePopover);return h.jsx(on,{present:r||i.open,children:i.modal?h.jsx(Ly,{...s,ref:e}):h.jsx(Uy,{...s,ref:e})})});Vl.displayName=$n;var Ly=f.forwardRef((t,e)=>{const n=Rt($n,t.__scopePopover),r=f.useRef(null),s=ue(e,r),i=f.useRef(!1);return f.useEffect(()=>{const o=r.current;if(o)return ho(o)},[]),h.jsx(fs,{as:Qt,allowPinchZoom:!0,children:h.jsx(zl,{...t,ref:s,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:K(t.onCloseAutoFocus,o=>{var a;o.preventDefault(),i.current||(a=n.triggerRef.current)==null||a.focus()}),onPointerDownOutside:K(t.onPointerDownOutside,o=>{const a=o.detail.originalEvent,c=a.button===0&&a.ctrlKey===!0,l=a.button===2||c;i.current=l},{checkForDefaultPrevented:!1}),onFocusOutside:K(t.onFocusOutside,o=>o.preventDefault(),{checkForDefaultPrevented:!1})})})}),Uy=f.forwardRef((t,e)=>{const n=Rt($n,t.__scopePopover),r=f.useRef(!1),s=f.useRef(!1);return h.jsx(zl,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var o,a;(o=t.onCloseAutoFocus)==null||o.call(t,i),i.defaultPrevented||(r.current||(a=n.triggerRef.current)==null||a.focus(),i.preventDefault()),r.current=!1,s.current=!1},onInteractOutside:i=>{var c,l;(c=t.onInteractOutside)==null||c.call(t,i),i.defaultPrevented||(r.current=!0,i.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const o=i.target;((l=n.triggerRef.current)==null?void 0:l.contains(o))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&s.current&&i.preventDefault()}})}),zl=f.forwardRef((t,e)=>{const{__scopePopover:n,trapFocus:r,onOpenAutoFocus:s,onCloseAutoFocus:i,disableOutsidePointerEvents:o,onEscapeKeyDown:a,onPointerDownOutside:c,onFocusOutside:l,onInteractOutside:u,...d}=t,p=Rt($n,n),m=fr(n);return to(),h.jsx(is,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:s,onUnmountAutoFocus:i,children:h.jsx(ss,{asChild:!0,disableOutsidePointerEvents:o,onInteractOutside:u,onEscapeKeyDown:a,onPointerDownOutside:c,onFocusOutside:l,onDismiss:()=>p.onOpenChange(!1),children:h.jsx(Tl,{"data-state":Hl(p.open),role:"dialog",id:p.contentId,...m,...d,ref:e,style:{...d.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),Wl="PopoverClose",By=f.forwardRef((t,e)=>{const{__scopePopover:n,...r}=t,s=Rt(Wl,n);return h.jsx(ee.button,{type:"button",...r,ref:e,onClick:K(t.onClick,()=>s.onOpenChange(!1))})});By.displayName=Wl;var Vy="PopoverArrow",zy=f.forwardRef((t,e)=>{const{__scopePopover:n,...r}=t,s=fr(n);return h.jsx(Ol,{...s,...r,ref:e})});zy.displayName=Vy;function Hl(t){return t?"open":"closed"}var Wy=Fl,Hy=Ul,qy=Bl,ql=Vl;const Ky=Wy,Gy=Hy,Kl=f.forwardRef(({className:t,align:e="center",sideOffset:n=4,...r},s)=>h.jsx(qy,{children:h.jsx(ql,{ref:s,align:e,sideOffset:n,className:I("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...r})}));Kl.displayName=ql.displayName;function Da(t,[e,n]){return Math.min(n,Math.max(e,t))}function Jy(t){const e=t+"CollectionProvider",[n,r]=Fn(e),[s,i]=n(e,{collectionRef:{current:null},itemMap:new Map}),o=m=>{const{scope:v,children:g}=m,y=Lt.useRef(null),b=Lt.useRef(new Map).current;return h.jsx(s,{scope:v,itemMap:b,collectionRef:y,children:g})};o.displayName=e;const a=t+"CollectionSlot",c=Lt.forwardRef((m,v)=>{const{scope:g,children:y}=m,b=i(a,g),w=ue(v,b.collectionRef);return h.jsx(Qt,{ref:w,children:y})});c.displayName=a;const l=t+"CollectionItemSlot",u="data-radix-collection-item",d=Lt.forwardRef((m,v)=>{const{scope:g,children:y,...b}=m,w=Lt.useRef(null),_=ue(v,w),S=i(l,g);return Lt.useEffect(()=>(S.itemMap.set(w,{ref:w,...b}),()=>void S.itemMap.delete(w))),h.jsx(Qt,{[u]:"",ref:_,children:y})});d.displayName=l;function p(m){const v=i(t+"CollectionConsumer",m);return Lt.useCallback(()=>{const y=v.collectionRef.current;if(!y)return[];const b=Array.from(y.querySelectorAll(`[${u}]`));return Array.from(v.itemMap.values()).sort((S,C)=>b.indexOf(S.ref.current)-b.indexOf(C.ref.current))},[v.collectionRef,v.itemMap])}return[{Provider:o,Slot:c,ItemSlot:d},p,r]}var Yy=f.createContext(void 0);function Zy(t){const e=f.useContext(Yy);return t||e||"ltr"}function Gl(t){const e=f.useRef({value:t,previous:t});return f.useMemo(()=>(e.current.value!==t&&(e.current.previous=e.current.value,e.current.value=t),e.current.previous),[t])}var Qy="VisuallyHidden",Jl=f.forwardRef((t,e)=>h.jsx(ee.span,{...t,ref:e,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...t.style}}));Jl.displayName=Qy;var Xy=[" ","Enter","ArrowUp","ArrowDown"],ev=[" ","Enter"],hr="Select",[hs,ps,tv]=Jy(hr),[Un,i1]=Fn(hr,[tv,ls]),ms=ls(),[nv,$t]=Un(hr),[rv,sv]=Un(hr),Yl=t=>{const{__scopeSelect:e,children:n,open:r,defaultOpen:s,onOpenChange:i,value:o,defaultValue:a,onValueChange:c,dir:l,name:u,autoComplete:d,disabled:p,required:m,form:v}=t,g=ms(e),[y,b]=f.useState(null),[w,_]=f.useState(null),[S,C]=f.useState(!1),O=Zy(l),[E=!1,N]=tr({prop:r,defaultProp:s,onChange:i}),[P,M]=tr({prop:o,defaultProp:a,onChange:c}),k=f.useRef(null),L=y?v||!!y.closest("form"):!0,[F,U]=f.useState(new Set),oe=Array.from(F).map(z=>z.props.value).join(";");return h.jsx(Cl,{...g,children:h.jsxs(nv,{required:m,scope:e,trigger:y,onTriggerChange:b,valueNode:w,onValueNodeChange:_,valueNodeHasChildren:S,onValueNodeHasChildrenChange:C,contentId:Jt(),value:P,onValueChange:M,open:E,onOpenChange:N,dir:O,triggerPointerDownPosRef:k,disabled:p,children:[h.jsx(hs.Provider,{scope:e,children:h.jsx(rv,{scope:t.__scopeSelect,onNativeOptionAdd:f.useCallback(z=>{U(G=>new Set(G).add(z))},[]),onNativeOptionRemove:f.useCallback(z=>{U(G=>{const D=new Set(G);return D.delete(z),D})},[]),children:n})}),L?h.jsxs(xu,{"aria-hidden":!0,required:m,tabIndex:-1,name:u,autoComplete:d,value:P,onChange:z=>M(z.target.value),disabled:p,form:v,children:[P===void 0?h.jsx("option",{value:""}):null,Array.from(F)]},oe):null]})})};Yl.displayName=hr;var Zl="SelectTrigger",Ql=f.forwardRef((t,e)=>{const{__scopeSelect:n,disabled:r=!1,...s}=t,i=ms(n),o=$t(Zl,n),a=o.disabled||r,c=ue(e,o.onTriggerChange),l=ps(n),u=f.useRef("touch"),[d,p,m]=_u(g=>{const y=l().filter(_=>!_.disabled),b=y.find(_=>_.value===o.value),w=Su(y,g,b);w!==void 0&&o.onValueChange(w.value)}),v=g=>{a||(o.onOpenChange(!0),m()),g&&(o.triggerPointerDownPosRef.current={x:Math.round(g.pageX),y:Math.round(g.pageY)})};return h.jsx(fo,{asChild:!0,...i,children:h.jsx(ee.button,{type:"button",role:"combobox","aria-controls":o.contentId,"aria-expanded":o.open,"aria-required":o.required,"aria-autocomplete":"none",dir:o.dir,"data-state":o.open?"open":"closed",disabled:a,"data-disabled":a?"":void 0,"data-placeholder":wu(o.value)?"":void 0,...s,ref:c,onClick:K(s.onClick,g=>{g.currentTarget.focus(),u.current!=="mouse"&&v(g)}),onPointerDown:K(s.onPointerDown,g=>{u.current=g.pointerType;const y=g.target;y.hasPointerCapture(g.pointerId)&&y.releasePointerCapture(g.pointerId),g.button===0&&g.ctrlKey===!1&&g.pointerType==="mouse"&&(v(g),g.preventDefault())}),onKeyDown:K(s.onKeyDown,g=>{const y=d.current!=="";!(g.ctrlKey||g.altKey||g.metaKey)&&g.key.length===1&&p(g.key),!(y&&g.key===" ")&&Xy.includes(g.key)&&(v(),g.preventDefault())})})})});Ql.displayName=Zl;var Xl="SelectValue",eu=f.forwardRef((t,e)=>{const{__scopeSelect:n,className:r,style:s,children:i,placeholder:o="",...a}=t,c=$t(Xl,n),{onValueNodeHasChildrenChange:l}=c,u=i!==void 0,d=ue(e,c.onValueNodeChange);return be(()=>{l(u)},[l,u]),h.jsx(ee.span,{...a,ref:d,style:{pointerEvents:"none"},children:wu(c.value)?h.jsx(h.Fragment,{children:o}):i})});eu.displayName=Xl;var iv="SelectIcon",tu=f.forwardRef((t,e)=>{const{__scopeSelect:n,children:r,...s}=t;return h.jsx(ee.span,{"aria-hidden":!0,...s,ref:e,children:r||"▼"})});tu.displayName=iv;var ov="SelectPortal",nu=t=>h.jsx(us,{asChild:!0,...t});nu.displayName=ov;var en="SelectContent",ru=f.forwardRef((t,e)=>{const n=$t(en,t.__scopeSelect),[r,s]=f.useState();if(be(()=>{s(new DocumentFragment)},[]),!n.open){const i=r;return i?Yr.createPortal(h.jsx(su,{scope:t.__scopeSelect,children:h.jsx(hs.Slot,{scope:t.__scopeSelect,children:h.jsx("div",{children:t.children})})}),i):null}return h.jsx(iu,{...t,ref:e})});ru.displayName=en;var Ue=10,[su,It]=Un(en),av="SelectContentImpl",iu=f.forwardRef((t,e)=>{const{__scopeSelect:n,position:r="item-aligned",onCloseAutoFocus:s,onEscapeKeyDown:i,onPointerDownOutside:o,side:a,sideOffset:c,align:l,alignOffset:u,arrowPadding:d,collisionBoundary:p,collisionPadding:m,sticky:v,hideWhenDetached:g,avoidCollisions:y,...b}=t,w=$t(en,n),[_,S]=f.useState(null),[C,O]=f.useState(null),E=ue(e,$=>S($)),[N,P]=f.useState(null),[M,k]=f.useState(null),L=ps(n),[F,U]=f.useState(!1),oe=f.useRef(!1);f.useEffect(()=>{if(_)return ho(_)},[_]),to();const z=f.useCallback($=>{const[re,...fe]=L().map(J=>J.ref.current),[X]=fe.slice(-1),q=document.activeElement;for(const J of $)if(J===q||(J==null||J.scrollIntoView({block:"nearest"}),J===re&&C&&(C.scrollTop=0),J===X&&C&&(C.scrollTop=C.scrollHeight),J==null||J.focus(),document.activeElement!==q))return},[L,C]),G=f.useCallback(()=>z([N,_]),[z,N,_]);f.useEffect(()=>{F&&G()},[F,G]);const{onOpenChange:D,triggerPointerDownPosRef:ne}=w;f.useEffect(()=>{if(_){let $={x:0,y:0};const re=X=>{var q,J;$={x:Math.abs(Math.round(X.pageX)-(((q=ne.current)==null?void 0:q.x)??0)),y:Math.abs(Math.round(X.pageY)-(((J=ne.current)==null?void 0:J.y)??0))}},fe=X=>{$.x<=10&&$.y<=10?X.preventDefault():_.contains(X.target)||D(!1),document.removeEventListener("pointermove",re),ne.current=null};return ne.current!==null&&(document.addEventListener("pointermove",re),document.addEventListener("pointerup",fe,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",re),document.removeEventListener("pointerup",fe,{capture:!0})}}},[_,D,ne]),f.useEffect(()=>{const $=()=>D(!1);return window.addEventListener("blur",$),window.addEventListener("resize",$),()=>{window.removeEventListener("blur",$),window.removeEventListener("resize",$)}},[D]);const[me,we]=_u($=>{const re=L().filter(q=>!q.disabled),fe=re.find(q=>q.ref.current===document.activeElement),X=Su(re,$,fe);X&&setTimeout(()=>X.ref.current.focus())}),Ie=f.useCallback(($,re,fe)=>{const X=!oe.current&&!fe;(w.value!==void 0&&w.value===re||X)&&(P($),X&&(oe.current=!0))},[w.value]),ht=f.useCallback(()=>_==null?void 0:_.focus(),[_]),Ne=f.useCallback(($,re,fe)=>{const X=!oe.current&&!fe;(w.value!==void 0&&w.value===re||X)&&k($)},[w.value]),Oe=r==="popper"?ki:ou,qe=Oe===ki?{side:a,sideOffset:c,align:l,alignOffset:u,arrowPadding:d,collisionBoundary:p,collisionPadding:m,sticky:v,hideWhenDetached:g,avoidCollisions:y}:{};return h.jsx(su,{scope:n,content:_,viewport:C,onViewportChange:O,itemRefCallback:Ie,selectedItem:N,onItemLeave:ht,itemTextRefCallback:Ne,focusSelectedItem:G,selectedItemText:M,position:r,isPositioned:F,searchRef:me,children:h.jsx(fs,{as:Qt,allowPinchZoom:!0,children:h.jsx(is,{asChild:!0,trapped:w.open,onMountAutoFocus:$=>{$.preventDefault()},onUnmountAutoFocus:K(s,$=>{var re;(re=w.trigger)==null||re.focus({preventScroll:!0}),$.preventDefault()}),children:h.jsx(ss,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:$=>$.preventDefault(),onDismiss:()=>w.onOpenChange(!1),children:h.jsx(Oe,{role:"listbox",id:w.contentId,"data-state":w.open?"open":"closed",dir:w.dir,onContextMenu:$=>$.preventDefault(),...b,...qe,onPlaced:()=>U(!0),ref:E,style:{display:"flex",flexDirection:"column",outline:"none",...b.style},onKeyDown:K(b.onKeyDown,$=>{const re=$.ctrlKey||$.altKey||$.metaKey;if($.key==="Tab"&&$.preventDefault(),!re&&$.key.length===1&&we($.key),["ArrowUp","ArrowDown","Home","End"].includes($.key)){let X=L().filter(q=>!q.disabled).map(q=>q.ref.current);if(["ArrowUp","End"].includes($.key)&&(X=X.slice().reverse()),["ArrowUp","ArrowDown"].includes($.key)){const q=$.target,J=X.indexOf(q);X=X.slice(J+1)}setTimeout(()=>z(X)),$.preventDefault()}})})})})})})});iu.displayName=av;var cv="SelectItemAlignedPosition",ou=f.forwardRef((t,e)=>{const{__scopeSelect:n,onPlaced:r,...s}=t,i=$t(en,n),o=It(en,n),[a,c]=f.useState(null),[l,u]=f.useState(null),d=ue(e,E=>u(E)),p=ps(n),m=f.useRef(!1),v=f.useRef(!0),{viewport:g,selectedItem:y,selectedItemText:b,focusSelectedItem:w}=o,_=f.useCallback(()=>{if(i.trigger&&i.valueNode&&a&&l&&g&&y&&b){const E=i.trigger.getBoundingClientRect(),N=l.getBoundingClientRect(),P=i.valueNode.getBoundingClientRect(),M=b.getBoundingClientRect();if(i.dir!=="rtl"){const q=M.left-N.left,J=P.left-q,ge=E.left-J,De=E.width+ge,Dt=Math.max(De,N.width),Ft=window.innerWidth-Ue,Mt=Da(J,[Ue,Math.max(Ue,Ft-Dt)]);a.style.minWidth=De+"px",a.style.left=Mt+"px"}else{const q=N.right-M.right,J=window.innerWidth-P.right-q,ge=window.innerWidth-E.right-J,De=E.width+ge,Dt=Math.max(De,N.width),Ft=window.innerWidth-Ue,Mt=Da(J,[Ue,Math.max(Ue,Ft-Dt)]);a.style.minWidth=De+"px",a.style.right=Mt+"px"}const k=p(),L=window.innerHeight-Ue*2,F=g.scrollHeight,U=window.getComputedStyle(l),oe=parseInt(U.borderTopWidth,10),z=parseInt(U.paddingTop,10),G=parseInt(U.borderBottomWidth,10),D=parseInt(U.paddingBottom,10),ne=oe+z+F+D+G,me=Math.min(y.offsetHeight*5,ne),we=window.getComputedStyle(g),Ie=parseInt(we.paddingTop,10),ht=parseInt(we.paddingBottom,10),Ne=E.top+E.height/2-Ue,Oe=L-Ne,qe=y.offsetHeight/2,$=y.offsetTop+qe,re=oe+z+$,fe=ne-re;if(re<=Ne){const q=k.length>0&&y===k[k.length-1].ref.current;a.style.bottom="0px";const J=l.clientHeight-g.offsetTop-g.offsetHeight,ge=Math.max(Oe,qe+(q?ht:0)+J+G),De=re+ge;a.style.height=De+"px"}else{const q=k.length>0&&y===k[0].ref.current;a.style.top="0px";const ge=Math.max(Ne,oe+g.offsetTop+(q?Ie:0)+qe)+fe;a.style.height=ge+"px",g.scrollTop=re-Ne+g.offsetTop}a.style.margin=`${Ue}px 0`,a.style.minHeight=me+"px",a.style.maxHeight=L+"px",r==null||r(),requestAnimationFrame(()=>m.current=!0)}},[p,i.trigger,i.valueNode,a,l,g,y,b,i.dir,r]);be(()=>_(),[_]);const[S,C]=f.useState();be(()=>{l&&C(window.getComputedStyle(l).zIndex)},[l]);const O=f.useCallback(E=>{E&&v.current===!0&&(_(),w==null||w(),v.current=!1)},[_,w]);return h.jsx(uv,{scope:n,contentWrapper:a,shouldExpandOnScrollRef:m,onScrollButtonChange:O,children:h.jsx("div",{ref:c,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:S},children:h.jsx(ee.div,{...s,ref:d,style:{boxSizing:"border-box",maxHeight:"100%",...s.style}})})})});ou.displayName=cv;var lv="SelectPopperPosition",ki=f.forwardRef((t,e)=>{const{__scopeSelect:n,align:r="start",collisionPadding:s=Ue,...i}=t,o=ms(n);return h.jsx(Tl,{...o,...i,ref:e,align:r,collisionPadding:s,style:{boxSizing:"border-box",...i.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});ki.displayName=lv;var[uv,go]=Un(en,{}),Pi="SelectViewport",au=f.forwardRef((t,e)=>{const{__scopeSelect:n,nonce:r,...s}=t,i=It(Pi,n),o=go(Pi,n),a=ue(e,i.onViewportChange),c=f.useRef(0);return h.jsxs(h.Fragment,{children:[h.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),h.jsx(hs.Slot,{scope:n,children:h.jsx(ee.div,{"data-radix-select-viewport":"",role:"presentation",...s,ref:a,style:{position:"relative",flex:1,overflow:"hidden auto",...s.style},onScroll:K(s.onScroll,l=>{const u=l.currentTarget,{contentWrapper:d,shouldExpandOnScrollRef:p}=o;if(p!=null&&p.current&&d){const m=Math.abs(c.current-u.scrollTop);if(m>0){const v=window.innerHeight-Ue*2,g=parseFloat(d.style.minHeight),y=parseFloat(d.style.height),b=Math.max(g,y);if(b<v){const w=b+m,_=Math.min(v,w),S=w-_;d.style.height=_+"px",d.style.bottom==="0px"&&(u.scrollTop=S>0?S:0,d.style.justifyContent="flex-end")}}}c.current=u.scrollTop})})})]})});au.displayName=Pi;var cu="SelectGroup",[dv,fv]=Un(cu),hv=f.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,s=Jt();return h.jsx(dv,{scope:n,id:s,children:h.jsx(ee.div,{role:"group","aria-labelledby":s,...r,ref:e})})});hv.displayName=cu;var lu="SelectLabel",uu=f.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,s=fv(lu,n);return h.jsx(ee.div,{id:s.id,...r,ref:e})});uu.displayName=lu;var Wr="SelectItem",[pv,du]=Un(Wr),fu=f.forwardRef((t,e)=>{const{__scopeSelect:n,value:r,disabled:s=!1,textValue:i,...o}=t,a=$t(Wr,n),c=It(Wr,n),l=a.value===r,[u,d]=f.useState(i??""),[p,m]=f.useState(!1),v=ue(e,w=>{var _;return(_=c.itemRefCallback)==null?void 0:_.call(c,w,r,s)}),g=Jt(),y=f.useRef("touch"),b=()=>{s||(a.onValueChange(r),a.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return h.jsx(pv,{scope:n,value:r,disabled:s,textId:g,isSelected:l,onItemTextChange:f.useCallback(w=>{d(_=>_||((w==null?void 0:w.textContent)??"").trim())},[]),children:h.jsx(hs.ItemSlot,{scope:n,value:r,disabled:s,textValue:u,children:h.jsx(ee.div,{role:"option","aria-labelledby":g,"data-highlighted":p?"":void 0,"aria-selected":l&&p,"data-state":l?"checked":"unchecked","aria-disabled":s||void 0,"data-disabled":s?"":void 0,tabIndex:s?void 0:-1,...o,ref:v,onFocus:K(o.onFocus,()=>m(!0)),onBlur:K(o.onBlur,()=>m(!1)),onClick:K(o.onClick,()=>{y.current!=="mouse"&&b()}),onPointerUp:K(o.onPointerUp,()=>{y.current==="mouse"&&b()}),onPointerDown:K(o.onPointerDown,w=>{y.current=w.pointerType}),onPointerMove:K(o.onPointerMove,w=>{var _;y.current=w.pointerType,s?(_=c.onItemLeave)==null||_.call(c):y.current==="mouse"&&w.currentTarget.focus({preventScroll:!0})}),onPointerLeave:K(o.onPointerLeave,w=>{var _;w.currentTarget===document.activeElement&&((_=c.onItemLeave)==null||_.call(c))}),onKeyDown:K(o.onKeyDown,w=>{var S;((S=c.searchRef)==null?void 0:S.current)!==""&&w.key===" "||(ev.includes(w.key)&&b(),w.key===" "&&w.preventDefault())})})})})});fu.displayName=Wr;var Kn="SelectItemText",hu=f.forwardRef((t,e)=>{const{__scopeSelect:n,className:r,style:s,...i}=t,o=$t(Kn,n),a=It(Kn,n),c=du(Kn,n),l=sv(Kn,n),[u,d]=f.useState(null),p=ue(e,b=>d(b),c.onItemTextChange,b=>{var w;return(w=a.itemTextRefCallback)==null?void 0:w.call(a,b,c.value,c.disabled)}),m=u==null?void 0:u.textContent,v=f.useMemo(()=>h.jsx("option",{value:c.value,disabled:c.disabled,children:m},c.value),[c.disabled,c.value,m]),{onNativeOptionAdd:g,onNativeOptionRemove:y}=l;return be(()=>(g(v),()=>y(v)),[g,y,v]),h.jsxs(h.Fragment,{children:[h.jsx(ee.span,{id:c.textId,...i,ref:p}),c.isSelected&&o.valueNode&&!o.valueNodeHasChildren?Yr.createPortal(i.children,o.valueNode):null]})});hu.displayName=Kn;var pu="SelectItemIndicator",mu=f.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t;return du(pu,n).isSelected?h.jsx(ee.span,{"aria-hidden":!0,...r,ref:e}):null});mu.displayName=pu;var Ri="SelectScrollUpButton",gu=f.forwardRef((t,e)=>{const n=It(Ri,t.__scopeSelect),r=go(Ri,t.__scopeSelect),[s,i]=f.useState(!1),o=ue(e,r.onScrollButtonChange);return be(()=>{if(n.viewport&&n.isPositioned){let a=function(){const l=c.scrollTop>0;i(l)};const c=n.viewport;return a(),c.addEventListener("scroll",a),()=>c.removeEventListener("scroll",a)}},[n.viewport,n.isPositioned]),s?h.jsx(vu,{...t,ref:o,onAutoScroll:()=>{const{viewport:a,selectedItem:c}=n;a&&c&&(a.scrollTop=a.scrollTop-c.offsetHeight)}}):null});gu.displayName=Ri;var $i="SelectScrollDownButton",yu=f.forwardRef((t,e)=>{const n=It($i,t.__scopeSelect),r=go($i,t.__scopeSelect),[s,i]=f.useState(!1),o=ue(e,r.onScrollButtonChange);return be(()=>{if(n.viewport&&n.isPositioned){let a=function(){const l=c.scrollHeight-c.clientHeight,u=Math.ceil(c.scrollTop)<l;i(u)};const c=n.viewport;return a(),c.addEventListener("scroll",a),()=>c.removeEventListener("scroll",a)}},[n.viewport,n.isPositioned]),s?h.jsx(vu,{...t,ref:o,onAutoScroll:()=>{const{viewport:a,selectedItem:c}=n;a&&c&&(a.scrollTop=a.scrollTop+c.offsetHeight)}}):null});yu.displayName=$i;var vu=f.forwardRef((t,e)=>{const{__scopeSelect:n,onAutoScroll:r,...s}=t,i=It("SelectScrollButton",n),o=f.useRef(null),a=ps(n),c=f.useCallback(()=>{o.current!==null&&(window.clearInterval(o.current),o.current=null)},[]);return f.useEffect(()=>()=>c(),[c]),be(()=>{var u;const l=a().find(d=>d.ref.current===document.activeElement);(u=l==null?void 0:l.ref.current)==null||u.scrollIntoView({block:"nearest"})},[a]),h.jsx(ee.div,{"aria-hidden":!0,...s,ref:e,style:{flexShrink:0,...s.style},onPointerDown:K(s.onPointerDown,()=>{o.current===null&&(o.current=window.setInterval(r,50))}),onPointerMove:K(s.onPointerMove,()=>{var l;(l=i.onItemLeave)==null||l.call(i),o.current===null&&(o.current=window.setInterval(r,50))}),onPointerLeave:K(s.onPointerLeave,()=>{c()})})}),mv="SelectSeparator",bu=f.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t;return h.jsx(ee.div,{"aria-hidden":!0,...r,ref:e})});bu.displayName=mv;var Ii="SelectArrow",gv=f.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,s=ms(n),i=$t(Ii,n),o=It(Ii,n);return i.open&&o.position==="popper"?h.jsx(Ol,{...s,...r,ref:e}):null});gv.displayName=Ii;function wu(t){return t===""||t===void 0}var xu=f.forwardRef((t,e)=>{const{value:n,...r}=t,s=f.useRef(null),i=ue(e,s),o=Gl(n);return f.useEffect(()=>{const a=s.current,c=window.HTMLSelectElement.prototype,u=Object.getOwnPropertyDescriptor(c,"value").set;if(o!==n&&u){const d=new Event("change",{bubbles:!0});u.call(a,n),a.dispatchEvent(d)}},[o,n]),h.jsx(Jl,{asChild:!0,children:h.jsx("select",{...r,ref:i,defaultValue:n})})});xu.displayName="BubbleSelect";function _u(t){const e=lt(t),n=f.useRef(""),r=f.useRef(0),s=f.useCallback(o=>{const a=n.current+o;e(a),function c(l){n.current=l,window.clearTimeout(r.current),l!==""&&(r.current=window.setTimeout(()=>c(""),1e3))}(a)},[e]),i=f.useCallback(()=>{n.current="",window.clearTimeout(r.current)},[]);return f.useEffect(()=>()=>window.clearTimeout(r.current),[]),[n,s,i]}function Su(t,e,n){const s=e.length>1&&Array.from(e).every(l=>l===e[0])?e[0]:e,i=n?t.indexOf(n):-1;let o=yv(t,Math.max(i,0));s.length===1&&(o=o.filter(l=>l!==n));const c=o.find(l=>l.textValue.toLowerCase().startsWith(s.toLowerCase()));return c!==n?c:void 0}function yv(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var vv=Yl,Eu=Ql,bv=eu,wv=tu,xv=nu,Cu=ru,_v=au,Tu=uu,Ou=fu,Sv=hu,Ev=mu,ju=gu,Au=yu,ku=bu;function Pu({className:t}){return h.jsx("svg",{width:"27px",height:"27px",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:I("stroke-primary",t),children:h.jsx("path",{d:"M6 9L12 15L18 9",stroke:"#000000",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})}function Cv({className:t}){return h.jsx("svg",{width:"27px",height:"27px",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:I("stroke-primary",t),children:h.jsx("path",{d:"M6 15L12 9L18 15",stroke:"#000000",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})}function Ru({className:t}){return h.jsx("svg",{width:"27px",height:"27px",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:I("stroke-primary",t),children:h.jsx("path",{d:"M4 12.6111L8.92308 17.5L20 6.5",stroke:"#fff",strokeWidth:"4",strokeLinecap:"round",strokeLinejoin:"round"})})}const Tv=vv,Ov=bv,$u=f.forwardRef(({className:t,children:e,...n},r)=>h.jsxs(Eu,{ref:r,className:I("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none  disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",t),...n,children:[e,h.jsx(wv,{asChild:!0,children:h.jsx(Pu,{className:"h-4 w-4 opacity-50"})})]}));$u.displayName=Eu.displayName;const Iu=f.forwardRef(({className:t,...e},n)=>h.jsx(ju,{ref:n,className:I("flex cursor-default items-center justify-center py-1",t),...e,children:h.jsx(Cv,{className:"h-4 w-4"})}));Iu.displayName=ju.displayName;const Nu=f.forwardRef(({className:t,...e},n)=>h.jsx(Au,{ref:n,className:I("flex cursor-default items-center justify-center py-1",t),...e,children:h.jsx(Pu,{className:"h-4 w-4"})}));Nu.displayName=Au.displayName;const Du=f.forwardRef(({className:t,children:e,position:n="popper",...r},s)=>h.jsx(xv,{children:h.jsxs(Cu,{ref:s,className:I("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:n,...r,children:[h.jsx(Iu,{}),h.jsx(_v,{className:I("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:e}),h.jsx(Nu,{})]})}));Du.displayName=Cu.displayName;const jv=f.forwardRef(({className:t,...e},n)=>h.jsx(Tu,{ref:n,className:I("py-1.5 pl-8 pr-2 text-sm font-semibold",t),...e}));jv.displayName=Tu.displayName;const Ni=f.forwardRef(({className:t,children:e,...n},r)=>h.jsxs(Ou,{ref:r,className:I("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...n,children:[h.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:h.jsx(Ev,{children:h.jsx(Ru,{className:"h-4 w-4"})})}),h.jsx(Sv,{children:e})]}));Ni.displayName=Ou.displayName;const Av=f.forwardRef(({className:t,...e},n)=>h.jsx(ku,{ref:n,className:I("-mx-1 my-1 h-px bg-muted",t),...e}));Av.displayName=ku.displayName;function Fu(){return h.jsxs("div",{className:"flex space-x-5 justify-center h-full items-center",children:[h.jsx("span",{className:"sr-only",children:"Loading..."}),h.jsx("div",{className:"size-6 bg-primary rounded-full animate-bounce [animation-delay:-0.3s]"}),h.jsx("div",{className:"size-6 bg-primary rounded-full animate-bounce [animation-delay:-0.15s]"}),h.jsx("div",{className:"size-6 bg-primary rounded-full animate-bounce"})]})}var yo="Dialog",[Mu,o1]=Fn(yo),[kv,He]=Mu(yo),Lu=t=>{const{__scopeDialog:e,children:n,open:r,defaultOpen:s,onOpenChange:i,modal:o=!0}=t,a=f.useRef(null),c=f.useRef(null),[l=!1,u]=tr({prop:r,defaultProp:s,onChange:i});return h.jsx(kv,{scope:e,triggerRef:a,contentRef:c,contentId:Jt(),titleId:Jt(),descriptionId:Jt(),open:l,onOpenChange:u,onOpenToggle:f.useCallback(()=>u(d=>!d),[u]),modal:o,children:n})};Lu.displayName=yo;var Uu="DialogTrigger",Bu=f.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=He(Uu,n),i=ue(e,s.triggerRef);return h.jsx(ee.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":wo(s.open),...r,ref:i,onClick:K(t.onClick,s.onOpenToggle)})});Bu.displayName=Uu;var vo="DialogPortal",[Pv,Vu]=Mu(vo,{forceMount:void 0}),zu=t=>{const{__scopeDialog:e,forceMount:n,children:r,container:s}=t,i=He(vo,e);return h.jsx(Pv,{scope:e,forceMount:n,children:f.Children.map(r,o=>h.jsx(on,{present:n||i.open,children:h.jsx(us,{asChild:!0,container:s,children:o})}))})};zu.displayName=vo;var Hr="DialogOverlay",Wu=f.forwardRef((t,e)=>{const n=Vu(Hr,t.__scopeDialog),{forceMount:r=n.forceMount,...s}=t,i=He(Hr,t.__scopeDialog);return i.modal?h.jsx(on,{present:r||i.open,children:h.jsx(Rv,{...s,ref:e})}):null});Wu.displayName=Hr;var Rv=f.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=He(Hr,n);return h.jsx(fs,{as:Qt,allowPinchZoom:!0,shards:[s.contentRef],children:h.jsx(ee.div,{"data-state":wo(s.open),...r,ref:e,style:{pointerEvents:"auto",...r.style}})})}),tn="DialogContent",Hu=f.forwardRef((t,e)=>{const n=Vu(tn,t.__scopeDialog),{forceMount:r=n.forceMount,...s}=t,i=He(tn,t.__scopeDialog);return h.jsx(on,{present:r||i.open,children:i.modal?h.jsx($v,{...s,ref:e}):h.jsx(Iv,{...s,ref:e})})});Hu.displayName=tn;var $v=f.forwardRef((t,e)=>{const n=He(tn,t.__scopeDialog),r=f.useRef(null),s=ue(e,n.contentRef,r);return f.useEffect(()=>{const i=r.current;if(i)return ho(i)},[]),h.jsx(qu,{...t,ref:s,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:K(t.onCloseAutoFocus,i=>{var o;i.preventDefault(),(o=n.triggerRef.current)==null||o.focus()}),onPointerDownOutside:K(t.onPointerDownOutside,i=>{const o=i.detail.originalEvent,a=o.button===0&&o.ctrlKey===!0;(o.button===2||a)&&i.preventDefault()}),onFocusOutside:K(t.onFocusOutside,i=>i.preventDefault())})}),Iv=f.forwardRef((t,e)=>{const n=He(tn,t.__scopeDialog),r=f.useRef(!1),s=f.useRef(!1);return h.jsx(qu,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var o,a;(o=t.onCloseAutoFocus)==null||o.call(t,i),i.defaultPrevented||(r.current||(a=n.triggerRef.current)==null||a.focus(),i.preventDefault()),r.current=!1,s.current=!1},onInteractOutside:i=>{var c,l;(c=t.onInteractOutside)==null||c.call(t,i),i.defaultPrevented||(r.current=!0,i.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const o=i.target;((l=n.triggerRef.current)==null?void 0:l.contains(o))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&s.current&&i.preventDefault()}})}),qu=f.forwardRef((t,e)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:s,onCloseAutoFocus:i,...o}=t,a=He(tn,n),c=f.useRef(null),l=ue(e,c);return to(),h.jsxs(h.Fragment,{children:[h.jsx(is,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:s,onUnmountAutoFocus:i,children:h.jsx(ss,{role:"dialog",id:a.contentId,"aria-describedby":a.descriptionId,"aria-labelledby":a.titleId,"data-state":wo(a.open),...o,ref:l,onDismiss:()=>a.onOpenChange(!1)})}),h.jsxs(h.Fragment,{children:[h.jsx(Nv,{titleId:a.titleId}),h.jsx(Fv,{contentRef:c,descriptionId:a.descriptionId})]})]})}),bo="DialogTitle",Ku=f.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=He(bo,n);return h.jsx(ee.h2,{id:s.titleId,...r,ref:e})});Ku.displayName=bo;var Gu="DialogDescription",Ju=f.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=He(Gu,n);return h.jsx(ee.p,{id:s.descriptionId,...r,ref:e})});Ju.displayName=Gu;var Yu="DialogClose",Zu=f.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=He(Yu,n);return h.jsx(ee.button,{type:"button",...r,ref:e,onClick:K(t.onClick,()=>s.onOpenChange(!1))})});Zu.displayName=Yu;function wo(t){return t?"open":"closed"}var Qu="DialogTitleWarning",[a1,Xu]=bm(Qu,{contentName:tn,titleName:bo,docsSlug:"dialog"}),Nv=({titleId:t})=>{const e=Xu(Qu),n=`\`${e.contentName}\` requires a \`${e.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${e.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${e.docsSlug}`;return f.useEffect(()=>{t&&(document.getElementById(t)||console.error(n))},[n,t]),null},Dv="DialogDescriptionWarning",Fv=({contentRef:t,descriptionId:e})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${Xu(Dv).contentName}}.`;return f.useEffect(()=>{var i;const s=(i=t.current)==null?void 0:i.getAttribute("aria-describedby");e&&s&&(document.getElementById(e)||console.warn(r))},[r,t,e]),null},ed=Lu,td=Bu,nd=zu,gs=Wu,ys=Hu,vs=Ku,bs=Ju,rd=Zu;function sd({className:t}){return h.jsx("svg",{width:"27px",height:"27px",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:I("",t),children:h.jsx("path",{d:"M20.7457 3.32851C20.3552 2.93798 19.722 2.93798 19.3315 3.32851L12.0371 10.6229L4.74275 3.32851C4.35223 2.93798 3.71906 2.93798 3.32854 3.32851C2.93801 3.71903 2.93801 4.3522 3.32854 4.74272L10.6229 12.0371L3.32856 19.3314C2.93803 19.722 2.93803 20.3551 3.32856 20.7457C3.71908 21.1362 4.35225 21.1362 4.74277 20.7457L12.0371 13.4513L19.3315 20.7457C19.722 21.1362 20.3552 21.1362 20.7457 20.7457C21.1362 20.3551 21.1362 19.722 20.7457 19.3315L13.4513 12.0371L20.7457 4.74272C21.1362 4.3522 21.1362 3.71903 20.7457 3.32851Z",fill:"#0F0F0F"})})}const Mv=ed,Lv=td,Uv=nd,id=f.forwardRef(({className:t,...e},n)=>h.jsx(gs,{ref:n,className:I("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e}));id.displayName=gs.displayName;const od=f.forwardRef(({className:t,children:e,...n},r)=>h.jsxs(Uv,{children:[h.jsx(id,{}),h.jsx(ys,{ref:r,className:I("fixed left-[50%] h-full top-[50%] py-5 px-3 z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...n,children:e})]}));od.displayName=ys.displayName;const ad=({className:t,...e})=>h.jsxs("div",{className:"flex justify-between",children:[h.jsx("div",{className:I("flex flex-col space-y-1.5 text-center sm:text-left",t),...e}),h.jsxs(rd,{className:"flex flex-col h-fit w-fit focus:ring-transparent focus:ring-0 items-end rounded-sm opacity-70 transition-opacity hover:opacity-100 focus:outline-none disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[h.jsx(sd,{}),h.jsx("span",{className:"sr-only",children:"Close"})]})]});ad.displayName="DialogHeader";const cd=({className:t,...e})=>h.jsx("div",{className:I("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...e});cd.displayName="DialogFooter";const ld=f.forwardRef(({className:t,...e},n)=>h.jsx(vs,{ref:n,className:I("text-lg font-semibold leading-none tracking-tight",t),...e}));ld.displayName=vs.displayName;const Bv=f.forwardRef(({className:t,...e},n)=>h.jsx(bs,{ref:n,className:I("text-sm text-muted-foreground",t),...e}));Bv.displayName=bs.displayName;const ud=({onClose:t,trigger:e,className:n,toggle:r,title:s,isOpen:i,children:o,forceModal:a,actions:c})=>{const l=u=>{r(u),u||t==null||t()};return h.jsxs(Mv,{open:i,modal:a,onOpenChange:l,children:[e&&h.jsx(Lv,{children:e}),h.jsx(od,{forceMount:!0,className:I("max-md:max-h-[90%]",n),children:h.jsxs("div",{className:"flex flex-col overflow-hidden",children:[h.jsx(ad,{className:"mb-7",children:s&&h.jsx(ld,{className:"text-xl",children:s})}),h.jsx("div",{className:"flex-1 overflow-hidden",children:o}),c&&h.jsx(cd,{children:c})]})})]})};function dd({isOpen:t,setIsOpen:e,children:n,className:r,trigger:s,title:i}){return h.jsx(ud,{title:i,className:I("max-w-none lg:w-3/4 xl:w-1/2 w-10/12 md:h-fit overflow-hidden rounded-lg",r),isOpen:t,toggle:o=>e(o??!1),trigger:s,children:n})}function c1({label:t="لا توجد نتائج"}){return h.jsx("p",{className:"text-2xl max-sm:text-base text-center text-slate-500 flex-1",children:t})}var Vv=function(e){return zv(e)&&!Wv(e)};function zv(t){return!!t&&typeof t=="object"}function Wv(t){var e=Object.prototype.toString.call(t);return e==="[object RegExp]"||e==="[object Date]"||Kv(t)}var Hv=typeof Symbol=="function"&&Symbol.for,qv=Hv?Symbol.for("react.element"):60103;function Kv(t){return t.$$typeof===qv}function Gv(t){return Array.isArray(t)?[]:{}}function qr(t,e){return e.clone!==!1&&e.isMergeableObject(t)?nr(Gv(t),t,e):t}function Jv(t,e,n){return t.concat(e).map(function(r){return qr(r,n)})}function Yv(t,e,n){var r={};return n.isMergeableObject(t)&&Object.keys(t).forEach(function(s){r[s]=qr(t[s],n)}),Object.keys(e).forEach(function(s){!n.isMergeableObject(e[s])||!t[s]?r[s]=qr(e[s],n):r[s]=nr(t[s],e[s],n)}),r}function nr(t,e,n){n=n||{},n.arrayMerge=n.arrayMerge||Jv,n.isMergeableObject=n.isMergeableObject||Vv;var r=Array.isArray(e),s=Array.isArray(t),i=r===s;return i?r?n.arrayMerge(t,e,n):Yv(t,e,n):qr(e,n)}nr.all=function(e,n){if(!Array.isArray(e))throw new Error("first argument should be an array");return e.reduce(function(r,s){return nr(r,s,n)},{})};var Di=nr,fd=typeof global=="object"&&global&&global.Object===Object&&global,Zv=typeof self=="object"&&self&&self.Object===Object&&self,tt=fd||Zv||Function("return this")(),kt=tt.Symbol,hd=Object.prototype,Qv=hd.hasOwnProperty,Xv=hd.toString,Wn=kt?kt.toStringTag:void 0;function eb(t){var e=Qv.call(t,Wn),n=t[Wn];try{t[Wn]=void 0;var r=!0}catch{}var s=Xv.call(t);return r&&(e?t[Wn]=n:delete t[Wn]),s}var tb=Object.prototype,nb=tb.toString;function rb(t){return nb.call(t)}var sb="[object Null]",ib="[object Undefined]",Fa=kt?kt.toStringTag:void 0;function an(t){return t==null?t===void 0?ib:sb:Fa&&Fa in Object(t)?eb(t):rb(t)}function pd(t,e){return function(n){return t(e(n))}}var xo=pd(Object.getPrototypeOf,Object);function cn(t){return t!=null&&typeof t=="object"}var ob="[object Object]",ab=Function.prototype,cb=Object.prototype,md=ab.toString,lb=cb.hasOwnProperty,ub=md.call(Object);function Ma(t){if(!cn(t)||an(t)!=ob)return!1;var e=xo(t);if(e===null)return!0;var n=lb.call(e,"constructor")&&e.constructor;return typeof n=="function"&&n instanceof n&&md.call(n)==ub}function db(){this.__data__=[],this.size=0}function gd(t,e){return t===e||t!==t&&e!==e}function ws(t,e){for(var n=t.length;n--;)if(gd(t[n][0],e))return n;return-1}var fb=Array.prototype,hb=fb.splice;function pb(t){var e=this.__data__,n=ws(e,t);if(n<0)return!1;var r=e.length-1;return n==r?e.pop():hb.call(e,n,1),--this.size,!0}function mb(t){var e=this.__data__,n=ws(e,t);return n<0?void 0:e[n][1]}function gb(t){return ws(this.__data__,t)>-1}function yb(t,e){var n=this.__data__,r=ws(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this}function ft(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}ft.prototype.clear=db;ft.prototype.delete=pb;ft.prototype.get=mb;ft.prototype.has=gb;ft.prototype.set=yb;function vb(){this.__data__=new ft,this.size=0}function bb(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n}function wb(t){return this.__data__.get(t)}function xb(t){return this.__data__.has(t)}function pr(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var _b="[object AsyncFunction]",Sb="[object Function]",Eb="[object GeneratorFunction]",Cb="[object Proxy]";function yd(t){if(!pr(t))return!1;var e=an(t);return e==Sb||e==Eb||e==_b||e==Cb}var Xs=tt["__core-js_shared__"],La=function(){var t=/[^.]+$/.exec(Xs&&Xs.keys&&Xs.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function Tb(t){return!!La&&La in t}var Ob=Function.prototype,jb=Ob.toString;function ln(t){if(t!=null){try{return jb.call(t)}catch{}try{return t+""}catch{}}return""}var Ab=/[\\^$.*+?()[\]{}|]/g,kb=/^\[object .+?Constructor\]$/,Pb=Function.prototype,Rb=Object.prototype,$b=Pb.toString,Ib=Rb.hasOwnProperty,Nb=RegExp("^"+$b.call(Ib).replace(Ab,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function Db(t){if(!pr(t)||Tb(t))return!1;var e=yd(t)?Nb:kb;return e.test(ln(t))}function Fb(t,e){return t==null?void 0:t[e]}function un(t,e){var n=Fb(t,e);return Db(n)?n:void 0}var rr=un(tt,"Map"),sr=un(Object,"create");function Mb(){this.__data__=sr?sr(null):{},this.size=0}function Lb(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var Ub="__lodash_hash_undefined__",Bb=Object.prototype,Vb=Bb.hasOwnProperty;function zb(t){var e=this.__data__;if(sr){var n=e[t];return n===Ub?void 0:n}return Vb.call(e,t)?e[t]:void 0}var Wb=Object.prototype,Hb=Wb.hasOwnProperty;function qb(t){var e=this.__data__;return sr?e[t]!==void 0:Hb.call(e,t)}var Kb="__lodash_hash_undefined__";function Gb(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=sr&&e===void 0?Kb:e,this}function nn(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}nn.prototype.clear=Mb;nn.prototype.delete=Lb;nn.prototype.get=zb;nn.prototype.has=qb;nn.prototype.set=Gb;function Jb(){this.size=0,this.__data__={hash:new nn,map:new(rr||ft),string:new nn}}function Yb(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}function xs(t,e){var n=t.__data__;return Yb(e)?n[typeof e=="string"?"string":"hash"]:n.map}function Zb(t){var e=xs(this,t).delete(t);return this.size-=e?1:0,e}function Qb(t){return xs(this,t).get(t)}function Xb(t){return xs(this,t).has(t)}function ew(t,e){var n=xs(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this}function Nt(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Nt.prototype.clear=Jb;Nt.prototype.delete=Zb;Nt.prototype.get=Qb;Nt.prototype.has=Xb;Nt.prototype.set=ew;var tw=200;function nw(t,e){var n=this.__data__;if(n instanceof ft){var r=n.__data__;if(!rr||r.length<tw-1)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new Nt(r)}return n.set(t,e),this.size=n.size,this}function Bn(t){var e=this.__data__=new ft(t);this.size=e.size}Bn.prototype.clear=vb;Bn.prototype.delete=bb;Bn.prototype.get=wb;Bn.prototype.has=xb;Bn.prototype.set=nw;function rw(t,e){for(var n=-1,r=t==null?0:t.length;++n<r&&e(t[n],n,t)!==!1;);return t}var Ua=function(){try{var t=un(Object,"defineProperty");return t({},"",{}),t}catch{}}();function vd(t,e,n){e=="__proto__"&&Ua?Ua(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}var sw=Object.prototype,iw=sw.hasOwnProperty;function bd(t,e,n){var r=t[e];(!(iw.call(t,e)&&gd(r,n))||n===void 0&&!(e in t))&&vd(t,e,n)}function _s(t,e,n,r){var s=!n;n||(n={});for(var i=-1,o=e.length;++i<o;){var a=e[i],c=void 0;c===void 0&&(c=t[a]),s?vd(n,a,c):bd(n,a,c)}return n}function ow(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}var aw="[object Arguments]";function Ba(t){return cn(t)&&an(t)==aw}var wd=Object.prototype,cw=wd.hasOwnProperty,lw=wd.propertyIsEnumerable,uw=Ba(function(){return arguments}())?Ba:function(t){return cn(t)&&cw.call(t,"callee")&&!lw.call(t,"callee")},mr=Array.isArray;function dw(){return!1}var xd=typeof exports=="object"&&exports&&!exports.nodeType&&exports,Va=xd&&typeof module=="object"&&module&&!module.nodeType&&module,fw=Va&&Va.exports===xd,za=fw?tt.Buffer:void 0,hw=za?za.isBuffer:void 0,_d=hw||dw,pw=9007199254740991,mw=/^(?:0|[1-9]\d*)$/;function gw(t,e){var n=typeof t;return e=e??pw,!!e&&(n=="number"||n!="symbol"&&mw.test(t))&&t>-1&&t%1==0&&t<e}var yw=9007199254740991;function Sd(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=yw}var vw="[object Arguments]",bw="[object Array]",ww="[object Boolean]",xw="[object Date]",_w="[object Error]",Sw="[object Function]",Ew="[object Map]",Cw="[object Number]",Tw="[object Object]",Ow="[object RegExp]",jw="[object Set]",Aw="[object String]",kw="[object WeakMap]",Pw="[object ArrayBuffer]",Rw="[object DataView]",$w="[object Float32Array]",Iw="[object Float64Array]",Nw="[object Int8Array]",Dw="[object Int16Array]",Fw="[object Int32Array]",Mw="[object Uint8Array]",Lw="[object Uint8ClampedArray]",Uw="[object Uint16Array]",Bw="[object Uint32Array]",ce={};ce[$w]=ce[Iw]=ce[Nw]=ce[Dw]=ce[Fw]=ce[Mw]=ce[Lw]=ce[Uw]=ce[Bw]=!0;ce[vw]=ce[bw]=ce[Pw]=ce[ww]=ce[Rw]=ce[xw]=ce[_w]=ce[Sw]=ce[Ew]=ce[Cw]=ce[Tw]=ce[Ow]=ce[jw]=ce[Aw]=ce[kw]=!1;function Vw(t){return cn(t)&&Sd(t.length)&&!!ce[an(t)]}function _o(t){return function(e){return t(e)}}var Ed=typeof exports=="object"&&exports&&!exports.nodeType&&exports,Yn=Ed&&typeof module=="object"&&module&&!module.nodeType&&module,zw=Yn&&Yn.exports===Ed,ei=zw&&fd.process,In=function(){try{var t=Yn&&Yn.require&&Yn.require("util").types;return t||ei&&ei.binding&&ei.binding("util")}catch{}}(),Wa=In&&In.isTypedArray,Ww=Wa?_o(Wa):Vw,Hw=Object.prototype,qw=Hw.hasOwnProperty;function Cd(t,e){var n=mr(t),r=!n&&uw(t),s=!n&&!r&&_d(t),i=!n&&!r&&!s&&Ww(t),o=n||r||s||i,a=o?ow(t.length,String):[],c=a.length;for(var l in t)(e||qw.call(t,l))&&!(o&&(l=="length"||s&&(l=="offset"||l=="parent")||i&&(l=="buffer"||l=="byteLength"||l=="byteOffset")||gw(l,c)))&&a.push(l);return a}var Kw=Object.prototype;function So(t){var e=t&&t.constructor,n=typeof e=="function"&&e.prototype||Kw;return t===n}var Gw=pd(Object.keys,Object),Jw=Object.prototype,Yw=Jw.hasOwnProperty;function Zw(t){if(!So(t))return Gw(t);var e=[];for(var n in Object(t))Yw.call(t,n)&&n!="constructor"&&e.push(n);return e}function Td(t){return t!=null&&Sd(t.length)&&!yd(t)}function Eo(t){return Td(t)?Cd(t):Zw(t)}function Qw(t,e){return t&&_s(e,Eo(e),t)}function Xw(t){var e=[];if(t!=null)for(var n in Object(t))e.push(n);return e}var e0=Object.prototype,t0=e0.hasOwnProperty;function n0(t){if(!pr(t))return Xw(t);var e=So(t),n=[];for(var r in t)r=="constructor"&&(e||!t0.call(t,r))||n.push(r);return n}function Co(t){return Td(t)?Cd(t,!0):n0(t)}function r0(t,e){return t&&_s(e,Co(e),t)}var Od=typeof exports=="object"&&exports&&!exports.nodeType&&exports,Ha=Od&&typeof module=="object"&&module&&!module.nodeType&&module,s0=Ha&&Ha.exports===Od,qa=s0?tt.Buffer:void 0,Ka=qa?qa.allocUnsafe:void 0;function i0(t,e){if(e)return t.slice();var n=t.length,r=Ka?Ka(n):new t.constructor(n);return t.copy(r),r}function jd(t,e){var n=-1,r=t.length;for(e||(e=Array(r));++n<r;)e[n]=t[n];return e}function o0(t,e){for(var n=-1,r=t==null?0:t.length,s=0,i=[];++n<r;){var o=t[n];e(o,n,t)&&(i[s++]=o)}return i}function Ad(){return[]}var a0=Object.prototype,c0=a0.propertyIsEnumerable,Ga=Object.getOwnPropertySymbols,To=Ga?function(t){return t==null?[]:(t=Object(t),o0(Ga(t),function(e){return c0.call(t,e)}))}:Ad;function l0(t,e){return _s(t,To(t),e)}function kd(t,e){for(var n=-1,r=e.length,s=t.length;++n<r;)t[s+n]=e[n];return t}var u0=Object.getOwnPropertySymbols,Pd=u0?function(t){for(var e=[];t;)kd(e,To(t)),t=xo(t);return e}:Ad;function d0(t,e){return _s(t,Pd(t),e)}function Rd(t,e,n){var r=e(t);return mr(t)?r:kd(r,n(t))}function f0(t){return Rd(t,Eo,To)}function h0(t){return Rd(t,Co,Pd)}var Fi=un(tt,"DataView"),Mi=un(tt,"Promise"),Li=un(tt,"Set"),Ui=un(tt,"WeakMap"),Ja="[object Map]",p0="[object Object]",Ya="[object Promise]",Za="[object Set]",Qa="[object WeakMap]",Xa="[object DataView]",m0=ln(Fi),g0=ln(rr),y0=ln(Mi),v0=ln(Li),b0=ln(Ui),it=an;(Fi&&it(new Fi(new ArrayBuffer(1)))!=Xa||rr&&it(new rr)!=Ja||Mi&&it(Mi.resolve())!=Ya||Li&&it(new Li)!=Za||Ui&&it(new Ui)!=Qa)&&(it=function(t){var e=an(t),n=e==p0?t.constructor:void 0,r=n?ln(n):"";if(r)switch(r){case m0:return Xa;case g0:return Ja;case y0:return Ya;case v0:return Za;case b0:return Qa}return e});var w0=Object.prototype,x0=w0.hasOwnProperty;function _0(t){var e=t.length,n=new t.constructor(e);return e&&typeof t[0]=="string"&&x0.call(t,"index")&&(n.index=t.index,n.input=t.input),n}var ec=tt.Uint8Array;function Oo(t){var e=new t.constructor(t.byteLength);return new ec(e).set(new ec(t)),e}function S0(t,e){var n=e?Oo(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.byteLength)}var E0=/\w*$/;function C0(t){var e=new t.constructor(t.source,E0.exec(t));return e.lastIndex=t.lastIndex,e}var tc=kt?kt.prototype:void 0,nc=tc?tc.valueOf:void 0;function T0(t){return nc?Object(nc.call(t)):{}}function O0(t,e){var n=e?Oo(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)}var j0="[object Boolean]",A0="[object Date]",k0="[object Map]",P0="[object Number]",R0="[object RegExp]",$0="[object Set]",I0="[object String]",N0="[object Symbol]",D0="[object ArrayBuffer]",F0="[object DataView]",M0="[object Float32Array]",L0="[object Float64Array]",U0="[object Int8Array]",B0="[object Int16Array]",V0="[object Int32Array]",z0="[object Uint8Array]",W0="[object Uint8ClampedArray]",H0="[object Uint16Array]",q0="[object Uint32Array]";function K0(t,e,n){var r=t.constructor;switch(e){case D0:return Oo(t);case j0:case A0:return new r(+t);case F0:return S0(t,n);case M0:case L0:case U0:case B0:case V0:case z0:case W0:case H0:case q0:return O0(t,n);case k0:return new r;case P0:case I0:return new r(t);case R0:return C0(t);case $0:return new r;case N0:return T0(t)}}var rc=Object.create,G0=function(){function t(){}return function(e){if(!pr(e))return{};if(rc)return rc(e);t.prototype=e;var n=new t;return t.prototype=void 0,n}}();function J0(t){return typeof t.constructor=="function"&&!So(t)?G0(xo(t)):{}}var Y0="[object Map]";function Z0(t){return cn(t)&&it(t)==Y0}var sc=In&&In.isMap,Q0=sc?_o(sc):Z0,X0="[object Set]";function ex(t){return cn(t)&&it(t)==X0}var ic=In&&In.isSet,tx=ic?_o(ic):ex,nx=1,rx=2,sx=4,$d="[object Arguments]",ix="[object Array]",ox="[object Boolean]",ax="[object Date]",cx="[object Error]",Id="[object Function]",lx="[object GeneratorFunction]",ux="[object Map]",dx="[object Number]",Nd="[object Object]",fx="[object RegExp]",hx="[object Set]",px="[object String]",mx="[object Symbol]",gx="[object WeakMap]",yx="[object ArrayBuffer]",vx="[object DataView]",bx="[object Float32Array]",wx="[object Float64Array]",xx="[object Int8Array]",_x="[object Int16Array]",Sx="[object Int32Array]",Ex="[object Uint8Array]",Cx="[object Uint8ClampedArray]",Tx="[object Uint16Array]",Ox="[object Uint32Array]",ie={};ie[$d]=ie[ix]=ie[yx]=ie[vx]=ie[ox]=ie[ax]=ie[bx]=ie[wx]=ie[xx]=ie[_x]=ie[Sx]=ie[ux]=ie[dx]=ie[Nd]=ie[fx]=ie[hx]=ie[px]=ie[mx]=ie[Ex]=ie[Cx]=ie[Tx]=ie[Ox]=!0;ie[cx]=ie[Id]=ie[gx]=!1;function Zn(t,e,n,r,s,i){var o,a=e&nx,c=e&rx,l=e&sx;if(o!==void 0)return o;if(!pr(t))return t;var u=mr(t);if(u){if(o=_0(t),!a)return jd(t,o)}else{var d=it(t),p=d==Id||d==lx;if(_d(t))return i0(t,a);if(d==Nd||d==$d||p&&!s){if(o=c||p?{}:J0(t),!a)return c?d0(t,r0(o,t)):l0(t,Qw(o,t))}else{if(!ie[d])return s?t:{};o=K0(t,d,a)}}i||(i=new Bn);var m=i.get(t);if(m)return m;i.set(t,o),tx(t)?t.forEach(function(y){o.add(Zn(y,e,n,y,t,i))}):Q0(t)&&t.forEach(function(y,b){o.set(b,Zn(y,e,n,b,t,i))});var v=l?c?h0:f0:c?Co:Eo,g=u?void 0:v(t);return rw(g||t,function(y,b){g&&(b=y,y=t[b]),bd(o,b,Zn(y,e,n,b,t,i))}),o}var jx=1,Ax=4;function jr(t){return Zn(t,jx|Ax)}var oc=Array.isArray,ac=Object.keys,kx=Object.prototype.hasOwnProperty,Px=typeof Element<"u";function Bi(t,e){if(t===e)return!0;if(t&&e&&typeof t=="object"&&typeof e=="object"){var n=oc(t),r=oc(e),s,i,o;if(n&&r){if(i=t.length,i!=e.length)return!1;for(s=i;s--!==0;)if(!Bi(t[s],e[s]))return!1;return!0}if(n!=r)return!1;var a=t instanceof Date,c=e instanceof Date;if(a!=c)return!1;if(a&&c)return t.getTime()==e.getTime();var l=t instanceof RegExp,u=e instanceof RegExp;if(l!=u)return!1;if(l&&u)return t.toString()==e.toString();var d=ac(t);if(i=d.length,i!==ac(e).length)return!1;for(s=i;s--!==0;)if(!kx.call(e,d[s]))return!1;if(Px&&t instanceof Element&&e instanceof Element)return t===e;for(s=i;s--!==0;)if(o=d[s],!(o==="_owner"&&t.$$typeof)&&!Bi(t[o],e[o]))return!1;return!0}return t!==t&&e!==e}var Rx=function(e,n){try{return Bi(e,n)}catch(r){if(r.message&&r.message.match(/stack|recursion/i)||r.number===-2146828260)return console.warn("Warning: react-fast-compare does not handle circular references.",r.name,r.message),!1;throw r}};const zt=Sc(Rx);var $x=4;function cc(t){return Zn(t,$x)}function Dd(t,e){for(var n=-1,r=t==null?0:t.length,s=Array(r);++n<r;)s[n]=e(t[n],n,t);return s}var Ix="[object Symbol]";function jo(t){return typeof t=="symbol"||cn(t)&&an(t)==Ix}var Nx="Expected a function";function Ao(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError(Nx);var n=function(){var r=arguments,s=e?e.apply(this,r):r[0],i=n.cache;if(i.has(s))return i.get(s);var o=t.apply(this,r);return n.cache=i.set(s,o)||i,o};return n.cache=new(Ao.Cache||Nt),n}Ao.Cache=Nt;var Dx=500;function Fx(t){var e=Ao(t,function(r){return n.size===Dx&&n.clear(),r}),n=e.cache;return e}var Mx=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Lx=/\\(\\)?/g,Ux=Fx(function(t){var e=[];return t.charCodeAt(0)===46&&e.push(""),t.replace(Mx,function(n,r,s,i){e.push(s?i.replace(Lx,"$1"):r||n)}),e});function Bx(t){if(typeof t=="string"||jo(t))return t;var e=t+"";return e=="0"&&1/t==-1/0?"-0":e}var lc=kt?kt.prototype:void 0,uc=lc?lc.toString:void 0;function Fd(t){if(typeof t=="string")return t;if(mr(t))return Dd(t,Fd)+"";if(jo(t))return uc?uc.call(t):"";var e=t+"";return e=="0"&&1/t==-1/0?"-0":e}function Vx(t){return t==null?"":Fd(t)}function Md(t){return mr(t)?Dd(t,Bx):jo(t)?[t]:jd(Ux(Vx(t)))}var Ld={exports:{}},te={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var pe=typeof Symbol=="function"&&Symbol.for,ko=pe?Symbol.for("react.element"):60103,Po=pe?Symbol.for("react.portal"):60106,Ss=pe?Symbol.for("react.fragment"):60107,Es=pe?Symbol.for("react.strict_mode"):60108,Cs=pe?Symbol.for("react.profiler"):60114,Ts=pe?Symbol.for("react.provider"):60109,Os=pe?Symbol.for("react.context"):60110,Ro=pe?Symbol.for("react.async_mode"):60111,js=pe?Symbol.for("react.concurrent_mode"):60111,As=pe?Symbol.for("react.forward_ref"):60112,ks=pe?Symbol.for("react.suspense"):60113,zx=pe?Symbol.for("react.suspense_list"):60120,Ps=pe?Symbol.for("react.memo"):60115,Rs=pe?Symbol.for("react.lazy"):60116,Wx=pe?Symbol.for("react.block"):60121,Hx=pe?Symbol.for("react.fundamental"):60117,qx=pe?Symbol.for("react.responder"):60118,Kx=pe?Symbol.for("react.scope"):60119;function $e(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case ko:switch(t=t.type,t){case Ro:case js:case Ss:case Cs:case Es:case ks:return t;default:switch(t=t&&t.$$typeof,t){case Os:case As:case Rs:case Ps:case Ts:return t;default:return e}}case Po:return e}}}function Ud(t){return $e(t)===js}te.AsyncMode=Ro;te.ConcurrentMode=js;te.ContextConsumer=Os;te.ContextProvider=Ts;te.Element=ko;te.ForwardRef=As;te.Fragment=Ss;te.Lazy=Rs;te.Memo=Ps;te.Portal=Po;te.Profiler=Cs;te.StrictMode=Es;te.Suspense=ks;te.isAsyncMode=function(t){return Ud(t)||$e(t)===Ro};te.isConcurrentMode=Ud;te.isContextConsumer=function(t){return $e(t)===Os};te.isContextProvider=function(t){return $e(t)===Ts};te.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===ko};te.isForwardRef=function(t){return $e(t)===As};te.isFragment=function(t){return $e(t)===Ss};te.isLazy=function(t){return $e(t)===Rs};te.isMemo=function(t){return $e(t)===Ps};te.isPortal=function(t){return $e(t)===Po};te.isProfiler=function(t){return $e(t)===Cs};te.isStrictMode=function(t){return $e(t)===Es};te.isSuspense=function(t){return $e(t)===ks};te.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===Ss||t===js||t===Cs||t===Es||t===ks||t===zx||typeof t=="object"&&t!==null&&(t.$$typeof===Rs||t.$$typeof===Ps||t.$$typeof===Ts||t.$$typeof===Os||t.$$typeof===As||t.$$typeof===Hx||t.$$typeof===qx||t.$$typeof===Kx||t.$$typeof===Wx)};te.typeOf=$e;Ld.exports=te;var Gx=Ld.exports,Bd=Gx,Jx={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},Yx={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},Vd={};Vd[Bd.ForwardRef]=Jx;Vd[Bd.Memo]=Yx;function le(){return le=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},le.apply(this,arguments)}function wn(t,e){if(t==null)return{};var n={},r=Object.keys(t),s,i;for(i=0;i<r.length;i++)s=r[i],!(e.indexOf(s)>=0)&&(n[s]=t[s]);return n}var $s=f.createContext(void 0);$s.displayName="FormikContext";var Zx=$s.Provider;$s.Consumer;function $o(){var t=f.useContext($s);return t}var ke=function(e){return typeof e=="function"},gr=function(e){return e!==null&&typeof e=="object"},Qx=function(e){return String(Math.floor(Number(e)))===e},ti=function(e){return Object.prototype.toString.call(e)==="[object String]"},Xx=function(e){return f.Children.count(e)===0},ni=function(e){return gr(e)&&ke(e.then)};function Ae(t,e,n,r){r===void 0&&(r=0);for(var s=Md(e);t&&r<s.length;)t=t[s[r++]];return r!==s.length&&!t||t===void 0?n:t}function Yt(t,e,n){for(var r=cc(t),s=r,i=0,o=Md(e);i<o.length-1;i++){var a=o[i],c=Ae(t,o.slice(0,i+1));if(c&&(gr(c)||Array.isArray(c)))s=s[a]=cc(c);else{var l=o[i+1];s=s[a]=Qx(l)&&Number(l)>=0?[]:{}}}return(i===0?t:s)[o[i]]===n?t:(n===void 0?delete s[o[i]]:s[o[i]]=n,i===0&&n===void 0&&delete r[o[i]],r)}function zd(t,e,n,r){n===void 0&&(n=new WeakMap),r===void 0&&(r={});for(var s=0,i=Object.keys(t);s<i.length;s++){var o=i[s],a=t[o];gr(a)?n.get(a)||(n.set(a,!0),r[o]=Array.isArray(a)?[]:{},zd(a,e,n,r[o])):r[o]=e}return r}function e_(t,e){switch(e.type){case"SET_VALUES":return le({},t,{values:e.payload});case"SET_TOUCHED":return le({},t,{touched:e.payload});case"SET_ERRORS":return zt(t.errors,e.payload)?t:le({},t,{errors:e.payload});case"SET_STATUS":return le({},t,{status:e.payload});case"SET_ISSUBMITTING":return le({},t,{isSubmitting:e.payload});case"SET_ISVALIDATING":return le({},t,{isValidating:e.payload});case"SET_FIELD_VALUE":return le({},t,{values:Yt(t.values,e.payload.field,e.payload.value)});case"SET_FIELD_TOUCHED":return le({},t,{touched:Yt(t.touched,e.payload.field,e.payload.value)});case"SET_FIELD_ERROR":return le({},t,{errors:Yt(t.errors,e.payload.field,e.payload.value)});case"RESET_FORM":return le({},t,e.payload);case"SET_FORMIK_STATE":return e.payload(t);case"SUBMIT_ATTEMPT":return le({},t,{touched:zd(t.values,!0),isSubmitting:!0,submitCount:t.submitCount+1});case"SUBMIT_FAILURE":return le({},t,{isSubmitting:!1});case"SUBMIT_SUCCESS":return le({},t,{isSubmitting:!1});default:return t}}var Bt={},Ar={};function t_(t){var e=t.validateOnChange,n=e===void 0?!0:e,r=t.validateOnBlur,s=r===void 0?!0:r,i=t.validateOnMount,o=i===void 0?!1:i,a=t.isInitialValid,c=t.enableReinitialize,l=c===void 0?!1:c,u=t.onSubmit,d=wn(t,["validateOnChange","validateOnBlur","validateOnMount","isInitialValid","enableReinitialize","onSubmit"]),p=le({validateOnChange:n,validateOnBlur:s,validateOnMount:o,onSubmit:u},d),m=f.useRef(p.initialValues),v=f.useRef(p.initialErrors||Bt),g=f.useRef(p.initialTouched||Ar),y=f.useRef(p.initialStatus),b=f.useRef(!1),w=f.useRef({});f.useEffect(function(){return b.current=!0,function(){b.current=!1}},[]);var _=f.useState(0),S=_[1],C=f.useRef({values:jr(p.initialValues),errors:jr(p.initialErrors)||Bt,touched:jr(p.initialTouched)||Ar,status:jr(p.initialStatus),isSubmitting:!1,isValidating:!1,submitCount:0}),O=C.current,E=f.useCallback(function(x){var j=C.current;C.current=e_(j,x),j!==C.current&&S(function(A){return A+1})},[]),N=f.useCallback(function(x,j){return new Promise(function(A,R){var V=p.validate(x,j);V==null?A(Bt):ni(V)?V.then(function(Y){A(Y||Bt)},function(Y){R(Y)}):A(V)})},[p.validate]),P=f.useCallback(function(x,j){var A=p.validationSchema,R=ke(A)?A(j):A,V=j&&R.validateAt?R.validateAt(j,x):r_(x,R);return new Promise(function(Y,ye){V.then(function(){Y(Bt)},function(nt){nt.name==="ValidationError"?Y(n_(nt)):ye(nt)})})},[p.validationSchema]),M=f.useCallback(function(x,j){return new Promise(function(A){return A(w.current[x].validate(j))})},[]),k=f.useCallback(function(x){var j=Object.keys(w.current).filter(function(R){return ke(w.current[R].validate)}),A=j.length>0?j.map(function(R){return M(R,Ae(x,R))}):[Promise.resolve("DO_NOT_DELETE_YOU_WILL_BE_FIRED")];return Promise.all(A).then(function(R){return R.reduce(function(V,Y,ye){return Y==="DO_NOT_DELETE_YOU_WILL_BE_FIRED"||Y&&(V=Yt(V,j[ye],Y)),V},{})})},[M]),L=f.useCallback(function(x){return Promise.all([k(x),p.validationSchema?P(x):{},p.validate?N(x):{}]).then(function(j){var A=j[0],R=j[1],V=j[2],Y=Di.all([A,R,V],{arrayMerge:s_});return Y})},[p.validate,p.validationSchema,k,N,P]),F=Fe(function(x){return x===void 0&&(x=O.values),E({type:"SET_ISVALIDATING",payload:!0}),L(x).then(function(j){return b.current&&(E({type:"SET_ISVALIDATING",payload:!1}),E({type:"SET_ERRORS",payload:j})),j})});f.useEffect(function(){o&&b.current===!0&&zt(m.current,p.initialValues)&&F(m.current)},[o,F]);var U=f.useCallback(function(x){var j=x&&x.values?x.values:m.current,A=x&&x.errors?x.errors:v.current?v.current:p.initialErrors||{},R=x&&x.touched?x.touched:g.current?g.current:p.initialTouched||{},V=x&&x.status?x.status:y.current?y.current:p.initialStatus;m.current=j,v.current=A,g.current=R,y.current=V;var Y=function(){E({type:"RESET_FORM",payload:{isSubmitting:!!x&&!!x.isSubmitting,errors:A,touched:R,status:V,values:j,isValidating:!!x&&!!x.isValidating,submitCount:x&&x.submitCount&&typeof x.submitCount=="number"?x.submitCount:0}})};if(p.onReset){var ye=p.onReset(O.values,ge);ni(ye)?ye.then(Y):Y()}else Y()},[p.initialErrors,p.initialStatus,p.initialTouched,p.onReset]);f.useEffect(function(){b.current===!0&&!zt(m.current,p.initialValues)&&l&&(m.current=p.initialValues,U(),o&&F(m.current))},[l,p.initialValues,U,o,F]),f.useEffect(function(){l&&b.current===!0&&!zt(v.current,p.initialErrors)&&(v.current=p.initialErrors||Bt,E({type:"SET_ERRORS",payload:p.initialErrors||Bt}))},[l,p.initialErrors]),f.useEffect(function(){l&&b.current===!0&&!zt(g.current,p.initialTouched)&&(g.current=p.initialTouched||Ar,E({type:"SET_TOUCHED",payload:p.initialTouched||Ar}))},[l,p.initialTouched]),f.useEffect(function(){l&&b.current===!0&&!zt(y.current,p.initialStatus)&&(y.current=p.initialStatus,E({type:"SET_STATUS",payload:p.initialStatus}))},[l,p.initialStatus,p.initialTouched]);var oe=Fe(function(x){if(w.current[x]&&ke(w.current[x].validate)){var j=Ae(O.values,x),A=w.current[x].validate(j);return ni(A)?(E({type:"SET_ISVALIDATING",payload:!0}),A.then(function(R){return R}).then(function(R){E({type:"SET_FIELD_ERROR",payload:{field:x,value:R}}),E({type:"SET_ISVALIDATING",payload:!1})})):(E({type:"SET_FIELD_ERROR",payload:{field:x,value:A}}),Promise.resolve(A))}else if(p.validationSchema)return E({type:"SET_ISVALIDATING",payload:!0}),P(O.values,x).then(function(R){return R}).then(function(R){E({type:"SET_FIELD_ERROR",payload:{field:x,value:Ae(R,x)}}),E({type:"SET_ISVALIDATING",payload:!1})});return Promise.resolve()}),z=f.useCallback(function(x,j){var A=j.validate;w.current[x]={validate:A}},[]),G=f.useCallback(function(x){delete w.current[x]},[]),D=Fe(function(x,j){E({type:"SET_TOUCHED",payload:x});var A=j===void 0?s:j;return A?F(O.values):Promise.resolve()}),ne=f.useCallback(function(x){E({type:"SET_ERRORS",payload:x})},[]),me=Fe(function(x,j){var A=ke(x)?x(O.values):x;E({type:"SET_VALUES",payload:A});var R=j===void 0?n:j;return R?F(A):Promise.resolve()}),we=f.useCallback(function(x,j){E({type:"SET_FIELD_ERROR",payload:{field:x,value:j}})},[]),Ie=Fe(function(x,j,A){E({type:"SET_FIELD_VALUE",payload:{field:x,value:j}});var R=A===void 0?n:A;return R?F(Yt(O.values,x,j)):Promise.resolve()}),ht=f.useCallback(function(x,j){var A=j,R=x,V;if(!ti(x)){x.persist&&x.persist();var Y=x.target?x.target:x.currentTarget,ye=Y.type,nt=Y.name,Fs=Y.id,Ms=Y.value,Ef=Y.checked;Y.outerHTML;var zo=Y.options,Cf=Y.multiple;A=j||nt||Fs,R=/number|range/.test(ye)?(V=parseFloat(Ms),isNaN(V)?"":V):/checkbox/.test(ye)?o_(Ae(O.values,A),Ef,Ms):zo&&Cf?i_(zo):Ms}A&&Ie(A,R)},[Ie,O.values]),Ne=Fe(function(x){if(ti(x))return function(j){return ht(j,x)};ht(x)}),Oe=Fe(function(x,j,A){j===void 0&&(j=!0),E({type:"SET_FIELD_TOUCHED",payload:{field:x,value:j}});var R=A===void 0?s:A;return R?F(O.values):Promise.resolve()}),qe=f.useCallback(function(x,j){x.persist&&x.persist();var A=x.target,R=A.name,V=A.id;A.outerHTML;var Y=j||R||V;Oe(Y,!0)},[Oe]),$=Fe(function(x){if(ti(x))return function(j){return qe(j,x)};qe(x)}),re=f.useCallback(function(x){ke(x)?E({type:"SET_FORMIK_STATE",payload:x}):E({type:"SET_FORMIK_STATE",payload:function(){return x}})},[]),fe=f.useCallback(function(x){E({type:"SET_STATUS",payload:x})},[]),X=f.useCallback(function(x){E({type:"SET_ISSUBMITTING",payload:x})},[]),q=Fe(function(){return E({type:"SUBMIT_ATTEMPT"}),F().then(function(x){var j=x instanceof Error,A=!j&&Object.keys(x).length===0;if(A){var R;try{if(R=De(),R===void 0)return}catch(V){throw V}return Promise.resolve(R).then(function(V){return b.current&&E({type:"SUBMIT_SUCCESS"}),V}).catch(function(V){if(b.current)throw E({type:"SUBMIT_FAILURE"}),V})}else if(b.current&&(E({type:"SUBMIT_FAILURE"}),j))throw x})}),J=Fe(function(x){x&&x.preventDefault&&ke(x.preventDefault)&&x.preventDefault(),x&&x.stopPropagation&&ke(x.stopPropagation)&&x.stopPropagation(),q().catch(function(j){console.warn("Warning: An unhandled error was caught from submitForm()",j)})}),ge={resetForm:U,validateForm:F,validateField:oe,setErrors:ne,setFieldError:we,setFieldTouched:Oe,setFieldValue:Ie,setStatus:fe,setSubmitting:X,setTouched:D,setValues:me,setFormikState:re,submitForm:q},De=Fe(function(){return u(O.values,ge)}),Dt=Fe(function(x){x&&x.preventDefault&&ke(x.preventDefault)&&x.preventDefault(),x&&x.stopPropagation&&ke(x.stopPropagation)&&x.stopPropagation(),U()}),Ft=f.useCallback(function(x){return{value:Ae(O.values,x),error:Ae(O.errors,x),touched:!!Ae(O.touched,x),initialValue:Ae(m.current,x),initialTouched:!!Ae(g.current,x),initialError:Ae(v.current,x)}},[O.errors,O.touched,O.values]),Mt=f.useCallback(function(x){return{setValue:function(A,R){return Ie(x,A,R)},setTouched:function(A,R){return Oe(x,A,R)},setError:function(A){return we(x,A)}}},[Ie,Oe,we]),Ds=f.useCallback(function(x){var j=gr(x),A=j?x.name:x,R=Ae(O.values,A),V={name:A,value:R,onChange:Ne,onBlur:$};if(j){var Y=x.type,ye=x.value,nt=x.as,Fs=x.multiple;Y==="checkbox"?ye===void 0?V.checked=!!R:(V.checked=!!(Array.isArray(R)&&~R.indexOf(ye)),V.value=ye):Y==="radio"?(V.checked=R===ye,V.value=ye):nt==="select"&&Fs&&(V.value=V.value||[],V.multiple=!0)}return V},[$,Ne,O.values]),pt=f.useMemo(function(){return!zt(m.current,O.values)},[m.current,O.values]),_f=f.useMemo(function(){return typeof a<"u"?pt?O.errors&&Object.keys(O.errors).length===0:a!==!1&&ke(a)?a(p):a:O.errors&&Object.keys(O.errors).length===0},[a,pt,O.errors,p]),Sf=le({},O,{initialValues:m.current,initialErrors:v.current,initialTouched:g.current,initialStatus:y.current,handleBlur:$,handleChange:Ne,handleReset:Dt,handleSubmit:J,resetForm:U,setErrors:ne,setFormikState:re,setFieldTouched:Oe,setFieldValue:Ie,setFieldError:we,setStatus:fe,setSubmitting:X,setTouched:D,setValues:me,submitForm:q,validateForm:F,validateField:oe,isValid:_f,dirty:pt,unregisterField:G,registerField:z,getFieldProps:Ds,getFieldMeta:Ft,getFieldHelpers:Mt,validateOnBlur:s,validateOnChange:n,validateOnMount:o});return Sf}function Wd(t){var e=t_(t),n=t.component,r=t.children,s=t.render,i=t.innerRef;return f.useImperativeHandle(i,function(){return e}),f.createElement(Zx,{value:e},n?f.createElement(n,e):s?s(e):r?ke(r)?r(e):Xx(r)?null:f.Children.only(r):null)}function n_(t){var e={};if(t.inner){if(t.inner.length===0)return Yt(e,t.path,t.message);for(var s=t.inner,n=Array.isArray(s),r=0,s=n?s:s[Symbol.iterator]();;){var i;if(n){if(r>=s.length)break;i=s[r++]}else{if(r=s.next(),r.done)break;i=r.value}var o=i;Ae(e,o.path)||(e=Yt(e,o.path,o.message))}}return e}function r_(t,e,n,r){n===void 0&&(n=!1);var s=Vi(t);return e[n?"validateSync":"validate"](s,{abortEarly:!1,context:s})}function Vi(t){var e=Array.isArray(t)?[]:{};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){var r=String(n);Array.isArray(t[r])===!0?e[r]=t[r].map(function(s){return Array.isArray(s)===!0||Ma(s)?Vi(s):s!==""?s:void 0}):Ma(t[r])?e[r]=Vi(t[r]):e[r]=t[r]!==""?t[r]:void 0}return e}function s_(t,e,n){var r=t.slice();return e.forEach(function(i,o){if(typeof r[o]>"u"){var a=n.clone!==!1,c=a&&n.isMergeableObject(i);r[o]=c?Di(Array.isArray(i)?[]:{},i,n):i}else n.isMergeableObject(i)?r[o]=Di(t[o],i,n):t.indexOf(i)===-1&&r.push(i)}),r}function i_(t){return Array.from(t).filter(function(e){return e.selected}).map(function(e){return e.value})}function o_(t,e,n){if(typeof t=="boolean")return!!e;var r=[],s=!1,i=-1;if(Array.isArray(t))r=t,i=t.indexOf(n),s=i>=0;else if(!n||n=="true"||n=="false")return!!e;return e&&n&&!s?r.concat(n):s?r.slice(0,i).concat(r.slice(i+1)):r}var a_=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u"?f.useLayoutEffect:f.useEffect;function Fe(t){var e=f.useRef(t);return a_(function(){e.current=t}),f.useCallback(function(){for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return e.current.apply(void 0,r)},[])}function Hd(t){var e=$o(),n=e.getFieldProps,r=e.getFieldMeta,s=e.getFieldHelpers,i=e.registerField,o=e.unregisterField,a=gr(t),c=a?t:{name:t},l=c.name,u=c.validate;f.useEffect(function(){return l&&i(l,{validate:u}),function(){l&&o(l)}},[i,o,l,u]);var d=f.useMemo(function(){return s(l)},[s,l]);return[n(c),r(l),d]}function c_(t){var e=t.validate,n=t.name,r=t.render,s=t.children,i=t.as,o=t.component,a=t.className,c=wn(t,["validate","name","render","children","as","component","className"]),l=$o(),u=wn(l,["validate","validationSchema"]),d=u.registerField,p=u.unregisterField;f.useEffect(function(){return d(n,{validate:e}),function(){p(n)}},[d,p,n,e]);var m=u.getFieldProps(le({name:n},c)),v=u.getFieldMeta(n),g={field:m,form:u};if(r)return r(le({},g,{meta:v}));if(ke(s))return s(le({},g,{meta:v}));if(o){if(typeof o=="string"){var y=c.innerRef,b=wn(c,["innerRef"]);return f.createElement(o,le({ref:y},m,b,{className:a}),s)}return f.createElement(o,le({field:m,form:u},c,{className:a}),s)}var w=i||"input";if(typeof w=="string"){var _=c.innerRef,S=wn(c,["innerRef"]);return f.createElement(w,le({ref:_},m,S,{className:a}),s)}return f.createElement(w,le({},m,c,{className:a}),s)}var Io=f.forwardRef(function(t,e){var n=t.action,r=wn(t,["action"]),s=n??"#",i=$o(),o=i.handleReset,a=i.handleSubmit;return f.createElement("form",le({onSubmit:a,ref:e,onReset:o,action:s},r))});Io.displayName="Form";const{add:l_,update:u_,delete:l1}=Ac.success.patient,d_=async(t="",e)=>{let n=Pt.from("Patients").select("*");return t.trim().length>0&&(n=n.ilike("name",`%${t}%`)),e?await n.abortSignal(e):await n},f_=async t=>Pt.from("Patients").select("*").eq("id",t),h_=async t=>{const{error:e}=await Pt.from("Patients").insert([t]).select("*");e?at.error(cr):at.success(l_)},p_=async t=>{const{error:e}=await Pt.from("Patients").update(t).eq("id",t.id).select("*");e?at.error(cr):at.success(u_)};function qd({label:t,disabled:e}){return h.jsx("button",{disabled:e,type:"submit",className:"p-3 bg-primary max-sm:w-full w-24 hover:opacity-80 transition rounded-xl mt-3 text-muted font-semibold disabled:bg-gray-400",children:t})}function Kd({children:t,className:e}){return h.jsx("div",{className:I("grid grid-cols-2 gap-8 max-md:grid-cols-1 max-md:gap-8 overflow-auto ",e),children:t})}function Gd(t){const{label:e,icon:n,error:r,className:s,...i}=t;return h.jsxs("div",{className:I("flex flex-col gap-1 ",s),children:[e&&h.jsx("label",{className:"",htmlFor:t.id,children:e}),h.jsxs("div",{className:I("flex items-center gap-2 h-10 bg-white rounded-xl px-2 ring-offset-background data-[placeholder]:!text-grey-grey1 text-text-black focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 border border-transparent",{"border-red-500":!!r}),children:[n&&n,h.jsx(el,{...i,className:I("rounded-xl bg-transparent focus-visible:outline-none focus-visible:ring-0 border-none focus-visible:border-none focus-visible:ring-offset-transparent focus-visible:ring-transparent px-1 w-full flex-1 ")})]}),h.jsx("span",{className:"text-red-600 text-xs h-4",children:r})]})}function Cn(t){return h.jsx(c_,{name:t.name,children:({field:e,form:{touched:n,errors:r},meta:s})=>h.jsx(Gd,{error:s.touched&&s.error,...t,...e})})}const m_=({options:t,onValueChange:e,defaultValue:n,placeholder:r,className:s,label:i,isRequired:o,error:a,isDisabled:c,name:l})=>h.jsxs("div",{className:"flex flex-col gap-1",dir:"auto",children:[h.jsxs("div",{className:"font-medium text-text-black px-1",children:[i,o&&h.jsx("span",{className:"text-feedback-error ms-1",children:"*"})]}),h.jsxs(Tv,{name:l,onValueChange:e,defaultValue:n,disabled:c,children:[h.jsx($u,{className:I(" border-border h-11 border bg-white rounded-xl px-3 py-0.5 text-base data-[placeholder]:!text-gray-400 text-text-black focus:outline-none focus:ring-0 focus:ring-transparent",{"border-red-600":a,"border-gray-200":!a},s),children:h.jsx(Ov,{placeholder:r})}),h.jsx(Du,{children:"options"in t[0]?t.map(u=>h.jsxs("div",{children:[h.jsx("div",{className:"font-semibold px-2",children:u.label}),u.options.map(d=>h.jsx(Ni,{value:d.value,children:d.label},`${d.value}-${d.label}`))]},u.label)):t.map(u=>h.jsx(Ni,{value:u==null?void 0:u.value,children:u==null?void 0:u.label},`${u==null?void 0:u.value}-${u==null?void 0:u.label}`))})]}),a&&(a==null?void 0:a.length)>0&&h.jsx("div",{className:"font-medium text-feedback-error px-1 text-xs text-red-700",children:a})]});function g_(t){const[e,n,r]=Hd({...t}),s=r.setValue;return f.useEffect(()=>{const i=t.defaultValue;i&&s(i)},[]),h.jsx(m_,{error:n.touched&&n.error?n.error:void 0,...t,...e,onValueChange:i=>{t.onValueChange(i),s(i)}})}function dn(t){this._maxSize=t,this.clear()}dn.prototype.clear=function(){this._size=0,this._values=Object.create(null)};dn.prototype.get=function(t){return this._values[t]};dn.prototype.set=function(t,e){return this._size>=this._maxSize&&this.clear(),t in this._values||this._size++,this._values[t]=e};var y_=/[^.^\]^[]+|(?=\[\]|\.\.)/g,Jd=/^\d+$/,v_=/^\d/,b_=/[~`!#$%\^&*+=\-\[\]\\';,/{}|\\":<>\?]/g,w_=/^\s*(['"]?)(.*?)(\1)\s*$/,No=512,dc=new dn(No),fc=new dn(No),hc=new dn(No),Zt={Cache:dn,split:zi,normalizePath:ri,setter:function(t){var e=ri(t);return fc.get(t)||fc.set(t,function(r,s){for(var i=0,o=e.length,a=r;i<o-1;){var c=e[i];if(c==="__proto__"||c==="constructor"||c==="prototype")return r;a=a[e[i++]]}a[e[i]]=s})},getter:function(t,e){var n=ri(t);return hc.get(t)||hc.set(t,function(s){for(var i=0,o=n.length;i<o;)if(s!=null||!e)s=s[n[i++]];else return;return s})},join:function(t){return t.reduce(function(e,n){return e+(Do(n)||Jd.test(n)?"["+n+"]":(e?".":"")+n)},"")},forEach:function(t,e,n){x_(Array.isArray(t)?t:zi(t),e,n)}};function ri(t){return dc.get(t)||dc.set(t,zi(t).map(function(e){return e.replace(w_,"$2")}))}function zi(t){return t.match(y_)||[""]}function x_(t,e,n){var r=t.length,s,i,o,a;for(i=0;i<r;i++)s=t[i],s&&(E_(s)&&(s='"'+s+'"'),a=Do(s),o=!a&&/^\d+$/.test(s),e.call(n,s,a,o,i,t))}function Do(t){return typeof t=="string"&&t&&["'",'"'].indexOf(t.charAt(0))!==-1}function __(t){return t.match(v_)&&!t.match(Jd)}function S_(t){return b_.test(t)}function E_(t){return!Do(t)&&(__(t)||S_(t))}const C_=/[A-Z\xc0-\xd6\xd8-\xde]?[a-z\xdf-\xf6\xf8-\xff]+(?:['’](?:d|ll|m|re|s|t|ve))?(?=[\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000]|[A-Z\xc0-\xd6\xd8-\xde]|$)|(?:[A-Z\xc0-\xd6\xd8-\xde]|[^\ud800-\udfff\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\d+\u2700-\u27bfa-z\xdf-\xf6\xf8-\xffA-Z\xc0-\xd6\xd8-\xde])+(?:['’](?:D|LL|M|RE|S|T|VE))?(?=[\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000]|[A-Z\xc0-\xd6\xd8-\xde](?:[a-z\xdf-\xf6\xf8-\xff]|[^\ud800-\udfff\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\d+\u2700-\u27bfa-z\xdf-\xf6\xf8-\xffA-Z\xc0-\xd6\xd8-\xde])|$)|[A-Z\xc0-\xd6\xd8-\xde]?(?:[a-z\xdf-\xf6\xf8-\xff]|[^\ud800-\udfff\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\d+\u2700-\u27bfa-z\xdf-\xf6\xf8-\xffA-Z\xc0-\xd6\xd8-\xde])+(?:['’](?:d|ll|m|re|s|t|ve))?|[A-Z\xc0-\xd6\xd8-\xde]+(?:['’](?:D|LL|M|RE|S|T|VE))?|\d*(?:1ST|2ND|3RD|(?![123])\dTH)(?=\b|[a-z_])|\d*(?:1st|2nd|3rd|(?![123])\dth)(?=\b|[A-Z_])|\d+|(?:[\u2700-\u27bf]|(?:\ud83c[\udde6-\uddff]){2}|[\ud800-\udbff][\udc00-\udfff])[\ufe0e\ufe0f]?(?:[\u0300-\u036f\ufe20-\ufe2f\u20d0-\u20ff]|\ud83c[\udffb-\udfff])?(?:\u200d(?:[^\ud800-\udfff]|(?:\ud83c[\udde6-\uddff]){2}|[\ud800-\udbff][\udc00-\udfff])[\ufe0e\ufe0f]?(?:[\u0300-\u036f\ufe20-\ufe2f\u20d0-\u20ff]|\ud83c[\udffb-\udfff])?)*/g,Is=t=>t.match(C_)||[],Ns=t=>t[0].toUpperCase()+t.slice(1),Fo=(t,e)=>Is(t).join(e).toLowerCase(),Yd=t=>Is(t).reduce((e,n)=>`${e}${e?n[0].toUpperCase()+n.slice(1).toLowerCase():n.toLowerCase()}`,""),T_=t=>Ns(Yd(t)),O_=t=>Fo(t,"_"),j_=t=>Fo(t,"-"),A_=t=>Ns(Fo(t," ")),k_=t=>Is(t).map(Ns).join(" ");var si={words:Is,upperFirst:Ns,camelCase:Yd,pascalCase:T_,snakeCase:O_,kebabCase:j_,sentenceCase:A_,titleCase:k_},Mo={exports:{}};Mo.exports=function(t){return Zd(P_(t),t)};Mo.exports.array=Zd;function Zd(t,e){var n=t.length,r=new Array(n),s={},i=n,o=R_(e),a=$_(t);for(e.forEach(function(l){if(!a.has(l[0])||!a.has(l[1]))throw new Error("Unknown node. There is an unknown node in the supplied edges.")});i--;)s[i]||c(t[i],i,new Set);return r;function c(l,u,d){if(d.has(l)){var p;try{p=", node was:"+JSON.stringify(l)}catch{p=""}throw new Error("Cyclic dependency"+p)}if(!a.has(l))throw new Error("Found unknown node. Make sure to provided all involved nodes. Unknown node: "+JSON.stringify(l));if(!s[u]){s[u]=!0;var m=o.get(l)||new Set;if(m=Array.from(m),u=m.length){d.add(l);do{var v=m[--u];c(v,a.get(v),d)}while(u);d.delete(l)}r[--n]=l}}}function P_(t){for(var e=new Set,n=0,r=t.length;n<r;n++){var s=t[n];e.add(s[0]),e.add(s[1])}return Array.from(e)}function R_(t){for(var e=new Map,n=0,r=t.length;n<r;n++){var s=t[n];e.has(s[0])||e.set(s[0],new Set),e.has(s[1])||e.set(s[1],new Set),e.get(s[0]).add(s[1])}return e}function $_(t){for(var e=new Map,n=0,r=t.length;n<r;n++)e.set(t[n],n);return e}var I_=Mo.exports;const N_=Sc(I_),D_=Object.prototype.toString,F_=Error.prototype.toString,M_=RegExp.prototype.toString,L_=typeof Symbol<"u"?Symbol.prototype.toString:()=>"",U_=/^Symbol\((.*)\)(.*)$/;function B_(t){return t!=+t?"NaN":t===0&&1/t<0?"-0":""+t}function pc(t,e=!1){if(t==null||t===!0||t===!1)return""+t;const n=typeof t;if(n==="number")return B_(t);if(n==="string")return e?`"${t}"`:t;if(n==="function")return"[Function "+(t.name||"anonymous")+"]";if(n==="symbol")return L_.call(t).replace(U_,"Symbol($1)");const r=D_.call(t).slice(8,-1);return r==="Date"?isNaN(t.getTime())?""+t:t.toISOString(t):r==="Error"||t instanceof Error?"["+F_.call(t)+"]":r==="RegExp"?M_.call(t):null}function Ct(t,e){let n=pc(t,e);return n!==null?n:JSON.stringify(t,function(r,s){let i=pc(this[r],e);return i!==null?i:s},2)}function Qd(t){return t==null?[]:[].concat(t)}let Xd,ef,tf,V_=/\$\{\s*(\w+)\s*\}/g;Xd=Symbol.toStringTag;class mc{constructor(e,n,r,s){this.name=void 0,this.message=void 0,this.value=void 0,this.path=void 0,this.type=void 0,this.params=void 0,this.errors=void 0,this.inner=void 0,this[Xd]="Error",this.name="ValidationError",this.value=n,this.path=r,this.type=s,this.errors=[],this.inner=[],Qd(e).forEach(i=>{if(Te.isError(i)){this.errors.push(...i.errors);const o=i.inner.length?i.inner:[i];this.inner.push(...o)}else this.errors.push(i)}),this.message=this.errors.length>1?`${this.errors.length} errors occurred`:this.errors[0]}}ef=Symbol.hasInstance;tf=Symbol.toStringTag;class Te extends Error{static formatError(e,n){const r=n.label||n.path||"this";return n=Object.assign({},n,{path:r,originalPath:n.path}),typeof e=="string"?e.replace(V_,(s,i)=>Ct(n[i])):typeof e=="function"?e(n):e}static isError(e){return e&&e.name==="ValidationError"}constructor(e,n,r,s,i){const o=new mc(e,n,r,s);if(i)return o;super(),this.value=void 0,this.path=void 0,this.type=void 0,this.params=void 0,this.errors=[],this.inner=[],this[tf]="Error",this.name=o.name,this.message=o.message,this.type=o.type,this.value=o.value,this.path=o.path,this.errors=o.errors,this.inner=o.inner,Error.captureStackTrace&&Error.captureStackTrace(this,Te)}static[ef](e){return mc[Symbol.hasInstance](e)||super[Symbol.hasInstance](e)}}let Ge={default:"${path} is invalid",required:"${path} is a required field",defined:"${path} must be defined",notNull:"${path} cannot be null",oneOf:"${path} must be one of the following values: ${values}",notOneOf:"${path} must not be one of the following values: ${values}",notType:({path:t,type:e,value:n,originalValue:r})=>{const s=r!=null&&r!==n?` (cast from the value \`${Ct(r,!0)}\`).`:".";return e!=="mixed"?`${t} must be a \`${e}\` type, but the final value was: \`${Ct(n,!0)}\``+s:`${t} must match the configured type. The validated value was: \`${Ct(n,!0)}\``+s}},_e={length:"${path} must be exactly ${length} characters",min:"${path} must be at least ${min} characters",max:"${path} must be at most ${max} characters",matches:'${path} must match the following: "${regex}"',email:"${path} must be a valid email",url:"${path} must be a valid URL",uuid:"${path} must be a valid UUID",datetime:"${path} must be a valid ISO date-time",datetime_precision:"${path} must be a valid ISO date-time with a sub-second precision of exactly ${precision} digits",datetime_offset:'${path} must be a valid ISO date-time with UTC "Z" timezone',trim:"${path} must be a trimmed string",lowercase:"${path} must be a lowercase string",uppercase:"${path} must be a upper case string"},vt={min:"${path} must be greater than or equal to ${min}",max:"${path} must be less than or equal to ${max}",lessThan:"${path} must be less than ${less}",moreThan:"${path} must be greater than ${more}",positive:"${path} must be a positive number",negative:"${path} must be a negative number",integer:"${path} must be an integer"},Wi={min:"${path} field must be later than ${min}",max:"${path} field must be at earlier than ${max}"},Hi={isValue:"${path} field must be ${value}"},Dr={noUnknown:"${path} field has unspecified keys: ${unknown}",exact:"${path} object contains unknown properties: ${properties}"},z_={min:"${path} field must have at least ${min} items",max:"${path} field must have less than or equal to ${max} items",length:"${path} must have ${length} items"},W_={notType:t=>{const{path:e,value:n,spec:r}=t,s=r.types.length;if(Array.isArray(n)){if(n.length<s)return`${e} tuple value has too few items, expected a length of ${s} but got ${n.length} for value: \`${Ct(n,!0)}\``;if(n.length>s)return`${e} tuple value has too many items, expected a length of ${s} but got ${n.length} for value: \`${Ct(n,!0)}\``}return Te.formatError(Ge.notType,t)}};Object.assign(Object.create(null),{mixed:Ge,string:_e,number:vt,date:Wi,object:Dr,array:z_,boolean:Hi,tuple:W_});const Lo=t=>t&&t.__isYupSchema__;class Kr{static fromOptions(e,n){if(!n.then&&!n.otherwise)throw new TypeError("either `then:` or `otherwise:` is required for `when()` conditions");let{is:r,then:s,otherwise:i}=n,o=typeof r=="function"?r:(...a)=>a.every(c=>c===r);return new Kr(e,(a,c)=>{var l;let u=o(...a)?s:i;return(l=u==null?void 0:u(c))!=null?l:c})}constructor(e,n){this.fn=void 0,this.refs=e,this.refs=e,this.fn=n}resolve(e,n){let r=this.refs.map(i=>i.getValue(n==null?void 0:n.value,n==null?void 0:n.parent,n==null?void 0:n.context)),s=this.fn(r,e,n);if(s===void 0||s===e)return e;if(!Lo(s))throw new TypeError("conditions must return a schema object");return s.resolve(n)}}const kr={context:"$",value:"."};class fn{constructor(e,n={}){if(this.key=void 0,this.isContext=void 0,this.isValue=void 0,this.isSibling=void 0,this.path=void 0,this.getter=void 0,this.map=void 0,typeof e!="string")throw new TypeError("ref must be a string, got: "+e);if(this.key=e.trim(),e==="")throw new TypeError("ref must be a non-empty string");this.isContext=this.key[0]===kr.context,this.isValue=this.key[0]===kr.value,this.isSibling=!this.isContext&&!this.isValue;let r=this.isContext?kr.context:this.isValue?kr.value:"";this.path=this.key.slice(r.length),this.getter=this.path&&Zt.getter(this.path,!0),this.map=n.map}getValue(e,n,r){let s=this.isContext?r:this.isValue?e:n;return this.getter&&(s=this.getter(s||{})),this.map&&(s=this.map(s)),s}cast(e,n){return this.getValue(e,n==null?void 0:n.parent,n==null?void 0:n.context)}resolve(){return this}describe(){return{type:"ref",key:this.key}}toString(){return`Ref(${this.key})`}static isRef(e){return e&&e.__isYupRef}}fn.prototype.__isYupRef=!0;const Ve=t=>t==null;function bn(t){function e({value:n,path:r="",options:s,originalValue:i,schema:o},a,c){const{name:l,test:u,params:d,message:p,skipAbsent:m}=t;let{parent:v,context:g,abortEarly:y=o.spec.abortEarly,disableStackTrace:b=o.spec.disableStackTrace}=s;function w(k){return fn.isRef(k)?k.getValue(n,v,g):k}function _(k={}){const L=Object.assign({value:n,originalValue:i,label:o.spec.label,path:k.path||r,spec:o.spec,disableStackTrace:k.disableStackTrace||b},d,k.params);for(const U of Object.keys(L))L[U]=w(L[U]);const F=new Te(Te.formatError(k.message||p,L),n,L.path,k.type||l,L.disableStackTrace);return F.params=L,F}const S=y?a:c;let C={path:r,parent:v,type:l,from:s.from,createError:_,resolve:w,options:s,originalValue:i,schema:o};const O=k=>{Te.isError(k)?S(k):k?c(null):S(_())},E=k=>{Te.isError(k)?S(k):a(k)};if(m&&Ve(n))return O(!0);let P;try{var M;if(P=u.call(C,n,C),typeof((M=P)==null?void 0:M.then)=="function"){if(s.sync)throw new Error(`Validation test of type: "${C.type}" returned a Promise during a synchronous validate. This test will finish after the validate call has returned`);return Promise.resolve(P).then(O,E)}}catch(k){E(k);return}O(P)}return e.OPTIONS=t,e}function H_(t,e,n,r=n){let s,i,o;return e?(Zt.forEach(e,(a,c,l)=>{let u=c?a.slice(1,a.length-1):a;t=t.resolve({context:r,parent:s,value:n});let d=t.type==="tuple",p=l?parseInt(u,10):0;if(t.innerType||d){if(d&&!l)throw new Error(`Yup.reach cannot implicitly index into a tuple type. the path part "${o}" must contain an index to the tuple element, e.g. "${o}[0]"`);if(n&&p>=n.length)throw new Error(`Yup.reach cannot resolve an array item at index: ${a}, in the path: ${e}. because there is no value at that index. `);s=n,n=n&&n[p],t=d?t.spec.types[p]:t.innerType}if(!l){if(!t.fields||!t.fields[u])throw new Error(`The schema does not contain the path: ${e}. (failed at: ${o} which is a type: "${t.type}")`);s=n,n=n&&n[u],t=t.fields[u]}i=u,o=c?"["+a+"]":"."+a}),{schema:t,parent:s,parentPath:i}):{parent:s,parentPath:e,schema:t}}class Gr extends Set{describe(){const e=[];for(const n of this.values())e.push(fn.isRef(n)?n.describe():n);return e}resolveAll(e){let n=[];for(const r of this.values())n.push(e(r));return n}clone(){return new Gr(this.values())}merge(e,n){const r=this.clone();return e.forEach(s=>r.add(s)),n.forEach(s=>r.delete(s)),r}}function xn(t,e=new Map){if(Lo(t)||!t||typeof t!="object")return t;if(e.has(t))return e.get(t);let n;if(t instanceof Date)n=new Date(t.getTime()),e.set(t,n);else if(t instanceof RegExp)n=new RegExp(t),e.set(t,n);else if(Array.isArray(t)){n=new Array(t.length),e.set(t,n);for(let r=0;r<t.length;r++)n[r]=xn(t[r],e)}else if(t instanceof Map){n=new Map,e.set(t,n);for(const[r,s]of t.entries())n.set(r,xn(s,e))}else if(t instanceof Set){n=new Set,e.set(t,n);for(const r of t)n.add(xn(r,e))}else if(t instanceof Object){n={},e.set(t,n);for(const[r,s]of Object.entries(t))n[r]=xn(s,e)}else throw Error(`Unable to clone ${t}`);return n}class Le{constructor(e){this.type=void 0,this.deps=[],this.tests=void 0,this.transforms=void 0,this.conditions=[],this._mutate=void 0,this.internalTests={},this._whitelist=new Gr,this._blacklist=new Gr,this.exclusiveTests=Object.create(null),this._typeCheck=void 0,this.spec=void 0,this.tests=[],this.transforms=[],this.withMutation(()=>{this.typeError(Ge.notType)}),this.type=e.type,this._typeCheck=e.check,this.spec=Object.assign({strip:!1,strict:!1,abortEarly:!0,recursive:!0,disableStackTrace:!1,nullable:!1,optional:!0,coerce:!0},e==null?void 0:e.spec),this.withMutation(n=>{n.nonNullable()})}get _type(){return this.type}clone(e){if(this._mutate)return e&&Object.assign(this.spec,e),this;const n=Object.create(Object.getPrototypeOf(this));return n.type=this.type,n._typeCheck=this._typeCheck,n._whitelist=this._whitelist.clone(),n._blacklist=this._blacklist.clone(),n.internalTests=Object.assign({},this.internalTests),n.exclusiveTests=Object.assign({},this.exclusiveTests),n.deps=[...this.deps],n.conditions=[...this.conditions],n.tests=[...this.tests],n.transforms=[...this.transforms],n.spec=xn(Object.assign({},this.spec,e)),n}label(e){let n=this.clone();return n.spec.label=e,n}meta(...e){if(e.length===0)return this.spec.meta;let n=this.clone();return n.spec.meta=Object.assign(n.spec.meta||{},e[0]),n}withMutation(e){let n=this._mutate;this._mutate=!0;let r=e(this);return this._mutate=n,r}concat(e){if(!e||e===this)return this;if(e.type!==this.type&&this.type!=="mixed")throw new TypeError(`You cannot \`concat()\` schema's of different types: ${this.type} and ${e.type}`);let n=this,r=e.clone();const s=Object.assign({},n.spec,r.spec);return r.spec=s,r.internalTests=Object.assign({},n.internalTests,r.internalTests),r._whitelist=n._whitelist.merge(e._whitelist,e._blacklist),r._blacklist=n._blacklist.merge(e._blacklist,e._whitelist),r.tests=n.tests,r.exclusiveTests=n.exclusiveTests,r.withMutation(i=>{e.tests.forEach(o=>{i.test(o.OPTIONS)})}),r.transforms=[...n.transforms,...r.transforms],r}isType(e){return e==null?!!(this.spec.nullable&&e===null||this.spec.optional&&e===void 0):this._typeCheck(e)}resolve(e){let n=this;if(n.conditions.length){let r=n.conditions;n=n.clone(),n.conditions=[],n=r.reduce((s,i)=>i.resolve(s,e),n),n=n.resolve(e)}return n}resolveOptions(e){var n,r,s,i;return Object.assign({},e,{from:e.from||[],strict:(n=e.strict)!=null?n:this.spec.strict,abortEarly:(r=e.abortEarly)!=null?r:this.spec.abortEarly,recursive:(s=e.recursive)!=null?s:this.spec.recursive,disableStackTrace:(i=e.disableStackTrace)!=null?i:this.spec.disableStackTrace})}cast(e,n={}){let r=this.resolve(Object.assign({value:e},n)),s=n.assert==="ignore-optionality",i=r._cast(e,n);if(n.assert!==!1&&!r.isType(i)){if(s&&Ve(i))return i;let o=Ct(e),a=Ct(i);throw new TypeError(`The value of ${n.path||"field"} could not be cast to a value that satisfies the schema type: "${r.type}". 

attempted value: ${o} 
`+(a!==o?`result of cast: ${a}`:""))}return i}_cast(e,n){let r=e===void 0?e:this.transforms.reduce((s,i)=>i.call(this,s,e,this),e);return r===void 0&&(r=this.getDefault(n)),r}_validate(e,n={},r,s){let{path:i,originalValue:o=e,strict:a=this.spec.strict}=n,c=e;a||(c=this._cast(c,Object.assign({assert:!1},n)));let l=[];for(let u of Object.values(this.internalTests))u&&l.push(u);this.runTests({path:i,value:c,originalValue:o,options:n,tests:l},r,u=>{if(u.length)return s(u,c);this.runTests({path:i,value:c,originalValue:o,options:n,tests:this.tests},r,s)})}runTests(e,n,r){let s=!1,{tests:i,value:o,originalValue:a,path:c,options:l}=e,u=g=>{s||(s=!0,n(g,o))},d=g=>{s||(s=!0,r(g,o))},p=i.length,m=[];if(!p)return d([]);let v={value:o,originalValue:a,path:c,options:l,schema:this};for(let g=0;g<i.length;g++){const y=i[g];y(v,u,function(w){w&&(Array.isArray(w)?m.push(...w):m.push(w)),--p<=0&&d(m)})}}asNestedTest({key:e,index:n,parent:r,parentPath:s,originalParent:i,options:o}){const a=e??n;if(a==null)throw TypeError("Must include `key` or `index` for nested validations");const c=typeof a=="number";let l=r[a];const u=Object.assign({},o,{strict:!0,parent:r,value:l,originalValue:i[a],key:void 0,[c?"index":"key"]:a,path:c||a.includes(".")?`${s||""}[${c?a:`"${a}"`}]`:(s?`${s}.`:"")+e});return(d,p,m)=>this.resolve(u)._validate(l,u,p,m)}validate(e,n){var r;let s=this.resolve(Object.assign({},n,{value:e})),i=(r=n==null?void 0:n.disableStackTrace)!=null?r:s.spec.disableStackTrace;return new Promise((o,a)=>s._validate(e,n,(c,l)=>{Te.isError(c)&&(c.value=l),a(c)},(c,l)=>{c.length?a(new Te(c,l,void 0,void 0,i)):o(l)}))}validateSync(e,n){var r;let s=this.resolve(Object.assign({},n,{value:e})),i,o=(r=n==null?void 0:n.disableStackTrace)!=null?r:s.spec.disableStackTrace;return s._validate(e,Object.assign({},n,{sync:!0}),(a,c)=>{throw Te.isError(a)&&(a.value=c),a},(a,c)=>{if(a.length)throw new Te(a,e,void 0,void 0,o);i=c}),i}isValid(e,n){return this.validate(e,n).then(()=>!0,r=>{if(Te.isError(r))return!1;throw r})}isValidSync(e,n){try{return this.validateSync(e,n),!0}catch(r){if(Te.isError(r))return!1;throw r}}_getDefault(e){let n=this.spec.default;return n==null?n:typeof n=="function"?n.call(this,e):xn(n)}getDefault(e){return this.resolve(e||{})._getDefault(e)}default(e){return arguments.length===0?this._getDefault():this.clone({default:e})}strict(e=!0){return this.clone({strict:e})}nullability(e,n){const r=this.clone({nullable:e});return r.internalTests.nullable=bn({message:n,name:"nullable",test(s){return s===null?this.schema.spec.nullable:!0}}),r}optionality(e,n){const r=this.clone({optional:e});return r.internalTests.optionality=bn({message:n,name:"optionality",test(s){return s===void 0?this.schema.spec.optional:!0}}),r}optional(){return this.optionality(!0)}defined(e=Ge.defined){return this.optionality(!1,e)}nullable(){return this.nullability(!0)}nonNullable(e=Ge.notNull){return this.nullability(!1,e)}required(e=Ge.required){return this.clone().withMutation(n=>n.nonNullable(e).defined(e))}notRequired(){return this.clone().withMutation(e=>e.nullable().optional())}transform(e){let n=this.clone();return n.transforms.push(e),n}test(...e){let n;if(e.length===1?typeof e[0]=="function"?n={test:e[0]}:n=e[0]:e.length===2?n={name:e[0],test:e[1]}:n={name:e[0],message:e[1],test:e[2]},n.message===void 0&&(n.message=Ge.default),typeof n.test!="function")throw new TypeError("`test` is a required parameters");let r=this.clone(),s=bn(n),i=n.exclusive||n.name&&r.exclusiveTests[n.name]===!0;if(n.exclusive&&!n.name)throw new TypeError("Exclusive tests must provide a unique `name` identifying the test");return n.name&&(r.exclusiveTests[n.name]=!!n.exclusive),r.tests=r.tests.filter(o=>!(o.OPTIONS.name===n.name&&(i||o.OPTIONS.test===s.OPTIONS.test))),r.tests.push(s),r}when(e,n){!Array.isArray(e)&&typeof e!="string"&&(n=e,e=".");let r=this.clone(),s=Qd(e).map(i=>new fn(i));return s.forEach(i=>{i.isSibling&&r.deps.push(i.key)}),r.conditions.push(typeof n=="function"?new Kr(s,n):Kr.fromOptions(s,n)),r}typeError(e){let n=this.clone();return n.internalTests.typeError=bn({message:e,name:"typeError",skipAbsent:!0,test(r){return this.schema._typeCheck(r)?!0:this.createError({params:{type:this.schema.type}})}}),n}oneOf(e,n=Ge.oneOf){let r=this.clone();return e.forEach(s=>{r._whitelist.add(s),r._blacklist.delete(s)}),r.internalTests.whiteList=bn({message:n,name:"oneOf",skipAbsent:!0,test(s){let i=this.schema._whitelist,o=i.resolveAll(this.resolve);return o.includes(s)?!0:this.createError({params:{values:Array.from(i).join(", "),resolved:o}})}}),r}notOneOf(e,n=Ge.notOneOf){let r=this.clone();return e.forEach(s=>{r._blacklist.add(s),r._whitelist.delete(s)}),r.internalTests.blacklist=bn({message:n,name:"notOneOf",test(s){let i=this.schema._blacklist,o=i.resolveAll(this.resolve);return o.includes(s)?this.createError({params:{values:Array.from(i).join(", "),resolved:o}}):!0}}),r}strip(e=!0){let n=this.clone();return n.spec.strip=e,n}describe(e){const n=(e?this.resolve(e):this).clone(),{label:r,meta:s,optional:i,nullable:o}=n.spec;return{meta:s,label:r,optional:i,nullable:o,default:n.getDefault(e),type:n.type,oneOf:n._whitelist.describe(),notOneOf:n._blacklist.describe(),tests:n.tests.map(c=>({name:c.OPTIONS.name,params:c.OPTIONS.params})).filter((c,l,u)=>u.findIndex(d=>d.name===c.name)===l)}}}Le.prototype.__isYupSchema__=!0;for(const t of["validate","validateSync"])Le.prototype[`${t}At`]=function(e,n,r={}){const{parent:s,parentPath:i,schema:o}=H_(this,e,n,r.context);return o[t](s&&s[i],Object.assign({},r,{parent:s,path:e}))};for(const t of["equals","is"])Le.prototype[t]=Le.prototype.oneOf;for(const t of["not","nope"])Le.prototype[t]=Le.prototype.notOneOf;function qi(){return new nf}class nf extends Le{constructor(){super({type:"boolean",check(e){return e instanceof Boolean&&(e=e.valueOf()),typeof e=="boolean"}}),this.withMutation(()=>{this.transform((e,n,r)=>{if(r.spec.coerce&&!r.isType(e)){if(/^(true|1)$/i.test(String(e)))return!0;if(/^(false|0)$/i.test(String(e)))return!1}return e})})}isTrue(e=Hi.isValue){return this.test({message:e,name:"is-value",exclusive:!0,params:{value:"true"},test(n){return Ve(n)||n===!0}})}isFalse(e=Hi.isValue){return this.test({message:e,name:"is-value",exclusive:!0,params:{value:"false"},test(n){return Ve(n)||n===!1}})}default(e){return super.default(e)}defined(e){return super.defined(e)}optional(){return super.optional()}required(e){return super.required(e)}notRequired(){return super.notRequired()}nullable(){return super.nullable()}nonNullable(e){return super.nonNullable(e)}strip(e){return super.strip(e)}}qi.prototype=nf.prototype;const q_=/^(\d{4}|[+-]\d{6})(?:-?(\d{2})(?:-?(\d{2}))?)?(?:[ T]?(\d{2}):?(\d{2})(?::?(\d{2})(?:[,.](\d{1,}))?)?(?:(Z)|([+-])(\d{2})(?::?(\d{2}))?)?)?$/;function K_(t){const e=Ki(t);if(!e)return Date.parse?Date.parse(t):Number.NaN;if(e.z===void 0&&e.plusMinus===void 0)return new Date(e.year,e.month,e.day,e.hour,e.minute,e.second,e.millisecond).valueOf();let n=0;return e.z!=="Z"&&e.plusMinus!==void 0&&(n=e.hourOffset*60+e.minuteOffset,e.plusMinus==="+"&&(n=0-n)),Date.UTC(e.year,e.month,e.day,e.hour,e.minute+n,e.second,e.millisecond)}function Ki(t){var e,n;const r=q_.exec(t);return r?{year:rt(r[1]),month:rt(r[2],1)-1,day:rt(r[3],1),hour:rt(r[4]),minute:rt(r[5]),second:rt(r[6]),millisecond:r[7]?rt(r[7].substring(0,3)):0,precision:(e=(n=r[7])==null?void 0:n.length)!=null?e:void 0,z:r[8]||void 0,plusMinus:r[9]||void 0,hourOffset:rt(r[10]),minuteOffset:rt(r[11])}:null}function rt(t,e=0){return Number(t)||e}let G_=/^[a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,J_=/^((https?|ftp):)?\/\/(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(\#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i,Y_=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i,Z_="^\\d{4}-\\d{2}-\\d{2}",Q_="\\d{2}:\\d{2}:\\d{2}",X_="(([+-]\\d{2}(:?\\d{2})?)|Z)",eS=new RegExp(`${Z_}T${Q_}(\\.\\d+)?${X_}$`),tS=t=>Ve(t)||t===t.trim(),nS={}.toString();function Ht(){return new rf}class rf extends Le{constructor(){super({type:"string",check(e){return e instanceof String&&(e=e.valueOf()),typeof e=="string"}}),this.withMutation(()=>{this.transform((e,n,r)=>{if(!r.spec.coerce||r.isType(e)||Array.isArray(e))return e;const s=e!=null&&e.toString?e.toString():e;return s===nS?e:s})})}required(e){return super.required(e).withMutation(n=>n.test({message:e||Ge.required,name:"required",skipAbsent:!0,test:r=>!!r.length}))}notRequired(){return super.notRequired().withMutation(e=>(e.tests=e.tests.filter(n=>n.OPTIONS.name!=="required"),e))}length(e,n=_e.length){return this.test({message:n,name:"length",exclusive:!0,params:{length:e},skipAbsent:!0,test(r){return r.length===this.resolve(e)}})}min(e,n=_e.min){return this.test({message:n,name:"min",exclusive:!0,params:{min:e},skipAbsent:!0,test(r){return r.length>=this.resolve(e)}})}max(e,n=_e.max){return this.test({name:"max",exclusive:!0,message:n,params:{max:e},skipAbsent:!0,test(r){return r.length<=this.resolve(e)}})}matches(e,n){let r=!1,s,i;return n&&(typeof n=="object"?{excludeEmptyString:r=!1,message:s,name:i}=n:s=n),this.test({name:i||"matches",message:s||_e.matches,params:{regex:e},skipAbsent:!0,test:o=>o===""&&r||o.search(e)!==-1})}email(e=_e.email){return this.matches(G_,{name:"email",message:e,excludeEmptyString:!0})}url(e=_e.url){return this.matches(J_,{name:"url",message:e,excludeEmptyString:!0})}uuid(e=_e.uuid){return this.matches(Y_,{name:"uuid",message:e,excludeEmptyString:!1})}datetime(e){let n="",r,s;return e&&(typeof e=="object"?{message:n="",allowOffset:r=!1,precision:s=void 0}=e:n=e),this.matches(eS,{name:"datetime",message:n||_e.datetime,excludeEmptyString:!0}).test({name:"datetime_offset",message:n||_e.datetime_offset,params:{allowOffset:r},skipAbsent:!0,test:i=>{if(!i||r)return!0;const o=Ki(i);return o?!!o.z:!1}}).test({name:"datetime_precision",message:n||_e.datetime_precision,params:{precision:s},skipAbsent:!0,test:i=>{if(!i||s==null)return!0;const o=Ki(i);return o?o.precision===s:!1}})}ensure(){return this.default("").transform(e=>e===null?"":e)}trim(e=_e.trim){return this.transform(n=>n!=null?n.trim():n).test({message:e,name:"trim",test:tS})}lowercase(e=_e.lowercase){return this.transform(n=>Ve(n)?n:n.toLowerCase()).test({message:e,name:"string_case",exclusive:!0,skipAbsent:!0,test:n=>Ve(n)||n===n.toLowerCase()})}uppercase(e=_e.uppercase){return this.transform(n=>Ve(n)?n:n.toUpperCase()).test({message:e,name:"string_case",exclusive:!0,skipAbsent:!0,test:n=>Ve(n)||n===n.toUpperCase()})}}Ht.prototype=rf.prototype;let rS=t=>t!=+t;function sf(){return new of}class of extends Le{constructor(){super({type:"number",check(e){return e instanceof Number&&(e=e.valueOf()),typeof e=="number"&&!rS(e)}}),this.withMutation(()=>{this.transform((e,n,r)=>{if(!r.spec.coerce)return e;let s=e;if(typeof s=="string"){if(s=s.replace(/\s/g,""),s==="")return NaN;s=+s}return r.isType(s)||s===null?s:parseFloat(s)})})}min(e,n=vt.min){return this.test({message:n,name:"min",exclusive:!0,params:{min:e},skipAbsent:!0,test(r){return r>=this.resolve(e)}})}max(e,n=vt.max){return this.test({message:n,name:"max",exclusive:!0,params:{max:e},skipAbsent:!0,test(r){return r<=this.resolve(e)}})}lessThan(e,n=vt.lessThan){return this.test({message:n,name:"max",exclusive:!0,params:{less:e},skipAbsent:!0,test(r){return r<this.resolve(e)}})}moreThan(e,n=vt.moreThan){return this.test({message:n,name:"min",exclusive:!0,params:{more:e},skipAbsent:!0,test(r){return r>this.resolve(e)}})}positive(e=vt.positive){return this.moreThan(0,e)}negative(e=vt.negative){return this.lessThan(0,e)}integer(e=vt.integer){return this.test({name:"integer",message:e,skipAbsent:!0,test:n=>Number.isInteger(n)})}truncate(){return this.transform(e=>Ve(e)?e:e|0)}round(e){var n;let r=["ceil","floor","round","trunc"];if(e=((n=e)==null?void 0:n.toLowerCase())||"round",e==="trunc")return this.truncate();if(r.indexOf(e.toLowerCase())===-1)throw new TypeError("Only valid options for round() are: "+r.join(", "));return this.transform(s=>Ve(s)?s:Math[e](s))}}sf.prototype=of.prototype;let af=new Date(""),sS=t=>Object.prototype.toString.call(t)==="[object Date]";function Uo(){return new yr}class yr extends Le{constructor(){super({type:"date",check(e){return sS(e)&&!isNaN(e.getTime())}}),this.withMutation(()=>{this.transform((e,n,r)=>!r.spec.coerce||r.isType(e)||e===null?e:(e=K_(e),isNaN(e)?yr.INVALID_DATE:new Date(e)))})}prepareParam(e,n){let r;if(fn.isRef(e))r=e;else{let s=this.cast(e);if(!this._typeCheck(s))throw new TypeError(`\`${n}\` must be a Date or a value that can be \`cast()\` to a Date`);r=s}return r}min(e,n=Wi.min){let r=this.prepareParam(e,"min");return this.test({message:n,name:"min",exclusive:!0,params:{min:e},skipAbsent:!0,test(s){return s>=this.resolve(r)}})}max(e,n=Wi.max){let r=this.prepareParam(e,"max");return this.test({message:n,name:"max",exclusive:!0,params:{max:e},skipAbsent:!0,test(s){return s<=this.resolve(r)}})}}yr.INVALID_DATE=af;Uo.prototype=yr.prototype;Uo.INVALID_DATE=af;function iS(t,e=[]){let n=[],r=new Set,s=new Set(e.map(([o,a])=>`${o}-${a}`));function i(o,a){let c=Zt.split(o)[0];r.add(c),s.has(`${a}-${c}`)||n.push([a,c])}for(const o of Object.keys(t)){let a=t[o];r.add(o),fn.isRef(a)&&a.isSibling?i(a.path,o):Lo(a)&&"deps"in a&&a.deps.forEach(c=>i(c,o))}return N_.array(Array.from(r),n).reverse()}function gc(t,e){let n=1/0;return t.some((r,s)=>{var i;if((i=e.path)!=null&&i.includes(r))return n=s,!0}),n}function cf(t){return(e,n)=>gc(t,e)-gc(t,n)}const oS=(t,e,n)=>{if(typeof t!="string")return t;let r=t;try{r=JSON.parse(t)}catch{}return n.isType(r)?r:t};function Fr(t){if("fields"in t){const e={};for(const[n,r]of Object.entries(t.fields))e[n]=Fr(r);return t.setFields(e)}if(t.type==="array"){const e=t.optional();return e.innerType&&(e.innerType=Fr(e.innerType)),e}return t.type==="tuple"?t.optional().clone({types:t.spec.types.map(Fr)}):"optional"in t?t.optional():t}const aS=(t,e)=>{const n=[...Zt.normalizePath(e)];if(n.length===1)return n[0]in t;let r=n.pop(),s=Zt.getter(Zt.join(n),!0)(t);return!!(s&&r in s)};let yc=t=>Object.prototype.toString.call(t)==="[object Object]";function vc(t,e){let n=Object.keys(t.fields);return Object.keys(e).filter(r=>n.indexOf(r)===-1)}const cS=cf([]);function Bo(t){return new lf(t)}class lf extends Le{constructor(e){super({type:"object",check(n){return yc(n)||typeof n=="function"}}),this.fields=Object.create(null),this._sortErrors=cS,this._nodes=[],this._excludedEdges=[],this.withMutation(()=>{e&&this.shape(e)})}_cast(e,n={}){var r;let s=super._cast(e,n);if(s===void 0)return this.getDefault(n);if(!this._typeCheck(s))return s;let i=this.fields,o=(r=n.stripUnknown)!=null?r:this.spec.noUnknown,a=[].concat(this._nodes,Object.keys(s).filter(d=>!this._nodes.includes(d))),c={},l=Object.assign({},n,{parent:c,__validating:n.__validating||!1}),u=!1;for(const d of a){let p=i[d],m=d in s;if(p){let v,g=s[d];l.path=(n.path?`${n.path}.`:"")+d,p=p.resolve({value:g,context:n.context,parent:c});let y=p instanceof Le?p.spec:void 0,b=y==null?void 0:y.strict;if(y!=null&&y.strip){u=u||d in s;continue}v=!n.__validating||!b?p.cast(s[d],l):s[d],v!==void 0&&(c[d]=v)}else m&&!o&&(c[d]=s[d]);(m!==d in c||c[d]!==s[d])&&(u=!0)}return u?c:s}_validate(e,n={},r,s){let{from:i=[],originalValue:o=e,recursive:a=this.spec.recursive}=n;n.from=[{schema:this,value:o},...i],n.__validating=!0,n.originalValue=o,super._validate(e,n,r,(c,l)=>{if(!a||!yc(l)){s(c,l);return}o=o||l;let u=[];for(let d of this._nodes){let p=this.fields[d];!p||fn.isRef(p)||u.push(p.asNestedTest({options:n,key:d,parent:l,parentPath:n.path,originalParent:o}))}this.runTests({tests:u,value:l,originalValue:o,options:n},r,d=>{s(d.sort(this._sortErrors).concat(c),l)})})}clone(e){const n=super.clone(e);return n.fields=Object.assign({},this.fields),n._nodes=this._nodes,n._excludedEdges=this._excludedEdges,n._sortErrors=this._sortErrors,n}concat(e){let n=super.concat(e),r=n.fields;for(let[s,i]of Object.entries(this.fields)){const o=r[s];r[s]=o===void 0?i:o}return n.withMutation(s=>s.setFields(r,[...this._excludedEdges,...e._excludedEdges]))}_getDefault(e){if("default"in this.spec)return super._getDefault(e);if(!this._nodes.length)return;let n={};return this._nodes.forEach(r=>{var s;const i=this.fields[r];let o=e;(s=o)!=null&&s.value&&(o=Object.assign({},o,{parent:o.value,value:o.value[r]})),n[r]=i&&"getDefault"in i?i.getDefault(o):void 0}),n}setFields(e,n){let r=this.clone();return r.fields=e,r._nodes=iS(e,n),r._sortErrors=cf(Object.keys(e)),n&&(r._excludedEdges=n),r}shape(e,n=[]){return this.clone().withMutation(r=>{let s=r._excludedEdges;return n.length&&(Array.isArray(n[0])||(n=[n]),s=[...r._excludedEdges,...n]),r.setFields(Object.assign(r.fields,e),s)})}partial(){const e={};for(const[n,r]of Object.entries(this.fields))e[n]="optional"in r&&r.optional instanceof Function?r.optional():r;return this.setFields(e)}deepPartial(){return Fr(this)}pick(e){const n={};for(const r of e)this.fields[r]&&(n[r]=this.fields[r]);return this.setFields(n,this._excludedEdges.filter(([r,s])=>e.includes(r)&&e.includes(s)))}omit(e){const n=[];for(const r of Object.keys(this.fields))e.includes(r)||n.push(r);return this.pick(n)}from(e,n,r){let s=Zt.getter(e,!0);return this.transform(i=>{if(!i)return i;let o=i;return aS(i,e)&&(o=Object.assign({},i),r||delete o[e],o[n]=s(i)),o})}json(){return this.transform(oS)}exact(e){return this.test({name:"exact",exclusive:!0,message:e||Dr.exact,test(n){if(n==null)return!0;const r=vc(this.schema,n);return r.length===0||this.createError({params:{properties:r.join(", ")}})}})}stripUnknown(){return this.clone({noUnknown:!0})}noUnknown(e=!0,n=Dr.noUnknown){typeof e!="boolean"&&(n=e,e=!0);let r=this.test({name:"noUnknown",exclusive:!0,message:n,test(s){if(s==null)return!0;const i=vc(this.schema,s);return!e||i.length===0||this.createError({params:{unknown:i.join(", ")}})}});return r.spec.noUnknown=e,r}unknown(e=!0,n=Dr.noUnknown){return this.noUnknown(!e,n)}transformKeys(e){return this.transform(n=>{if(!n)return n;const r={};for(const s of Object.keys(n))r[e(s)]=n[s];return r})}camelCase(){return this.transformKeys(si.camelCase)}snakeCase(){return this.transformKeys(si.snakeCase)}constantCase(){return this.transformKeys(e=>si.snakeCase(e).toUpperCase())}describe(e){const n=(e?this.resolve(e):this).clone(),r=super.describe(e);r.fields={};for(const[i,o]of Object.entries(n.fields)){var s;let a=e;(s=a)!=null&&s.value&&(a=Object.assign({},a,{parent:a.value,value:a.value[i]})),r.fields[i]=o.describe(a)}return r}}Bo.prototype=lf.prototype;const lS=Bo({patient_id:Ht().required("مطلوب"),date:Uo().required("مطلوب"),time:Ht().nullable()}),uS={patient_id:"",date:"",time:null};function dS({setIsOpen:t,patientId:e}){const{isFetching:n,data:r}=jc({queryKey:["patients-select"],queryFn:()=>d_()}),s=r==null?void 0:r.data,i=[{value:"test",label:"test"}],o=(s==null?void 0:s.map(u=>({label:u.name,value:`${u.id}`})))??i,a=ar(),{mutate:c,isPending:l}=Ji({mutationFn:fm,onSuccess:()=>{a.invalidateQueries({queryKey:["appointments"]}),t(!1)}});return h.jsx("div",{className:"h-full overflow-auto px-2",children:h.jsx(Wd,{initialValues:uS,validationSchema:lS,onSubmit:u=>c(u),children:h.jsxs(Io,{className:"flex flex-col justify-between h-full",children:[h.jsxs(Kd,{children:[h.jsx(g_,{className:I("disabled:text-primary disabled:opacity-70 disabled:[&>svg]:hidden",{"[&>svg]:hidden":!!e}),isDisabled:!!e||n,label:"المريض",name:"patient_id",options:o,placeholder:"اختر مريض",onValueChange:()=>{},defaultValue:e}),h.jsx(Cn,{label:"التاريخ",name:"date",type:"date"}),h.jsx(Cn,{label:"الوقت",name:"time",type:"time"})]}),h.jsx(qd,{label:"حجز",disabled:l})]})})})}var uf=(t=>(t.APPOINTMENT="appointment",t.PATIENT="patient",t))(uf||{});function fS({className:t}){return h.jsx("svg",{width:"27px",height:"27px",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:I("stroke-black",t),children:h.jsx("path",{d:"M12 7V12L9.5 13.5M21 12C21 16.9706 16.9706 21 12 21C7.02944 21 3 16.9706 3 12C3 7.02944 7.02944 3 12 3C16.9706 3 21 7.02944 21 12Z",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})}function hS({onClick:t,className:e}){return h.jsx("span",{onClick:t,className:I("text-sm text-primary hover:text-secondary transition font-semibold hover:underline hover:underline-offset-4",e),children:"موعد جديد"})}function pS({yesCallBack:t,noCallBack:e,patientName:n,isDisabled:r}){return h.jsxs("div",{className:"flex flex-col gap-7 justify-center items-center",children:[h.jsxs("div",{className:"flex flex-col gap-3 justify-center items-center",children:[h.jsx("span",{className:"font-bold text-xl",children:"هل تريد إلغاء موعد"}),h.jsx("span",{className:"font-semibold text-primary",children:n})]}),h.jsxs("div",{className:"flex items-center gap-6",children:[h.jsx("button",{disabled:r,className:" border-secondary font-medium w-20 text-secondary hover:bg-secondary hover:text-white transition rounded-xl h-fit px-5 py-2 border",onClick:t,children:"نعم"}),h.jsx("button",{disabled:r,className:" border-foreground font-medium w-20 text-foreground hover:bg-foreground hover:text-white transition rounded-xl h-fit px-5 py-2 border",onClick:e,children:"لا"})]})]})}function mS({appointmentId:t,patientName:e}){const[n,r]=f.useState(!1),s=ar(),{mutate:i,isPending:o}=Ji({mutationFn:hm,onSuccess:()=>{r(!1),s.invalidateQueries({queryKey:["appointments"]})}});return h.jsx(ud,{title:"إلغاء موعد",className:" md:w-2/5 lg:w-[25.5rem] w-11/12 h-fit overflow-hidden rounded-lg",isOpen:n,toggle:a=>r(a??!1),trigger:h.jsx("div",{className:"border-secondary font-medium text-secondary hover:bg-secondary hover:text-white transition rounded-xl h-fit text-sm px-5 py-2 border",children:"إلغاء"}),children:h.jsx(pS,{yesCallBack:()=>i(t),noCallBack:()=>r(!1),patientName:e,isDisabled:o})})}function gS(){return h.jsx("div",{className:"p-5",children:h.jsx(Fu,{})})}function df({className:t}){return h.jsx("svg",{width:"27px",height:"27px",className:I("",t),viewBox:"0 0 48 48",version:"1.1",xmlns:"http://www.w3.org/2000/svg",children:h.jsx("g",{id:"Icons",stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd",children:h.jsx("g",{id:"Color-",transform:"translate(-700.000000, -360.000000)",fill:"#67C15E",children:h.jsx("path",{d:"M723.993033,360 C710.762252,360 700,370.765287 700,383.999801 C700,389.248451 701.692661,394.116025 704.570026,398.066947 L701.579605,406.983798 L710.804449,404.035539 C714.598605,406.546975 719.126434,408 724.006967,408 C737.237748,408 748,397.234315 748,384.000199 C748,370.765685 737.237748,360.000398 724.006967,360.000398 L723.993033,360.000398 L723.993033,360 Z M717.29285,372.190836 C716.827488,371.07628 716.474784,371.034071 715.769774,371.005401 C715.529728,370.991464 715.262214,370.977527 714.96564,370.977527 C714.04845,370.977527 713.089462,371.245514 712.511043,371.838033 C711.806033,372.557577 710.056843,374.23638 710.056843,377.679202 C710.056843,381.122023 712.567571,384.451756 712.905944,384.917648 C713.258648,385.382743 717.800808,392.55031 724.853297,395.471492 C730.368379,397.757149 732.00491,397.545307 733.260074,397.27732 C735.093658,396.882308 737.393002,395.527239 737.971421,393.891043 C738.54984,392.25405 738.54984,390.857171 738.380255,390.560912 C738.211068,390.264652 737.745308,390.095816 737.040298,389.742615 C736.335288,389.389811 732.90737,387.696673 732.25849,387.470894 C731.623543,387.231179 731.017259,387.315995 730.537963,387.99333 C729.860819,388.938653 729.198006,389.89831 728.661785,390.476494 C728.238619,390.928051 727.547144,390.984595 726.969123,390.744481 C726.193254,390.420348 724.021298,389.657798 721.340985,387.273388 C719.267356,385.42535 717.856938,383.125756 717.448104,382.434484 C717.038871,381.729275 717.405907,381.319529 717.729948,380.938852 C718.082653,380.501232 718.421026,380.191036 718.77373,379.781688 C719.126434,379.372738 719.323884,379.160897 719.549599,378.681068 C719.789645,378.215575 719.62006,377.735746 719.450874,377.382942 C719.281687,377.030139 717.871269,373.587317 717.29285,372.190836 Z",id:"Whatsapp"})})})})}var Vo="Checkbox",[yS,u1]=Fn(Vo),[vS,bS]=yS(Vo),ff=f.forwardRef((t,e)=>{const{__scopeCheckbox:n,name:r,checked:s,defaultChecked:i,required:o,disabled:a,value:c="on",onCheckedChange:l,form:u,...d}=t,[p,m]=f.useState(null),v=ue(e,S=>m(S)),g=f.useRef(!1),y=p?u||!!p.closest("form"):!0,[b=!1,w]=tr({prop:s,defaultProp:i,onChange:l}),_=f.useRef(b);return f.useEffect(()=>{const S=p==null?void 0:p.form;if(S){const C=()=>w(_.current);return S.addEventListener("reset",C),()=>S.removeEventListener("reset",C)}},[p,w]),h.jsxs(vS,{scope:n,state:b,disabled:a,children:[h.jsx(ee.button,{type:"button",role:"checkbox","aria-checked":Tt(b)?"mixed":b,"aria-required":o,"data-state":mf(b),"data-disabled":a?"":void 0,disabled:a,value:c,...d,ref:v,onKeyDown:K(t.onKeyDown,S=>{S.key==="Enter"&&S.preventDefault()}),onClick:K(t.onClick,S=>{w(C=>Tt(C)?!0:!C),y&&(g.current=S.isPropagationStopped(),g.current||S.stopPropagation())})}),y&&h.jsx(wS,{control:p,bubbles:!g.current,name:r,value:c,checked:b,required:o,disabled:a,form:u,style:{transform:"translateX(-100%)"},defaultChecked:Tt(i)?!1:i})]})});ff.displayName=Vo;var hf="CheckboxIndicator",pf=f.forwardRef((t,e)=>{const{__scopeCheckbox:n,forceMount:r,...s}=t,i=bS(hf,n);return h.jsx(on,{present:r||Tt(i.state)||i.state===!0,children:h.jsx(ee.span,{"data-state":mf(i.state),"data-disabled":i.disabled?"":void 0,...s,ref:e,style:{pointerEvents:"none",...t.style}})})});pf.displayName=hf;var wS=t=>{const{control:e,checked:n,bubbles:r=!0,defaultChecked:s,...i}=t,o=f.useRef(null),a=Gl(n),c=ml(e);f.useEffect(()=>{const u=o.current,d=window.HTMLInputElement.prototype,m=Object.getOwnPropertyDescriptor(d,"checked").set;if(a!==n&&m){const v=new Event("click",{bubbles:r});u.indeterminate=Tt(n),m.call(u,Tt(n)?!1:n),u.dispatchEvent(v)}},[a,n,r]);const l=f.useRef(Tt(n)?!1:n);return h.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:s??l.current,...i,tabIndex:-1,ref:o,style:{...t.style,...c,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function Tt(t){return t==="indeterminate"}function mf(t){return Tt(t)?"indeterminate":t?"checked":"unchecked"}var gf=ff,xS=pf;const yf=f.forwardRef(({className:t,...e},n)=>h.jsx(gf,{ref:n,className:I("peer size-5 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",t),...e,children:h.jsx(xS,{className:I("flex items-center justify-center text-current"),children:h.jsx(Ru,{className:"h-4 w-4"})})}));yf.displayName=gf.displayName;function _S(t){const e=Hd({...t}),n=e[0].value,r=e[2].setValue;return h.jsx(yf,{checked:n,onCheckedChange:s=>{r(s)},...t,...e})}const SS=Bo({name:Ht().required("مطلوب"),age:sf().typeError("أرقام فقط").required("مطلوب").min(3,"العمر غير صحيح").max(120,"العمر غير صحيح"),address:Ht(),phone1:Ht().typeError("أرقام فقط").required("مطلوب").matches(/^01[0-25]\d{8}$/,"رقم غير صحيح"),phone1_has_whatsapp:qi(),phone2:Ht().typeError("أرقام فقط").matches(/^01[0-25]\d{8}$/,"رقم غير صحيح"),phone2_has_whatsapp:qi().required("مطلوب")}),ES={name:"",age:"",address:"",phone1:"",phone1_has_whatsapp:!1,phone2:"",phone2_has_whatsapp:!1};function CS({setIsOpen:t,patientId:e}){var l;const{isFetching:n,isError:r,data:s}=jc({queryKey:["patient",e],queryFn:()=>f_(e??""),enabled:!!e}),i=ar(),{mutate:o,isPending:a}=Ji({mutationFn:e?p_:h_,onSuccess:()=>{t(!1),i.invalidateQueries({queryKey:["patients"]})}});if(n)return h.jsx(gS,{});if(r)return h.jsx("p",{className:"text-red-500 font-semibold",children:cr});const c=(l=s==null?void 0:s.data)==null?void 0:l[0];return h.jsx("div",{className:"h-full overflow-auto px-2",children:h.jsx(Wd,{initialValues:e?c:ES,validationSchema:SS,onSubmit:u=>o(u),children:h.jsxs(Io,{children:[h.jsxs(Kd,{children:[h.jsx(Cn,{label:"الاسم",name:"name"}),h.jsx(Cn,{onKeyDown:Nf,label:"العمر",name:"age",inputMode:"numeric"}),h.jsx(bc,{label:"رقم الهاتف",name:"phone1",onChange:()=>{}}),h.jsx(bc,{label:"رقم هاتف آخر (اختياري)",name:"phone2",onChange:()=>{}}),h.jsx(Cn,{label:"العنوان (اختياري)",name:"address"})]}),h.jsx(qd,{label:e?"تعديل":"إضافة",disabled:a})]})})})}function bc({label:t,name:e}){return h.jsxs("div",{className:"flex gap-2",children:[h.jsx(Cn,{inputMode:"numeric",pattern:"[0-9]*",label:t,name:e,className:"flex-1 w-full"}),h.jsxs("div",{className:"flex gap-1.5 items-center mt-2",children:[h.jsx(df,{className:"max-sm:size-5"}),h.jsx(_S,{className:"max-sm:size-4",name:`${e}_has_whatsapp`})]})]})}function TS({className:t}){return h.jsxs("svg",{width:"27px",height:"27px",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg",className:I("",t),children:[h.jsx("path",{d:"M905.92 237.76a32 32 0 0 0-52.48 36.48A416 416 0 1 1 96 512a418.56 418.56 0 0 1 297.28-398.72 32 32 0 1 0-18.24-61.44A480 480 0 1 0 992 512a477.12 477.12 0 0 0-86.08-274.24z"}),h.jsx("path",{d:"M630.72 113.28A413.76 413.76 0 0 1 768 185.28a32 32 0 0 0 39.68-50.24 476.8 476.8 0 0 0-160-83.2 32 32 0 0 0-18.24 61.44zM489.28 86.72a36.8 36.8 0 0 0 10.56 6.72 30.08 30.08 0 0 0 24.32 0 37.12 37.12 0 0 0 10.56-6.72A32 32 0 0 0 544 64a33.6 33.6 0 0 0-9.28-22.72A32 32 0 0 0 505.6 32a20.8 20.8 0 0 0-5.76 1.92 23.68 23.68 0 0 0-5.76 2.88l-4.8 3.84a32 32 0 0 0-6.72 10.56A32 32 0 0 0 480 64a32 32 0 0 0 2.56 12.16 37.12 37.12 0 0 0 6.72 10.56zM726.72 297.28a32 32 0 0 0-45.12 0l-169.6 169.6-169.28-169.6A32 32 0 0 0 297.6 342.4l169.28 169.6-169.6 169.28a32 32 0 1 0 45.12 45.12l169.6-169.28 169.28 169.28a32 32 0 0 0 45.12-45.12L557.12 512l169.28-169.28a32 32 0 0 0 0.32-45.44z"})]})}function OS({className:t}){return h.jsx("svg",{width:"27px",height:"27px",viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg",className:I("",t),children:h.jsxs("g",{fill:"gray",children:[h.jsx("path",{d:"M8 16a8 8 0 0 1-8-8 8 8 0 0 1 8-8 8 8 0 0 1 8 8 8 8 0 0 1-8 8zm0-1a7 7 0 0 0 7-7 7 7 0 0 0-7-7 7 7 0 0 0-7 7 7 7 0 0 0 7 7z"}),h.jsx("path",{d:"M8 3.75c-.386 0-.69.124-.914.373A1.269 1.269 0 0 0 6.75 5c0 .336.112.628.336.877.224.249.528.373.914.373s.69-.124.914-.373c.224-.249.336-.541.336-.877 0-.336-.112-.628-.336-.877C8.69 3.874 8.386 3.75 8 3.75zM7 7v5h2V7z",fontFamily:"Ubuntu",fontWeight:"400",letterSpacing:"0",wordSpacing:"0"})]})})}function jS({className:t}){return h.jsx("svg",{width:"27px",height:"27px",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:I("",t),children:h.jsx("path",{d:"M12 5H9C7.11438 5 6.17157 5 5.58579 5.58579C5 6.17157 5 7.11438 5 9V15C5 16.8856 5 17.8284 5.58579 18.4142C6.17157 19 7.11438 19 9 19H15C16.8856 19 17.8284 19 18.4142 18.4142C19 17.8284 19 16.8856 19 15V12M9.31899 12.6911L15.2486 6.82803C15.7216 6.36041 16.4744 6.33462 16.9782 6.76876C17.5331 7.24688 17.5723 8.09299 17.064 8.62034L11.2329 14.6702L9 15L9.31899 12.6911Z",stroke:"#464455",strokeLinecap:"round",strokeLinejoin:"round"})})}const AS=({className:t})=>h.jsx("svg",{width:"4",height:"16",viewBox:"0 0 4 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:I(t),children:h.jsx("path",{d:"M2 16C1.45 16 0.979167 15.8042 0.5875 15.4125C0.195833 15.0208 0 14.55 0 14C0 13.45 0.195833 12.9792 0.5875 12.5875C0.979167 12.1958 1.45 12 2 12C2.55 12 3.02083 12.1958 3.4125 12.5875C3.80417 12.9792 4 13.45 4 14C4 14.55 3.80417 15.0208 3.4125 15.4125C3.02083 15.8042 2.55 16 2 16ZM2 10C1.45 10 0.979167 9.80417 0.5875 9.4125C0.195833 9.02083 0 8.55 0 8C0 7.45 0.195833 6.97917 0.5875 6.5875C0.979167 6.19583 1.45 6 2 6C2.55 6 3.02083 6.19583 3.4125 6.5875C3.80417 6.97917 4 7.45 4 8C4 8.55 3.80417 9.02083 3.4125 9.4125C3.02083 9.80417 2.55 10 2 10ZM2 4C1.45 4 0.979167 3.80417 0.5875 3.4125C0.195833 3.02083 0 2.55 0 2C0 1.45 0.195833 0.979167 0.5875 0.5875C0.979167 0.195833 1.45 0 2 0C2.55 0 3.02083 0.195833 3.4125 0.5875C3.80417 0.979167 4 1.45 4 2C4 2.55 3.80417 3.02083 3.4125 3.4125C3.02083 3.80417 2.55 4 2 4Z",fill:"#343434"})});function kS({patientId:t}){f.useState(!1);const[e,n]=f.useState(!1);f.useState(!1);const r=f.useRef(null);return h.jsxs(Ky,{children:[h.jsxs("div",{className:"relative -m-1.5",children:[h.jsx(Gy,{ref:r,className:" rounded-full hover:bg-gray-50 transition-all size-8 flex justify-center items-center",children:h.jsx("button",{children:h.jsx(AS,{})})}),h.jsxs(Kl,{align:"end",className:"flex flex-col h-fit bg-white drop-shadow-md w-40 rounded-lg overflow-hidden p-0 -mt-1",children:[h.jsx(ii,{label:"تفاصيل",icon:h.jsx(OS,{className:"size-[22.5px]"})}),h.jsx("button",{onClick:()=>n(!0),children:h.jsx(ii,{label:"تعديل",icon:h.jsx(jS,{className:"-ms-1 h-7 w-8 -me-1"})})}),h.jsx(ii,{label:"حذف",icon:h.jsx(TS,{className:" fill-red-600 size-[22.5px]"})})]})]}),h.jsx(dd,{title:"تعديل مريض",isOpen:e,setIsOpen:n,children:h.jsx(CS,{setIsOpen:n,patientId:t})})]})}const ii=({label:t,icon:e})=>h.jsxs("span",{className:"px-2.5 py-2 flex items-center gap-2 hover:bg-gray-50 transition-all text-sm",children:[e,t]});function PS({className:t}){return h.jsx("svg",{width:"27px",height:"27px",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:I("stroke-primary",t),children:h.jsx("path",{d:"M21 5.5C21 14.0604 14.0604 21 5.5 21C5.11378 21 4.73086 20.9859 4.35172 20.9581C3.91662 20.9262 3.69906 20.9103 3.50103 20.7963C3.33701 20.7019 3.18146 20.5345 3.09925 20.364C3 20.1582 3 19.9181 3 19.438V16.6207C3 16.2169 3 16.015 3.06645 15.842C3.12515 15.6891 3.22049 15.553 3.3441 15.4456C3.48403 15.324 3.67376 15.255 4.05321 15.117L7.26005 13.9509C7.70153 13.7904 7.92227 13.7101 8.1317 13.7237C8.31637 13.7357 8.49408 13.7988 8.64506 13.9058C8.81628 14.0271 8.93713 14.2285 9.17882 14.6314L10 16C12.6499 14.7999 14.7981 12.6489 16 10L14.6314 9.17882C14.2285 8.93713 14.0271 8.81628 13.9058 8.64506C13.7988 8.49408 13.7357 8.31637 13.7237 8.1317C13.7101 7.92227 13.7904 7.70153 13.9509 7.26005L13.9509 7.26005L15.117 4.05321C15.255 3.67376 15.324 3.48403 15.4456 3.3441C15.553 3.22049 15.6891 3.12515 15.842 3.06645C16.015 3 16.2169 3 16.6207 3H19.438C19.9181 3 20.1582 3 20.364 3.09925C20.5345 3.18146 20.7019 3.33701 20.7963 3.50103C20.9103 3.69907 20.9262 3.91662 20.9581 4.35173C20.9859 4.73086 21 5.11378 21 5.5Z",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})}function wc({phone:t,hasWhatsapp:e}){return h.jsx("div",{className:"flex items-center gap-2 max-sm:text-sm ",children:t?h.jsxs(h.Fragment,{children:[h.jsx("span",{children:t}),h.jsx("a",{href:`tel:${t}`,children:h.jsx(PS,{className:"size-6 max-sm:size-5 hover:stroke-secondary transition"})}),e&&h.jsx("a",{href:`https://wa.me/2${t}`,target:"_blank",rel:"noopener noreferrer",children:h.jsx(df,{className:"size-6 max-sm:size-5"})})]}):h.jsx("span",{className:"text-secondary",children:"لا يوجد رقم آخر"})})}function d1(t){const[e,n]=f.useState(!1),{patient:r,variant:s}=t,{name:i,phone1:o,phone1_has_whatsapp:a,phone2:c,phone2_has_whatsapp:l}=r,u=s===uf.PATIENT;return h.jsxs("div",{className:"bg-white h-fit group w-full py-4 px-3 rounded-xl flex flex-col gap-5 max-sm:gap-5 hover:shadow-md transition duration-200 ",children:[h.jsxs("div",{className:"flex gap-2 max-lg:gap-2 items-start justify-between max-lg:justify-center",children:[h.jsx("div",{className:"flex flex-1 flex-col gap-1 text-foreground group-hover:text-primary",children:h.jsx("h4",{className:"font-bold text-sm lg:text-base  h-10 lg:h-12",children:i})}),!u&&h.jsxs("div",{className:"flex items-center gap-1",children:[h.jsx("span",{style:{direction:"ltr"},className:"font-semibold text-sm text-foreground",children:u?"--:--":t.time}),h.jsx(fS,{className:"size-6 -me-0.5"})]}),u&&h.jsx(kS,{patientId:r.id})]}),h.jsxs("div",{className:"flex items-end max-lg:gap-2 justify-between",children:[h.jsxs("div",{className:"flex flex-col gap-4 ",children:[h.jsx(wc,{phone:o,hasWhatsapp:a}),h.jsx(wc,{phone:c,hasWhatsapp:!!l})]}),!u&&h.jsx(h.Fragment,{children:!Df(new Date(t.date))&&h.jsx(mS,{appointmentId:t.appointmentId,patientName:r.name})}),u&&h.jsx(dd,{title:"حجز موعد",isOpen:e,setIsOpen:n,trigger:h.jsx(hS,{onClick:()=>{}}),children:h.jsx(dS,{setIsOpen:n,patientId:`${r.id}`})})]})]})}const RS=ed,$S=td,IS=nd,vf=f.forwardRef(({className:t,...e},n)=>h.jsx(gs,{className:I("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e,ref:n}));vf.displayName=gs.displayName;const NS=vm("fixed z-50 gap-4 bg-background p-6 shadow-lg transition ease-in-out data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:duration-300 data-[state=open]:duration-500",{variants:{side:{top:"inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top",bottom:"inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom",left:"inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm",right:"inset-y-0 right-0 h-full w-3/4  border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm"}},defaultVariants:{side:"right"}}),bf=f.forwardRef(({side:t="right",className:e,children:n,...r},s)=>h.jsxs(IS,{children:[h.jsx(vf,{}),h.jsxs(ys,{ref:s,className:I(NS({side:t}),e),...r,children:[n,h.jsxs(rd,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-secondary",children:[h.jsx(sd,{className:"h-4 w-4"}),h.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));bf.displayName=ys.displayName;const wf=({className:t,...e})=>h.jsx("div",{className:I("flex flex-col space-y-2 text-center sm:text-left",t),...e});wf.displayName="SheetHeader";const xf=f.forwardRef(({className:t,...e},n)=>h.jsx(vs,{ref:n,className:I("text-lg font-semibold text-foreground",t),...e}));xf.displayName=vs.displayName;const DS=f.forwardRef(({className:t,...e},n)=>h.jsx(bs,{ref:n,className:I("text-sm text-muted-foreground",t),...e}));DS.displayName=bs.displayName;function FS({trigger:t,title:e,children:n,className:r}){return h.jsxs(RS,{children:[h.jsx($S,{children:t}),h.jsx(bf,{className:"p-0 !max-w-[17rem]",children:h.jsxs(wf,{children:[h.jsx(xf,{children:e}),h.jsx("div",{className:I("h-screen w-full !mt-0",r),children:n})]})})]})}function MS({className:t}){return h.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:I("",t),children:[h.jsx("path",{d:"M4 18L20 18",stroke:"#000000",strokeWidth:"2",strokeLinecap:"round"}),h.jsx("path",{d:"M4 12L20 12",stroke:"#000000",strokeWidth:"2",strokeLinecap:"round"}),h.jsx("path",{d:"M4 6L20 6",stroke:"#000000",strokeWidth:"2",strokeLinecap:"round"})]})}function LS({className:t}){return h.jsx("svg",{width:"22px",height:"22px",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:I("stroke-slate-300",t),children:h.jsx("path",{d:"M16.6725 16.6412L21 21M19 11C19 15.4183 15.4183 19 11 19C6.58172 19 3 15.4183 3 11C3 6.58172 6.58172 3 11 3C15.4183 3 19 6.58172 19 11Z",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})}function f1({children:t,isFetching:e,addBtn:n}){const{pathname:r}=jf(),{search:s,setSearch:i}=f.useContext(Ff),o=Mf.find(c=>c.href===r),a=(o==null?void 0:o.id)==="home"?"مواعيد اليوم":o==null?void 0:o.label;return h.jsxs("div",{className:"flex flex-col sm:gap-3 py-3 sm:py-6 px-2 sm:px-5 w-full h-full",children:[h.jsxs("div",{className:"flex sm:items-start max-sm:gap-3 justify-between max-sm:flex-col",children:[h.jsxs("div",{className:"flex gap-2 ",children:[h.jsx("div",{className:"lg:hidden",children:h.jsx(FS,{trigger:h.jsx(MS,{className:" size-7"}),title:"",children:h.jsx(Lf,{className:"w-full h-full"})})}),h.jsxs("div",{className:"flex gap-3",children:[h.jsx("h4",{className:"font-semibold text-2xl sm:text-3xl text-foreground",children:a}),!!n&&n]})]}),h.jsx(Gd,{icon:h.jsx(LS,{}),className:"sm:w-80 text-sm max-sm:[&>div>input]:placeholder:text-sm max-sm:[&>div>input]:text-sm max-sm:h-12 max-sm:w-10/12 max-sm:mx-auto",placeholder:"بحث",value:s,onChange:c=>{const l=c.target.value;i(l)}})]}),h.jsxs("div",{className:" overflow-auto flex-1 pe-1",children:[h.jsx(Uf,{richColors:!0,position:"top-left",theme:"light",closeButton:!0}),e?h.jsx(Fu,{}):t]})]})}export{dS as A,dd as F,el as I,c1 as N,Ky as P,Qt as S,Tv as a,$u as b,vm as c,Ov as d,Du as e,Ni as f,Gy as g,Kl as h,f1 as i,Fu as j,d1 as k,uf as l,n1 as m,CS as n,d_ as o,r1 as p,jc as u};
