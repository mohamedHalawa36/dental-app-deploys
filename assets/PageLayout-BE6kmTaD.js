const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/browser-QUIa_DOy.js","assets/chunk-SYFQ2XB5-u2i9jEjP.js"])))=>i.map(i=>d[i]);
var No=t=>{throw TypeError(t)};var Ps=(t,e,n)=>e.has(t)||No("Cannot "+n);var T=(t,e,n)=>(Ps(t,e,"read from private field"),n?n.call(t):e.get(t)),ue=(t,e,n)=>e.has(t)?No("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,n),Y=(t,e,n,r)=>(Ps(t,e,"write to private field"),r?r.call(t,n):e.set(t,n),n),ae=(t,e,n)=>(Ps(t,e,"access private method"),n);import{r as f,q as sf,t as Le,l as h,v as of,p as Lt,w as pc,x as af}from"./chunk-SYFQ2XB5-u2i9jEjP.js";import{S as mc,B as Do,C as Ye,D as Ir,r as Or,b as cf,E as Qs,F as Fo,G as lf,f as uf,H as df,I as Lo,n as qr,i as Mo,J as ff,K as nr,L as hf,x as N,N as pf,O as mf,z as gf,P as yf,k as vf}from"./Sidebar-A_LGcpON.js";import{t as at,T as bf}from"./sonner-CKdLkDAR.js";import{r as Kr,R as wf}from"./index-EuUU-oN2.js";var Se,W,er,ve,Ht,Sn,xt,Je,tr,En,Cn,qt,Kt,_t,Tn,Z,Bn,Xs,ei,ti,ni,ri,si,ii,gc,fc,xf=(fc=class extends mc{constructor(e,n){super();ue(this,Z);ue(this,Se);ue(this,W);ue(this,er);ue(this,ve);ue(this,Ht);ue(this,Sn);ue(this,xt);ue(this,Je);ue(this,tr);ue(this,En);ue(this,Cn);ue(this,qt);ue(this,Kt);ue(this,_t);ue(this,Tn,new Set);this.options=n,Y(this,Se,e),Y(this,Je,null),Y(this,xt,Do()),this.options.experimental_prefetchInRender||T(this,xt).reject(new Error("experimental_prefetchInRender feature flag is not enabled")),this.bindMethods(),this.setOptions(n)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(T(this,W).addObserver(this),Uo(T(this,W),this.options)?ae(this,Z,Bn).call(this):this.updateResult(),ae(this,Z,ni).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return oi(T(this,W),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return oi(T(this,W),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,ae(this,Z,ri).call(this),ae(this,Z,si).call(this),T(this,W).removeObserver(this)}setOptions(e,n){const r=this.options,s=T(this,W);if(this.options=T(this,Se).defaultQueryOptions(e),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof Ye(this.options.enabled,T(this,W))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");ae(this,Z,ii).call(this),T(this,W).setOptions(this.options),r._defaulted&&!Ir(this.options,r)&&T(this,Se).getQueryCache().notify({type:"observerOptionsUpdated",query:T(this,W),observer:this});const i=this.hasListeners();i&&Bo(T(this,W),s,this.options,r)&&ae(this,Z,Bn).call(this),this.updateResult(n),i&&(T(this,W)!==s||Ye(this.options.enabled,T(this,W))!==Ye(r.enabled,T(this,W))||Or(this.options.staleTime,T(this,W))!==Or(r.staleTime,T(this,W)))&&ae(this,Z,Xs).call(this);const o=ae(this,Z,ei).call(this);i&&(T(this,W)!==s||Ye(this.options.enabled,T(this,W))!==Ye(r.enabled,T(this,W))||o!==T(this,_t))&&ae(this,Z,ti).call(this,o)}getOptimisticResult(e){const n=T(this,Se).getQueryCache().build(T(this,Se),e),r=this.createResult(n,e);return Sf(this,r)&&(Y(this,ve,r),Y(this,Sn,this.options),Y(this,Ht,T(this,W).state)),r}getCurrentResult(){return T(this,ve)}trackResult(e,n){const r={};return Object.keys(e).forEach(s=>{Object.defineProperty(r,s,{configurable:!1,enumerable:!0,get:()=>(this.trackProp(s),n==null||n(s),e[s])})}),r}trackProp(e){T(this,Tn).add(e)}getCurrentQuery(){return T(this,W)}refetch({...e}={}){return this.fetch({...e})}fetchOptimistic(e){const n=T(this,Se).defaultQueryOptions(e),r=T(this,Se).getQueryCache().build(T(this,Se),n);return r.fetch().then(()=>this.createResult(r,n))}fetch(e){return ae(this,Z,Bn).call(this,{...e,cancelRefetch:e.cancelRefetch??!0}).then(()=>(this.updateResult(),T(this,ve)))}createResult(e,n){var I;const r=T(this,W),s=this.options,i=T(this,ve),o=T(this,Ht),a=T(this,Sn),l=e!==r?e.state:T(this,er),{state:u}=e;let d={...u},p=!1,g;if(n._optimisticResults){const P=this.hasListeners(),L=!P&&Uo(e,n),k=P&&Bo(e,r,n,s);(L||k)&&(d={...d,...df(u.data,e.options)}),n._optimisticResults==="isRestoring"&&(d.fetchStatus="idle")}let{error:v,errorUpdatedAt:m,status:y}=d;if(n.select&&d.data!==void 0)if(i&&d.data===(o==null?void 0:o.data)&&n.select===T(this,tr))g=T(this,En);else try{Y(this,tr,n.select),g=n.select(d.data),g=Lo(i==null?void 0:i.data,g,n),Y(this,En,g),Y(this,Je,null)}catch(P){Y(this,Je,P)}else g=d.data;if(n.placeholderData!==void 0&&g===void 0&&y==="pending"){let P;if(i!=null&&i.isPlaceholderData&&n.placeholderData===(a==null?void 0:a.placeholderData))P=i.data;else if(P=typeof n.placeholderData=="function"?n.placeholderData((I=T(this,Cn))==null?void 0:I.state.data,T(this,Cn)):n.placeholderData,n.select&&P!==void 0)try{P=n.select(P),Y(this,Je,null)}catch(L){Y(this,Je,L)}P!==void 0&&(y="success",g=Lo(i==null?void 0:i.data,P,n),p=!0)}T(this,Je)&&(v=T(this,Je),g=T(this,En),m=Date.now(),y="error");const b=d.fetchStatus==="fetching",w=y==="pending",_=y==="error",S=w&&b,C=g!==void 0,E={status:y,fetchStatus:d.fetchStatus,isPending:w,isSuccess:y==="success",isError:_,isInitialLoading:S,isLoading:S,data:g,dataUpdatedAt:d.dataUpdatedAt,error:v,errorUpdatedAt:m,failureCount:d.fetchFailureCount,failureReason:d.fetchFailureReason,errorUpdateCount:d.errorUpdateCount,isFetched:d.dataUpdateCount>0||d.errorUpdateCount>0,isFetchedAfterMount:d.dataUpdateCount>l.dataUpdateCount||d.errorUpdateCount>l.errorUpdateCount,isFetching:b,isRefetching:b&&!w,isLoadingError:_&&!C,isPaused:d.fetchStatus==="paused",isPlaceholderData:p,isRefetchError:_&&C,isStale:Ui(e,n),refetch:this.refetch,promise:T(this,xt)};if(this.options.experimental_prefetchInRender){const P=M=>{E.status==="error"?M.reject(E.error):E.data!==void 0&&M.resolve(E.data)},L=()=>{const M=Y(this,xt,E.promise=Do());P(M)},k=T(this,xt);switch(k.status){case"pending":e.queryHash===r.queryHash&&P(k);break;case"fulfilled":(E.status==="error"||E.data!==k.value)&&L();break;case"rejected":(E.status!=="error"||E.error!==k.reason)&&L();break}}return E}updateResult(e){const n=T(this,ve),r=this.createResult(T(this,W),this.options);if(Y(this,Ht,T(this,W).state),Y(this,Sn,this.options),T(this,Ht).data!==void 0&&Y(this,Cn,T(this,W)),Ir(r,n))return;Y(this,ve,r);const s={},i=()=>{if(!n)return!0;const{notifyOnChangeProps:o}=this.options,a=typeof o=="function"?o():o;if(a==="all"||!a&&!T(this,Tn).size)return!0;const c=new Set(a??T(this,Tn));return this.options.throwOnError&&c.add("error"),Object.keys(T(this,ve)).some(l=>{const u=l;return T(this,ve)[u]!==n[u]&&c.has(u)})};(e==null?void 0:e.listeners)!==!1&&i()&&(s.listeners=!0),ae(this,Z,gc).call(this,{...s,...e})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&ae(this,Z,ni).call(this)}},Se=new WeakMap,W=new WeakMap,er=new WeakMap,ve=new WeakMap,Ht=new WeakMap,Sn=new WeakMap,xt=new WeakMap,Je=new WeakMap,tr=new WeakMap,En=new WeakMap,Cn=new WeakMap,qt=new WeakMap,Kt=new WeakMap,_t=new WeakMap,Tn=new WeakMap,Z=new WeakSet,Bn=function(e){ae(this,Z,ii).call(this);let n=T(this,W).fetch(this.options,e);return e!=null&&e.throwOnError||(n=n.catch(cf)),n},Xs=function(){ae(this,Z,ri).call(this);const e=Or(this.options.staleTime,T(this,W));if(Qs||T(this,ve).isStale||!Fo(e))return;const r=lf(T(this,ve).dataUpdatedAt,e)+1;Y(this,qt,setTimeout(()=>{T(this,ve).isStale||this.updateResult()},r))},ei=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(T(this,W)):this.options.refetchInterval)??!1},ti=function(e){ae(this,Z,si).call(this),Y(this,_t,e),!(Qs||Ye(this.options.enabled,T(this,W))===!1||!Fo(T(this,_t))||T(this,_t)===0)&&Y(this,Kt,setInterval(()=>{(this.options.refetchIntervalInBackground||uf.isFocused())&&ae(this,Z,Bn).call(this)},T(this,_t)))},ni=function(){ae(this,Z,Xs).call(this),ae(this,Z,ti).call(this,ae(this,Z,ei).call(this))},ri=function(){T(this,qt)&&(clearTimeout(T(this,qt)),Y(this,qt,void 0))},si=function(){T(this,Kt)&&(clearInterval(T(this,Kt)),Y(this,Kt,void 0))},ii=function(){const e=T(this,Se).getQueryCache().build(T(this,Se),this.options);if(e===T(this,W))return;const n=T(this,W);Y(this,W,e),Y(this,er,e.state),this.hasListeners()&&(n==null||n.removeObserver(this),e.addObserver(this))},gc=function(e){qr.batch(()=>{e.listeners&&this.listeners.forEach(n=>{n(T(this,ve))}),T(this,Se).getQueryCache().notify({query:T(this,W),type:"observerResultsUpdated"})})},fc);function _f(t,e){return Ye(e.enabled,t)!==!1&&t.state.data===void 0&&!(t.state.status==="error"&&e.retryOnMount===!1)}function Uo(t,e){return _f(t,e)||t.state.data!==void 0&&oi(t,e,e.refetchOnMount)}function oi(t,e,n){if(Ye(e.enabled,t)!==!1){const r=typeof n=="function"?n(t):n;return r==="always"||r!==!1&&Ui(t,e)}return!1}function Bo(t,e,n,r){return(t!==e||Ye(r.enabled,t)===!1)&&(!n.suspense||t.state.status!=="error")&&Ui(t,n)}function Ui(t,e){return Ye(e.enabled,t)!==!1&&t.isStaleByTime(Or(e.staleTime,t))}function Sf(t,e){return!Ir(t.getCurrentResult(),e)}var St,Et,Ee,ot,ct,jr,ai,hc,Ef=(hc=class extends mc{constructor(n,r){super();ue(this,ct);ue(this,St);ue(this,Et);ue(this,Ee);ue(this,ot);Y(this,St,n),this.setOptions(r),this.bindMethods(),ae(this,ct,jr).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(n){var s;const r=this.options;this.options=T(this,St).defaultMutationOptions(n),Ir(this.options,r)||T(this,St).getMutationCache().notify({type:"observerOptionsUpdated",mutation:T(this,Ee),observer:this}),r!=null&&r.mutationKey&&this.options.mutationKey&&Mo(r.mutationKey)!==Mo(this.options.mutationKey)?this.reset():((s=T(this,Ee))==null?void 0:s.state.status)==="pending"&&T(this,Ee).setOptions(this.options)}onUnsubscribe(){var n;this.hasListeners()||(n=T(this,Ee))==null||n.removeObserver(this)}onMutationUpdate(n){ae(this,ct,jr).call(this),ae(this,ct,ai).call(this,n)}getCurrentResult(){return T(this,Et)}reset(){var n;(n=T(this,Ee))==null||n.removeObserver(this),Y(this,Ee,void 0),ae(this,ct,jr).call(this),ae(this,ct,ai).call(this)}mutate(n,r){var s;return Y(this,ot,r),(s=T(this,Ee))==null||s.removeObserver(this),Y(this,Ee,T(this,St).getMutationCache().build(T(this,St),this.options)),T(this,Ee).addObserver(this),T(this,Ee).execute(n)}},St=new WeakMap,Et=new WeakMap,Ee=new WeakMap,ot=new WeakMap,ct=new WeakSet,jr=function(){var r;const n=((r=T(this,Ee))==null?void 0:r.state)??ff();Y(this,Et,{...n,isPending:n.status==="pending",isSuccess:n.status==="success",isError:n.status==="error",isIdle:n.status==="idle",mutate:this.mutate,reset:this.reset})},ai=function(n){qr.batch(()=>{var r,s,i,o,a,c,l,u;if(T(this,ot)&&this.hasListeners()){const d=T(this,Et).variables,p=T(this,Et).context;(n==null?void 0:n.type)==="success"?((s=(r=T(this,ot)).onSuccess)==null||s.call(r,n.data,d,p),(o=(i=T(this,ot)).onSettled)==null||o.call(i,n.data,null,d,p)):(n==null?void 0:n.type)==="error"&&((c=(a=T(this,ot)).onError)==null||c.call(a,n.error,d,p),(u=(l=T(this,ot)).onSettled)==null||u.call(l,void 0,n.error,d,p))}this.listeners.forEach(d=>{d(T(this,Et))})})},hc),yc=f.createContext(!1),Cf=()=>f.useContext(yc);yc.Provider;function Tf(){let t=!1;return{clearReset:()=>{t=!1},reset:()=>{t=!0},isReset:()=>t}}var Of=f.createContext(Tf()),jf=()=>f.useContext(Of);function vc(t,e){return typeof t=="function"?t(...e):!!t}function ci(){}var Af=(t,e)=>{(t.suspense||t.throwOnError||t.experimental_prefetchInRender)&&(e.isReset()||(t.retryOnMount=!1))},kf=t=>{f.useEffect(()=>{t.clearReset()},[t])},Pf=({result:t,errorResetBoundary:e,throwOnError:n,query:r})=>t.isError&&!e.isReset()&&!t.isFetching&&r&&vc(n,[t.error,r]),Rf=t=>{const e=t.staleTime;t.suspense&&(t.staleTime=typeof e=="function"?(...n)=>Math.max(e(...n),1e3):Math.max(e??1e3,1e3),typeof t.gcTime=="number"&&(t.gcTime=Math.max(t.gcTime,1e3)))},$f=(t,e)=>t.isLoading&&t.isFetching&&!e,If=(t,e)=>(t==null?void 0:t.suspense)&&e.isPending,Vo=(t,e,n)=>e.fetchOptimistic(t).catch(()=>{n.clearReset()});function Nf(t,e,n){var d,p,g,v,m;const r=nr(),s=Cf(),i=jf(),o=r.defaultQueryOptions(t);(p=(d=r.getDefaultOptions().queries)==null?void 0:d._experimental_beforeQuery)==null||p.call(d,o),o._optimisticResults=s?"isRestoring":"optimistic",Rf(o),Af(o,i),kf(i);const a=!r.getQueryCache().get(o.queryHash),[c]=f.useState(()=>new e(r,o)),l=c.getOptimisticResult(o),u=!s&&t.subscribed!==!1;if(f.useSyncExternalStore(f.useCallback(y=>{const b=u?c.subscribe(qr.batchCalls(y)):ci;return c.updateResult(),b},[c,u]),()=>c.getCurrentResult(),()=>c.getCurrentResult()),f.useEffect(()=>{c.setOptions(o,{listeners:!1})},[o,c]),If(o,l))throw Vo(o,c,i);if(Pf({result:l,errorResetBoundary:i,throwOnError:o.throwOnError,query:r.getQueryCache().get(o.queryHash)}))throw l.error;if((v=(g=r.getDefaultOptions().queries)==null?void 0:g._experimental_afterQuery)==null||v.call(g,o,l),o.experimental_prefetchInRender&&!Qs&&$f(l,s)){const y=a?Vo(o,c,i):(m=r.getQueryCache().get(o.queryHash))==null?void 0:m.promise;y==null||y.catch(ci).finally(()=>{c.updateResult()})}return o.notifyOnChangeProps?l:c.trackResult(l)}function bc(t,e){return Nf(t,xf)}function Bi(t,e){const n=nr(),[r]=f.useState(()=>new Ef(n,t));f.useEffect(()=>{r.setOptions(t)},[r,t]);const s=f.useSyncExternalStore(f.useCallback(o=>r.subscribe(qr.batchCalls(o)),[r]),()=>r.getCurrentResult(),()=>r.getCurrentResult()),i=f.useCallback((o,a)=>{r.mutate(o,a).catch(ci)},[r]);if(s.error&&vc(r.options.throwOnError,[s.error]))throw s.error;return{...s,mutate:i,mutateAsync:s.mutate}}const wc={success:{patient:{add:"تم إضافة المريض بنجاح",update:"تم تعديل المريض بنجاح",delete:"تم حذف المريض"},appointment:{add:"",update:"",delete:""}},error:{somethingWentWrong:"حدث خطأ ما، برجاء المحاولة مجددا",patient:{conflict:""}}},rr=wc.error.somethingWentWrong,Df="modulepreload",Ff=function(t){return"/"+t},zo={},On=function(e,n,r){let s=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),a=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));s=Promise.allSettled(n.map(c=>{if(c=Ff(c),c in zo)return;zo[c]=!0;const l=c.endsWith(".css"),u=l?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${u}`))return;const d=document.createElement("link");if(d.rel=l?"stylesheet":Df,l||(d.as="script"),d.crossOrigin="",d.href=c,a&&d.setAttribute("nonce",a),document.head.appendChild(d),l)return new Promise((p,g)=>{d.addEventListener("load",p),d.addEventListener("error",()=>g(new Error(`Unable to preload CSS for ${c}`)))})}))}function i(o){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=o,window.dispatchEvent(a),!a.defaultPrevented)throw o}return s.then(o=>{for(const a of o||[])a.status==="rejected"&&i(a.reason);return e().catch(i)})},Lf=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>On(async()=>{const{default:r}=await Promise.resolve().then(()=>Rn);return{default:r}},void 0).then(({default:r})=>r(...n)):e=fetch,(...n)=>e(...n)};class Vi extends Error{constructor(e,n="FunctionsError",r){super(e),this.name=n,this.context=r}}class Mf extends Vi{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class Uf extends Vi{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class Bf extends Vi{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var li;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(li||(li={}));var Vf=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(u){try{l(r.next(u))}catch(d){o(d)}}function c(u){try{l(r.throw(u))}catch(d){o(d)}}function l(u){u.done?i(u.value):s(u.value).then(a,c)}l((r=r.apply(t,e||[])).next())})};class zf{constructor(e,{headers:n={},customFetch:r,region:s=li.Any}={}){this.url=e,this.headers=n,this.region=s,this.fetch=Lf(r)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e,n={}){var r;return Vf(this,void 0,void 0,function*(){try{const{headers:s,method:i,body:o}=n;let a={},{region:c}=n;c||(c=this.region),c&&c!=="any"&&(a["x-region"]=c);let l;o&&(s&&!Object.prototype.hasOwnProperty.call(s,"Content-Type")||!s)&&(typeof Blob<"u"&&o instanceof Blob||o instanceof ArrayBuffer?(a["Content-Type"]="application/octet-stream",l=o):typeof o=="string"?(a["Content-Type"]="text/plain",l=o):typeof FormData<"u"&&o instanceof FormData?l=o:(a["Content-Type"]="application/json",l=JSON.stringify(o)));const u=yield this.fetch(`${this.url}/${e}`,{method:i||"POST",headers:Object.assign(Object.assign(Object.assign({},a),this.headers),s),body:l}).catch(v=>{throw new Mf(v)}),d=u.headers.get("x-relay-error");if(d&&d==="true")throw new Uf(u);if(!u.ok)throw new Bf(u);let p=((r=u.headers.get("Content-Type"))!==null&&r!==void 0?r:"text/plain").split(";")[0].trim(),g;return p==="application/json"?g=yield u.json():p==="application/octet-stream"?g=yield u.blob():p==="text/event-stream"?g=u:p==="multipart/form-data"?g=yield u.formData():g=yield u.text(),{data:g,error:null}}catch(s){return{data:null,error:s}}})}}var Ce={},zi={},Gr={},sr={},Jr={},Yr={},Wf=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},jn=Wf();const Hf=jn.fetch,xc=jn.fetch.bind(jn),_c=jn.Headers,qf=jn.Request,Kf=jn.Response,Rn=Object.freeze(Object.defineProperty({__proto__:null,Headers:_c,Request:qf,Response:Kf,default:xc,fetch:Hf},Symbol.toStringTag,{value:"Module"})),Gf=sf(Rn);var Zr={};Object.defineProperty(Zr,"__esModule",{value:!0});let Jf=class extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}};Zr.default=Jf;var Sc=Le&&Le.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Yr,"__esModule",{value:!0});const Yf=Sc(Gf),Zf=Sc(Zr);let Qf=class{constructor(e){this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=e.headers,this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=e.shouldThrowOnError,this.signal=e.signal,this.isMaybeSingle=e.isMaybeSingle,e.fetch?this.fetch=e.fetch:typeof fetch>"u"?this.fetch=Yf.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,n){return this.headers=Object.assign({},this.headers),this.headers[e]=n,this}then(e,n){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const r=this.fetch;let s=r(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async i=>{var o,a,c;let l=null,u=null,d=null,p=i.status,g=i.statusText;if(i.ok){if(this.method!=="HEAD"){const b=await i.text();b===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?u=b:u=JSON.parse(b))}const m=(o=this.headers.Prefer)===null||o===void 0?void 0:o.match(/count=(exact|planned|estimated)/),y=(a=i.headers.get("content-range"))===null||a===void 0?void 0:a.split("/");m&&y&&y.length>1&&(d=parseInt(y[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(u)&&(u.length>1?(l={code:"PGRST116",details:`Results contain ${u.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},u=null,d=null,p=406,g="Not Acceptable"):u.length===1?u=u[0]:u=null)}else{const m=await i.text();try{l=JSON.parse(m),Array.isArray(l)&&i.status===404&&(u=[],l=null,p=200,g="OK")}catch{i.status===404&&m===""?(p=204,g="No Content"):l={message:m}}if(l&&this.isMaybeSingle&&(!((c=l==null?void 0:l.details)===null||c===void 0)&&c.includes("0 rows"))&&(l=null,p=200,g="OK"),l&&this.shouldThrowOnError)throw new Zf.default(l)}return{error:l,data:u,count:d,status:p,statusText:g}});return this.shouldThrowOnError||(s=s.catch(i=>{var o,a,c;return{error:{message:`${(o=i==null?void 0:i.name)!==null&&o!==void 0?o:"FetchError"}: ${i==null?void 0:i.message}`,details:`${(a=i==null?void 0:i.stack)!==null&&a!==void 0?a:""}`,hint:"",code:`${(c=i==null?void 0:i.code)!==null&&c!==void 0?c:""}`},data:null,count:null,status:0,statusText:""}})),s.then(e,n)}};Yr.default=Qf;var Xf=Le&&Le.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Jr,"__esModule",{value:!0});const eh=Xf(Yr);let th=class extends eh.default{select(e){let n=!1;const r=(e??"*").split("").map(s=>/\s/.test(s)&&!n?"":(s==='"'&&(n=!n),s)).join("");return this.url.searchParams.set("select",r),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(e,{ascending:n=!0,nullsFirst:r,foreignTable:s,referencedTable:i=s}={}){const o=i?`${i}.order`:"order",a=this.url.searchParams.get(o);return this.url.searchParams.set(o,`${a?`${a},`:""}${e}.${n?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:n,referencedTable:r=n}={}){const s=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(s,`${e}`),this}range(e,n,{foreignTable:r,referencedTable:s=r}={}){const i=typeof s>"u"?"offset":`${s}.offset`,o=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(i,`${e}`),this.url.searchParams.set(o,`${n-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:e=!1,verbose:n=!1,settings:r=!1,buffers:s=!1,wal:i=!1,format:o="text"}={}){var a;const c=[e?"analyze":null,n?"verbose":null,r?"settings":null,s?"buffers":null,i?"wal":null].filter(Boolean).join("|"),l=(a=this.headers.Accept)!==null&&a!==void 0?a:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${o}; for="${l}"; options=${c};`,o==="json"?this:this}rollback(){var e;return((e=this.headers.Prefer)!==null&&e!==void 0?e:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}};Jr.default=th;var nh=Le&&Le.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(sr,"__esModule",{value:!0});const rh=nh(Jr);let sh=class extends rh.default{eq(e,n){return this.url.searchParams.append(e,`eq.${n}`),this}neq(e,n){return this.url.searchParams.append(e,`neq.${n}`),this}gt(e,n){return this.url.searchParams.append(e,`gt.${n}`),this}gte(e,n){return this.url.searchParams.append(e,`gte.${n}`),this}lt(e,n){return this.url.searchParams.append(e,`lt.${n}`),this}lte(e,n){return this.url.searchParams.append(e,`lte.${n}`),this}like(e,n){return this.url.searchParams.append(e,`like.${n}`),this}likeAllOf(e,n){return this.url.searchParams.append(e,`like(all).{${n.join(",")}}`),this}likeAnyOf(e,n){return this.url.searchParams.append(e,`like(any).{${n.join(",")}}`),this}ilike(e,n){return this.url.searchParams.append(e,`ilike.${n}`),this}ilikeAllOf(e,n){return this.url.searchParams.append(e,`ilike(all).{${n.join(",")}}`),this}ilikeAnyOf(e,n){return this.url.searchParams.append(e,`ilike(any).{${n.join(",")}}`),this}is(e,n){return this.url.searchParams.append(e,`is.${n}`),this}in(e,n){const r=Array.from(new Set(n)).map(s=>typeof s=="string"&&new RegExp("[,()]").test(s)?`"${s}"`:`${s}`).join(",");return this.url.searchParams.append(e,`in.(${r})`),this}contains(e,n){return typeof n=="string"?this.url.searchParams.append(e,`cs.${n}`):Array.isArray(n)?this.url.searchParams.append(e,`cs.{${n.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(n)}`),this}containedBy(e,n){return typeof n=="string"?this.url.searchParams.append(e,`cd.${n}`):Array.isArray(n)?this.url.searchParams.append(e,`cd.{${n.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(n)}`),this}rangeGt(e,n){return this.url.searchParams.append(e,`sr.${n}`),this}rangeGte(e,n){return this.url.searchParams.append(e,`nxl.${n}`),this}rangeLt(e,n){return this.url.searchParams.append(e,`sl.${n}`),this}rangeLte(e,n){return this.url.searchParams.append(e,`nxr.${n}`),this}rangeAdjacent(e,n){return this.url.searchParams.append(e,`adj.${n}`),this}overlaps(e,n){return typeof n=="string"?this.url.searchParams.append(e,`ov.${n}`):this.url.searchParams.append(e,`ov.{${n.join(",")}}`),this}textSearch(e,n,{config:r,type:s}={}){let i="";s==="plain"?i="pl":s==="phrase"?i="ph":s==="websearch"&&(i="w");const o=r===void 0?"":`(${r})`;return this.url.searchParams.append(e,`${i}fts${o}.${n}`),this}match(e){return Object.entries(e).forEach(([n,r])=>{this.url.searchParams.append(n,`eq.${r}`)}),this}not(e,n,r){return this.url.searchParams.append(e,`not.${n}.${r}`),this}or(e,{foreignTable:n,referencedTable:r=n}={}){const s=r?`${r}.or`:"or";return this.url.searchParams.append(s,`(${e})`),this}filter(e,n,r){return this.url.searchParams.append(e,`${n}.${r}`),this}};sr.default=sh;var ih=Le&&Le.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Gr,"__esModule",{value:!0});const Ln=ih(sr);let oh=class{constructor(e,{headers:n={},schema:r,fetch:s}){this.url=e,this.headers=n,this.schema=r,this.fetch=s}select(e,{head:n=!1,count:r}={}){const s=n?"HEAD":"GET";let i=!1;const o=(e??"*").split("").map(a=>/\s/.test(a)&&!i?"":(a==='"'&&(i=!i),a)).join("");return this.url.searchParams.set("select",o),r&&(this.headers.Prefer=`count=${r}`),new Ln.default({method:s,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(e,{count:n,defaultToNull:r=!0}={}){const s="POST",i=[];if(this.headers.Prefer&&i.push(this.headers.Prefer),n&&i.push(`count=${n}`),r||i.push("missing=default"),this.headers.Prefer=i.join(","),Array.isArray(e)){const o=e.reduce((a,c)=>a.concat(Object.keys(c)),[]);if(o.length>0){const a=[...new Set(o)].map(c=>`"${c}"`);this.url.searchParams.set("columns",a.join(","))}}return new Ln.default({method:s,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}upsert(e,{onConflict:n,ignoreDuplicates:r=!1,count:s,defaultToNull:i=!0}={}){const o="POST",a=[`resolution=${r?"ignore":"merge"}-duplicates`];if(n!==void 0&&this.url.searchParams.set("on_conflict",n),this.headers.Prefer&&a.push(this.headers.Prefer),s&&a.push(`count=${s}`),i||a.push("missing=default"),this.headers.Prefer=a.join(","),Array.isArray(e)){const c=e.reduce((l,u)=>l.concat(Object.keys(u)),[]);if(c.length>0){const l=[...new Set(c)].map(u=>`"${u}"`);this.url.searchParams.set("columns",l.join(","))}}return new Ln.default({method:o,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}update(e,{count:n}={}){const r="PATCH",s=[];return this.headers.Prefer&&s.push(this.headers.Prefer),n&&s.push(`count=${n}`),this.headers.Prefer=s.join(","),new Ln.default({method:r,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}delete({count:e}={}){const n="DELETE",r=[];return e&&r.push(`count=${e}`),this.headers.Prefer&&r.unshift(this.headers.Prefer),this.headers.Prefer=r.join(","),new Ln.default({method:n,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}};Gr.default=oh;var Qr={},Xr={};Object.defineProperty(Xr,"__esModule",{value:!0});Xr.version=void 0;Xr.version="0.0.0-automated";Object.defineProperty(Qr,"__esModule",{value:!0});Qr.DEFAULT_HEADERS=void 0;const ah=Xr;Qr.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${ah.version}`};var Ec=Le&&Le.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(zi,"__esModule",{value:!0});const ch=Ec(Gr),lh=Ec(sr),uh=Qr;let dh=class Cc{constructor(e,{headers:n={},schema:r,fetch:s}={}){this.url=e,this.headers=Object.assign(Object.assign({},uh.DEFAULT_HEADERS),n),this.schemaName=r,this.fetch=s}from(e){const n=new URL(`${this.url}/${e}`);return new ch.default(n,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(e){return new Cc(this.url,{headers:this.headers,schema:e,fetch:this.fetch})}rpc(e,n={},{head:r=!1,get:s=!1,count:i}={}){let o;const a=new URL(`${this.url}/rpc/${e}`);let c;r||s?(o=r?"HEAD":"GET",Object.entries(n).filter(([u,d])=>d!==void 0).map(([u,d])=>[u,Array.isArray(d)?`{${d.join(",")}}`:`${d}`]).forEach(([u,d])=>{a.searchParams.append(u,d)})):(o="POST",c=n);const l=Object.assign({},this.headers);return i&&(l.Prefer=`count=${i}`),new lh.default({method:o,url:a,headers:l,schema:this.schemaName,body:c,fetch:this.fetch,allowEmpty:!1})}};zi.default=dh;var $n=Le&&Le.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Ce,"__esModule",{value:!0});Ce.PostgrestError=Ce.PostgrestBuilder=Ce.PostgrestTransformBuilder=Ce.PostgrestFilterBuilder=Ce.PostgrestQueryBuilder=Ce.PostgrestClient=void 0;const Tc=$n(zi);Ce.PostgrestClient=Tc.default;const Oc=$n(Gr);Ce.PostgrestQueryBuilder=Oc.default;const jc=$n(sr);Ce.PostgrestFilterBuilder=jc.default;const Ac=$n(Jr);Ce.PostgrestTransformBuilder=Ac.default;const kc=$n(Yr);Ce.PostgrestBuilder=kc.default;const Pc=$n(Zr);Ce.PostgrestError=Pc.default;var fh=Ce.default={PostgrestClient:Tc.default,PostgrestQueryBuilder:Oc.default,PostgrestFilterBuilder:jc.default,PostgrestTransformBuilder:Ac.default,PostgrestBuilder:kc.default,PostgrestError:Pc.default};const{PostgrestClient:hh,PostgrestQueryBuilder:wS,PostgrestFilterBuilder:xS,PostgrestTransformBuilder:_S,PostgrestBuilder:SS,PostgrestError:ES}=fh,ph="2.11.2",mh={"X-Client-Info":`realtime-js/${ph}`},gh="1.0.0",Rc=1e4,yh=1e3;var vn;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(vn||(vn={}));var je;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(je||(je={}));var Be;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(Be||(Be={}));var ui;(function(t){t.websocket="websocket"})(ui||(ui={}));var zt;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(zt||(zt={}));class vh{constructor(){this.HEADER_LENGTH=1}decode(e,n){return e.constructor===ArrayBuffer?n(this._binaryDecode(e)):n(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){const n=new DataView(e),r=new TextDecoder;return this._decodeBroadcast(e,n,r)}_decodeBroadcast(e,n,r){const s=n.getUint8(1),i=n.getUint8(2);let o=this.HEADER_LENGTH+2;const a=r.decode(e.slice(o,o+s));o=o+s;const c=r.decode(e.slice(o,o+i));o=o+i;const l=JSON.parse(r.decode(e.slice(o,e.byteLength)));return{ref:null,topic:a,event:c,payload:l}}}class $c{constructor(e,n){this.callback=e,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var se;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(se||(se={}));const Wo=(t,e,n={})=>{var r;const s=(r=n.skipTypes)!==null&&r!==void 0?r:[];return Object.keys(e).reduce((i,o)=>(i[o]=bh(o,t,e,s),i),{})},bh=(t,e,n,r)=>{const s=e.find(a=>a.name===t),i=s==null?void 0:s.type,o=n[t];return i&&!r.includes(i)?Ic(i,o):di(o)},Ic=(t,e)=>{if(t.charAt(0)==="_"){const n=t.slice(1,t.length);return Sh(e,n)}switch(t){case se.bool:return wh(e);case se.float4:case se.float8:case se.int2:case se.int4:case se.int8:case se.numeric:case se.oid:return xh(e);case se.json:case se.jsonb:return _h(e);case se.timestamp:return Eh(e);case se.abstime:case se.date:case se.daterange:case se.int4range:case se.int8range:case se.money:case se.reltime:case se.text:case se.time:case se.timestamptz:case se.timetz:case se.tsrange:case se.tstzrange:return di(e);default:return di(e)}},di=t=>t,wh=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},xh=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},_h=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch(e){return console.log(`JSON parse error: ${e}`),t}return t},Sh=(t,e)=>{if(typeof t!="string")return t;const n=t.length-1,r=t[n];if(t[0]==="{"&&r==="}"){let i;const o=t.slice(1,n);try{i=JSON.parse("["+o+"]")}catch{i=o?o.split(","):[]}return i.map(a=>Ic(e,a))}return t},Eh=t=>typeof t=="string"?t.replace(" ","T"):t,Nc=t=>{let e=t;return e=e.replace(/^ws/i,"http"),e=e.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),e.replace(/\/+$/,"")};class Rs{constructor(e,n,r={},s=Rc){this.channel=e,this.event=n,this.payload=r,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,n){var r;return this._hasReceived(e)&&n((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:e,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:n}){this.recHooks.filter(r=>r.status===e).forEach(r=>r.callback(n))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var Ho;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(Ho||(Ho={}));class Wn{constructor(e,n){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(n==null?void 0:n.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},s=>{const{onJoin:i,onLeave:o,onSync:a}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Wn.syncState(this.state,s,i,o),this.pendingDiffs.forEach(c=>{this.state=Wn.syncDiff(this.state,c,i,o)}),this.pendingDiffs=[],a()}),this.channel._on(r.diff,{},s=>{const{onJoin:i,onLeave:o,onSync:a}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=Wn.syncDiff(this.state,s,i,o),a())}),this.onJoin((s,i,o)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:i,newPresences:o})}),this.onLeave((s,i,o)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:i,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,n,r,s){const i=this.cloneDeep(e),o=this.transformState(n),a={},c={};return this.map(i,(l,u)=>{o[l]||(c[l]=u)}),this.map(o,(l,u)=>{const d=i[l];if(d){const p=u.map(y=>y.presence_ref),g=d.map(y=>y.presence_ref),v=u.filter(y=>g.indexOf(y.presence_ref)<0),m=d.filter(y=>p.indexOf(y.presence_ref)<0);v.length>0&&(a[l]=v),m.length>0&&(c[l]=m)}else a[l]=u}),this.syncDiff(i,{joins:a,leaves:c},r,s)}static syncDiff(e,n,r,s){const{joins:i,leaves:o}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return r||(r=()=>{}),s||(s=()=>{}),this.map(i,(a,c)=>{var l;const u=(l=e[a])!==null&&l!==void 0?l:[];if(e[a]=this.cloneDeep(c),u.length>0){const d=e[a].map(g=>g.presence_ref),p=u.filter(g=>d.indexOf(g.presence_ref)<0);e[a].unshift(...p)}r(a,u,c)}),this.map(o,(a,c)=>{let l=e[a];if(!l)return;const u=c.map(d=>d.presence_ref);l=l.filter(d=>u.indexOf(d.presence_ref)<0),e[a]=l,s(a,l,c),l.length===0&&delete e[a]}),e}static map(e,n){return Object.getOwnPropertyNames(e).map(r=>n(r,e[r]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((n,r)=>{const s=e[r];return"metas"in s?n[r]=s.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):n[r]=s,n},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var qo;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(qo||(qo={}));var Ko;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(Ko||(Ko={}));var st;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(st||(st={}));class Wi{constructor(e,n={config:{}},r){this.topic=e,this.params=n,this.socket=r,this.bindings={},this.state=je.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new Rs(this,Be.join,this.params,this.timeout),this.rejoinTimer=new $c(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=je.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(s=>s.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=je.closed,this.socket._remove(this)}),this._onError(s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=je.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=je.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Be.reply,{},(s,i)=>{this._trigger(this._replyEventName(i),s)}),this.presence=new Wn(this),this.broadcastEndpointURL=Nc(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(e,n=this.timeout){var r,s;if(this.socket.isConnected()||this.socket.connect(),this.joinedOnce)throw"tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance";{const{config:{broadcast:i,presence:o,private:a}}=this.params;this._onError(u=>e==null?void 0:e(st.CHANNEL_ERROR,u)),this._onClose(()=>e==null?void 0:e(st.CLOSED));const c={},l={broadcast:i,presence:o,postgres_changes:(s=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(u=>u.filter))!==null&&s!==void 0?s:[],private:a};this.socket.accessTokenValue&&(c.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:l},c)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:u})=>{var d;if(this.socket.setAuth(),u===void 0){e==null||e(st.SUBSCRIBED);return}else{const p=this.bindings.postgres_changes,g=(d=p==null?void 0:p.length)!==null&&d!==void 0?d:0,v=[];for(let m=0;m<g;m++){const y=p[m],{filter:{event:b,schema:w,table:_,filter:S}}=y,C=u&&u[m];if(C&&C.event===b&&C.schema===w&&C.table===_&&C.filter===S)v.push(Object.assign(Object.assign({},y),{id:C.id}));else{this.unsubscribe(),e==null||e(st.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=v,e&&e(st.SUBSCRIBED);return}}).receive("error",u=>{e==null||e(st.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(u).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(st.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,n={}){return await this.send({type:"presence",event:"track",payload:e},n.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,n,r){return this._on(e,n,r)}async send(e,n={}){var r,s;if(!this._canPush()&&e.type==="broadcast"){const{event:i,payload:o}=e,c={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:o,private:this.private}]})};try{const l=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(r=n.timeout)!==null&&r!==void 0?r:this.timeout);return await((s=l.body)===null||s===void 0?void 0:s.cancel()),l.ok?"ok":"error"}catch(l){return l.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var o,a,c;const l=this._push(e.type,e,n.timeout||this.timeout);e.type==="broadcast"&&!(!((c=(a=(o=this.params)===null||o===void 0?void 0:o.config)===null||a===void 0?void 0:a.broadcast)===null||c===void 0)&&c.ack)&&i("ok"),l.receive("ok",()=>i("ok")),l.receive("error",()=>i("error")),l.receive("timeout",()=>i("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=je.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Be.close,"leave",this._joinRef())};return this.rejoinTimer.reset(),this.joinPush.destroy(),new Promise(r=>{const s=new Rs(this,Be.leave,{},e);s.receive("ok",()=>{n(),r("ok")}).receive("timeout",()=>{n(),r("timed out")}).receive("error",()=>{r("error")}),s.send(),this._canPush()||s.trigger("ok",{})})}async _fetchWithTimeout(e,n,r){const s=new AbortController,i=setTimeout(()=>s.abort(),r),o=await this.socket.fetch(e,Object.assign(Object.assign({},n),{signal:s.signal}));return clearTimeout(i),o}_push(e,n,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new Rs(this,e,n,r);return this._canPush()?s.send():(s.startTimeout(),this.pushBuffer.push(s)),s}_onMessage(e,n,r){return n}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,n,r){var s,i;const o=e.toLocaleLowerCase(),{close:a,error:c,leave:l,join:u}=Be;if(r&&[a,c,l,u].indexOf(o)>=0&&r!==this._joinRef())return;let p=this._onMessage(o,n,r);if(n&&!p)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(g=>{var v,m,y;return((v=g.filter)===null||v===void 0?void 0:v.event)==="*"||((y=(m=g.filter)===null||m===void 0?void 0:m.event)===null||y===void 0?void 0:y.toLocaleLowerCase())===o}).map(g=>g.callback(p,r)):(i=this.bindings[o])===null||i===void 0||i.filter(g=>{var v,m,y,b,w,_;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in g){const S=g.id,C=(v=g.filter)===null||v===void 0?void 0:v.event;return S&&((m=n.ids)===null||m===void 0?void 0:m.includes(S))&&(C==="*"||(C==null?void 0:C.toLocaleLowerCase())===((y=n.data)===null||y===void 0?void 0:y.type.toLocaleLowerCase()))}else{const S=(w=(b=g==null?void 0:g.filter)===null||b===void 0?void 0:b.event)===null||w===void 0?void 0:w.toLocaleLowerCase();return S==="*"||S===((_=n==null?void 0:n.event)===null||_===void 0?void 0:_.toLocaleLowerCase())}else return g.type.toLocaleLowerCase()===o}).map(g=>{if(typeof p=="object"&&"ids"in p){const v=p.data,{schema:m,table:y,commit_timestamp:b,type:w,errors:_}=v;p=Object.assign(Object.assign({},{schema:m,table:y,commit_timestamp:b,eventType:w,new:{},old:{},errors:_}),this._getPayloadRecords(v))}g.callback(p,r)})}_isClosed(){return this.state===je.closed}_isJoined(){return this.state===je.joined}_isJoining(){return this.state===je.joining}_isLeaving(){return this.state===je.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,n,r){const s=e.toLocaleLowerCase(),i={type:s,filter:n,callback:r};return this.bindings[s]?this.bindings[s].push(i):this.bindings[s]=[i],this}_off(e,n){const r=e.toLocaleLowerCase();return this.bindings[r]=this.bindings[r].filter(s=>{var i;return!(((i=s.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===r&&Wi.isEqual(s.filter,n))}),this}static isEqual(e,n){if(Object.keys(e).length!==Object.keys(n).length)return!1;for(const r in e)if(e[r]!==n[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(Be.close,{},e)}_onError(e){this._on(Be.error,{},n=>e(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=je.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const n={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(n.new=Wo(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(n.old=Wo(e.columns,e.old_record)),n}}const Ch=()=>{},Th=typeof WebSocket<"u",Oh=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class jh{constructor(e,n){var r;this.accessTokenValue=null,this.apiKey=null,this.channels=[],this.endPoint="",this.httpEndpoint="",this.headers=mh,this.params={},this.timeout=Rc,this.heartbeatIntervalMs=3e4,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.ref=0,this.logger=Ch,this.conn=null,this.sendBuffer=[],this.serializer=new vh,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=i=>{let o;return i?o=i:typeof fetch>"u"?o=(...a)=>On(async()=>{const{default:c}=await Promise.resolve().then(()=>Rn);return{default:c}},void 0).then(({default:c})=>c(...a)):o=fetch,(...a)=>o(...a)},this.endPoint=`${e}/${ui.websocket}`,this.httpEndpoint=Nc(e),n!=null&&n.transport?this.transport=n.transport:this.transport=null,n!=null&&n.params&&(this.params=n.params),n!=null&&n.headers&&(this.headers=Object.assign(Object.assign({},this.headers),n.headers)),n!=null&&n.timeout&&(this.timeout=n.timeout),n!=null&&n.logger&&(this.logger=n.logger),n!=null&&n.heartbeatIntervalMs&&(this.heartbeatIntervalMs=n.heartbeatIntervalMs);const s=(r=n==null?void 0:n.params)===null||r===void 0?void 0:r.apikey;if(s&&(this.accessTokenValue=s,this.apiKey=s),this.reconnectAfterMs=n!=null&&n.reconnectAfterMs?n.reconnectAfterMs:i=>[1e3,2e3,5e3,1e4][i-1]||1e4,this.encode=n!=null&&n.encode?n.encode:(i,o)=>o(JSON.stringify(i)),this.decode=n!=null&&n.decode?n.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new $c(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(n==null?void 0:n.fetch),n!=null&&n.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(n==null?void 0:n.worker)||!1,this.workerUrl=n==null?void 0:n.workerUrl}this.accessToken=(n==null?void 0:n.accessToken)||null}connect(){if(!this.conn){if(this.transport){this.conn=new this.transport(this.endpointURL(),void 0,{headers:this.headers});return}if(Th){this.conn=new WebSocket(this.endpointURL()),this.setupConnection();return}this.conn=new Ah(this.endpointURL(),void 0,{close:()=>{this.conn=null}}),On(async()=>{const{default:e}=await import("./browser-QUIa_DOy.js").then(n=>n.b);return{default:e}},__vite__mapDeps([0,1])).then(({default:e})=>{this.conn=new e(this.endpointURL(),void 0,{headers:this.headers}),this.setupConnection()})}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:gh}))}disconnect(e,n){this.conn&&(this.conn.onclose=function(){},e?this.conn.close(e,n??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset())}getChannels(){return this.channels}async removeChannel(e){const n=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const e=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.disconnect(),e}log(e,n,r){this.logger(e,n,r)}connectionState(){switch(this.conn&&this.conn.readyState){case vn.connecting:return zt.Connecting;case vn.open:return zt.Open;case vn.closing:return zt.Closing;default:return zt.Closed}}isConnected(){return this.connectionState()===zt.Open}channel(e,n={config:{}}){const r=new Wi(`realtime:${e}`,n,this);return this.channels.push(r),r}push(e){const{topic:n,event:r,payload:s,ref:i}=e,o=()=>{this.encode(e,a=>{var c;(c=this.conn)===null||c===void 0||c.send(a)})};this.log("push",`${n} ${r} (${i})`,s),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(e=null){let n=e||this.accessToken&&await this.accessToken()||this.accessTokenValue;if(n){let r=null;try{r=JSON.parse(atob(n.split(".")[1]))}catch{}if(r&&r.exp&&!(Math.floor(Date.now()/1e3)-r.exp<0))return this.log("auth",`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${r.exp}`),Promise.reject(`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${r.exp}`);this.accessTokenValue=n,this.channels.forEach(s=>{n&&s.updateJoinPayload({access_token:n}),s.joinedOnce&&s._isJoined()&&s._push(Be.access_token,{access_token:n})})}}async sendHeartbeat(){var e;if(this.isConnected()){if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),(e=this.conn)===null||e===void 0||e.close(yh,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.setAuth()}}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let n=this.channels.find(r=>r.topic===e&&(r._isJoined()||r._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${e}"`),n.unsubscribe())}_remove(e){this.channels=this.channels.filter(n=>n._joinRef()!==e._joinRef())}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_onConnMessage(e){this.decode(e.data,n=>{let{topic:r,event:s,payload:i,ref:o}=n;o&&o===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${i.status||""} ${r} ${s} ${o&&"("+o+")"||""}`,i),this.channels.filter(a=>a._isMember(r)).forEach(a=>a._trigger(s,i,o)),this.stateChangeCallbacks.message.forEach(a=>a(n))})}async _onConnOpen(){if(this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),!this.worker)this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs);else{this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this.workerRef.terminate()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}this.stateChangeCallbacks.open.forEach(e=>e())}_onConnClose(e){this.log("transport","close",e),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(n=>n(e))}_onConnError(e){this.log("transport",e.message),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(n=>n(e))}_triggerChanError(){this.channels.forEach(e=>e._trigger(Be.error))}_appendParams(e,n){if(Object.keys(n).length===0)return e;const r=e.match(/\?/)?"&":"?",s=new URLSearchParams(n);return`${e}${r}${s}`}_workerObjectUrl(e){let n;if(e)n=e;else{const r=new Blob([Oh],{type:"application/javascript"});n=URL.createObjectURL(r)}return n}}class Ah{constructor(e,n,r){this.binaryType="arraybuffer",this.onclose=()=>{},this.onerror=()=>{},this.onmessage=()=>{},this.onopen=()=>{},this.readyState=vn.connecting,this.send=()=>{},this.url=null,this.url=e,this.close=r.close}}class Hi extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function he(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}class kh extends Hi{constructor(e,n){super(e),this.name="StorageApiError",this.status=n}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class fi extends Hi{constructor(e,n){super(e),this.name="StorageUnknownError",this.originalError=n}}var Ph=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(u){try{l(r.next(u))}catch(d){o(d)}}function c(u){try{l(r.throw(u))}catch(d){o(d)}}function l(u){u.done?i(u.value):s(u.value).then(a,c)}l((r=r.apply(t,e||[])).next())})};const Dc=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>On(async()=>{const{default:r}=await Promise.resolve().then(()=>Rn);return{default:r}},void 0).then(({default:r})=>r(...n)):e=fetch,(...n)=>e(...n)},Rh=()=>Ph(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield On(()=>Promise.resolve().then(()=>Rn),void 0)).Response:Response}),hi=t=>{if(Array.isArray(t))return t.map(n=>hi(n));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([n,r])=>{const s=n.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));e[s]=hi(r)}),e};var en=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(u){try{l(r.next(u))}catch(d){o(d)}}function c(u){try{l(r.throw(u))}catch(d){o(d)}}function l(u){u.done?i(u.value):s(u.value).then(a,c)}l((r=r.apply(t,e||[])).next())})};const $s=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),$h=(t,e,n)=>en(void 0,void 0,void 0,function*(){const r=yield Rh();t instanceof r&&!(n!=null&&n.noResolveJson)?t.json().then(s=>{e(new kh($s(s),t.status||500))}).catch(s=>{e(new fi($s(s),s))}):e(new fi($s(t),t))}),Ih=(t,e,n,r)=>{const s={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),r&&(s.body=JSON.stringify(r)),Object.assign(Object.assign({},s),n))};function ir(t,e,n,r,s,i){return en(this,void 0,void 0,function*(){return new Promise((o,a)=>{t(n,Ih(e,r,s,i)).then(c=>{if(!c.ok)throw c;return r!=null&&r.noResolveJson?c:c.json()}).then(c=>o(c)).catch(c=>$h(c,a,r))})})}function Nr(t,e,n,r){return en(this,void 0,void 0,function*(){return ir(t,"GET",e,n,r)})}function bt(t,e,n,r,s){return en(this,void 0,void 0,function*(){return ir(t,"POST",e,r,s,n)})}function Nh(t,e,n,r,s){return en(this,void 0,void 0,function*(){return ir(t,"PUT",e,r,s,n)})}function Dh(t,e,n,r){return en(this,void 0,void 0,function*(){return ir(t,"HEAD",e,Object.assign(Object.assign({},n),{noResolveJson:!0}),r)})}function Fc(t,e,n,r,s){return en(this,void 0,void 0,function*(){return ir(t,"DELETE",e,r,s,n)})}var xe=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(u){try{l(r.next(u))}catch(d){o(d)}}function c(u){try{l(r.throw(u))}catch(d){o(d)}}function l(u){u.done?i(u.value):s(u.value).then(a,c)}l((r=r.apply(t,e||[])).next())})};const Fh={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Go={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class Lh{constructor(e,n={},r,s){this.url=e,this.headers=n,this.bucketId=r,this.fetch=Dc(s)}uploadOrUpdate(e,n,r,s){return xe(this,void 0,void 0,function*(){try{let i;const o=Object.assign(Object.assign({},Go),s);let a=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(o.upsert)});const c=o.metadata;typeof Blob<"u"&&r instanceof Blob?(i=new FormData,i.append("cacheControl",o.cacheControl),c&&i.append("metadata",this.encodeMetadata(c)),i.append("",r)):typeof FormData<"u"&&r instanceof FormData?(i=r,i.append("cacheControl",o.cacheControl),c&&i.append("metadata",this.encodeMetadata(c))):(i=r,a["cache-control"]=`max-age=${o.cacheControl}`,a["content-type"]=o.contentType,c&&(a["x-metadata"]=this.toBase64(this.encodeMetadata(c)))),s!=null&&s.headers&&(a=Object.assign(Object.assign({},a),s.headers));const l=this._removeEmptyFolders(n),u=this._getFinalPath(l),d=yield this.fetch(`${this.url}/object/${u}`,Object.assign({method:e,body:i,headers:a},o!=null&&o.duplex?{duplex:o.duplex}:{})),p=yield d.json();return d.ok?{data:{path:l,id:p.Id,fullPath:p.Key},error:null}:{data:null,error:p}}catch(i){if(he(i))return{data:null,error:i};throw i}})}upload(e,n,r){return xe(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,n,r)})}uploadToSignedUrl(e,n,r,s){return xe(this,void 0,void 0,function*(){const i=this._removeEmptyFolders(e),o=this._getFinalPath(i),a=new URL(this.url+`/object/upload/sign/${o}`);a.searchParams.set("token",n);try{let c;const l=Object.assign({upsert:Go.upsert},s),u=Object.assign(Object.assign({},this.headers),{"x-upsert":String(l.upsert)});typeof Blob<"u"&&r instanceof Blob?(c=new FormData,c.append("cacheControl",l.cacheControl),c.append("",r)):typeof FormData<"u"&&r instanceof FormData?(c=r,c.append("cacheControl",l.cacheControl)):(c=r,u["cache-control"]=`max-age=${l.cacheControl}`,u["content-type"]=l.contentType);const d=yield this.fetch(a.toString(),{method:"PUT",body:c,headers:u}),p=yield d.json();return d.ok?{data:{path:i,fullPath:p.Key},error:null}:{data:null,error:p}}catch(c){if(he(c))return{data:null,error:c};throw c}})}createSignedUploadUrl(e,n){return xe(this,void 0,void 0,function*(){try{let r=this._getFinalPath(e);const s=Object.assign({},this.headers);n!=null&&n.upsert&&(s["x-upsert"]="true");const i=yield bt(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:s}),o=new URL(this.url+i.url),a=o.searchParams.get("token");if(!a)throw new Hi("No token returned by API");return{data:{signedUrl:o.toString(),path:e,token:a},error:null}}catch(r){if(he(r))return{data:null,error:r};throw r}})}update(e,n,r){return xe(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,n,r)})}move(e,n,r){return xe(this,void 0,void 0,function*(){try{return{data:yield bt(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers}),error:null}}catch(s){if(he(s))return{data:null,error:s};throw s}})}copy(e,n,r){return xe(this,void 0,void 0,function*(){try{return{data:{path:(yield bt(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers})).Key},error:null}}catch(s){if(he(s))return{data:null,error:s};throw s}})}createSignedUrl(e,n,r){return xe(this,void 0,void 0,function*(){try{let s=this._getFinalPath(e),i=yield bt(this.fetch,`${this.url}/object/sign/${s}`,Object.assign({expiresIn:n},r!=null&&r.transform?{transform:r.transform}:{}),{headers:this.headers});const o=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${o}`)},{data:i,error:null}}catch(s){if(he(s))return{data:null,error:s};throw s}})}createSignedUrls(e,n,r){return xe(this,void 0,void 0,function*(){try{const s=yield bt(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:e},{headers:this.headers}),i=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{data:s.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${i}`):null})),error:null}}catch(s){if(he(s))return{data:null,error:s};throw s}})}download(e,n){return xe(this,void 0,void 0,function*(){const s=typeof(n==null?void 0:n.transform)<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString((n==null?void 0:n.transform)||{}),o=i?`?${i}`:"";try{const a=this._getFinalPath(e);return{data:yield(yield Nr(this.fetch,`${this.url}/${s}/${a}${o}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(a){if(he(a))return{data:null,error:a};throw a}})}info(e){return xe(this,void 0,void 0,function*(){const n=this._getFinalPath(e);try{const r=yield Nr(this.fetch,`${this.url}/object/info/${n}`,{headers:this.headers});return{data:hi(r),error:null}}catch(r){if(he(r))return{data:null,error:r};throw r}})}exists(e){return xe(this,void 0,void 0,function*(){const n=this._getFinalPath(e);try{return yield Dh(this.fetch,`${this.url}/object/${n}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(he(r)&&r instanceof fi){const s=r.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:r}}throw r}})}getPublicUrl(e,n){const r=this._getFinalPath(e),s=[],i=n!=null&&n.download?`download=${n.download===!0?"":n.download}`:"";i!==""&&s.push(i);const a=typeof(n==null?void 0:n.transform)<"u"?"render/image":"object",c=this.transformOptsToQueryString((n==null?void 0:n.transform)||{});c!==""&&s.push(c);let l=s.join("&");return l!==""&&(l=`?${l}`),{data:{publicUrl:encodeURI(`${this.url}/${a}/public/${r}${l}`)}}}remove(e){return xe(this,void 0,void 0,function*(){try{return{data:yield Fc(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(n){if(he(n))return{data:null,error:n};throw n}})}list(e,n,r){return xe(this,void 0,void 0,function*(){try{const s=Object.assign(Object.assign(Object.assign({},Fh),n),{prefix:e||""});return{data:yield bt(this.fetch,`${this.url}/object/list/${this.bucketId}`,s,{headers:this.headers},r),error:null}}catch(s){if(he(s))return{data:null,error:s};throw s}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const n=[];return e.width&&n.push(`width=${e.width}`),e.height&&n.push(`height=${e.height}`),e.resize&&n.push(`resize=${e.resize}`),e.format&&n.push(`format=${e.format}`),e.quality&&n.push(`quality=${e.quality}`),n.join("&")}}const Mh="2.7.1",Uh={"X-Client-Info":`storage-js/${Mh}`};var ln=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(u){try{l(r.next(u))}catch(d){o(d)}}function c(u){try{l(r.throw(u))}catch(d){o(d)}}function l(u){u.done?i(u.value):s(u.value).then(a,c)}l((r=r.apply(t,e||[])).next())})};class Bh{constructor(e,n={},r){this.url=e,this.headers=Object.assign(Object.assign({},Uh),n),this.fetch=Dc(r)}listBuckets(){return ln(this,void 0,void 0,function*(){try{return{data:yield Nr(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(e){if(he(e))return{data:null,error:e};throw e}})}getBucket(e){return ln(this,void 0,void 0,function*(){try{return{data:yield Nr(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(n){if(he(n))return{data:null,error:n};throw n}})}createBucket(e,n={public:!1}){return ln(this,void 0,void 0,function*(){try{return{data:yield bt(this.fetch,`${this.url}/bucket`,{id:e,name:e,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(he(r))return{data:null,error:r};throw r}})}updateBucket(e,n){return ln(this,void 0,void 0,function*(){try{return{data:yield Nh(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(he(r))return{data:null,error:r};throw r}})}emptyBucket(e){return ln(this,void 0,void 0,function*(){try{return{data:yield bt(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(he(n))return{data:null,error:n};throw n}})}deleteBucket(e){return ln(this,void 0,void 0,function*(){try{return{data:yield Fc(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(n){if(he(n))return{data:null,error:n};throw n}})}}class Vh extends Bh{constructor(e,n={},r){super(e,n,r)}from(e){return new Lh(this.url,this.headers,e,this.fetch)}}const zh="2.47.16";let Vn="";typeof Deno<"u"?Vn="deno":typeof document<"u"?Vn="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Vn="react-native":Vn="node";const Wh={"X-Client-Info":`supabase-js-${Vn}/${zh}`},Hh={headers:Wh},qh={schema:"public"},Kh={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},Gh={};var Jh=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(u){try{l(r.next(u))}catch(d){o(d)}}function c(u){try{l(r.throw(u))}catch(d){o(d)}}function l(u){u.done?i(u.value):s(u.value).then(a,c)}l((r=r.apply(t,e||[])).next())})};const Yh=t=>{let e;return t?e=t:typeof fetch>"u"?e=xc:e=fetch,(...n)=>e(...n)},Zh=()=>typeof Headers>"u"?_c:Headers,Qh=(t,e,n)=>{const r=Yh(n),s=Zh();return(i,o)=>Jh(void 0,void 0,void 0,function*(){var a;const c=(a=yield e())!==null&&a!==void 0?a:t;let l=new s(o==null?void 0:o.headers);return l.has("apikey")||l.set("apikey",t),l.has("Authorization")||l.set("Authorization",`Bearer ${c}`),r(i,Object.assign(Object.assign({},o),{headers:l}))})};var Xh=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(u){try{l(r.next(u))}catch(d){o(d)}}function c(u){try{l(r.throw(u))}catch(d){o(d)}}function l(u){u.done?i(u.value):s(u.value).then(a,c)}l((r=r.apply(t,e||[])).next())})};function ep(t){return t.replace(/\/$/,"")}function tp(t,e){const{db:n,auth:r,realtime:s,global:i}=t,{db:o,auth:a,realtime:c,global:l}=e,u={db:Object.assign(Object.assign({},o),n),auth:Object.assign(Object.assign({},a),r),realtime:Object.assign(Object.assign({},c),s),global:Object.assign(Object.assign({},l),i),accessToken:()=>Xh(this,void 0,void 0,function*(){return""})};return t.accessToken?u.accessToken=t.accessToken:delete u.accessToken,u}const Lc="2.67.3",np="http://localhost:9999",rp="supabase.auth.token",sp={"X-Client-Info":`gotrue-js/${Lc}`},Jo=10,pi="X-Supabase-Api-Version",Mc={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}};function ip(t){return Math.round(Date.now()/1e3)+t}function op(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){const e=Math.random()*16|0;return(t=="x"?e:e&3|8).toString(16)})}const Ke=()=>typeof window<"u"&&typeof document<"u",Mt={tested:!1,writable:!1},Hn=()=>{if(!Ke())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Mt.tested)return Mt.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),Mt.tested=!0,Mt.writable=!0}catch{Mt.tested=!0,Mt.writable=!1}return Mt.writable};function ap(t){const e={},n=new URL(t);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((s,i)=>{e[i]=s})}catch{}return n.searchParams.forEach((r,s)=>{e[s]=r}),e}const Uc=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>On(async()=>{const{default:r}=await Promise.resolve().then(()=>Rn);return{default:r}},void 0).then(({default:r})=>r(...n)):e=fetch,(...n)=>e(...n)},cp=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",Bc=async(t,e,n)=>{await t.setItem(e,JSON.stringify(n))},pr=async(t,e)=>{const n=await t.getItem(e);if(!n)return null;try{return JSON.parse(n)}catch{return n}},mr=async(t,e)=>{await t.removeItem(e)};function lp(t){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";let n="",r,s,i,o,a,c,l,u=0;for(t=t.replace("-","+").replace("_","/");u<t.length;)o=e.indexOf(t.charAt(u++)),a=e.indexOf(t.charAt(u++)),c=e.indexOf(t.charAt(u++)),l=e.indexOf(t.charAt(u++)),r=o<<2|a>>4,s=(a&15)<<4|c>>2,i=(c&3)<<6|l,n=n+String.fromCharCode(r),c!=64&&s!=0&&(n=n+String.fromCharCode(s)),l!=64&&i!=0&&(n=n+String.fromCharCode(i));return n}class es{constructor(){this.promise=new es.promiseConstructor((e,n)=>{this.resolve=e,this.reject=n})}}es.promiseConstructor=Promise;function Yo(t){const e=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}=?$|[a-z0-9_-]{2}(==)?$)$/i,n=t.split(".");if(n.length!==3)throw new Error("JWT is not valid: not a JWT structure");if(!e.test(n[1]))throw new Error("JWT is not valid: payload is not in base64url format");const r=n[1];return JSON.parse(lp(r))}async function up(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function dp(t,e){return new Promise((r,s)=>{(async()=>{for(let i=0;i<1/0;i++)try{const o=await t(i);if(!e(i,null,o)){r(o);return}}catch(o){if(!e(i,o)){s(o);return}}})()})}function fp(t){return("0"+t.toString(16)).substr(-2)}function hp(){const e=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=n.length;let s="";for(let i=0;i<56;i++)s+=n.charAt(Math.floor(Math.random()*r));return s}return crypto.getRandomValues(e),Array.from(e,fp).join("")}async function pp(t){const n=new TextEncoder().encode(t),r=await crypto.subtle.digest("SHA-256",n),s=new Uint8Array(r);return Array.from(s).map(i=>String.fromCharCode(i)).join("")}function mp(t){return btoa(t).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function gp(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const n=await pp(t);return mp(n)}async function un(t,e,n=!1){const r=hp();let s=r;n&&(s+="/PASSWORD_RECOVERY"),await Bc(t,`${e}-code-verifier`,s);const i=await gp(r);return[i,r===i?"plain":"s256"]}const yp=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function vp(t){const e=t.headers.get(pi);if(!e||!e.match(yp))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}class qi extends Error{constructor(e,n,r){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=r}}function B(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class bp extends qi{constructor(e,n,r){super(e,n,r),this.name="AuthApiError",this.status=n,this.code=r}}function wp(t){return B(t)&&t.name==="AuthApiError"}class Vc extends qi{constructor(e,n){super(e),this.name="AuthUnknownError",this.originalError=n}}class tn extends qi{constructor(e,n,r,s){super(e,r,s),this.name=n,this.status=r}}class mt extends tn{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function xp(t){return B(t)&&t.name==="AuthSessionMissingError"}class Is extends tn{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class gr extends tn{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class yr extends tn{constructor(e,n=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function _p(t){return B(t)&&t.name==="AuthImplicitGrantRedirectError"}class Zo extends tn{constructor(e,n=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class mi extends tn{constructor(e,n){super(e,"AuthRetryableFetchError",n,void 0)}}function Ns(t){return B(t)&&t.name==="AuthRetryableFetchError"}class Qo extends tn{constructor(e,n,r){super(e,"AuthWeakPasswordError",n,"weak_password"),this.reasons=r}}var Sp=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n};const Bt=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),Ep=[502,503,504];async function Xo(t){var e;if(!cp(t))throw new mi(Bt(t),0);if(Ep.includes(t.status))throw new mi(Bt(t),t.status);let n;try{n=await t.json()}catch(i){throw new Vc(Bt(i),i)}let r;const s=vp(t);if(s&&s.getTime()>=Mc["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?r=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(r=n.error_code),r){if(r==="weak_password")throw new Qo(Bt(n),t.status,((e=n.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(r==="session_not_found")throw new mt}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((i,o)=>i&&typeof o=="string",!0))throw new Qo(Bt(n),t.status,n.weak_password.reasons);throw new bp(Bt(n),t.status||500,r)}const Cp=(t,e,n,r)=>{const s={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),s.body=JSON.stringify(r),Object.assign(Object.assign({},s),n))};async function H(t,e,n,r){var s;const i=Object.assign({},r==null?void 0:r.headers);i[pi]||(i[pi]=Mc["2024-01-01"].name),r!=null&&r.jwt&&(i.Authorization=`Bearer ${r.jwt}`);const o=(s=r==null?void 0:r.query)!==null&&s!==void 0?s:{};r!=null&&r.redirectTo&&(o.redirect_to=r.redirectTo);const a=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",c=await Tp(t,e,n+a,{headers:i,noResolveJson:r==null?void 0:r.noResolveJson},{},r==null?void 0:r.body);return r!=null&&r.xform?r==null?void 0:r.xform(c):{data:Object.assign({},c),error:null}}async function Tp(t,e,n,r,s,i){const o=Cp(e,r,s,i);let a;try{a=await t(n,Object.assign({},o))}catch(c){throw console.error(c),new mi(Bt(c),0)}if(a.ok||await Xo(a),r!=null&&r.noResolveJson)return a;try{return await a.json()}catch(c){await Xo(c)}}function gt(t){var e;let n=null;kp(t)&&(n=Object.assign({},t),t.expires_at||(n.expires_at=ip(t.expires_in)));const r=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:n,user:r},error:null}}function ea(t){const e=gt(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((n,r)=>n&&typeof r=="string",!0)&&(e.data.weak_password=t.weak_password),e}function wt(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function Op(t){return{data:t,error:null}}function jp(t){const{action_link:e,email_otp:n,hashed_token:r,redirect_to:s,verification_type:i}=t,o=Sp(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),a={action_link:e,email_otp:n,hashed_token:r,redirect_to:s,verification_type:i},c=Object.assign({},o);return{data:{properties:a,user:c},error:null}}function Ap(t){return t}function kp(t){return t.access_token&&t.refresh_token&&t.expires_in}var Pp=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n};class Rp{constructor({url:e="",headers:n={},fetch:r}){this.url=e,this.headers=n,this.fetch=Uc(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(e,n="global"){try{return await H(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(r){if(B(r))return{data:null,error:r};throw r}}async inviteUserByEmail(e,n={}){try{return await H(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:wt})}catch(r){if(B(r))return{data:{user:null},error:r};throw r}}async generateLink(e){try{const{options:n}=e,r=Pp(e,["options"]),s=Object.assign(Object.assign({},r),n);return"newEmail"in r&&(s.new_email=r==null?void 0:r.newEmail,delete s.newEmail),await H(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:jp,redirectTo:n==null?void 0:n.redirectTo})}catch(n){if(B(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(e){try{return await H(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:wt})}catch(n){if(B(n))return{data:{user:null},error:n};throw n}}async listUsers(e){var n,r,s,i,o,a,c;try{const l={nextPage:null,lastPage:0,total:0},u=await H(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=e==null?void 0:e.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(i=(s=e==null?void 0:e.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:Ap});if(u.error)throw u.error;const d=await u.json(),p=(o=u.headers.get("x-total-count"))!==null&&o!==void 0?o:0,g=(c=(a=u.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&c!==void 0?c:[];return g.length>0&&(g.forEach(v=>{const m=parseInt(v.split(";")[0].split("=")[1].substring(0,1)),y=JSON.parse(v.split(";")[1].split("=")[1]);l[`${y}Page`]=m}),l.total=parseInt(p)),{data:Object.assign(Object.assign({},d),l),error:null}}catch(l){if(B(l))return{data:{users:[]},error:l};throw l}}async getUserById(e){try{return await H(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:wt})}catch(n){if(B(n))return{data:{user:null},error:n};throw n}}async updateUserById(e,n){try{return await H(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:n,headers:this.headers,xform:wt})}catch(r){if(B(r))return{data:{user:null},error:r};throw r}}async deleteUser(e,n=!1){try{return await H(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:n},xform:wt})}catch(r){if(B(r))return{data:{user:null},error:r};throw r}}async _listFactors(e){try{const{data:n,error:r}=await H(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:n,error:r}}catch(n){if(B(n))return{data:null,error:n};throw n}}async _deleteFactor(e){try{return{data:await H(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(n){if(B(n))return{data:null,error:n};throw n}}}const $p={getItem:t=>Hn()?globalThis.localStorage.getItem(t):null,setItem:(t,e)=>{Hn()&&globalThis.localStorage.setItem(t,e)},removeItem:t=>{Hn()&&globalThis.localStorage.removeItem(t)}};function ta(t={}){return{getItem:e=>t[e]||null,setItem:(e,n)=>{t[e]=n},removeItem:e=>{delete t[e]}}}function Ip(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const dn={debug:!!(globalThis&&Hn()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class zc extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class Np extends zc{}async function Dp(t,e,n){dn.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const r=new globalThis.AbortController;return e>0&&setTimeout(()=>{r.abort(),dn.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async s=>{if(s){dn.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,s.name);try{return await n()}finally{dn.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,s.name)}}else{if(e===0)throw dn.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new Np(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(dn.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}Ip();const Fp={url:np,storageKey:rp,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:sp,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1},Mn=30*1e3,na=3;async function ra(t,e,n){return await n()}class Gn{constructor(e){var n,r;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Gn.nextInstanceID,Gn.nextInstanceID+=1,this.instanceID>0&&Ke()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const s=Object.assign(Object.assign({},Fp),e);if(this.logDebugMessages=!!s.debug,typeof s.debug=="function"&&(this.logger=s.debug),this.persistSession=s.persistSession,this.storageKey=s.storageKey,this.autoRefreshToken=s.autoRefreshToken,this.admin=new Rp({url:s.url,headers:s.headers,fetch:s.fetch}),this.url=s.url,this.headers=s.headers,this.fetch=Uc(s.fetch),this.lock=s.lock||ra,this.detectSessionInUrl=s.detectSessionInUrl,this.flowType=s.flowType,this.hasCustomAuthorizationHeader=s.hasCustomAuthorizationHeader,s.lock?this.lock=s.lock:Ke()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=Dp:this.lock=ra,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?s.storage?this.storage=s.storage:Hn()?this.storage=$p:(this.memoryStorage={},this.storage=ta(this.memoryStorage)):(this.memoryStorage={},this.storage=ta(this.memoryStorage)),Ke()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(i){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",i)}(r=this.broadcastChannel)===null||r===void 0||r.addEventListener("message",async i=>{this._debug("received broadcast notification from other tab or client",i),await this._notifyAllSubscribers(i.data.event,i.data.session,!1)})}this.initialize()}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${Lc}) ${new Date().toISOString()}`,...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{const n=ap(window.location.href);let r="none";if(this._isImplicitGrantCallback(n)?r="implicit":await this._isPKCECallback(n)&&(r="pkce"),Ke()&&this.detectSessionInUrl&&r!=="none"){const{data:s,error:i}=await this._getSessionFromURL(n,r);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),_p(i)){const c=(e=i.details)===null||e===void 0?void 0:e.code;if(c==="identity_already_exists"||c==="identity_not_found"||c==="single_identity_not_deletable")return{error:i}}return await this._removeSession(),{error:i}}const{session:o,redirectType:a}=s;return this._debug("#_initialize()","detected session in URL",o,"redirect type",a),await this._saveSession(o),setTimeout(async()=>{a==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return B(n)?{error:n}:{error:new Vc("Unexpected error during initialization",n)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var n,r,s;try{const i=await H(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(n=e==null?void 0:e.options)===null||n===void 0?void 0:n.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(s=e==null?void 0:e.options)===null||s===void 0?void 0:s.captchaToken}},xform:gt}),{data:o,error:a}=i;if(a||!o)return{data:{user:null,session:null},error:a};const c=o.session,l=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:l,session:c},error:null}}catch(i){if(B(i))return{data:{user:null,session:null},error:i};throw i}}async signUp(e){var n,r,s;try{let i;if("email"in e){const{email:u,password:d,options:p}=e;let g=null,v=null;this.flowType==="pkce"&&([g,v]=await un(this.storage,this.storageKey)),i=await H(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:p==null?void 0:p.emailRedirectTo,body:{email:u,password:d,data:(n=p==null?void 0:p.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:p==null?void 0:p.captchaToken},code_challenge:g,code_challenge_method:v},xform:gt})}else if("phone"in e){const{phone:u,password:d,options:p}=e;i=await H(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:u,password:d,data:(r=p==null?void 0:p.data)!==null&&r!==void 0?r:{},channel:(s=p==null?void 0:p.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:p==null?void 0:p.captchaToken}},xform:gt})}else throw new gr("You must provide either an email or phone number and a password");const{data:o,error:a}=i;if(a||!o)return{data:{user:null,session:null},error:a};const c=o.session,l=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:l,session:c},error:null}}catch(i){if(B(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithPassword(e){try{let n;if("email"in e){const{email:i,password:o,options:a}=e;n=await H(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:ea})}else if("phone"in e){const{phone:i,password:o,options:a}=e;n=await H(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:ea})}else throw new gr("You must provide either an email or phone number and a password");const{data:r,error:s}=n;return s?{data:{user:null,session:null},error:s}:!r||!r.session||!r.user?{data:{user:null,session:null},error:new Is}:(r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),{data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:s})}catch(n){if(B(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOAuth(e){var n,r,s,i;return await this._handleProviderSignIn(e.provider,{redirectTo:(n=e.options)===null||n===void 0?void 0:n.redirectTo,scopes:(r=e.options)===null||r===void 0?void 0:r.scopes,queryParams:(s=e.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(i=e.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async _exchangeCodeForSession(e){const n=await pr(this.storage,`${this.storageKey}-code-verifier`),[r,s]=(n??"").split("/");try{const{data:i,error:o}=await H(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:r},xform:gt});if(await mr(this.storage,`${this.storageKey}-code-verifier`),o)throw o;return!i||!i.session||!i.user?{data:{user:null,session:null,redirectType:null},error:new Is}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign(Object.assign({},i),{redirectType:s??null}),error:o})}catch(i){if(B(i))return{data:{user:null,session:null,redirectType:null},error:i};throw i}}async signInWithIdToken(e){try{const{options:n,provider:r,token:s,access_token:i,nonce:o}=e,a=await H(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:s,access_token:i,nonce:o,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},xform:gt}),{data:c,error:l}=a;return l?{data:{user:null,session:null},error:l}:!c||!c.session||!c.user?{data:{user:null,session:null},error:new Is}:(c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),{data:c,error:l})}catch(n){if(B(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOtp(e){var n,r,s,i,o;try{if("email"in e){const{email:a,options:c}=e;let l=null,u=null;this.flowType==="pkce"&&([l,u]=await un(this.storage,this.storageKey));const{error:d}=await H(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:a,data:(n=c==null?void 0:c.data)!==null&&n!==void 0?n:{},create_user:(r=c==null?void 0:c.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},code_challenge:l,code_challenge_method:u},redirectTo:c==null?void 0:c.emailRedirectTo});return{data:{user:null,session:null},error:d}}if("phone"in e){const{phone:a,options:c}=e,{data:l,error:u}=await H(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:a,data:(s=c==null?void 0:c.data)!==null&&s!==void 0?s:{},create_user:(i=c==null?void 0:c.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},channel:(o=c==null?void 0:c.channel)!==null&&o!==void 0?o:"sms"}});return{data:{user:null,session:null,messageId:l==null?void 0:l.message_id},error:u}}throw new gr("You must provide either an email or phone number.")}catch(a){if(B(a))return{data:{user:null,session:null},error:a};throw a}}async verifyOtp(e){var n,r;try{let s,i;"options"in e&&(s=(n=e.options)===null||n===void 0?void 0:n.redirectTo,i=(r=e.options)===null||r===void 0?void 0:r.captchaToken);const{data:o,error:a}=await H(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:i}}),redirectTo:s,xform:gt});if(a)throw a;if(!o)throw new Error("An error occurred on token verification.");const c=o.session,l=o.user;return c!=null&&c.access_token&&(await this._saveSession(c),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",c)),{data:{user:l,session:c},error:null}}catch(s){if(B(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithSSO(e){var n,r,s;try{let i=null,o=null;return this.flowType==="pkce"&&([i,o]=await un(this.storage,this.storageKey)),await H(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(r=(n=e.options)===null||n===void 0?void 0:n.redirectTo)!==null&&r!==void 0?r:void 0}),!((s=e==null?void 0:e.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:i,code_challenge_method:o}),headers:this.headers,xform:Op})}catch(i){if(B(i))return{data:null,error:i};throw i}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:n},error:r}=e;if(r)throw r;if(!n)throw new mt;const{error:s}=await H(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return{data:{user:null,session:null},error:s}})}catch(e){if(B(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{const n=`${this.url}/resend`;if("email"in e){const{email:r,type:s,options:i}=e,{error:o}=await H(this.fetch,"POST",n,{headers:this.headers,body:{email:r,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return{data:{user:null,session:null},error:o}}else if("phone"in e){const{phone:r,type:s,options:i}=e,{data:o,error:a}=await H(this.fetch,"POST",n,{headers:this.headers,body:{phone:r,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return{data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:a}}throw new gr("You must provide either an email or phone number and a type")}catch(n){if(B(n))return{data:{user:null,session:null},error:n};throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(e,n){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await r,await n()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=n();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await e(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const n=await pr(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?e=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const r=e.expires_at?e.expires_at<=Date.now()/1e3:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",e.expires_at),!r){if(this.storage.isServer){let o=this.suppressGetSessionWarning;e=new Proxy(e,{get:(c,l,u)=>(!o&&l==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),o=!0,this.suppressGetSessionWarning=!0),Reflect.get(c,l,u))})}return{data:{session:e},error:null}}const{session:s,error:i}=await this._callRefreshToken(e.refresh_token);return i?{data:{session:null},error:i}:{data:{session:s},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await H(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:wt}):await this._useSession(async n=>{var r,s,i;const{data:o,error:a}=n;if(a)throw a;return!(!((r=o.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new mt}:await H(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(s=o.session)===null||s===void 0?void 0:s.access_token)!==null&&i!==void 0?i:void 0,xform:wt})})}catch(n){if(B(n))return xp(n)&&(await this._removeSession(),await mr(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:n};throw n}}async updateUser(e,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,n))}async _updateUser(e,n={}){try{return await this._useSession(async r=>{const{data:s,error:i}=r;if(i)throw i;if(!s.session)throw new mt;const o=s.session;let a=null,c=null;this.flowType==="pkce"&&e.email!=null&&([a,c]=await un(this.storage,this.storageKey));const{data:l,error:u}=await H(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n==null?void 0:n.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:a,code_challenge_method:c}),jwt:o.access_token,xform:wt});if(u)throw u;return o.user=l.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),{data:{user:o.user},error:null}})}catch(r){if(B(r))return{data:{user:null},error:r};throw r}}_decodeJWT(e){return Yo(e)}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new mt;const n=Date.now()/1e3;let r=n,s=!0,i=null;const o=Yo(e.access_token);if(o.exp&&(r=o.exp,s=r<=n),s){const{session:a,error:c}=await this._callRefreshToken(e.refresh_token);if(c)return{data:{user:null,session:null},error:c};if(!a)return{data:{user:null,session:null},error:null};i=a}else{const{data:a,error:c}=await this._getUser(e.access_token);if(c)throw c;i={access_token:e.access_token,refresh_token:e.refresh_token,user:a.user,token_type:"bearer",expires_in:r-n,expires_at:r},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return{data:{user:i.user,session:i},error:null}}catch(n){if(B(n))return{data:{session:null,user:null},error:n};throw n}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async n=>{var r;if(!e){const{data:o,error:a}=n;if(a)throw a;e=(r=o.session)!==null&&r!==void 0?r:void 0}if(!(e!=null&&e.refresh_token))throw new mt;const{session:s,error:i}=await this._callRefreshToken(e.refresh_token);return i?{data:{user:null,session:null},error:i}:s?{data:{user:s.user,session:s},error:null}:{data:{user:null,session:null},error:null}})}catch(n){if(B(n))return{data:{user:null,session:null},error:n};throw n}}async _getSessionFromURL(e,n){try{if(!Ke())throw new yr("No browser detected.");if(e.error||e.error_description||e.error_code)throw new yr(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new Zo("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new yr("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new Zo("No code detected.");const{data:w,error:_}=await this._exchangeCodeForSession(e.code);if(_)throw _;const S=new URL(window.location.href);return S.searchParams.delete("code"),window.history.replaceState(window.history.state,"",S.toString()),{data:{session:w.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:s,access_token:i,refresh_token:o,expires_in:a,expires_at:c,token_type:l}=e;if(!i||!a||!o||!l)throw new yr("No session defined in URL");const u=Math.round(Date.now()/1e3),d=parseInt(a);let p=u+d;c&&(p=parseInt(c));const g=p-u;g*1e3<=Mn&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${g}s, should have been closer to ${d}s`);const v=p-d;u-v>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",v,p,u):u-v<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",v,p,u);const{data:m,error:y}=await this._getUser(i);if(y)throw y;const b={provider_token:r,provider_refresh_token:s,access_token:i,expires_in:d,expires_at:p,refresh_token:o,token_type:l,user:m.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:b,redirectType:e.type},error:null}}catch(r){if(B(r))return{data:{session:null,redirectType:null},error:r};throw r}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const n=await pr(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&n)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async n=>{var r;const{data:s,error:i}=n;if(i)return{error:i};const o=(r=s.session)===null||r===void 0?void 0:r.access_token;if(o){const{error:a}=await this.admin.signOut(o,e);if(a&&!(wp(a)&&(a.status===404||a.status===401||a.status===403)))return{error:a}}return e!=="others"&&(await this._removeSession(),await mr(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(e){const n=op(),r={id:n,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,r),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:r}}}async _emitInitialSession(e){return await this._useSession(async n=>{var r,s;try{const{data:{session:i},error:o}=n;if(o)throw o;await((r=this.stateChangeEmitters.get(e))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",e,"session",i)}catch(i){await((s=this.stateChangeEmitters.get(e))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",i),console.error(i)}})}async resetPasswordForEmail(e,n={}){let r=null,s=null;this.flowType==="pkce"&&([r,s]=await un(this.storage,this.storageKey,!0));try{return await H(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:r,code_challenge_method:s,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(i){if(B(i))return{data:null,error:i};throw i}}async getUserIdentities(){var e;try{const{data:n,error:r}=await this.getUser();if(r)throw r;return{data:{identities:(e=n.user.identities)!==null&&e!==void 0?e:[]},error:null}}catch(n){if(B(n))return{data:null,error:n};throw n}}async linkIdentity(e){var n;try{const{data:r,error:s}=await this._useSession(async i=>{var o,a,c,l,u;const{data:d,error:p}=i;if(p)throw p;const g=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(o=e.options)===null||o===void 0?void 0:o.redirectTo,scopes:(a=e.options)===null||a===void 0?void 0:a.scopes,queryParams:(c=e.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:!0});return await H(this.fetch,"GET",g,{headers:this.headers,jwt:(u=(l=d.session)===null||l===void 0?void 0:l.access_token)!==null&&u!==void 0?u:void 0})});if(s)throw s;return Ke()&&!(!((n=e.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(r==null?void 0:r.url),{data:{provider:e.provider,url:r==null?void 0:r.url},error:null}}catch(r){if(B(r))return{data:{provider:e.provider,url:null},error:r};throw r}}async unlinkIdentity(e){try{return await this._useSession(async n=>{var r,s;const{data:i,error:o}=n;if(o)throw o;return await H(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(s=(r=i.session)===null||r===void 0?void 0:r.access_token)!==null&&s!==void 0?s:void 0})})}catch(n){if(B(n))return{data:null,error:n};throw n}}async _refreshAccessToken(e){const n=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(n,"begin");try{const r=Date.now();return await dp(async s=>(s>0&&await up(200*Math.pow(2,s-1)),this._debug(n,"refreshing attempt",s),await H(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:gt})),(s,i)=>{const o=200*Math.pow(2,s);return i&&Ns(i)&&Date.now()+o-r<Mn})}catch(r){if(this._debug(n,"error",r),B(r))return{data:{session:null,user:null},error:r};throw r}finally{this._debug(n,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,n){const r=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",n,"url",r),Ke()&&!n.skipBrowserRedirect&&window.location.assign(r),{data:{provider:e,url:r},error:null}}async _recoverAndRefresh(){var e;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const r=await pr(this.storage,this.storageKey);if(this._debug(n,"session from storage",r),!this._isValidSession(r)){this._debug(n,"session is not valid"),r!==null&&await this._removeSession();return}const s=Math.round(Date.now()/1e3),i=((e=r.expires_at)!==null&&e!==void 0?e:1/0)<s+Jo;if(this._debug(n,`session has${i?"":" not"} expired with margin of ${Jo}s`),i){if(this.autoRefreshToken&&r.refresh_token){const{error:o}=await this._callRefreshToken(r.refresh_token);o&&(console.error(o),Ns(o)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",r)}catch(r){this._debug(n,"error",r),console.error(r);return}finally{this._debug(n,"end")}}async _callRefreshToken(e){var n,r;if(!e)throw new mt;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new es;const{data:i,error:o}=await this._refreshAccessToken(e);if(o)throw o;if(!i.session)throw new mt;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const a={session:i.session,error:null};return this.refreshingDeferred.resolve(a),a}catch(i){if(this._debug(s,"error",i),B(i)){const o={session:null,error:i};return Ns(i)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(o),o}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(i),i}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(e,n,r=!0){const s=`#_notifyAllSubscribers(${e})`;this._debug(s,"begin",n,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:e,session:n});const i=[],o=Array.from(this.stateChangeEmitters.values()).map(async a=>{try{await a.callback(e,n)}catch(c){i.push(c)}});if(await Promise.all(o),i.length>0){for(let a=0;a<i.length;a+=1)console.error(i[a]);throw i[0]}}finally{this._debug(s,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0,await Bc(this.storage,this.storageKey,e)}async _removeSession(){this._debug("#_removeSession()"),await mr(this.storage,this.storageKey),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&Ke()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),Mn);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async n=>{const{data:{session:r}}=n;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((r.expires_at*1e3-e)/Mn);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${Mn}ms, refresh threshold is ${na} ticks`),s<=na&&await this._callRefreshToken(r.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof zc)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Ke()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const n=`#_onVisibilityChanged(${e})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,n,r){const s=[`provider=${encodeURIComponent(n)}`];if(r!=null&&r.redirectTo&&s.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r!=null&&r.scopes&&s.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[i,o]=await un(this.storage,this.storageKey),a=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(o)}`});s.push(a.toString())}if(r!=null&&r.queryParams){const i=new URLSearchParams(r.queryParams);s.push(i.toString())}return r!=null&&r.skipBrowserRedirect&&s.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${e}?${s.join("&")}`}async _unenroll(e){try{return await this._useSession(async n=>{var r;const{data:s,error:i}=n;return i?{data:null,error:i}:await H(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(B(n))return{data:null,error:n};throw n}}async _enroll(e){try{return await this._useSession(async n=>{var r,s;const{data:i,error:o}=n;if(o)return{data:null,error:o};const a=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:{issuer:e.issuer}),{data:c,error:l}=await H(this.fetch,"POST",`${this.url}/factors`,{body:a,headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token});return l?{data:null,error:l}:(e.factorType==="totp"&&(!((s=c==null?void 0:c.totp)===null||s===void 0)&&s.qr_code)&&(c.totp.qr_code=`data:image/svg+xml;utf-8,${c.totp.qr_code}`),{data:c,error:null})})}catch(n){if(B(n))return{data:null,error:n};throw n}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:s,error:i}=n;if(i)return{data:null,error:i};const{data:o,error:a}=await H(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:{code:e.code,challenge_id:e.challengeId},headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token});return a?{data:null,error:a}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+o.expires_in},o)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",o),{data:o,error:a})})}catch(n){if(B(n))return{data:null,error:n};throw n}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:s,error:i}=n;return i?{data:null,error:i}:await H(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:{channel:e.channel},headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(B(n))return{data:null,error:n};throw n}})}async _challengeAndVerify(e){const{data:n,error:r}=await this._challenge({factorId:e.factorId});return r?{data:null,error:r}:await this._verify({factorId:e.factorId,challengeId:n.id,code:e.code})}async _listFactors(){const{data:{user:e},error:n}=await this.getUser();if(n)return{data:null,error:n};const r=(e==null?void 0:e.factors)||[],s=r.filter(o=>o.factor_type==="totp"&&o.status==="verified"),i=r.filter(o=>o.factor_type==="phone"&&o.status==="verified");return{data:{all:r,totp:s,phone:i},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async e=>{var n,r;const{data:{session:s},error:i}=e;if(i)return{data:null,error:i};if(!s)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const o=this._decodeJWT(s.access_token);let a=null;o.aal&&(a=o.aal);let c=a;((r=(n=s.user.factors)===null||n===void 0?void 0:n.filter(d=>d.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(c="aal2");const u=o.amr||[];return{data:{currentLevel:a,nextLevel:c,currentAuthenticationMethods:u},error:null}}))}}Gn.nextInstanceID=0;const Lp=Gn;class Mp extends Lp{constructor(e){super(e)}}var Up=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(u){try{l(r.next(u))}catch(d){o(d)}}function c(u){try{l(r.throw(u))}catch(d){o(d)}}function l(u){u.done?i(u.value):s(u.value).then(a,c)}l((r=r.apply(t,e||[])).next())})};class Bp{constructor(e,n,r){var s,i,o;if(this.supabaseUrl=e,this.supabaseKey=n,!e)throw new Error("supabaseUrl is required.");if(!n)throw new Error("supabaseKey is required.");const a=ep(e);this.realtimeUrl=`${a}/realtime/v1`.replace(/^http/i,"ws"),this.authUrl=`${a}/auth/v1`,this.storageUrl=`${a}/storage/v1`,this.functionsUrl=`${a}/functions/v1`;const c=`sb-${new URL(this.authUrl).hostname.split(".")[0]}-auth-token`,l={db:qh,realtime:Gh,auth:Object.assign(Object.assign({},Kh),{storageKey:c}),global:Hh},u=tp(r??{},l);this.storageKey=(s=u.auth.storageKey)!==null&&s!==void 0?s:"",this.headers=(i=u.global.headers)!==null&&i!==void 0?i:{},u.accessToken?(this.accessToken=u.accessToken,this.auth=new Proxy({},{get:(d,p)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(p)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=u.auth)!==null&&o!==void 0?o:{},this.headers,u.global.fetch),this.fetch=Qh(n,this._getAccessToken.bind(this),u.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},u.realtime)),this.rest=new hh(`${a}/rest/v1`,{headers:this.headers,schema:u.db.schema,fetch:this.fetch}),u.accessToken||this._listenForAuthEvents()}get functions(){return new zf(this.functionsUrl,{headers:this.headers,customFetch:this.fetch})}get storage(){return new Vh(this.storageUrl,this.headers,this.fetch)}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,n={},r={}){return this.rest.rpc(e,n,r)}channel(e,n={config:{}}){return this.realtime.channel(e,n)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var e,n;return Up(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:r}=yield this.auth.getSession();return(n=(e=r.session)===null||e===void 0?void 0:e.access_token)!==null&&n!==void 0?n:null})}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:n,detectSessionInUrl:r,storage:s,storageKey:i,flowType:o,lock:a,debug:c},l,u){const d={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new Mp({url:this.authUrl,headers:Object.assign(Object.assign({},d),l),storageKey:i,autoRefreshToken:e,persistSession:n,detectSessionInUrl:r,storage:s,flowType:o,lock:a,debug:c,fetch:u,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(e){return new jh(this.realtimeUrl,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,r)=>{this._handleTokenChanged(n,"CLIENT",r==null?void 0:r.access_token)})}_handleTokenChanged(e,n,r){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==r?this.changedAccessToken=r:e==="SIGNED_OUT"&&(this.realtime.setAuth(),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const Vp=(t,e,n)=>new Bp(t,e,n),zp="https://rhibyqyxpkcouaxhicgr.supabase.co",Wp="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InJoaWJ5cXl4cGtjb3VheGhpY2dyIiwicm9sZSI6ImFub24iLCJpYXQiOjE3MzY3NjQwMDAsImV4cCI6MjA1MjM0MDAwMH0.La6DhxuaSSOoEvwiTHh6AL0geOJliwPzg3l7dw9ZBME",Pt=Vp(zp,Wp),CS=async({search:t,date:e},n)=>{let r=Pt.from("Appointments").select("*, patient:Patients(*)");return e&&(r=r.eq("date",e)),t.trim().length>0&&(r=r.ilike("Patients.name",`%${t}%`)),n?await r.abortSignal(n):await r},TS=async()=>{const e=new Date().toLocaleDateString("en-CA");return await Pt.from("Appointments").select("*, patient:Patients(*)").eq("date",e)},Hp=async t=>{const{data:e,status:n,error:r}=await Pt.from("Appointments").insert([t]).select("*");r?n===409?at.error("تم حجز موعد للمريض في نفس اليوم مسبقا"):at.error(rr):at.success("تم حجز الموعد")},qp=async t=>{const{data:e,status:n,error:r}=await Pt.from("Appointments").delete().eq("id",t).select("*");r?at.error(rr):at.success("تم إلغاء الموعد")};function sa(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function Wc(...t){return e=>{let n=!1;const r=t.map(s=>{const i=sa(s,e);return!n&&typeof i=="function"&&(n=!0),i});if(n)return()=>{for(let s=0;s<r.length;s++){const i=r[s];typeof i=="function"?i():sa(t[s],null)}}}}function de(...t){return f.useCallback(Wc(...t),t)}var An=f.forwardRef((t,e)=>{const{children:n,...r}=t,s=f.Children.toArray(n),i=s.find(Gp);if(i){const o=i.props.children,a=s.map(c=>c===i?f.Children.count(o)>1?f.Children.only(null):f.isValidElement(o)?o.props.children:null:c);return h.jsx(gi,{...r,ref:e,children:f.isValidElement(o)?f.cloneElement(o,void 0,a):null})}return h.jsx(gi,{...r,ref:e,children:n})});An.displayName="Slot";var gi=f.forwardRef((t,e)=>{const{children:n,...r}=t;if(f.isValidElement(n)){const s=Yp(n),i=Jp(r,n.props);return n.type!==f.Fragment&&(i.ref=e?Wc(e,s):s),f.cloneElement(n,i)}return f.Children.count(n)>1?f.Children.only(null):null});gi.displayName="SlotClone";var Kp=({children:t})=>h.jsx(h.Fragment,{children:t});function Gp(t){return f.isValidElement(t)&&t.type===Kp}function Jp(t,e){const n={...e};for(const r in e){const s=t[r],i=e[r];/^on[A-Z]/.test(r)?s&&i?n[r]=(...a)=>{i(...a),s(...a)}:s&&(n[r]=s):r==="style"?n[r]={...s,...i}:r==="className"&&(n[r]=[s,i].filter(Boolean).join(" "))}return{...t,...n}}function Yp(t){var r,s;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}const ia=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,oa=hf,Zp=(t,e)=>n=>{var r;if((e==null?void 0:e.variants)==null)return oa(t,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:s,defaultVariants:i}=e,o=Object.keys(s).map(l=>{const u=n==null?void 0:n[l],d=i==null?void 0:i[l];if(u===null)return null;const p=ia(u)||ia(d);return s[l][p]}),a=n&&Object.entries(n).reduce((l,u)=>{let[d,p]=u;return p===void 0||(l[d]=p),l},{}),c=e==null||(r=e.compoundVariants)===null||r===void 0?void 0:r.reduce((l,u)=>{let{class:d,className:p,...g}=u;return Object.entries(g).every(v=>{let[m,y]=v;return Array.isArray(y)?y.includes({...i,...a}[m]):{...i,...a}[m]===y})?[...l,d,p]:l},[]);return oa(t,o,c,n==null?void 0:n.class,n==null?void 0:n.className)},Hc=f.forwardRef(({className:t,type:e,...n},r)=>h.jsx("input",{type:e,className:N(" w-full rounded-md  bg-background px-3 py-1 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:r,...n}));Hc.displayName="Input";function ne(t,e,{checkForDefaultPrevented:n=!0}={}){return function(s){if(t==null||t(s),n===!1||!s.defaultPrevented)return e==null?void 0:e(s)}}function Qp(t,e){const n=f.createContext(e),r=i=>{const{children:o,...a}=i,c=f.useMemo(()=>a,Object.values(a));return h.jsx(n.Provider,{value:c,children:o})};r.displayName=t+"Provider";function s(i){const o=f.useContext(n);if(o)return o;if(e!==void 0)return e;throw new Error(`\`${i}\` must be used within \`${t}\``)}return[r,s]}function or(t,e=[]){let n=[];function r(i,o){const a=f.createContext(o),c=n.length;n=[...n,o];const l=d=>{var b;const{scope:p,children:g,...v}=d,m=((b=p==null?void 0:p[t])==null?void 0:b[c])||a,y=f.useMemo(()=>v,Object.values(v));return h.jsx(m.Provider,{value:y,children:g})};l.displayName=i+"Provider";function u(d,p){var m;const g=((m=p==null?void 0:p[t])==null?void 0:m[c])||a,v=f.useContext(g);if(v)return v;if(o!==void 0)return o;throw new Error(`\`${d}\` must be used within \`${i}\``)}return[l,u]}const s=()=>{const i=n.map(o=>f.createContext(o));return function(a){const c=(a==null?void 0:a[t])||i;return f.useMemo(()=>({[`__scope${t}`]:{...a,[t]:c}}),[a,c])}};return s.scopeName=t,[r,Xp(s,...e)]}function Xp(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const o=r.reduce((a,{useScope:c,scopeName:l})=>{const d=c(i)[`__scope${l}`];return{...a,...d}},{});return f.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}var em=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],re=em.reduce((t,e)=>{const n=f.forwardRef((r,s)=>{const{asChild:i,...o}=r,a=i?An:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),h.jsx(a,{...o,ref:s})});return n.displayName=`Primitive.${e}`,{...t,[e]:n}},{});function tm(t,e){t&&Kr.flushSync(()=>t.dispatchEvent(e))}function lt(t){const e=f.useRef(t);return f.useEffect(()=>{e.current=t}),f.useMemo(()=>(...n)=>{var r;return(r=e.current)==null?void 0:r.call(e,...n)},[])}function nm(t,e=globalThis==null?void 0:globalThis.document){const n=lt(t);f.useEffect(()=>{const r=s=>{s.key==="Escape"&&n(s)};return e.addEventListener("keydown",r,{capture:!0}),()=>e.removeEventListener("keydown",r,{capture:!0})},[n,e])}var rm="DismissableLayer",yi="dismissableLayer.update",sm="dismissableLayer.pointerDownOutside",im="dismissableLayer.focusOutside",aa,qc=f.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Ki=f.forwardRef((t,e)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:s,onFocusOutside:i,onInteractOutside:o,onDismiss:a,...c}=t,l=f.useContext(qc),[u,d]=f.useState(null),p=(u==null?void 0:u.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,g]=f.useState({}),v=de(e,E=>d(E)),m=Array.from(l.layers),[y]=[...l.layersWithOutsidePointerEventsDisabled].slice(-1),b=m.indexOf(y),w=u?m.indexOf(u):-1,_=l.layersWithOutsidePointerEventsDisabled.size>0,S=w>=b,C=cm(E=>{const I=E.target,P=[...l.branches].some(L=>L.contains(I));!S||P||(s==null||s(E),o==null||o(E),E.defaultPrevented||a==null||a())},p),O=lm(E=>{const I=E.target;[...l.branches].some(L=>L.contains(I))||(i==null||i(E),o==null||o(E),E.defaultPrevented||a==null||a())},p);return nm(E=>{w===l.layers.size-1&&(r==null||r(E),!E.defaultPrevented&&a&&(E.preventDefault(),a()))},p),f.useEffect(()=>{if(u)return n&&(l.layersWithOutsidePointerEventsDisabled.size===0&&(aa=p.body.style.pointerEvents,p.body.style.pointerEvents="none"),l.layersWithOutsidePointerEventsDisabled.add(u)),l.layers.add(u),ca(),()=>{n&&l.layersWithOutsidePointerEventsDisabled.size===1&&(p.body.style.pointerEvents=aa)}},[u,p,n,l]),f.useEffect(()=>()=>{u&&(l.layers.delete(u),l.layersWithOutsidePointerEventsDisabled.delete(u),ca())},[u,l]),f.useEffect(()=>{const E=()=>g({});return document.addEventListener(yi,E),()=>document.removeEventListener(yi,E)},[]),h.jsx(re.div,{...c,ref:v,style:{pointerEvents:_?S?"auto":"none":void 0,...t.style},onFocusCapture:ne(t.onFocusCapture,O.onFocusCapture),onBlurCapture:ne(t.onBlurCapture,O.onBlurCapture),onPointerDownCapture:ne(t.onPointerDownCapture,C.onPointerDownCapture)})});Ki.displayName=rm;var om="DismissableLayerBranch",am=f.forwardRef((t,e)=>{const n=f.useContext(qc),r=f.useRef(null),s=de(e,r);return f.useEffect(()=>{const i=r.current;if(i)return n.branches.add(i),()=>{n.branches.delete(i)}},[n.branches]),h.jsx(re.div,{...t,ref:s})});am.displayName=om;function cm(t,e=globalThis==null?void 0:globalThis.document){const n=lt(t),r=f.useRef(!1),s=f.useRef(()=>{});return f.useEffect(()=>{const i=a=>{if(a.target&&!r.current){let c=function(){Kc(sm,n,l,{discrete:!0})};const l={originalEvent:a};a.pointerType==="touch"?(e.removeEventListener("click",s.current),s.current=c,e.addEventListener("click",s.current,{once:!0})):c()}else e.removeEventListener("click",s.current);r.current=!1},o=window.setTimeout(()=>{e.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(o),e.removeEventListener("pointerdown",i),e.removeEventListener("click",s.current)}},[e,n]),{onPointerDownCapture:()=>r.current=!0}}function lm(t,e=globalThis==null?void 0:globalThis.document){const n=lt(t),r=f.useRef(!1);return f.useEffect(()=>{const s=i=>{i.target&&!r.current&&Kc(im,n,{originalEvent:i},{discrete:!1})};return e.addEventListener("focusin",s),()=>e.removeEventListener("focusin",s)},[e,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function ca(){const t=new CustomEvent(yi);document.dispatchEvent(t)}function Kc(t,e,n,{discrete:r}){const s=n.originalEvent.target,i=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&s.addEventListener(t,e,{once:!0}),r?tm(s,i):s.dispatchEvent(i)}var Ds=0;function Gc(){f.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??la()),document.body.insertAdjacentElement("beforeend",t[1]??la()),Ds++,()=>{Ds===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),Ds--}},[])}function la(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var Fs="focusScope.autoFocusOnMount",Ls="focusScope.autoFocusOnUnmount",ua={bubbles:!1,cancelable:!0},um="FocusScope",Gi=f.forwardRef((t,e)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:s,onUnmountAutoFocus:i,...o}=t,[a,c]=f.useState(null),l=lt(s),u=lt(i),d=f.useRef(null),p=de(e,m=>c(m)),g=f.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;f.useEffect(()=>{if(r){let m=function(_){if(g.paused||!a)return;const S=_.target;a.contains(S)?d.current=S:yt(d.current,{select:!0})},y=function(_){if(g.paused||!a)return;const S=_.relatedTarget;S!==null&&(a.contains(S)||yt(d.current,{select:!0}))},b=function(_){if(document.activeElement===document.body)for(const C of _)C.removedNodes.length>0&&yt(a)};document.addEventListener("focusin",m),document.addEventListener("focusout",y);const w=new MutationObserver(b);return a&&w.observe(a,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",m),document.removeEventListener("focusout",y),w.disconnect()}}},[r,a,g.paused]),f.useEffect(()=>{if(a){fa.add(g);const m=document.activeElement;if(!a.contains(m)){const b=new CustomEvent(Fs,ua);a.addEventListener(Fs,l),a.dispatchEvent(b),b.defaultPrevented||(dm(gm(Jc(a)),{select:!0}),document.activeElement===m&&yt(a))}return()=>{a.removeEventListener(Fs,l),setTimeout(()=>{const b=new CustomEvent(Ls,ua);a.addEventListener(Ls,u),a.dispatchEvent(b),b.defaultPrevented||yt(m??document.body,{select:!0}),a.removeEventListener(Ls,u),fa.remove(g)},0)}}},[a,l,u,g]);const v=f.useCallback(m=>{if(!n&&!r||g.paused)return;const y=m.key==="Tab"&&!m.altKey&&!m.ctrlKey&&!m.metaKey,b=document.activeElement;if(y&&b){const w=m.currentTarget,[_,S]=fm(w);_&&S?!m.shiftKey&&b===S?(m.preventDefault(),n&&yt(_,{select:!0})):m.shiftKey&&b===_&&(m.preventDefault(),n&&yt(S,{select:!0})):b===w&&m.preventDefault()}},[n,r,g.paused]);return h.jsx(re.div,{tabIndex:-1,...o,ref:p,onKeyDown:v})});Gi.displayName=um;function dm(t,{select:e=!1}={}){const n=document.activeElement;for(const r of t)if(yt(r,{select:e}),document.activeElement!==n)return}function fm(t){const e=Jc(t),n=da(e,t),r=da(e.reverse(),t);return[n,r]}function Jc(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function da(t,e){for(const n of t)if(!hm(n,{upTo:e}))return n}function hm(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function pm(t){return t instanceof HTMLInputElement&&"select"in t}function yt(t,{select:e=!1}={}){if(t&&t.focus){const n=document.activeElement;t.focus({preventScroll:!0}),t!==n&&pm(t)&&e&&t.select()}}var fa=mm();function mm(){let t=[];return{add(e){const n=t[0];e!==n&&(n==null||n.pause()),t=ha(t,e),t.unshift(e)},remove(e){var n;t=ha(t,e),(n=t[0])==null||n.resume()}}}function ha(t,e){const n=[...t],r=n.indexOf(e);return r!==-1&&n.splice(r,1),n}function gm(t){return t.filter(e=>e.tagName!=="A")}var be=globalThis!=null&&globalThis.document?f.useLayoutEffect:()=>{},ym=of.useId||(()=>{}),vm=0;function bn(t){const[e,n]=f.useState(ym());return be(()=>{n(r=>r??String(vm++))},[t]),e?`radix-${e}`:""}const bm=["top","right","bottom","left"],Ot=Math.min,Pe=Math.max,Dr=Math.round,vr=Math.floor,Qe=t=>({x:t,y:t}),wm={left:"right",right:"left",bottom:"top",top:"bottom"},xm={start:"end",end:"start"};function vi(t,e,n){return Pe(t,Ot(e,n))}function ut(t,e){return typeof t=="function"?t(e):t}function dt(t){return t.split("-")[0]}function In(t){return t.split("-")[1]}function Ji(t){return t==="x"?"y":"x"}function Yi(t){return t==="y"?"height":"width"}function jt(t){return["top","bottom"].includes(dt(t))?"y":"x"}function Zi(t){return Ji(jt(t))}function _m(t,e,n){n===void 0&&(n=!1);const r=In(t),s=Zi(t),i=Yi(s);let o=s==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[i]>e.floating[i]&&(o=Fr(o)),[o,Fr(o)]}function Sm(t){const e=Fr(t);return[bi(t),e,bi(e)]}function bi(t){return t.replace(/start|end/g,e=>xm[e])}function Em(t,e,n){const r=["left","right"],s=["right","left"],i=["top","bottom"],o=["bottom","top"];switch(t){case"top":case"bottom":return n?e?s:r:e?r:s;case"left":case"right":return e?i:o;default:return[]}}function Cm(t,e,n,r){const s=In(t);let i=Em(dt(t),n==="start",r);return s&&(i=i.map(o=>o+"-"+s),e&&(i=i.concat(i.map(bi)))),i}function Fr(t){return t.replace(/left|right|bottom|top/g,e=>wm[e])}function Tm(t){return{top:0,right:0,bottom:0,left:0,...t}}function Yc(t){return typeof t!="number"?Tm(t):{top:t,right:t,bottom:t,left:t}}function Lr(t){const{x:e,y:n,width:r,height:s}=t;return{width:r,height:s,top:n,left:e,right:e+r,bottom:n+s,x:e,y:n}}function pa(t,e,n){let{reference:r,floating:s}=t;const i=jt(e),o=Zi(e),a=Yi(o),c=dt(e),l=i==="y",u=r.x+r.width/2-s.width/2,d=r.y+r.height/2-s.height/2,p=r[a]/2-s[a]/2;let g;switch(c){case"top":g={x:u,y:r.y-s.height};break;case"bottom":g={x:u,y:r.y+r.height};break;case"right":g={x:r.x+r.width,y:d};break;case"left":g={x:r.x-s.width,y:d};break;default:g={x:r.x,y:r.y}}switch(In(e)){case"start":g[o]-=p*(n&&l?-1:1);break;case"end":g[o]+=p*(n&&l?-1:1);break}return g}const Om=async(t,e,n)=>{const{placement:r="bottom",strategy:s="absolute",middleware:i=[],platform:o}=n,a=i.filter(Boolean),c=await(o.isRTL==null?void 0:o.isRTL(e));let l=await o.getElementRects({reference:t,floating:e,strategy:s}),{x:u,y:d}=pa(l,r,c),p=r,g={},v=0;for(let m=0;m<a.length;m++){const{name:y,fn:b}=a[m],{x:w,y:_,data:S,reset:C}=await b({x:u,y:d,initialPlacement:r,placement:p,strategy:s,middlewareData:g,rects:l,platform:o,elements:{reference:t,floating:e}});u=w??u,d=_??d,g={...g,[y]:{...g[y],...S}},C&&v<=50&&(v++,typeof C=="object"&&(C.placement&&(p=C.placement),C.rects&&(l=C.rects===!0?await o.getElementRects({reference:t,floating:e,strategy:s}):C.rects),{x:u,y:d}=pa(l,p,c)),m=-1)}return{x:u,y:d,placement:p,strategy:s,middlewareData:g}};async function Jn(t,e){var n;e===void 0&&(e={});const{x:r,y:s,platform:i,rects:o,elements:a,strategy:c}=t,{boundary:l="clippingAncestors",rootBoundary:u="viewport",elementContext:d="floating",altBoundary:p=!1,padding:g=0}=ut(e,t),v=Yc(g),y=a[p?d==="floating"?"reference":"floating":d],b=Lr(await i.getClippingRect({element:(n=await(i.isElement==null?void 0:i.isElement(y)))==null||n?y:y.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(a.floating)),boundary:l,rootBoundary:u,strategy:c})),w=d==="floating"?{x:r,y:s,width:o.floating.width,height:o.floating.height}:o.reference,_=await(i.getOffsetParent==null?void 0:i.getOffsetParent(a.floating)),S=await(i.isElement==null?void 0:i.isElement(_))?await(i.getScale==null?void 0:i.getScale(_))||{x:1,y:1}:{x:1,y:1},C=Lr(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:w,offsetParent:_,strategy:c}):w);return{top:(b.top-C.top+v.top)/S.y,bottom:(C.bottom-b.bottom+v.bottom)/S.y,left:(b.left-C.left+v.left)/S.x,right:(C.right-b.right+v.right)/S.x}}const jm=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:r,placement:s,rects:i,platform:o,elements:a,middlewareData:c}=e,{element:l,padding:u=0}=ut(t,e)||{};if(l==null)return{};const d=Yc(u),p={x:n,y:r},g=Zi(s),v=Yi(g),m=await o.getDimensions(l),y=g==="y",b=y?"top":"left",w=y?"bottom":"right",_=y?"clientHeight":"clientWidth",S=i.reference[v]+i.reference[g]-p[g]-i.floating[v],C=p[g]-i.reference[g],O=await(o.getOffsetParent==null?void 0:o.getOffsetParent(l));let E=O?O[_]:0;(!E||!await(o.isElement==null?void 0:o.isElement(O)))&&(E=a.floating[_]||i.floating[v]);const I=S/2-C/2,P=E/2-m[v]/2-1,L=Ot(d[b],P),k=Ot(d[w],P),M=L,F=E-m[v]-k,U=E/2-m[v]/2+I,oe=vi(M,U,F),z=!c.arrow&&In(s)!=null&&U!==oe&&i.reference[v]/2-(U<M?L:k)-m[v]/2<0,K=z?U<M?U-M:U-F:0;return{[g]:p[g]+K,data:{[g]:oe,centerOffset:U-oe-K,...z&&{alignmentOffset:K}},reset:z}}}),Am=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,r;const{placement:s,middlewareData:i,rects:o,initialPlacement:a,platform:c,elements:l}=e,{mainAxis:u=!0,crossAxis:d=!0,fallbackPlacements:p,fallbackStrategy:g="bestFit",fallbackAxisSideDirection:v="none",flipAlignment:m=!0,...y}=ut(t,e);if((n=i.arrow)!=null&&n.alignmentOffset)return{};const b=dt(s),w=jt(a),_=dt(a)===a,S=await(c.isRTL==null?void 0:c.isRTL(l.floating)),C=p||(_||!m?[Fr(a)]:Sm(a)),O=v!=="none";!p&&O&&C.push(...Cm(a,m,v,S));const E=[a,...C],I=await Jn(e,y),P=[];let L=((r=i.flip)==null?void 0:r.overflows)||[];if(u&&P.push(I[b]),d){const U=_m(s,o,S);P.push(I[U[0]],I[U[1]])}if(L=[...L,{placement:s,overflows:P}],!P.every(U=>U<=0)){var k,M;const U=(((k=i.flip)==null?void 0:k.index)||0)+1,oe=E[U];if(oe)return{data:{index:U,overflows:L},reset:{placement:oe}};let z=(M=L.filter(K=>K.overflows[0]<=0).sort((K,D)=>K.overflows[1]-D.overflows[1])[0])==null?void 0:M.placement;if(!z)switch(g){case"bestFit":{var F;const K=(F=L.filter(D=>{if(O){const ee=jt(D.placement);return ee===w||ee==="y"}return!0}).map(D=>[D.placement,D.overflows.filter(ee=>ee>0).reduce((ee,me)=>ee+me,0)]).sort((D,ee)=>D[1]-ee[1])[0])==null?void 0:F[0];K&&(z=K);break}case"initialPlacement":z=a;break}if(s!==z)return{reset:{placement:z}}}return{}}}};function ma(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function ga(t){return bm.some(e=>t[e]>=0)}const km=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:n}=e,{strategy:r="referenceHidden",...s}=ut(t,e);switch(r){case"referenceHidden":{const i=await Jn(e,{...s,elementContext:"reference"}),o=ma(i,n.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:ga(o)}}}case"escaped":{const i=await Jn(e,{...s,altBoundary:!0}),o=ma(i,n.floating);return{data:{escapedOffsets:o,escaped:ga(o)}}}default:return{}}}}};async function Pm(t,e){const{placement:n,platform:r,elements:s}=t,i=await(r.isRTL==null?void 0:r.isRTL(s.floating)),o=dt(n),a=In(n),c=jt(n)==="y",l=["left","top"].includes(o)?-1:1,u=i&&c?-1:1,d=ut(e,t);let{mainAxis:p,crossAxis:g,alignmentAxis:v}=typeof d=="number"?{mainAxis:d,crossAxis:0,alignmentAxis:null}:{mainAxis:d.mainAxis||0,crossAxis:d.crossAxis||0,alignmentAxis:d.alignmentAxis};return a&&typeof v=="number"&&(g=a==="end"?v*-1:v),c?{x:g*u,y:p*l}:{x:p*l,y:g*u}}const Rm=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,r;const{x:s,y:i,placement:o,middlewareData:a}=e,c=await Pm(e,t);return o===((n=a.offset)==null?void 0:n.placement)&&(r=a.arrow)!=null&&r.alignmentOffset?{}:{x:s+c.x,y:i+c.y,data:{...c,placement:o}}}}},$m=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:r,placement:s}=e,{mainAxis:i=!0,crossAxis:o=!1,limiter:a={fn:y=>{let{x:b,y:w}=y;return{x:b,y:w}}},...c}=ut(t,e),l={x:n,y:r},u=await Jn(e,c),d=jt(dt(s)),p=Ji(d);let g=l[p],v=l[d];if(i){const y=p==="y"?"top":"left",b=p==="y"?"bottom":"right",w=g+u[y],_=g-u[b];g=vi(w,g,_)}if(o){const y=d==="y"?"top":"left",b=d==="y"?"bottom":"right",w=v+u[y],_=v-u[b];v=vi(w,v,_)}const m=a.fn({...e,[p]:g,[d]:v});return{...m,data:{x:m.x-n,y:m.y-r,enabled:{[p]:i,[d]:o}}}}}},Im=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:n,y:r,placement:s,rects:i,middlewareData:o}=e,{offset:a=0,mainAxis:c=!0,crossAxis:l=!0}=ut(t,e),u={x:n,y:r},d=jt(s),p=Ji(d);let g=u[p],v=u[d];const m=ut(a,e),y=typeof m=="number"?{mainAxis:m,crossAxis:0}:{mainAxis:0,crossAxis:0,...m};if(c){const _=p==="y"?"height":"width",S=i.reference[p]-i.floating[_]+y.mainAxis,C=i.reference[p]+i.reference[_]-y.mainAxis;g<S?g=S:g>C&&(g=C)}if(l){var b,w;const _=p==="y"?"width":"height",S=["top","left"].includes(dt(s)),C=i.reference[d]-i.floating[_]+(S&&((b=o.offset)==null?void 0:b[d])||0)+(S?0:y.crossAxis),O=i.reference[d]+i.reference[_]+(S?0:((w=o.offset)==null?void 0:w[d])||0)-(S?y.crossAxis:0);v<C?v=C:v>O&&(v=O)}return{[p]:g,[d]:v}}}},Nm=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var n,r;const{placement:s,rects:i,platform:o,elements:a}=e,{apply:c=()=>{},...l}=ut(t,e),u=await Jn(e,l),d=dt(s),p=In(s),g=jt(s)==="y",{width:v,height:m}=i.floating;let y,b;d==="top"||d==="bottom"?(y=d,b=p===(await(o.isRTL==null?void 0:o.isRTL(a.floating))?"start":"end")?"left":"right"):(b=d,y=p==="end"?"top":"bottom");const w=m-u.top-u.bottom,_=v-u.left-u.right,S=Ot(m-u[y],w),C=Ot(v-u[b],_),O=!e.middlewareData.shift;let E=S,I=C;if((n=e.middlewareData.shift)!=null&&n.enabled.x&&(I=_),(r=e.middlewareData.shift)!=null&&r.enabled.y&&(E=w),O&&!p){const L=Pe(u.left,0),k=Pe(u.right,0),M=Pe(u.top,0),F=Pe(u.bottom,0);g?I=v-2*(L!==0||k!==0?L+k:Pe(u.left,u.right)):E=m-2*(M!==0||F!==0?M+F:Pe(u.top,u.bottom))}await c({...e,availableWidth:I,availableHeight:E});const P=await o.getDimensions(a.floating);return v!==P.width||m!==P.height?{reset:{rects:!0}}:{}}}};function ts(){return typeof window<"u"}function Nn(t){return Zc(t)?(t.nodeName||"").toLowerCase():"#document"}function Re(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function et(t){var e;return(e=(Zc(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function Zc(t){return ts()?t instanceof Node||t instanceof Re(t).Node:!1}function ze(t){return ts()?t instanceof Element||t instanceof Re(t).Element:!1}function Xe(t){return ts()?t instanceof HTMLElement||t instanceof Re(t).HTMLElement:!1}function ya(t){return!ts()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof Re(t).ShadowRoot}function ar(t){const{overflow:e,overflowX:n,overflowY:r,display:s}=We(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!["inline","contents"].includes(s)}function Dm(t){return["table","td","th"].includes(Nn(t))}function ns(t){return[":popover-open",":modal"].some(e=>{try{return t.matches(e)}catch{return!1}})}function Qi(t){const e=Xi(),n=ze(t)?We(t):t;return["transform","translate","scale","rotate","perspective"].some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(r=>(n.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(n.contain||"").includes(r))}function Fm(t){let e=At(t);for(;Xe(e)&&!kn(e);){if(Qi(e))return e;if(ns(e))return null;e=At(e)}return null}function Xi(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function kn(t){return["html","body","#document"].includes(Nn(t))}function We(t){return Re(t).getComputedStyle(t)}function rs(t){return ze(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function At(t){if(Nn(t)==="html")return t;const e=t.assignedSlot||t.parentNode||ya(t)&&t.host||et(t);return ya(e)?e.host:e}function Qc(t){const e=At(t);return kn(e)?t.ownerDocument?t.ownerDocument.body:t.body:Xe(e)&&ar(e)?e:Qc(e)}function Yn(t,e,n){var r;e===void 0&&(e=[]),n===void 0&&(n=!0);const s=Qc(t),i=s===((r=t.ownerDocument)==null?void 0:r.body),o=Re(s);if(i){const a=wi(o);return e.concat(o,o.visualViewport||[],ar(s)?s:[],a&&n?Yn(a):[])}return e.concat(s,Yn(s,[],n))}function wi(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function Xc(t){const e=We(t);let n=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const s=Xe(t),i=s?t.offsetWidth:n,o=s?t.offsetHeight:r,a=Dr(n)!==i||Dr(r)!==o;return a&&(n=i,r=o),{width:n,height:r,$:a}}function eo(t){return ze(t)?t:t.contextElement}function wn(t){const e=eo(t);if(!Xe(e))return Qe(1);const n=e.getBoundingClientRect(),{width:r,height:s,$:i}=Xc(e);let o=(i?Dr(n.width):n.width)/r,a=(i?Dr(n.height):n.height)/s;return(!o||!Number.isFinite(o))&&(o=1),(!a||!Number.isFinite(a))&&(a=1),{x:o,y:a}}const Lm=Qe(0);function el(t){const e=Re(t);return!Xi()||!e.visualViewport?Lm:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function Mm(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==Re(t)?!1:e}function Yt(t,e,n,r){e===void 0&&(e=!1),n===void 0&&(n=!1);const s=t.getBoundingClientRect(),i=eo(t);let o=Qe(1);e&&(r?ze(r)&&(o=wn(r)):o=wn(t));const a=Mm(i,n,r)?el(i):Qe(0);let c=(s.left+a.x)/o.x,l=(s.top+a.y)/o.y,u=s.width/o.x,d=s.height/o.y;if(i){const p=Re(i),g=r&&ze(r)?Re(r):r;let v=p,m=wi(v);for(;m&&r&&g!==v;){const y=wn(m),b=m.getBoundingClientRect(),w=We(m),_=b.left+(m.clientLeft+parseFloat(w.paddingLeft))*y.x,S=b.top+(m.clientTop+parseFloat(w.paddingTop))*y.y;c*=y.x,l*=y.y,u*=y.x,d*=y.y,c+=_,l+=S,v=Re(m),m=wi(v)}}return Lr({width:u,height:d,x:c,y:l})}function to(t,e){const n=rs(t).scrollLeft;return e?e.left+n:Yt(et(t)).left+n}function tl(t,e,n){n===void 0&&(n=!1);const r=t.getBoundingClientRect(),s=r.left+e.scrollLeft-(n?0:to(t,r)),i=r.top+e.scrollTop;return{x:s,y:i}}function Um(t){let{elements:e,rect:n,offsetParent:r,strategy:s}=t;const i=s==="fixed",o=et(r),a=e?ns(e.floating):!1;if(r===o||a&&i)return n;let c={scrollLeft:0,scrollTop:0},l=Qe(1);const u=Qe(0),d=Xe(r);if((d||!d&&!i)&&((Nn(r)!=="body"||ar(o))&&(c=rs(r)),Xe(r))){const g=Yt(r);l=wn(r),u.x=g.x+r.clientLeft,u.y=g.y+r.clientTop}const p=o&&!d&&!i?tl(o,c,!0):Qe(0);return{width:n.width*l.x,height:n.height*l.y,x:n.x*l.x-c.scrollLeft*l.x+u.x+p.x,y:n.y*l.y-c.scrollTop*l.y+u.y+p.y}}function Bm(t){return Array.from(t.getClientRects())}function Vm(t){const e=et(t),n=rs(t),r=t.ownerDocument.body,s=Pe(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),i=Pe(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let o=-n.scrollLeft+to(t);const a=-n.scrollTop;return We(r).direction==="rtl"&&(o+=Pe(e.clientWidth,r.clientWidth)-s),{width:s,height:i,x:o,y:a}}function zm(t,e){const n=Re(t),r=et(t),s=n.visualViewport;let i=r.clientWidth,o=r.clientHeight,a=0,c=0;if(s){i=s.width,o=s.height;const l=Xi();(!l||l&&e==="fixed")&&(a=s.offsetLeft,c=s.offsetTop)}return{width:i,height:o,x:a,y:c}}function Wm(t,e){const n=Yt(t,!0,e==="fixed"),r=n.top+t.clientTop,s=n.left+t.clientLeft,i=Xe(t)?wn(t):Qe(1),o=t.clientWidth*i.x,a=t.clientHeight*i.y,c=s*i.x,l=r*i.y;return{width:o,height:a,x:c,y:l}}function va(t,e,n){let r;if(e==="viewport")r=zm(t,n);else if(e==="document")r=Vm(et(t));else if(ze(e))r=Wm(e,n);else{const s=el(t);r={x:e.x-s.x,y:e.y-s.y,width:e.width,height:e.height}}return Lr(r)}function nl(t,e){const n=At(t);return n===e||!ze(n)||kn(n)?!1:We(n).position==="fixed"||nl(n,e)}function Hm(t,e){const n=e.get(t);if(n)return n;let r=Yn(t,[],!1).filter(a=>ze(a)&&Nn(a)!=="body"),s=null;const i=We(t).position==="fixed";let o=i?At(t):t;for(;ze(o)&&!kn(o);){const a=We(o),c=Qi(o);!c&&a.position==="fixed"&&(s=null),(i?!c&&!s:!c&&a.position==="static"&&!!s&&["absolute","fixed"].includes(s.position)||ar(o)&&!c&&nl(t,o))?r=r.filter(u=>u!==o):s=a,o=At(o)}return e.set(t,r),r}function qm(t){let{element:e,boundary:n,rootBoundary:r,strategy:s}=t;const o=[...n==="clippingAncestors"?ns(e)?[]:Hm(e,this._c):[].concat(n),r],a=o[0],c=o.reduce((l,u)=>{const d=va(e,u,s);return l.top=Pe(d.top,l.top),l.right=Ot(d.right,l.right),l.bottom=Ot(d.bottom,l.bottom),l.left=Pe(d.left,l.left),l},va(e,a,s));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function Km(t){const{width:e,height:n}=Xc(t);return{width:e,height:n}}function Gm(t,e,n){const r=Xe(e),s=et(e),i=n==="fixed",o=Yt(t,!0,i,e);let a={scrollLeft:0,scrollTop:0};const c=Qe(0);if(r||!r&&!i)if((Nn(e)!=="body"||ar(s))&&(a=rs(e)),r){const p=Yt(e,!0,i,e);c.x=p.x+e.clientLeft,c.y=p.y+e.clientTop}else s&&(c.x=to(s));const l=s&&!r&&!i?tl(s,a):Qe(0),u=o.left+a.scrollLeft-c.x-l.x,d=o.top+a.scrollTop-c.y-l.y;return{x:u,y:d,width:o.width,height:o.height}}function Ms(t){return We(t).position==="static"}function ba(t,e){if(!Xe(t)||We(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return et(t)===n&&(n=n.ownerDocument.body),n}function rl(t,e){const n=Re(t);if(ns(t))return n;if(!Xe(t)){let s=At(t);for(;s&&!kn(s);){if(ze(s)&&!Ms(s))return s;s=At(s)}return n}let r=ba(t,e);for(;r&&Dm(r)&&Ms(r);)r=ba(r,e);return r&&kn(r)&&Ms(r)&&!Qi(r)?n:r||Fm(t)||n}const Jm=async function(t){const e=this.getOffsetParent||rl,n=this.getDimensions,r=await n(t.floating);return{reference:Gm(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function Ym(t){return We(t).direction==="rtl"}const Zm={convertOffsetParentRelativeRectToViewportRelativeRect:Um,getDocumentElement:et,getClippingRect:qm,getOffsetParent:rl,getElementRects:Jm,getClientRects:Bm,getDimensions:Km,getScale:wn,isElement:ze,isRTL:Ym};function sl(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function Qm(t,e){let n=null,r;const s=et(t);function i(){var a;clearTimeout(r),(a=n)==null||a.disconnect(),n=null}function o(a,c){a===void 0&&(a=!1),c===void 0&&(c=1),i();const l=t.getBoundingClientRect(),{left:u,top:d,width:p,height:g}=l;if(a||e(),!p||!g)return;const v=vr(d),m=vr(s.clientWidth-(u+p)),y=vr(s.clientHeight-(d+g)),b=vr(u),_={rootMargin:-v+"px "+-m+"px "+-y+"px "+-b+"px",threshold:Pe(0,Ot(1,c))||1};let S=!0;function C(O){const E=O[0].intersectionRatio;if(E!==c){if(!S)return o();E?o(!1,E):r=setTimeout(()=>{o(!1,1e-7)},1e3)}E===1&&!sl(l,t.getBoundingClientRect())&&o(),S=!1}try{n=new IntersectionObserver(C,{..._,root:s.ownerDocument})}catch{n=new IntersectionObserver(C,_)}n.observe(t)}return o(!0),i}function Xm(t,e,n,r){r===void 0&&(r={});const{ancestorScroll:s=!0,ancestorResize:i=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:c=!1}=r,l=eo(t),u=s||i?[...l?Yn(l):[],...Yn(e)]:[];u.forEach(b=>{s&&b.addEventListener("scroll",n,{passive:!0}),i&&b.addEventListener("resize",n)});const d=l&&a?Qm(l,n):null;let p=-1,g=null;o&&(g=new ResizeObserver(b=>{let[w]=b;w&&w.target===l&&g&&(g.unobserve(e),cancelAnimationFrame(p),p=requestAnimationFrame(()=>{var _;(_=g)==null||_.observe(e)})),n()}),l&&!c&&g.observe(l),g.observe(e));let v,m=c?Yt(t):null;c&&y();function y(){const b=Yt(t);m&&!sl(m,b)&&n(),m=b,v=requestAnimationFrame(y)}return n(),()=>{var b;u.forEach(w=>{s&&w.removeEventListener("scroll",n),i&&w.removeEventListener("resize",n)}),d==null||d(),(b=g)==null||b.disconnect(),g=null,c&&cancelAnimationFrame(v)}}const eg=Rm,tg=$m,ng=Am,rg=Nm,sg=km,wa=jm,ig=Im,og=(t,e,n)=>{const r=new Map,s={platform:Zm,...n},i={...s.platform,_c:r};return Om(t,e,{...s,platform:i})};var Ar=typeof document<"u"?f.useLayoutEffect:f.useEffect;function Mr(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,r,s;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(r=n;r--!==0;)if(!Mr(t[r],e[r]))return!1;return!0}if(s=Object.keys(t),n=s.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(e,s[r]))return!1;for(r=n;r--!==0;){const i=s[r];if(!(i==="_owner"&&t.$$typeof)&&!Mr(t[i],e[i]))return!1}return!0}return t!==t&&e!==e}function il(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function xa(t,e){const n=il(t);return Math.round(e*n)/n}function Us(t){const e=f.useRef(t);return Ar(()=>{e.current=t}),e}function ag(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:r=[],platform:s,elements:{reference:i,floating:o}={},transform:a=!0,whileElementsMounted:c,open:l}=t,[u,d]=f.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[p,g]=f.useState(r);Mr(p,r)||g(r);const[v,m]=f.useState(null),[y,b]=f.useState(null),w=f.useCallback(D=>{D!==O.current&&(O.current=D,m(D))},[]),_=f.useCallback(D=>{D!==E.current&&(E.current=D,b(D))},[]),S=i||v,C=o||y,O=f.useRef(null),E=f.useRef(null),I=f.useRef(u),P=c!=null,L=Us(c),k=Us(s),M=Us(l),F=f.useCallback(()=>{if(!O.current||!E.current)return;const D={placement:e,strategy:n,middleware:p};k.current&&(D.platform=k.current),og(O.current,E.current,D).then(ee=>{const me={...ee,isPositioned:M.current!==!1};U.current&&!Mr(I.current,me)&&(I.current=me,Kr.flushSync(()=>{d(me)}))})},[p,e,n,k,M]);Ar(()=>{l===!1&&I.current.isPositioned&&(I.current.isPositioned=!1,d(D=>({...D,isPositioned:!1})))},[l]);const U=f.useRef(!1);Ar(()=>(U.current=!0,()=>{U.current=!1}),[]),Ar(()=>{if(S&&(O.current=S),C&&(E.current=C),S&&C){if(L.current)return L.current(S,C,F);F()}},[S,C,F,L,P]);const oe=f.useMemo(()=>({reference:O,floating:E,setReference:w,setFloating:_}),[w,_]),z=f.useMemo(()=>({reference:S,floating:C}),[S,C]),K=f.useMemo(()=>{const D={position:n,left:0,top:0};if(!z.floating)return D;const ee=xa(z.floating,u.x),me=xa(z.floating,u.y);return a?{...D,transform:"translate("+ee+"px, "+me+"px)",...il(z.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:ee,top:me}},[n,a,z.floating,u.x,u.y]);return f.useMemo(()=>({...u,update:F,refs:oe,elements:z,floatingStyles:K}),[u,F,oe,z,K])}const cg=t=>{function e(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:t,fn(n){const{element:r,padding:s}=typeof t=="function"?t(n):t;return r&&e(r)?r.current!=null?wa({element:r.current,padding:s}).fn(n):{}:r?wa({element:r,padding:s}).fn(n):{}}}},lg=(t,e)=>({...eg(t),options:[t,e]}),ug=(t,e)=>({...tg(t),options:[t,e]}),dg=(t,e)=>({...ig(t),options:[t,e]}),fg=(t,e)=>({...ng(t),options:[t,e]}),hg=(t,e)=>({...rg(t),options:[t,e]}),pg=(t,e)=>({...sg(t),options:[t,e]}),mg=(t,e)=>({...cg(t),options:[t,e]});var gg="Arrow",ol=f.forwardRef((t,e)=>{const{children:n,width:r=10,height:s=5,...i}=t;return h.jsx(re.svg,{...i,ref:e,width:r,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?n:h.jsx("polygon",{points:"0,0 30,0 15,10"})})});ol.displayName=gg;var yg=ol;function al(t){const[e,n]=f.useState(void 0);return be(()=>{if(t){n({width:t.offsetWidth,height:t.offsetHeight});const r=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const i=s[0];let o,a;if("borderBoxSize"in i){const c=i.borderBoxSize,l=Array.isArray(c)?c[0]:c;o=l.inlineSize,a=l.blockSize}else o=t.offsetWidth,a=t.offsetHeight;n({width:o,height:a})});return r.observe(t,{box:"border-box"}),()=>r.unobserve(t)}else n(void 0)},[t]),e}var no="Popper",[cl,ll]=or(no),[vg,ul]=cl(no),dl=t=>{const{__scopePopper:e,children:n}=t,[r,s]=f.useState(null);return h.jsx(vg,{scope:e,anchor:r,onAnchorChange:s,children:n})};dl.displayName=no;var fl="PopperAnchor",hl=f.forwardRef((t,e)=>{const{__scopePopper:n,virtualRef:r,...s}=t,i=ul(fl,n),o=f.useRef(null),a=de(e,o);return f.useEffect(()=>{i.onAnchorChange((r==null?void 0:r.current)||o.current)}),r?null:h.jsx(re.div,{...s,ref:a})});hl.displayName=fl;var ro="PopperContent",[bg,wg]=cl(ro),pl=f.forwardRef((t,e)=>{var $,te,fe,Q,q,G;const{__scopePopper:n,side:r="bottom",sideOffset:s=0,align:i="center",alignOffset:o=0,arrowPadding:a=0,avoidCollisions:c=!0,collisionBoundary:l=[],collisionPadding:u=0,sticky:d="partial",hideWhenDetached:p=!1,updatePositionStrategy:g="optimized",onPlaced:v,...m}=t,y=ul(ro,n),[b,w]=f.useState(null),_=de(e,ge=>w(ge)),[S,C]=f.useState(null),O=al(S),E=(O==null?void 0:O.width)??0,I=(O==null?void 0:O.height)??0,P=r+(i!=="center"?"-"+i:""),L=typeof u=="number"?u:{top:0,right:0,bottom:0,left:0,...u},k=Array.isArray(l)?l:[l],M=k.length>0,F={padding:L,boundary:k.filter(_g),altBoundary:M},{refs:U,floatingStyles:oe,placement:z,isPositioned:K,middlewareData:D}=ag({strategy:"fixed",placement:P,whileElementsMounted:(...ge)=>Xm(...ge,{animationFrame:g==="always"}),elements:{reference:y.anchor},middleware:[lg({mainAxis:s+I,alignmentAxis:o}),c&&ug({mainAxis:!0,crossAxis:!1,limiter:d==="partial"?dg():void 0,...F}),c&&fg({...F}),hg({...F,apply:({elements:ge,rects:De,availableWidth:Nt,availableHeight:Dt})=>{const{width:Ft,height:js}=De.reference,pt=ge.floating.style;pt.setProperty("--radix-popper-available-width",`${Nt}px`),pt.setProperty("--radix-popper-available-height",`${Dt}px`),pt.setProperty("--radix-popper-anchor-width",`${Ft}px`),pt.setProperty("--radix-popper-anchor-height",`${js}px`)}}),S&&mg({element:S,padding:a}),Sg({arrowWidth:E,arrowHeight:I}),p&&pg({strategy:"referenceHidden",...F})]}),[ee,me]=yl(z),we=lt(v);be(()=>{K&&(we==null||we())},[K,we]);const Ie=($=D.arrow)==null?void 0:$.x,ht=(te=D.arrow)==null?void 0:te.y,Ne=((fe=D.arrow)==null?void 0:fe.centerOffset)!==0,[Oe,qe]=f.useState();return be(()=>{b&&qe(window.getComputedStyle(b).zIndex)},[b]),h.jsx("div",{ref:U.setFloating,"data-radix-popper-content-wrapper":"",style:{...oe,transform:K?oe.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:Oe,"--radix-popper-transform-origin":[(Q=D.transformOrigin)==null?void 0:Q.x,(q=D.transformOrigin)==null?void 0:q.y].join(" "),...((G=D.hide)==null?void 0:G.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:h.jsx(bg,{scope:n,placedSide:ee,onArrowChange:C,arrowX:Ie,arrowY:ht,shouldHideArrow:Ne,children:h.jsx(re.div,{"data-side":ee,"data-align":me,...m,ref:_,style:{...m.style,animation:K?void 0:"none"}})})})});pl.displayName=ro;var ml="PopperArrow",xg={top:"bottom",right:"left",bottom:"top",left:"right"},gl=f.forwardRef(function(e,n){const{__scopePopper:r,...s}=e,i=wg(ml,r),o=xg[i.placedSide];return h.jsx("span",{ref:i.onArrowChange,style:{position:"absolute",left:i.arrowX,top:i.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[i.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[i.placedSide],visibility:i.shouldHideArrow?"hidden":void 0},children:h.jsx(yg,{...s,ref:n,style:{...s.style,display:"block"}})})});gl.displayName=ml;function _g(t){return t!==null}var Sg=t=>({name:"transformOrigin",options:t,fn(e){var y,b,w;const{placement:n,rects:r,middlewareData:s}=e,o=((y=s.arrow)==null?void 0:y.centerOffset)!==0,a=o?0:t.arrowWidth,c=o?0:t.arrowHeight,[l,u]=yl(n),d={start:"0%",center:"50%",end:"100%"}[u],p=(((b=s.arrow)==null?void 0:b.x)??0)+a/2,g=(((w=s.arrow)==null?void 0:w.y)??0)+c/2;let v="",m="";return l==="bottom"?(v=o?d:`${p}px`,m=`${-c}px`):l==="top"?(v=o?d:`${p}px`,m=`${r.floating.height+c}px`):l==="right"?(v=`${-c}px`,m=o?d:`${g}px`):l==="left"&&(v=`${r.floating.width+c}px`,m=o?d:`${g}px`),{data:{x:v,y:m}}}});function yl(t){const[e,n="center"]=t.split("-");return[e,n]}var Eg=dl,Cg=hl,Tg=pl,Og=gl,jg="Portal",so=f.forwardRef((t,e)=>{var a;const{container:n,...r}=t,[s,i]=f.useState(!1);be(()=>i(!0),[]);const o=n||s&&((a=globalThis==null?void 0:globalThis.document)==null?void 0:a.body);return o?wf.createPortal(h.jsx(re.div,{...r,ref:e}),o):null});so.displayName=jg;function Ag(t,e){return f.useReducer((n,r)=>e[n][r]??n,t)}var cr=t=>{const{present:e,children:n}=t,r=kg(e),s=typeof n=="function"?n({present:r.isPresent}):f.Children.only(n),i=de(r.ref,Pg(s));return typeof n=="function"||r.isPresent?f.cloneElement(s,{ref:i}):null};cr.displayName="Presence";function kg(t){const[e,n]=f.useState(),r=f.useRef({}),s=f.useRef(t),i=f.useRef("none"),o=t?"mounted":"unmounted",[a,c]=Ag(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return f.useEffect(()=>{const l=br(r.current);i.current=a==="mounted"?l:"none"},[a]),be(()=>{const l=r.current,u=s.current;if(u!==t){const p=i.current,g=br(l);t?c("MOUNT"):g==="none"||(l==null?void 0:l.display)==="none"?c("UNMOUNT"):c(u&&p!==g?"ANIMATION_OUT":"UNMOUNT"),s.current=t}},[t,c]),be(()=>{if(e){let l;const u=e.ownerDocument.defaultView??window,d=g=>{const m=br(r.current).includes(g.animationName);if(g.target===e&&m&&(c("ANIMATION_END"),!s.current)){const y=e.style.animationFillMode;e.style.animationFillMode="forwards",l=u.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=y)})}},p=g=>{g.target===e&&(i.current=br(r.current))};return e.addEventListener("animationstart",p),e.addEventListener("animationcancel",d),e.addEventListener("animationend",d),()=>{u.clearTimeout(l),e.removeEventListener("animationstart",p),e.removeEventListener("animationcancel",d),e.removeEventListener("animationend",d)}}else c("ANIMATION_END")},[e,c]),{isPresent:["mounted","unmountSuspended"].includes(a),ref:f.useCallback(l=>{l&&(r.current=getComputedStyle(l)),n(l)},[])}}function br(t){return(t==null?void 0:t.animationName)||"none"}function Pg(t){var r,s;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function Ur({prop:t,defaultProp:e,onChange:n=()=>{}}){const[r,s]=Rg({defaultProp:e,onChange:n}),i=t!==void 0,o=i?t:r,a=lt(n),c=f.useCallback(l=>{if(i){const d=typeof l=="function"?l(t):l;d!==t&&a(d)}else s(l)},[i,t,s,a]);return[o,c]}function Rg({defaultProp:t,onChange:e}){const n=f.useState(t),[r]=n,s=f.useRef(r),i=lt(e);return f.useEffect(()=>{s.current!==r&&(i(r),s.current=r)},[r,s,i]),n}var $g=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},fn=new WeakMap,wr=new WeakMap,xr={},Bs=0,vl=function(t){return t&&(t.host||vl(t.parentNode))},Ig=function(t,e){return e.map(function(n){if(t.contains(n))return n;var r=vl(n);return r&&t.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",t,". Doing nothing"),null)}).filter(function(n){return!!n})},Ng=function(t,e,n,r){var s=Ig(e,Array.isArray(t)?t:[t]);xr[n]||(xr[n]=new WeakMap);var i=xr[n],o=[],a=new Set,c=new Set(s),l=function(d){!d||a.has(d)||(a.add(d),l(d.parentNode))};s.forEach(l);var u=function(d){!d||c.has(d)||Array.prototype.forEach.call(d.children,function(p){if(a.has(p))u(p);else try{var g=p.getAttribute(r),v=g!==null&&g!=="false",m=(fn.get(p)||0)+1,y=(i.get(p)||0)+1;fn.set(p,m),i.set(p,y),o.push(p),m===1&&v&&wr.set(p,!0),y===1&&p.setAttribute(n,"true"),v||p.setAttribute(r,"true")}catch(b){console.error("aria-hidden: cannot operate on ",p,b)}})};return u(e),a.clear(),Bs++,function(){o.forEach(function(d){var p=fn.get(d)-1,g=i.get(d)-1;fn.set(d,p),i.set(d,g),p||(wr.has(d)||d.removeAttribute(r),wr.delete(d)),g||d.removeAttribute(n)}),Bs--,Bs||(fn=new WeakMap,fn=new WeakMap,wr=new WeakMap,xr={})}},bl=function(t,e,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(t)?t:[t]),s=$g(t);return s?(r.push.apply(r,Array.from(s.querySelectorAll("[aria-live]"))),Ng(r,s,n,"aria-hidden")):function(){return null}},Ze=function(){return Ze=Object.assign||function(e){for(var n,r=1,s=arguments.length;r<s;r++){n=arguments[r];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},Ze.apply(this,arguments)};function wl(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n}function Dg(t,e,n){if(n||arguments.length===2)for(var r=0,s=e.length,i;r<s;r++)(i||!(r in e))&&(i||(i=Array.prototype.slice.call(e,0,r)),i[r]=e[r]);return t.concat(i||Array.prototype.slice.call(e))}var kr="right-scroll-bar-position",Pr="width-before-scroll-bar",Fg="with-scroll-bars-hidden",Lg="--removed-body-scroll-bar-size";function Vs(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function Mg(t,e){var n=f.useState(function(){return{value:t,callback:e,facade:{get current(){return n.value},set current(r){var s=n.value;s!==r&&(n.value=r,n.callback(r,s))}}}})[0];return n.callback=e,n.facade}var Ug=typeof window<"u"?f.useLayoutEffect:f.useEffect,_a=new WeakMap;function Bg(t,e){var n=Mg(null,function(r){return t.forEach(function(s){return Vs(s,r)})});return Ug(function(){var r=_a.get(n);if(r){var s=new Set(r),i=new Set(t),o=n.current;s.forEach(function(a){i.has(a)||Vs(a,null)}),i.forEach(function(a){s.has(a)||Vs(a,o)})}_a.set(n,t)},[t]),n}function Vg(t){return t}function zg(t,e){e===void 0&&(e=Vg);var n=[],r=!1,s={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:t},useMedium:function(i){var o=e(i,r);return n.push(o),function(){n=n.filter(function(a){return a!==o})}},assignSyncMedium:function(i){for(r=!0;n.length;){var o=n;n=[],o.forEach(i)}n={push:function(a){return i(a)},filter:function(){return n}}},assignMedium:function(i){r=!0;var o=[];if(n.length){var a=n;n=[],a.forEach(i),o=n}var c=function(){var u=o;o=[],u.forEach(i)},l=function(){return Promise.resolve().then(c)};l(),n={push:function(u){o.push(u),l()},filter:function(u){return o=o.filter(u),n}}}};return s}function Wg(t){t===void 0&&(t={});var e=zg(null);return e.options=Ze({async:!0,ssr:!1},t),e}var xl=function(t){var e=t.sideCar,n=wl(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=e.read();if(!r)throw new Error("Sidecar medium not found");return f.createElement(r,Ze({},n))};xl.isSideCarExport=!0;function Hg(t,e){return t.useMedium(e),xl}var _l=Wg(),zs=function(){},ss=f.forwardRef(function(t,e){var n=f.useRef(null),r=f.useState({onScrollCapture:zs,onWheelCapture:zs,onTouchMoveCapture:zs}),s=r[0],i=r[1],o=t.forwardProps,a=t.children,c=t.className,l=t.removeScrollBar,u=t.enabled,d=t.shards,p=t.sideCar,g=t.noIsolation,v=t.inert,m=t.allowPinchZoom,y=t.as,b=y===void 0?"div":y,w=t.gapMode,_=wl(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),S=p,C=Bg([n,e]),O=Ze(Ze({},_),s);return f.createElement(f.Fragment,null,u&&f.createElement(S,{sideCar:_l,removeScrollBar:l,shards:d,noIsolation:g,inert:v,setCallbacks:i,allowPinchZoom:!!m,lockRef:n,gapMode:w}),o?f.cloneElement(f.Children.only(a),Ze(Ze({},O),{ref:C})):f.createElement(b,Ze({},O,{className:c,ref:C}),a))});ss.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};ss.classNames={fullWidth:Pr,zeroRight:kr};var qg=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function Kg(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=qg();return e&&t.setAttribute("nonce",e),t}function Gg(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function Jg(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var Yg=function(){var t=0,e=null;return{add:function(n){t==0&&(e=Kg())&&(Gg(e,n),Jg(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},Zg=function(){var t=Yg();return function(e,n){f.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&n])}},Sl=function(){var t=Zg(),e=function(n){var r=n.styles,s=n.dynamic;return t(r,s),null};return e},Qg={left:0,top:0,right:0,gap:0},Ws=function(t){return parseInt(t||"",10)||0},Xg=function(t){var e=window.getComputedStyle(document.body),n=e[t==="padding"?"paddingLeft":"marginLeft"],r=e[t==="padding"?"paddingTop":"marginTop"],s=e[t==="padding"?"paddingRight":"marginRight"];return[Ws(n),Ws(r),Ws(s)]},ey=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return Qg;var e=Xg(t),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,r-n+e[2]-e[0])}},ty=Sl(),xn="data-scroll-locked",ny=function(t,e,n,r){var s=t.left,i=t.top,o=t.right,a=t.gap;return n===void 0&&(n="margin"),`
  .`.concat(Fg,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(a,"px ").concat(r,`;
  }
  body[`).concat(xn,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(s,`px;
    padding-top: `).concat(i,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(a,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(a,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(kr,` {
    right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(Pr,` {
    margin-right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(kr," .").concat(kr,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(Pr," .").concat(Pr,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(xn,`] {
    `).concat(Lg,": ").concat(a,`px;
  }
`)},Sa=function(){var t=parseInt(document.body.getAttribute(xn)||"0",10);return isFinite(t)?t:0},ry=function(){f.useEffect(function(){return document.body.setAttribute(xn,(Sa()+1).toString()),function(){var t=Sa()-1;t<=0?document.body.removeAttribute(xn):document.body.setAttribute(xn,t.toString())}},[])},sy=function(t){var e=t.noRelative,n=t.noImportant,r=t.gapMode,s=r===void 0?"margin":r;ry();var i=f.useMemo(function(){return ey(s)},[s]);return f.createElement(ty,{styles:ny(i,!e,s,n?"":"!important")})},xi=!1;if(typeof window<"u")try{var _r=Object.defineProperty({},"passive",{get:function(){return xi=!0,!0}});window.addEventListener("test",_r,_r),window.removeEventListener("test",_r,_r)}catch{xi=!1}var hn=xi?{passive:!1}:!1,iy=function(t){return t.tagName==="TEXTAREA"},El=function(t,e){if(!(t instanceof Element))return!1;var n=window.getComputedStyle(t);return n[e]!=="hidden"&&!(n.overflowY===n.overflowX&&!iy(t)&&n[e]==="visible")},oy=function(t){return El(t,"overflowY")},ay=function(t){return El(t,"overflowX")},Ea=function(t,e){var n=e.ownerDocument,r=e;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var s=Cl(t,r);if(s){var i=Tl(t,r),o=i[1],a=i[2];if(o>a)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},cy=function(t){var e=t.scrollTop,n=t.scrollHeight,r=t.clientHeight;return[e,n,r]},ly=function(t){var e=t.scrollLeft,n=t.scrollWidth,r=t.clientWidth;return[e,n,r]},Cl=function(t,e){return t==="v"?oy(e):ay(e)},Tl=function(t,e){return t==="v"?cy(e):ly(e)},uy=function(t,e){return t==="h"&&e==="rtl"?-1:1},dy=function(t,e,n,r,s){var i=uy(t,window.getComputedStyle(e).direction),o=i*r,a=n.target,c=e.contains(a),l=!1,u=o>0,d=0,p=0;do{var g=Tl(t,a),v=g[0],m=g[1],y=g[2],b=m-y-i*v;(v||b)&&Cl(t,a)&&(d+=b,p+=v),a instanceof ShadowRoot?a=a.host:a=a.parentNode}while(!c&&a!==document.body||c&&(e.contains(a)||e===a));return(u&&Math.abs(d)<1||!u&&Math.abs(p)<1)&&(l=!0),l},Sr=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},Ca=function(t){return[t.deltaX,t.deltaY]},Ta=function(t){return t&&"current"in t?t.current:t},fy=function(t,e){return t[0]===e[0]&&t[1]===e[1]},hy=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},py=0,pn=[];function my(t){var e=f.useRef([]),n=f.useRef([0,0]),r=f.useRef(),s=f.useState(py++)[0],i=f.useState(Sl)[0],o=f.useRef(t);f.useEffect(function(){o.current=t},[t]),f.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(s));var m=Dg([t.lockRef.current],(t.shards||[]).map(Ta),!0).filter(Boolean);return m.forEach(function(y){return y.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),m.forEach(function(y){return y.classList.remove("allow-interactivity-".concat(s))})}}},[t.inert,t.lockRef.current,t.shards]);var a=f.useCallback(function(m,y){if("touches"in m&&m.touches.length===2||m.type==="wheel"&&m.ctrlKey)return!o.current.allowPinchZoom;var b=Sr(m),w=n.current,_="deltaX"in m?m.deltaX:w[0]-b[0],S="deltaY"in m?m.deltaY:w[1]-b[1],C,O=m.target,E=Math.abs(_)>Math.abs(S)?"h":"v";if("touches"in m&&E==="h"&&O.type==="range")return!1;var I=Ea(E,O);if(!I)return!0;if(I?C=E:(C=E==="v"?"h":"v",I=Ea(E,O)),!I)return!1;if(!r.current&&"changedTouches"in m&&(_||S)&&(r.current=C),!C)return!0;var P=r.current||C;return dy(P,y,m,P==="h"?_:S)},[]),c=f.useCallback(function(m){var y=m;if(!(!pn.length||pn[pn.length-1]!==i)){var b="deltaY"in y?Ca(y):Sr(y),w=e.current.filter(function(C){return C.name===y.type&&(C.target===y.target||y.target===C.shadowParent)&&fy(C.delta,b)})[0];if(w&&w.should){y.cancelable&&y.preventDefault();return}if(!w){var _=(o.current.shards||[]).map(Ta).filter(Boolean).filter(function(C){return C.contains(y.target)}),S=_.length>0?a(y,_[0]):!o.current.noIsolation;S&&y.cancelable&&y.preventDefault()}}},[]),l=f.useCallback(function(m,y,b,w){var _={name:m,delta:y,target:b,should:w,shadowParent:gy(b)};e.current.push(_),setTimeout(function(){e.current=e.current.filter(function(S){return S!==_})},1)},[]),u=f.useCallback(function(m){n.current=Sr(m),r.current=void 0},[]),d=f.useCallback(function(m){l(m.type,Ca(m),m.target,a(m,t.lockRef.current))},[]),p=f.useCallback(function(m){l(m.type,Sr(m),m.target,a(m,t.lockRef.current))},[]);f.useEffect(function(){return pn.push(i),t.setCallbacks({onScrollCapture:d,onWheelCapture:d,onTouchMoveCapture:p}),document.addEventListener("wheel",c,hn),document.addEventListener("touchmove",c,hn),document.addEventListener("touchstart",u,hn),function(){pn=pn.filter(function(m){return m!==i}),document.removeEventListener("wheel",c,hn),document.removeEventListener("touchmove",c,hn),document.removeEventListener("touchstart",u,hn)}},[]);var g=t.removeScrollBar,v=t.inert;return f.createElement(f.Fragment,null,v?f.createElement(i,{styles:hy(s)}):null,g?f.createElement(sy,{gapMode:t.gapMode}):null)}function gy(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const yy=Hg(_l,my);var io=f.forwardRef(function(t,e){return f.createElement(ss,Ze({},t,{ref:e,sideCar:yy}))});io.classNames=ss.classNames;function Oa(t,[e,n]){return Math.min(n,Math.max(e,t))}function vy(t){const e=t+"CollectionProvider",[n,r]=or(e),[s,i]=n(e,{collectionRef:{current:null},itemMap:new Map}),o=g=>{const{scope:v,children:m}=g,y=Lt.useRef(null),b=Lt.useRef(new Map).current;return h.jsx(s,{scope:v,itemMap:b,collectionRef:y,children:m})};o.displayName=e;const a=t+"CollectionSlot",c=Lt.forwardRef((g,v)=>{const{scope:m,children:y}=g,b=i(a,m),w=de(v,b.collectionRef);return h.jsx(An,{ref:w,children:y})});c.displayName=a;const l=t+"CollectionItemSlot",u="data-radix-collection-item",d=Lt.forwardRef((g,v)=>{const{scope:m,children:y,...b}=g,w=Lt.useRef(null),_=de(v,w),S=i(l,m);return Lt.useEffect(()=>(S.itemMap.set(w,{ref:w,...b}),()=>void S.itemMap.delete(w))),h.jsx(An,{[u]:"",ref:_,children:y})});d.displayName=l;function p(g){const v=i(t+"CollectionConsumer",g);return Lt.useCallback(()=>{const y=v.collectionRef.current;if(!y)return[];const b=Array.from(y.querySelectorAll(`[${u}]`));return Array.from(v.itemMap.values()).sort((S,C)=>b.indexOf(S.ref.current)-b.indexOf(C.ref.current))},[v.collectionRef,v.itemMap])}return[{Provider:o,Slot:c,ItemSlot:d},p,r]}var by=f.createContext(void 0);function wy(t){const e=f.useContext(by);return t||e||"ltr"}function Ol(t){const e=f.useRef({value:t,previous:t});return f.useMemo(()=>(e.current.value!==t&&(e.current.previous=e.current.value,e.current.value=t),e.current.previous),[t])}var xy="VisuallyHidden",jl=f.forwardRef((t,e)=>h.jsx(re.span,{...t,ref:e,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...t.style}}));jl.displayName=xy;var _y=[" ","Enter","ArrowUp","ArrowDown"],Sy=[" ","Enter"],lr="Select",[is,os,Ey]=vy(lr),[Dn,OS]=or(lr,[Ey,ll]),as=ll(),[Cy,Rt]=Dn(lr),[Ty,Oy]=Dn(lr),Al=t=>{const{__scopeSelect:e,children:n,open:r,defaultOpen:s,onOpenChange:i,value:o,defaultValue:a,onValueChange:c,dir:l,name:u,autoComplete:d,disabled:p,required:g,form:v}=t,m=as(e),[y,b]=f.useState(null),[w,_]=f.useState(null),[S,C]=f.useState(!1),O=wy(l),[E=!1,I]=Ur({prop:r,defaultProp:s,onChange:i}),[P,L]=Ur({prop:o,defaultProp:a,onChange:c}),k=f.useRef(null),M=y?v||!!y.closest("form"):!0,[F,U]=f.useState(new Set),oe=Array.from(F).map(z=>z.props.value).join(";");return h.jsx(Eg,{...m,children:h.jsxs(Cy,{required:g,scope:e,trigger:y,onTriggerChange:b,valueNode:w,onValueNodeChange:_,valueNodeHasChildren:S,onValueNodeHasChildrenChange:C,contentId:bn(),value:P,onValueChange:L,open:E,onOpenChange:I,dir:O,triggerPointerDownPosRef:k,disabled:p,children:[h.jsx(is.Provider,{scope:e,children:h.jsx(Ty,{scope:t.__scopeSelect,onNativeOptionAdd:f.useCallback(z=>{U(K=>new Set(K).add(z))},[]),onNativeOptionRemove:f.useCallback(z=>{U(K=>{const D=new Set(K);return D.delete(z),D})},[]),children:n})}),M?h.jsxs(eu,{"aria-hidden":!0,required:g,tabIndex:-1,name:u,autoComplete:d,value:P,onChange:z=>L(z.target.value),disabled:p,form:v,children:[P===void 0?h.jsx("option",{value:""}):null,Array.from(F)]},oe):null]})})};Al.displayName=lr;var kl="SelectTrigger",Pl=f.forwardRef((t,e)=>{const{__scopeSelect:n,disabled:r=!1,...s}=t,i=as(n),o=Rt(kl,n),a=o.disabled||r,c=de(e,o.onTriggerChange),l=os(n),u=f.useRef("touch"),[d,p,g]=tu(m=>{const y=l().filter(_=>!_.disabled),b=y.find(_=>_.value===o.value),w=nu(y,m,b);w!==void 0&&o.onValueChange(w.value)}),v=m=>{a||(o.onOpenChange(!0),g()),m&&(o.triggerPointerDownPosRef.current={x:Math.round(m.pageX),y:Math.round(m.pageY)})};return h.jsx(Cg,{asChild:!0,...i,children:h.jsx(re.button,{type:"button",role:"combobox","aria-controls":o.contentId,"aria-expanded":o.open,"aria-required":o.required,"aria-autocomplete":"none",dir:o.dir,"data-state":o.open?"open":"closed",disabled:a,"data-disabled":a?"":void 0,"data-placeholder":Xl(o.value)?"":void 0,...s,ref:c,onClick:ne(s.onClick,m=>{m.currentTarget.focus(),u.current!=="mouse"&&v(m)}),onPointerDown:ne(s.onPointerDown,m=>{u.current=m.pointerType;const y=m.target;y.hasPointerCapture(m.pointerId)&&y.releasePointerCapture(m.pointerId),m.button===0&&m.ctrlKey===!1&&m.pointerType==="mouse"&&(v(m),m.preventDefault())}),onKeyDown:ne(s.onKeyDown,m=>{const y=d.current!=="";!(m.ctrlKey||m.altKey||m.metaKey)&&m.key.length===1&&p(m.key),!(y&&m.key===" ")&&_y.includes(m.key)&&(v(),m.preventDefault())})})})});Pl.displayName=kl;var Rl="SelectValue",$l=f.forwardRef((t,e)=>{const{__scopeSelect:n,className:r,style:s,children:i,placeholder:o="",...a}=t,c=Rt(Rl,n),{onValueNodeHasChildrenChange:l}=c,u=i!==void 0,d=de(e,c.onValueNodeChange);return be(()=>{l(u)},[l,u]),h.jsx(re.span,{...a,ref:d,style:{pointerEvents:"none"},children:Xl(c.value)?h.jsx(h.Fragment,{children:o}):i})});$l.displayName=Rl;var jy="SelectIcon",Il=f.forwardRef((t,e)=>{const{__scopeSelect:n,children:r,...s}=t;return h.jsx(re.span,{"aria-hidden":!0,...s,ref:e,children:r||"▼"})});Il.displayName=jy;var Ay="SelectPortal",Nl=t=>h.jsx(so,{asChild:!0,...t});Nl.displayName=Ay;var Zt="SelectContent",Dl=f.forwardRef((t,e)=>{const n=Rt(Zt,t.__scopeSelect),[r,s]=f.useState();if(be(()=>{s(new DocumentFragment)},[]),!n.open){const i=r;return i?Kr.createPortal(h.jsx(Fl,{scope:t.__scopeSelect,children:h.jsx(is.Slot,{scope:t.__scopeSelect,children:h.jsx("div",{children:t.children})})}),i):null}return h.jsx(Ll,{...t,ref:e})});Dl.displayName=Zt;var Ue=10,[Fl,$t]=Dn(Zt),ky="SelectContentImpl",Ll=f.forwardRef((t,e)=>{const{__scopeSelect:n,position:r="item-aligned",onCloseAutoFocus:s,onEscapeKeyDown:i,onPointerDownOutside:o,side:a,sideOffset:c,align:l,alignOffset:u,arrowPadding:d,collisionBoundary:p,collisionPadding:g,sticky:v,hideWhenDetached:m,avoidCollisions:y,...b}=t,w=Rt(Zt,n),[_,S]=f.useState(null),[C,O]=f.useState(null),E=de(e,$=>S($)),[I,P]=f.useState(null),[L,k]=f.useState(null),M=os(n),[F,U]=f.useState(!1),oe=f.useRef(!1);f.useEffect(()=>{if(_)return bl(_)},[_]),Gc();const z=f.useCallback($=>{const[te,...fe]=M().map(G=>G.ref.current),[Q]=fe.slice(-1),q=document.activeElement;for(const G of $)if(G===q||(G==null||G.scrollIntoView({block:"nearest"}),G===te&&C&&(C.scrollTop=0),G===Q&&C&&(C.scrollTop=C.scrollHeight),G==null||G.focus(),document.activeElement!==q))return},[M,C]),K=f.useCallback(()=>z([I,_]),[z,I,_]);f.useEffect(()=>{F&&K()},[F,K]);const{onOpenChange:D,triggerPointerDownPosRef:ee}=w;f.useEffect(()=>{if(_){let $={x:0,y:0};const te=Q=>{var q,G;$={x:Math.abs(Math.round(Q.pageX)-(((q=ee.current)==null?void 0:q.x)??0)),y:Math.abs(Math.round(Q.pageY)-(((G=ee.current)==null?void 0:G.y)??0))}},fe=Q=>{$.x<=10&&$.y<=10?Q.preventDefault():_.contains(Q.target)||D(!1),document.removeEventListener("pointermove",te),ee.current=null};return ee.current!==null&&(document.addEventListener("pointermove",te),document.addEventListener("pointerup",fe,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",te),document.removeEventListener("pointerup",fe,{capture:!0})}}},[_,D,ee]),f.useEffect(()=>{const $=()=>D(!1);return window.addEventListener("blur",$),window.addEventListener("resize",$),()=>{window.removeEventListener("blur",$),window.removeEventListener("resize",$)}},[D]);const[me,we]=tu($=>{const te=M().filter(q=>!q.disabled),fe=te.find(q=>q.ref.current===document.activeElement),Q=nu(te,$,fe);Q&&setTimeout(()=>Q.ref.current.focus())}),Ie=f.useCallback(($,te,fe)=>{const Q=!oe.current&&!fe;(w.value!==void 0&&w.value===te||Q)&&(P($),Q&&(oe.current=!0))},[w.value]),ht=f.useCallback(()=>_==null?void 0:_.focus(),[_]),Ne=f.useCallback(($,te,fe)=>{const Q=!oe.current&&!fe;(w.value!==void 0&&w.value===te||Q)&&k($)},[w.value]),Oe=r==="popper"?_i:Ml,qe=Oe===_i?{side:a,sideOffset:c,align:l,alignOffset:u,arrowPadding:d,collisionBoundary:p,collisionPadding:g,sticky:v,hideWhenDetached:m,avoidCollisions:y}:{};return h.jsx(Fl,{scope:n,content:_,viewport:C,onViewportChange:O,itemRefCallback:Ie,selectedItem:I,onItemLeave:ht,itemTextRefCallback:Ne,focusSelectedItem:K,selectedItemText:L,position:r,isPositioned:F,searchRef:me,children:h.jsx(io,{as:An,allowPinchZoom:!0,children:h.jsx(Gi,{asChild:!0,trapped:w.open,onMountAutoFocus:$=>{$.preventDefault()},onUnmountAutoFocus:ne(s,$=>{var te;(te=w.trigger)==null||te.focus({preventScroll:!0}),$.preventDefault()}),children:h.jsx(Ki,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:$=>$.preventDefault(),onDismiss:()=>w.onOpenChange(!1),children:h.jsx(Oe,{role:"listbox",id:w.contentId,"data-state":w.open?"open":"closed",dir:w.dir,onContextMenu:$=>$.preventDefault(),...b,...qe,onPlaced:()=>U(!0),ref:E,style:{display:"flex",flexDirection:"column",outline:"none",...b.style},onKeyDown:ne(b.onKeyDown,$=>{const te=$.ctrlKey||$.altKey||$.metaKey;if($.key==="Tab"&&$.preventDefault(),!te&&$.key.length===1&&we($.key),["ArrowUp","ArrowDown","Home","End"].includes($.key)){let Q=M().filter(q=>!q.disabled).map(q=>q.ref.current);if(["ArrowUp","End"].includes($.key)&&(Q=Q.slice().reverse()),["ArrowUp","ArrowDown"].includes($.key)){const q=$.target,G=Q.indexOf(q);Q=Q.slice(G+1)}setTimeout(()=>z(Q)),$.preventDefault()}})})})})})})});Ll.displayName=ky;var Py="SelectItemAlignedPosition",Ml=f.forwardRef((t,e)=>{const{__scopeSelect:n,onPlaced:r,...s}=t,i=Rt(Zt,n),o=$t(Zt,n),[a,c]=f.useState(null),[l,u]=f.useState(null),d=de(e,E=>u(E)),p=os(n),g=f.useRef(!1),v=f.useRef(!0),{viewport:m,selectedItem:y,selectedItemText:b,focusSelectedItem:w}=o,_=f.useCallback(()=>{if(i.trigger&&i.valueNode&&a&&l&&m&&y&&b){const E=i.trigger.getBoundingClientRect(),I=l.getBoundingClientRect(),P=i.valueNode.getBoundingClientRect(),L=b.getBoundingClientRect();if(i.dir!=="rtl"){const q=L.left-I.left,G=P.left-q,ge=E.left-G,De=E.width+ge,Nt=Math.max(De,I.width),Dt=window.innerWidth-Ue,Ft=Oa(G,[Ue,Math.max(Ue,Dt-Nt)]);a.style.minWidth=De+"px",a.style.left=Ft+"px"}else{const q=I.right-L.right,G=window.innerWidth-P.right-q,ge=window.innerWidth-E.right-G,De=E.width+ge,Nt=Math.max(De,I.width),Dt=window.innerWidth-Ue,Ft=Oa(G,[Ue,Math.max(Ue,Dt-Nt)]);a.style.minWidth=De+"px",a.style.right=Ft+"px"}const k=p(),M=window.innerHeight-Ue*2,F=m.scrollHeight,U=window.getComputedStyle(l),oe=parseInt(U.borderTopWidth,10),z=parseInt(U.paddingTop,10),K=parseInt(U.borderBottomWidth,10),D=parseInt(U.paddingBottom,10),ee=oe+z+F+D+K,me=Math.min(y.offsetHeight*5,ee),we=window.getComputedStyle(m),Ie=parseInt(we.paddingTop,10),ht=parseInt(we.paddingBottom,10),Ne=E.top+E.height/2-Ue,Oe=M-Ne,qe=y.offsetHeight/2,$=y.offsetTop+qe,te=oe+z+$,fe=ee-te;if(te<=Ne){const q=k.length>0&&y===k[k.length-1].ref.current;a.style.bottom="0px";const G=l.clientHeight-m.offsetTop-m.offsetHeight,ge=Math.max(Oe,qe+(q?ht:0)+G+K),De=te+ge;a.style.height=De+"px"}else{const q=k.length>0&&y===k[0].ref.current;a.style.top="0px";const ge=Math.max(Ne,oe+m.offsetTop+(q?Ie:0)+qe)+fe;a.style.height=ge+"px",m.scrollTop=te-Ne+m.offsetTop}a.style.margin=`${Ue}px 0`,a.style.minHeight=me+"px",a.style.maxHeight=M+"px",r==null||r(),requestAnimationFrame(()=>g.current=!0)}},[p,i.trigger,i.valueNode,a,l,m,y,b,i.dir,r]);be(()=>_(),[_]);const[S,C]=f.useState();be(()=>{l&&C(window.getComputedStyle(l).zIndex)},[l]);const O=f.useCallback(E=>{E&&v.current===!0&&(_(),w==null||w(),v.current=!1)},[_,w]);return h.jsx($y,{scope:n,contentWrapper:a,shouldExpandOnScrollRef:g,onScrollButtonChange:O,children:h.jsx("div",{ref:c,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:S},children:h.jsx(re.div,{...s,ref:d,style:{boxSizing:"border-box",maxHeight:"100%",...s.style}})})})});Ml.displayName=Py;var Ry="SelectPopperPosition",_i=f.forwardRef((t,e)=>{const{__scopeSelect:n,align:r="start",collisionPadding:s=Ue,...i}=t,o=as(n);return h.jsx(Tg,{...o,...i,ref:e,align:r,collisionPadding:s,style:{boxSizing:"border-box",...i.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});_i.displayName=Ry;var[$y,oo]=Dn(Zt,{}),Si="SelectViewport",Ul=f.forwardRef((t,e)=>{const{__scopeSelect:n,nonce:r,...s}=t,i=$t(Si,n),o=oo(Si,n),a=de(e,i.onViewportChange),c=f.useRef(0);return h.jsxs(h.Fragment,{children:[h.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),h.jsx(is.Slot,{scope:n,children:h.jsx(re.div,{"data-radix-select-viewport":"",role:"presentation",...s,ref:a,style:{position:"relative",flex:1,overflow:"hidden auto",...s.style},onScroll:ne(s.onScroll,l=>{const u=l.currentTarget,{contentWrapper:d,shouldExpandOnScrollRef:p}=o;if(p!=null&&p.current&&d){const g=Math.abs(c.current-u.scrollTop);if(g>0){const v=window.innerHeight-Ue*2,m=parseFloat(d.style.minHeight),y=parseFloat(d.style.height),b=Math.max(m,y);if(b<v){const w=b+g,_=Math.min(v,w),S=w-_;d.style.height=_+"px",d.style.bottom==="0px"&&(u.scrollTop=S>0?S:0,d.style.justifyContent="flex-end")}}}c.current=u.scrollTop})})})]})});Ul.displayName=Si;var Bl="SelectGroup",[Iy,Ny]=Dn(Bl),Dy=f.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,s=bn();return h.jsx(Iy,{scope:n,id:s,children:h.jsx(re.div,{role:"group","aria-labelledby":s,...r,ref:e})})});Dy.displayName=Bl;var Vl="SelectLabel",zl=f.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,s=Ny(Vl,n);return h.jsx(re.div,{id:s.id,...r,ref:e})});zl.displayName=Vl;var Br="SelectItem",[Fy,Wl]=Dn(Br),Hl=f.forwardRef((t,e)=>{const{__scopeSelect:n,value:r,disabled:s=!1,textValue:i,...o}=t,a=Rt(Br,n),c=$t(Br,n),l=a.value===r,[u,d]=f.useState(i??""),[p,g]=f.useState(!1),v=de(e,w=>{var _;return(_=c.itemRefCallback)==null?void 0:_.call(c,w,r,s)}),m=bn(),y=f.useRef("touch"),b=()=>{s||(a.onValueChange(r),a.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return h.jsx(Fy,{scope:n,value:r,disabled:s,textId:m,isSelected:l,onItemTextChange:f.useCallback(w=>{d(_=>_||((w==null?void 0:w.textContent)??"").trim())},[]),children:h.jsx(is.ItemSlot,{scope:n,value:r,disabled:s,textValue:u,children:h.jsx(re.div,{role:"option","aria-labelledby":m,"data-highlighted":p?"":void 0,"aria-selected":l&&p,"data-state":l?"checked":"unchecked","aria-disabled":s||void 0,"data-disabled":s?"":void 0,tabIndex:s?void 0:-1,...o,ref:v,onFocus:ne(o.onFocus,()=>g(!0)),onBlur:ne(o.onBlur,()=>g(!1)),onClick:ne(o.onClick,()=>{y.current!=="mouse"&&b()}),onPointerUp:ne(o.onPointerUp,()=>{y.current==="mouse"&&b()}),onPointerDown:ne(o.onPointerDown,w=>{y.current=w.pointerType}),onPointerMove:ne(o.onPointerMove,w=>{var _;y.current=w.pointerType,s?(_=c.onItemLeave)==null||_.call(c):y.current==="mouse"&&w.currentTarget.focus({preventScroll:!0})}),onPointerLeave:ne(o.onPointerLeave,w=>{var _;w.currentTarget===document.activeElement&&((_=c.onItemLeave)==null||_.call(c))}),onKeyDown:ne(o.onKeyDown,w=>{var S;((S=c.searchRef)==null?void 0:S.current)!==""&&w.key===" "||(Sy.includes(w.key)&&b(),w.key===" "&&w.preventDefault())})})})})});Hl.displayName=Br;var zn="SelectItemText",ql=f.forwardRef((t,e)=>{const{__scopeSelect:n,className:r,style:s,...i}=t,o=Rt(zn,n),a=$t(zn,n),c=Wl(zn,n),l=Oy(zn,n),[u,d]=f.useState(null),p=de(e,b=>d(b),c.onItemTextChange,b=>{var w;return(w=a.itemTextRefCallback)==null?void 0:w.call(a,b,c.value,c.disabled)}),g=u==null?void 0:u.textContent,v=f.useMemo(()=>h.jsx("option",{value:c.value,disabled:c.disabled,children:g},c.value),[c.disabled,c.value,g]),{onNativeOptionAdd:m,onNativeOptionRemove:y}=l;return be(()=>(m(v),()=>y(v)),[m,y,v]),h.jsxs(h.Fragment,{children:[h.jsx(re.span,{id:c.textId,...i,ref:p}),c.isSelected&&o.valueNode&&!o.valueNodeHasChildren?Kr.createPortal(i.children,o.valueNode):null]})});ql.displayName=zn;var Kl="SelectItemIndicator",Gl=f.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t;return Wl(Kl,n).isSelected?h.jsx(re.span,{"aria-hidden":!0,...r,ref:e}):null});Gl.displayName=Kl;var Ei="SelectScrollUpButton",Jl=f.forwardRef((t,e)=>{const n=$t(Ei,t.__scopeSelect),r=oo(Ei,t.__scopeSelect),[s,i]=f.useState(!1),o=de(e,r.onScrollButtonChange);return be(()=>{if(n.viewport&&n.isPositioned){let a=function(){const l=c.scrollTop>0;i(l)};const c=n.viewport;return a(),c.addEventListener("scroll",a),()=>c.removeEventListener("scroll",a)}},[n.viewport,n.isPositioned]),s?h.jsx(Zl,{...t,ref:o,onAutoScroll:()=>{const{viewport:a,selectedItem:c}=n;a&&c&&(a.scrollTop=a.scrollTop-c.offsetHeight)}}):null});Jl.displayName=Ei;var Ci="SelectScrollDownButton",Yl=f.forwardRef((t,e)=>{const n=$t(Ci,t.__scopeSelect),r=oo(Ci,t.__scopeSelect),[s,i]=f.useState(!1),o=de(e,r.onScrollButtonChange);return be(()=>{if(n.viewport&&n.isPositioned){let a=function(){const l=c.scrollHeight-c.clientHeight,u=Math.ceil(c.scrollTop)<l;i(u)};const c=n.viewport;return a(),c.addEventListener("scroll",a),()=>c.removeEventListener("scroll",a)}},[n.viewport,n.isPositioned]),s?h.jsx(Zl,{...t,ref:o,onAutoScroll:()=>{const{viewport:a,selectedItem:c}=n;a&&c&&(a.scrollTop=a.scrollTop+c.offsetHeight)}}):null});Yl.displayName=Ci;var Zl=f.forwardRef((t,e)=>{const{__scopeSelect:n,onAutoScroll:r,...s}=t,i=$t("SelectScrollButton",n),o=f.useRef(null),a=os(n),c=f.useCallback(()=>{o.current!==null&&(window.clearInterval(o.current),o.current=null)},[]);return f.useEffect(()=>()=>c(),[c]),be(()=>{var u;const l=a().find(d=>d.ref.current===document.activeElement);(u=l==null?void 0:l.ref.current)==null||u.scrollIntoView({block:"nearest"})},[a]),h.jsx(re.div,{"aria-hidden":!0,...s,ref:e,style:{flexShrink:0,...s.style},onPointerDown:ne(s.onPointerDown,()=>{o.current===null&&(o.current=window.setInterval(r,50))}),onPointerMove:ne(s.onPointerMove,()=>{var l;(l=i.onItemLeave)==null||l.call(i),o.current===null&&(o.current=window.setInterval(r,50))}),onPointerLeave:ne(s.onPointerLeave,()=>{c()})})}),Ly="SelectSeparator",Ql=f.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t;return h.jsx(re.div,{"aria-hidden":!0,...r,ref:e})});Ql.displayName=Ly;var Ti="SelectArrow",My=f.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,s=as(n),i=Rt(Ti,n),o=$t(Ti,n);return i.open&&o.position==="popper"?h.jsx(Og,{...s,...r,ref:e}):null});My.displayName=Ti;function Xl(t){return t===""||t===void 0}var eu=f.forwardRef((t,e)=>{const{value:n,...r}=t,s=f.useRef(null),i=de(e,s),o=Ol(n);return f.useEffect(()=>{const a=s.current,c=window.HTMLSelectElement.prototype,u=Object.getOwnPropertyDescriptor(c,"value").set;if(o!==n&&u){const d=new Event("change",{bubbles:!0});u.call(a,n),a.dispatchEvent(d)}},[o,n]),h.jsx(jl,{asChild:!0,children:h.jsx("select",{...r,ref:i,defaultValue:n})})});eu.displayName="BubbleSelect";function tu(t){const e=lt(t),n=f.useRef(""),r=f.useRef(0),s=f.useCallback(o=>{const a=n.current+o;e(a),function c(l){n.current=l,window.clearTimeout(r.current),l!==""&&(r.current=window.setTimeout(()=>c(""),1e3))}(a)},[e]),i=f.useCallback(()=>{n.current="",window.clearTimeout(r.current)},[]);return f.useEffect(()=>()=>window.clearTimeout(r.current),[]),[n,s,i]}function nu(t,e,n){const s=e.length>1&&Array.from(e).every(l=>l===e[0])?e[0]:e,i=n?t.indexOf(n):-1;let o=Uy(t,Math.max(i,0));s.length===1&&(o=o.filter(l=>l!==n));const c=o.find(l=>l.textValue.toLowerCase().startsWith(s.toLowerCase()));return c!==n?c:void 0}function Uy(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var By=Al,ru=Pl,Vy=$l,zy=Il,Wy=Nl,su=Dl,Hy=Ul,iu=zl,ou=Hl,qy=ql,Ky=Gl,au=Jl,cu=Yl,lu=Ql;function uu({className:t}){return h.jsx("svg",{width:"27px",height:"27px",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:N("stroke-primary",t),children:h.jsx("path",{d:"M6 9L12 15L18 9",stroke:"#000000",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})}function Gy({className:t}){return h.jsx("svg",{width:"27px",height:"27px",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:N("stroke-primary",t),children:h.jsx("path",{d:"M6 15L12 9L18 15",stroke:"#000000",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})}function du({className:t}){return h.jsx("svg",{width:"27px",height:"27px",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:N("stroke-primary",t),children:h.jsx("path",{d:"M4 12.6111L8.92308 17.5L20 6.5",stroke:"#fff",strokeWidth:"4",strokeLinecap:"round",strokeLinejoin:"round"})})}const Jy=By,Yy=Vy,fu=f.forwardRef(({className:t,children:e,...n},r)=>h.jsxs(ru,{ref:r,className:N("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none  disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",t),...n,children:[e,h.jsx(zy,{asChild:!0,children:h.jsx(uu,{className:"h-4 w-4 opacity-50"})})]}));fu.displayName=ru.displayName;const hu=f.forwardRef(({className:t,...e},n)=>h.jsx(au,{ref:n,className:N("flex cursor-default items-center justify-center py-1",t),...e,children:h.jsx(Gy,{className:"h-4 w-4"})}));hu.displayName=au.displayName;const pu=f.forwardRef(({className:t,...e},n)=>h.jsx(cu,{ref:n,className:N("flex cursor-default items-center justify-center py-1",t),...e,children:h.jsx(uu,{className:"h-4 w-4"})}));pu.displayName=cu.displayName;const mu=f.forwardRef(({className:t,children:e,position:n="popper",...r},s)=>h.jsx(Wy,{children:h.jsxs(su,{ref:s,className:N("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:n,...r,children:[h.jsx(hu,{}),h.jsx(Hy,{className:N("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:e}),h.jsx(pu,{})]})}));mu.displayName=su.displayName;const Zy=f.forwardRef(({className:t,...e},n)=>h.jsx(iu,{ref:n,className:N("py-1.5 pl-8 pr-2 text-sm font-semibold",t),...e}));Zy.displayName=iu.displayName;const Oi=f.forwardRef(({className:t,children:e,...n},r)=>h.jsxs(ou,{ref:r,className:N("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...n,children:[h.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:h.jsx(Ky,{children:h.jsx(du,{className:"h-4 w-4"})})}),h.jsx(qy,{children:e})]}));Oi.displayName=ou.displayName;const Qy=f.forwardRef(({className:t,...e},n)=>h.jsx(lu,{ref:n,className:N("-mx-1 my-1 h-px bg-muted",t),...e}));Qy.displayName=lu.displayName;function gu(){return h.jsxs("div",{className:"flex space-x-5 justify-center h-full items-center",children:[h.jsx("span",{className:"sr-only",children:"Loading..."}),h.jsx("div",{className:"size-6 bg-primary rounded-full animate-bounce [animation-delay:-0.3s]"}),h.jsx("div",{className:"size-6 bg-primary rounded-full animate-bounce [animation-delay:-0.15s]"}),h.jsx("div",{className:"size-6 bg-primary rounded-full animate-bounce"})]})}var ao="Dialog",[yu,jS]=or(ao),[Xy,He]=yu(ao),vu=t=>{const{__scopeDialog:e,children:n,open:r,defaultOpen:s,onOpenChange:i,modal:o=!0}=t,a=f.useRef(null),c=f.useRef(null),[l=!1,u]=Ur({prop:r,defaultProp:s,onChange:i});return h.jsx(Xy,{scope:e,triggerRef:a,contentRef:c,contentId:bn(),titleId:bn(),descriptionId:bn(),open:l,onOpenChange:u,onOpenToggle:f.useCallback(()=>u(d=>!d),[u]),modal:o,children:n})};vu.displayName=ao;var bu="DialogTrigger",wu=f.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=He(bu,n),i=de(e,s.triggerRef);return h.jsx(re.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":uo(s.open),...r,ref:i,onClick:ne(t.onClick,s.onOpenToggle)})});wu.displayName=bu;var co="DialogPortal",[ev,xu]=yu(co,{forceMount:void 0}),_u=t=>{const{__scopeDialog:e,forceMount:n,children:r,container:s}=t,i=He(co,e);return h.jsx(ev,{scope:e,forceMount:n,children:f.Children.map(r,o=>h.jsx(cr,{present:n||i.open,children:h.jsx(so,{asChild:!0,container:s,children:o})}))})};_u.displayName=co;var Vr="DialogOverlay",Su=f.forwardRef((t,e)=>{const n=xu(Vr,t.__scopeDialog),{forceMount:r=n.forceMount,...s}=t,i=He(Vr,t.__scopeDialog);return i.modal?h.jsx(cr,{present:r||i.open,children:h.jsx(tv,{...s,ref:e})}):null});Su.displayName=Vr;var tv=f.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=He(Vr,n);return h.jsx(io,{as:An,allowPinchZoom:!0,shards:[s.contentRef],children:h.jsx(re.div,{"data-state":uo(s.open),...r,ref:e,style:{pointerEvents:"auto",...r.style}})})}),Qt="DialogContent",Eu=f.forwardRef((t,e)=>{const n=xu(Qt,t.__scopeDialog),{forceMount:r=n.forceMount,...s}=t,i=He(Qt,t.__scopeDialog);return h.jsx(cr,{present:r||i.open,children:i.modal?h.jsx(nv,{...s,ref:e}):h.jsx(rv,{...s,ref:e})})});Eu.displayName=Qt;var nv=f.forwardRef((t,e)=>{const n=He(Qt,t.__scopeDialog),r=f.useRef(null),s=de(e,n.contentRef,r);return f.useEffect(()=>{const i=r.current;if(i)return bl(i)},[]),h.jsx(Cu,{...t,ref:s,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:ne(t.onCloseAutoFocus,i=>{var o;i.preventDefault(),(o=n.triggerRef.current)==null||o.focus()}),onPointerDownOutside:ne(t.onPointerDownOutside,i=>{const o=i.detail.originalEvent,a=o.button===0&&o.ctrlKey===!0;(o.button===2||a)&&i.preventDefault()}),onFocusOutside:ne(t.onFocusOutside,i=>i.preventDefault())})}),rv=f.forwardRef((t,e)=>{const n=He(Qt,t.__scopeDialog),r=f.useRef(!1),s=f.useRef(!1);return h.jsx(Cu,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var o,a;(o=t.onCloseAutoFocus)==null||o.call(t,i),i.defaultPrevented||(r.current||(a=n.triggerRef.current)==null||a.focus(),i.preventDefault()),r.current=!1,s.current=!1},onInteractOutside:i=>{var c,l;(c=t.onInteractOutside)==null||c.call(t,i),i.defaultPrevented||(r.current=!0,i.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const o=i.target;((l=n.triggerRef.current)==null?void 0:l.contains(o))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&s.current&&i.preventDefault()}})}),Cu=f.forwardRef((t,e)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:s,onCloseAutoFocus:i,...o}=t,a=He(Qt,n),c=f.useRef(null),l=de(e,c);return Gc(),h.jsxs(h.Fragment,{children:[h.jsx(Gi,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:s,onUnmountAutoFocus:i,children:h.jsx(Ki,{role:"dialog",id:a.contentId,"aria-describedby":a.descriptionId,"aria-labelledby":a.titleId,"data-state":uo(a.open),...o,ref:l,onDismiss:()=>a.onOpenChange(!1)})}),h.jsxs(h.Fragment,{children:[h.jsx(sv,{titleId:a.titleId}),h.jsx(ov,{contentRef:c,descriptionId:a.descriptionId})]})]})}),lo="DialogTitle",Tu=f.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=He(lo,n);return h.jsx(re.h2,{id:s.titleId,...r,ref:e})});Tu.displayName=lo;var Ou="DialogDescription",ju=f.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=He(Ou,n);return h.jsx(re.p,{id:s.descriptionId,...r,ref:e})});ju.displayName=Ou;var Au="DialogClose",ku=f.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=He(Au,n);return h.jsx(re.button,{type:"button",...r,ref:e,onClick:ne(t.onClick,()=>s.onOpenChange(!1))})});ku.displayName=Au;function uo(t){return t?"open":"closed"}var Pu="DialogTitleWarning",[AS,Ru]=Qp(Pu,{contentName:Qt,titleName:lo,docsSlug:"dialog"}),sv=({titleId:t})=>{const e=Ru(Pu),n=`\`${e.contentName}\` requires a \`${e.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${e.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${e.docsSlug}`;return f.useEffect(()=>{t&&(document.getElementById(t)||console.error(n))},[n,t]),null},iv="DialogDescriptionWarning",ov=({contentRef:t,descriptionId:e})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${Ru(iv).contentName}}.`;return f.useEffect(()=>{var i;const s=(i=t.current)==null?void 0:i.getAttribute("aria-describedby");e&&s&&(document.getElementById(e)||console.warn(r))},[r,t,e]),null},$u=vu,Iu=wu,Nu=_u,cs=Su,ls=Eu,us=Tu,ds=ju,Du=ku;function Fu({className:t}){return h.jsx("svg",{width:"27px",height:"27px",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:N("",t),children:h.jsx("path",{d:"M20.7457 3.32851C20.3552 2.93798 19.722 2.93798 19.3315 3.32851L12.0371 10.6229L4.74275 3.32851C4.35223 2.93798 3.71906 2.93798 3.32854 3.32851C2.93801 3.71903 2.93801 4.3522 3.32854 4.74272L10.6229 12.0371L3.32856 19.3314C2.93803 19.722 2.93803 20.3551 3.32856 20.7457C3.71908 21.1362 4.35225 21.1362 4.74277 20.7457L12.0371 13.4513L19.3315 20.7457C19.722 21.1362 20.3552 21.1362 20.7457 20.7457C21.1362 20.3551 21.1362 19.722 20.7457 19.3315L13.4513 12.0371L20.7457 4.74272C21.1362 4.3522 21.1362 3.71903 20.7457 3.32851Z",fill:"#0F0F0F"})})}const av=$u,cv=Iu,lv=Nu,Lu=f.forwardRef(({className:t,...e},n)=>h.jsx(cs,{ref:n,className:N("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e}));Lu.displayName=cs.displayName;const Mu=f.forwardRef(({className:t,children:e,...n},r)=>h.jsxs(lv,{children:[h.jsx(Lu,{}),h.jsx(ls,{ref:r,className:N("fixed left-[50%] h-full top-[50%] py-5 px-3 z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...n,children:e})]}));Mu.displayName=ls.displayName;const Uu=({className:t,...e})=>h.jsxs("div",{className:"flex justify-between",children:[h.jsx("div",{className:N("flex flex-col space-y-1.5 text-center sm:text-left",t),...e}),h.jsxs(Du,{className:"flex flex-col h-fit w-fit focus:ring-transparent focus:ring-0 items-end rounded-sm opacity-70 transition-opacity hover:opacity-100 focus:outline-none disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[h.jsx(Fu,{}),h.jsx("span",{className:"sr-only",children:"Close"})]})]});Uu.displayName="DialogHeader";const Bu=({className:t,...e})=>h.jsx("div",{className:N("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...e});Bu.displayName="DialogFooter";const Vu=f.forwardRef(({className:t,...e},n)=>h.jsx(us,{ref:n,className:N("text-lg font-semibold leading-none tracking-tight",t),...e}));Vu.displayName=us.displayName;const uv=f.forwardRef(({className:t,...e},n)=>h.jsx(ds,{ref:n,className:N("text-sm text-muted-foreground",t),...e}));uv.displayName=ds.displayName;const zu=({onClose:t,trigger:e,className:n,toggle:r,title:s,isOpen:i,children:o,forceModal:a,actions:c})=>{const l=u=>{r(u),u||t==null||t()};return h.jsxs(av,{open:i,modal:a,onOpenChange:l,children:[e&&h.jsx(cv,{children:e}),h.jsx(Mu,{forceMount:!0,className:N("max-md:max-h-[90%]",n),children:h.jsxs("div",{className:"flex flex-col overflow-hidden",children:[h.jsx(Uu,{className:"mb-7",children:s&&h.jsx(Vu,{className:"text-xl",children:s})}),h.jsx("div",{className:"flex-1 overflow-hidden",children:o}),c&&h.jsx(Bu,{children:c})]})})]})};function Wu({isOpen:t,setIsOpen:e,children:n,className:r,trigger:s,title:i}){return h.jsx(zu,{title:i,className:N("max-w-none lg:w-3/4 xl:w-1/2 w-10/12 md:h-fit overflow-hidden rounded-lg",r),isOpen:t,toggle:o=>e(o??!1),trigger:s,children:n})}function kS({label:t="لا توجد نتائج"}){return h.jsx("p",{className:"text-2xl max-sm:text-base text-center text-slate-500 flex-1",children:t})}var dv=function(e){return fv(e)&&!hv(e)};function fv(t){return!!t&&typeof t=="object"}function hv(t){var e=Object.prototype.toString.call(t);return e==="[object RegExp]"||e==="[object Date]"||gv(t)}var pv=typeof Symbol=="function"&&Symbol.for,mv=pv?Symbol.for("react.element"):60103;function gv(t){return t.$$typeof===mv}function yv(t){return Array.isArray(t)?[]:{}}function zr(t,e){return e.clone!==!1&&e.isMergeableObject(t)?Zn(yv(t),t,e):t}function vv(t,e,n){return t.concat(e).map(function(r){return zr(r,n)})}function bv(t,e,n){var r={};return n.isMergeableObject(t)&&Object.keys(t).forEach(function(s){r[s]=zr(t[s],n)}),Object.keys(e).forEach(function(s){!n.isMergeableObject(e[s])||!t[s]?r[s]=zr(e[s],n):r[s]=Zn(t[s],e[s],n)}),r}function Zn(t,e,n){n=n||{},n.arrayMerge=n.arrayMerge||vv,n.isMergeableObject=n.isMergeableObject||dv;var r=Array.isArray(e),s=Array.isArray(t),i=r===s;return i?r?n.arrayMerge(t,e,n):bv(t,e,n):zr(e,n)}Zn.all=function(e,n){if(!Array.isArray(e))throw new Error("first argument should be an array");return e.reduce(function(r,s){return Zn(r,s,n)},{})};var ji=Zn,Hu=typeof global=="object"&&global&&global.Object===Object&&global,wv=typeof self=="object"&&self&&self.Object===Object&&self,tt=Hu||wv||Function("return this")(),kt=tt.Symbol,qu=Object.prototype,xv=qu.hasOwnProperty,_v=qu.toString,Un=kt?kt.toStringTag:void 0;function Sv(t){var e=xv.call(t,Un),n=t[Un];try{t[Un]=void 0;var r=!0}catch{}var s=_v.call(t);return r&&(e?t[Un]=n:delete t[Un]),s}var Ev=Object.prototype,Cv=Ev.toString;function Tv(t){return Cv.call(t)}var Ov="[object Null]",jv="[object Undefined]",ja=kt?kt.toStringTag:void 0;function nn(t){return t==null?t===void 0?jv:Ov:ja&&ja in Object(t)?Sv(t):Tv(t)}function Ku(t,e){return function(n){return t(e(n))}}var fo=Ku(Object.getPrototypeOf,Object);function rn(t){return t!=null&&typeof t=="object"}var Av="[object Object]",kv=Function.prototype,Pv=Object.prototype,Gu=kv.toString,Rv=Pv.hasOwnProperty,$v=Gu.call(Object);function Aa(t){if(!rn(t)||nn(t)!=Av)return!1;var e=fo(t);if(e===null)return!0;var n=Rv.call(e,"constructor")&&e.constructor;return typeof n=="function"&&n instanceof n&&Gu.call(n)==$v}function Iv(){this.__data__=[],this.size=0}function Ju(t,e){return t===e||t!==t&&e!==e}function fs(t,e){for(var n=t.length;n--;)if(Ju(t[n][0],e))return n;return-1}var Nv=Array.prototype,Dv=Nv.splice;function Fv(t){var e=this.__data__,n=fs(e,t);if(n<0)return!1;var r=e.length-1;return n==r?e.pop():Dv.call(e,n,1),--this.size,!0}function Lv(t){var e=this.__data__,n=fs(e,t);return n<0?void 0:e[n][1]}function Mv(t){return fs(this.__data__,t)>-1}function Uv(t,e){var n=this.__data__,r=fs(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this}function ft(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}ft.prototype.clear=Iv;ft.prototype.delete=Fv;ft.prototype.get=Lv;ft.prototype.has=Mv;ft.prototype.set=Uv;function Bv(){this.__data__=new ft,this.size=0}function Vv(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n}function zv(t){return this.__data__.get(t)}function Wv(t){return this.__data__.has(t)}function ur(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var Hv="[object AsyncFunction]",qv="[object Function]",Kv="[object GeneratorFunction]",Gv="[object Proxy]";function Yu(t){if(!ur(t))return!1;var e=nn(t);return e==qv||e==Kv||e==Hv||e==Gv}var Hs=tt["__core-js_shared__"],ka=function(){var t=/[^.]+$/.exec(Hs&&Hs.keys&&Hs.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function Jv(t){return!!ka&&ka in t}var Yv=Function.prototype,Zv=Yv.toString;function sn(t){if(t!=null){try{return Zv.call(t)}catch{}try{return t+""}catch{}}return""}var Qv=/[\\^$.*+?()[\]{}|]/g,Xv=/^\[object .+?Constructor\]$/,eb=Function.prototype,tb=Object.prototype,nb=eb.toString,rb=tb.hasOwnProperty,sb=RegExp("^"+nb.call(rb).replace(Qv,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function ib(t){if(!ur(t)||Jv(t))return!1;var e=Yu(t)?sb:Xv;return e.test(sn(t))}function ob(t,e){return t==null?void 0:t[e]}function on(t,e){var n=ob(t,e);return ib(n)?n:void 0}var Qn=on(tt,"Map"),Xn=on(Object,"create");function ab(){this.__data__=Xn?Xn(null):{},this.size=0}function cb(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var lb="__lodash_hash_undefined__",ub=Object.prototype,db=ub.hasOwnProperty;function fb(t){var e=this.__data__;if(Xn){var n=e[t];return n===lb?void 0:n}return db.call(e,t)?e[t]:void 0}var hb=Object.prototype,pb=hb.hasOwnProperty;function mb(t){var e=this.__data__;return Xn?e[t]!==void 0:pb.call(e,t)}var gb="__lodash_hash_undefined__";function yb(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=Xn&&e===void 0?gb:e,this}function Xt(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Xt.prototype.clear=ab;Xt.prototype.delete=cb;Xt.prototype.get=fb;Xt.prototype.has=mb;Xt.prototype.set=yb;function vb(){this.size=0,this.__data__={hash:new Xt,map:new(Qn||ft),string:new Xt}}function bb(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}function hs(t,e){var n=t.__data__;return bb(e)?n[typeof e=="string"?"string":"hash"]:n.map}function wb(t){var e=hs(this,t).delete(t);return this.size-=e?1:0,e}function xb(t){return hs(this,t).get(t)}function _b(t){return hs(this,t).has(t)}function Sb(t,e){var n=hs(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this}function It(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}It.prototype.clear=vb;It.prototype.delete=wb;It.prototype.get=xb;It.prototype.has=_b;It.prototype.set=Sb;var Eb=200;function Cb(t,e){var n=this.__data__;if(n instanceof ft){var r=n.__data__;if(!Qn||r.length<Eb-1)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new It(r)}return n.set(t,e),this.size=n.size,this}function Fn(t){var e=this.__data__=new ft(t);this.size=e.size}Fn.prototype.clear=Bv;Fn.prototype.delete=Vv;Fn.prototype.get=zv;Fn.prototype.has=Wv;Fn.prototype.set=Cb;function Tb(t,e){for(var n=-1,r=t==null?0:t.length;++n<r&&e(t[n],n,t)!==!1;);return t}var Pa=function(){try{var t=on(Object,"defineProperty");return t({},"",{}),t}catch{}}();function Zu(t,e,n){e=="__proto__"&&Pa?Pa(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}var Ob=Object.prototype,jb=Ob.hasOwnProperty;function Qu(t,e,n){var r=t[e];(!(jb.call(t,e)&&Ju(r,n))||n===void 0&&!(e in t))&&Zu(t,e,n)}function ps(t,e,n,r){var s=!n;n||(n={});for(var i=-1,o=e.length;++i<o;){var a=e[i],c=void 0;c===void 0&&(c=t[a]),s?Zu(n,a,c):Qu(n,a,c)}return n}function Ab(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}var kb="[object Arguments]";function Ra(t){return rn(t)&&nn(t)==kb}var Xu=Object.prototype,Pb=Xu.hasOwnProperty,Rb=Xu.propertyIsEnumerable,$b=Ra(function(){return arguments}())?Ra:function(t){return rn(t)&&Pb.call(t,"callee")&&!Rb.call(t,"callee")},dr=Array.isArray;function Ib(){return!1}var ed=typeof exports=="object"&&exports&&!exports.nodeType&&exports,$a=ed&&typeof module=="object"&&module&&!module.nodeType&&module,Nb=$a&&$a.exports===ed,Ia=Nb?tt.Buffer:void 0,Db=Ia?Ia.isBuffer:void 0,td=Db||Ib,Fb=9007199254740991,Lb=/^(?:0|[1-9]\d*)$/;function Mb(t,e){var n=typeof t;return e=e??Fb,!!e&&(n=="number"||n!="symbol"&&Lb.test(t))&&t>-1&&t%1==0&&t<e}var Ub=9007199254740991;function nd(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=Ub}var Bb="[object Arguments]",Vb="[object Array]",zb="[object Boolean]",Wb="[object Date]",Hb="[object Error]",qb="[object Function]",Kb="[object Map]",Gb="[object Number]",Jb="[object Object]",Yb="[object RegExp]",Zb="[object Set]",Qb="[object String]",Xb="[object WeakMap]",ew="[object ArrayBuffer]",tw="[object DataView]",nw="[object Float32Array]",rw="[object Float64Array]",sw="[object Int8Array]",iw="[object Int16Array]",ow="[object Int32Array]",aw="[object Uint8Array]",cw="[object Uint8ClampedArray]",lw="[object Uint16Array]",uw="[object Uint32Array]",ce={};ce[nw]=ce[rw]=ce[sw]=ce[iw]=ce[ow]=ce[aw]=ce[cw]=ce[lw]=ce[uw]=!0;ce[Bb]=ce[Vb]=ce[ew]=ce[zb]=ce[tw]=ce[Wb]=ce[Hb]=ce[qb]=ce[Kb]=ce[Gb]=ce[Jb]=ce[Yb]=ce[Zb]=ce[Qb]=ce[Xb]=!1;function dw(t){return rn(t)&&nd(t.length)&&!!ce[nn(t)]}function ho(t){return function(e){return t(e)}}var rd=typeof exports=="object"&&exports&&!exports.nodeType&&exports,qn=rd&&typeof module=="object"&&module&&!module.nodeType&&module,fw=qn&&qn.exports===rd,qs=fw&&Hu.process,Pn=function(){try{var t=qn&&qn.require&&qn.require("util").types;return t||qs&&qs.binding&&qs.binding("util")}catch{}}(),Na=Pn&&Pn.isTypedArray,hw=Na?ho(Na):dw,pw=Object.prototype,mw=pw.hasOwnProperty;function sd(t,e){var n=dr(t),r=!n&&$b(t),s=!n&&!r&&td(t),i=!n&&!r&&!s&&hw(t),o=n||r||s||i,a=o?Ab(t.length,String):[],c=a.length;for(var l in t)(e||mw.call(t,l))&&!(o&&(l=="length"||s&&(l=="offset"||l=="parent")||i&&(l=="buffer"||l=="byteLength"||l=="byteOffset")||Mb(l,c)))&&a.push(l);return a}var gw=Object.prototype;function po(t){var e=t&&t.constructor,n=typeof e=="function"&&e.prototype||gw;return t===n}var yw=Ku(Object.keys,Object),vw=Object.prototype,bw=vw.hasOwnProperty;function ww(t){if(!po(t))return yw(t);var e=[];for(var n in Object(t))bw.call(t,n)&&n!="constructor"&&e.push(n);return e}function id(t){return t!=null&&nd(t.length)&&!Yu(t)}function mo(t){return id(t)?sd(t):ww(t)}function xw(t,e){return t&&ps(e,mo(e),t)}function _w(t){var e=[];if(t!=null)for(var n in Object(t))e.push(n);return e}var Sw=Object.prototype,Ew=Sw.hasOwnProperty;function Cw(t){if(!ur(t))return _w(t);var e=po(t),n=[];for(var r in t)r=="constructor"&&(e||!Ew.call(t,r))||n.push(r);return n}function go(t){return id(t)?sd(t,!0):Cw(t)}function Tw(t,e){return t&&ps(e,go(e),t)}var od=typeof exports=="object"&&exports&&!exports.nodeType&&exports,Da=od&&typeof module=="object"&&module&&!module.nodeType&&module,Ow=Da&&Da.exports===od,Fa=Ow?tt.Buffer:void 0,La=Fa?Fa.allocUnsafe:void 0;function jw(t,e){if(e)return t.slice();var n=t.length,r=La?La(n):new t.constructor(n);return t.copy(r),r}function ad(t,e){var n=-1,r=t.length;for(e||(e=Array(r));++n<r;)e[n]=t[n];return e}function Aw(t,e){for(var n=-1,r=t==null?0:t.length,s=0,i=[];++n<r;){var o=t[n];e(o,n,t)&&(i[s++]=o)}return i}function cd(){return[]}var kw=Object.prototype,Pw=kw.propertyIsEnumerable,Ma=Object.getOwnPropertySymbols,yo=Ma?function(t){return t==null?[]:(t=Object(t),Aw(Ma(t),function(e){return Pw.call(t,e)}))}:cd;function Rw(t,e){return ps(t,yo(t),e)}function ld(t,e){for(var n=-1,r=e.length,s=t.length;++n<r;)t[s+n]=e[n];return t}var $w=Object.getOwnPropertySymbols,ud=$w?function(t){for(var e=[];t;)ld(e,yo(t)),t=fo(t);return e}:cd;function Iw(t,e){return ps(t,ud(t),e)}function dd(t,e,n){var r=e(t);return dr(t)?r:ld(r,n(t))}function Nw(t){return dd(t,mo,yo)}function Dw(t){return dd(t,go,ud)}var Ai=on(tt,"DataView"),ki=on(tt,"Promise"),Pi=on(tt,"Set"),Ri=on(tt,"WeakMap"),Ua="[object Map]",Fw="[object Object]",Ba="[object Promise]",Va="[object Set]",za="[object WeakMap]",Wa="[object DataView]",Lw=sn(Ai),Mw=sn(Qn),Uw=sn(ki),Bw=sn(Pi),Vw=sn(Ri),it=nn;(Ai&&it(new Ai(new ArrayBuffer(1)))!=Wa||Qn&&it(new Qn)!=Ua||ki&&it(ki.resolve())!=Ba||Pi&&it(new Pi)!=Va||Ri&&it(new Ri)!=za)&&(it=function(t){var e=nn(t),n=e==Fw?t.constructor:void 0,r=n?sn(n):"";if(r)switch(r){case Lw:return Wa;case Mw:return Ua;case Uw:return Ba;case Bw:return Va;case Vw:return za}return e});var zw=Object.prototype,Ww=zw.hasOwnProperty;function Hw(t){var e=t.length,n=new t.constructor(e);return e&&typeof t[0]=="string"&&Ww.call(t,"index")&&(n.index=t.index,n.input=t.input),n}var Ha=tt.Uint8Array;function vo(t){var e=new t.constructor(t.byteLength);return new Ha(e).set(new Ha(t)),e}function qw(t,e){var n=e?vo(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.byteLength)}var Kw=/\w*$/;function Gw(t){var e=new t.constructor(t.source,Kw.exec(t));return e.lastIndex=t.lastIndex,e}var qa=kt?kt.prototype:void 0,Ka=qa?qa.valueOf:void 0;function Jw(t){return Ka?Object(Ka.call(t)):{}}function Yw(t,e){var n=e?vo(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)}var Zw="[object Boolean]",Qw="[object Date]",Xw="[object Map]",e0="[object Number]",t0="[object RegExp]",n0="[object Set]",r0="[object String]",s0="[object Symbol]",i0="[object ArrayBuffer]",o0="[object DataView]",a0="[object Float32Array]",c0="[object Float64Array]",l0="[object Int8Array]",u0="[object Int16Array]",d0="[object Int32Array]",f0="[object Uint8Array]",h0="[object Uint8ClampedArray]",p0="[object Uint16Array]",m0="[object Uint32Array]";function g0(t,e,n){var r=t.constructor;switch(e){case i0:return vo(t);case Zw:case Qw:return new r(+t);case o0:return qw(t,n);case a0:case c0:case l0:case u0:case d0:case f0:case h0:case p0:case m0:return Yw(t,n);case Xw:return new r;case e0:case r0:return new r(t);case t0:return Gw(t);case n0:return new r;case s0:return Jw(t)}}var Ga=Object.create,y0=function(){function t(){}return function(e){if(!ur(e))return{};if(Ga)return Ga(e);t.prototype=e;var n=new t;return t.prototype=void 0,n}}();function v0(t){return typeof t.constructor=="function"&&!po(t)?y0(fo(t)):{}}var b0="[object Map]";function w0(t){return rn(t)&&it(t)==b0}var Ja=Pn&&Pn.isMap,x0=Ja?ho(Ja):w0,_0="[object Set]";function S0(t){return rn(t)&&it(t)==_0}var Ya=Pn&&Pn.isSet,E0=Ya?ho(Ya):S0,C0=1,T0=2,O0=4,fd="[object Arguments]",j0="[object Array]",A0="[object Boolean]",k0="[object Date]",P0="[object Error]",hd="[object Function]",R0="[object GeneratorFunction]",$0="[object Map]",I0="[object Number]",pd="[object Object]",N0="[object RegExp]",D0="[object Set]",F0="[object String]",L0="[object Symbol]",M0="[object WeakMap]",U0="[object ArrayBuffer]",B0="[object DataView]",V0="[object Float32Array]",z0="[object Float64Array]",W0="[object Int8Array]",H0="[object Int16Array]",q0="[object Int32Array]",K0="[object Uint8Array]",G0="[object Uint8ClampedArray]",J0="[object Uint16Array]",Y0="[object Uint32Array]",ie={};ie[fd]=ie[j0]=ie[U0]=ie[B0]=ie[A0]=ie[k0]=ie[V0]=ie[z0]=ie[W0]=ie[H0]=ie[q0]=ie[$0]=ie[I0]=ie[pd]=ie[N0]=ie[D0]=ie[F0]=ie[L0]=ie[K0]=ie[G0]=ie[J0]=ie[Y0]=!0;ie[P0]=ie[hd]=ie[M0]=!1;function Kn(t,e,n,r,s,i){var o,a=e&C0,c=e&T0,l=e&O0;if(o!==void 0)return o;if(!ur(t))return t;var u=dr(t);if(u){if(o=Hw(t),!a)return ad(t,o)}else{var d=it(t),p=d==hd||d==R0;if(td(t))return jw(t,a);if(d==pd||d==fd||p&&!s){if(o=c||p?{}:v0(t),!a)return c?Iw(t,Tw(o,t)):Rw(t,xw(o,t))}else{if(!ie[d])return s?t:{};o=g0(t,d,a)}}i||(i=new Fn);var g=i.get(t);if(g)return g;i.set(t,o),E0(t)?t.forEach(function(y){o.add(Kn(y,e,n,y,t,i))}):x0(t)&&t.forEach(function(y,b){o.set(b,Kn(y,e,n,b,t,i))});var v=l?c?Dw:Nw:c?go:mo,m=u?void 0:v(t);return Tb(m||t,function(y,b){m&&(b=y,y=t[b]),Qu(o,b,Kn(y,e,n,b,t,i))}),o}var Z0=1,Q0=4;function Er(t){return Kn(t,Z0|Q0)}var Za=Array.isArray,Qa=Object.keys,X0=Object.prototype.hasOwnProperty,ex=typeof Element<"u";function $i(t,e){if(t===e)return!0;if(t&&e&&typeof t=="object"&&typeof e=="object"){var n=Za(t),r=Za(e),s,i,o;if(n&&r){if(i=t.length,i!=e.length)return!1;for(s=i;s--!==0;)if(!$i(t[s],e[s]))return!1;return!0}if(n!=r)return!1;var a=t instanceof Date,c=e instanceof Date;if(a!=c)return!1;if(a&&c)return t.getTime()==e.getTime();var l=t instanceof RegExp,u=e instanceof RegExp;if(l!=u)return!1;if(l&&u)return t.toString()==e.toString();var d=Qa(t);if(i=d.length,i!==Qa(e).length)return!1;for(s=i;s--!==0;)if(!X0.call(e,d[s]))return!1;if(ex&&t instanceof Element&&e instanceof Element)return t===e;for(s=i;s--!==0;)if(o=d[s],!(o==="_owner"&&t.$$typeof)&&!$i(t[o],e[o]))return!1;return!0}return t!==t&&e!==e}var tx=function(e,n){try{return $i(e,n)}catch(r){if(r.message&&r.message.match(/stack|recursion/i)||r.number===-2146828260)return console.warn("Warning: react-fast-compare does not handle circular references.",r.name,r.message),!1;throw r}};const Vt=pc(tx);var nx=4;function Xa(t){return Kn(t,nx)}function md(t,e){for(var n=-1,r=t==null?0:t.length,s=Array(r);++n<r;)s[n]=e(t[n],n,t);return s}var rx="[object Symbol]";function bo(t){return typeof t=="symbol"||rn(t)&&nn(t)==rx}var sx="Expected a function";function wo(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError(sx);var n=function(){var r=arguments,s=e?e.apply(this,r):r[0],i=n.cache;if(i.has(s))return i.get(s);var o=t.apply(this,r);return n.cache=i.set(s,o)||i,o};return n.cache=new(wo.Cache||It),n}wo.Cache=It;var ix=500;function ox(t){var e=wo(t,function(r){return n.size===ix&&n.clear(),r}),n=e.cache;return e}var ax=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,cx=/\\(\\)?/g,lx=ox(function(t){var e=[];return t.charCodeAt(0)===46&&e.push(""),t.replace(ax,function(n,r,s,i){e.push(s?i.replace(cx,"$1"):r||n)}),e});function ux(t){if(typeof t=="string"||bo(t))return t;var e=t+"";return e=="0"&&1/t==-1/0?"-0":e}var ec=kt?kt.prototype:void 0,tc=ec?ec.toString:void 0;function gd(t){if(typeof t=="string")return t;if(dr(t))return md(t,gd)+"";if(bo(t))return tc?tc.call(t):"";var e=t+"";return e=="0"&&1/t==-1/0?"-0":e}function dx(t){return t==null?"":gd(t)}function yd(t){return dr(t)?md(t,ux):bo(t)?[t]:ad(lx(dx(t)))}var vd={exports:{}},X={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var pe=typeof Symbol=="function"&&Symbol.for,xo=pe?Symbol.for("react.element"):60103,_o=pe?Symbol.for("react.portal"):60106,ms=pe?Symbol.for("react.fragment"):60107,gs=pe?Symbol.for("react.strict_mode"):60108,ys=pe?Symbol.for("react.profiler"):60114,vs=pe?Symbol.for("react.provider"):60109,bs=pe?Symbol.for("react.context"):60110,So=pe?Symbol.for("react.async_mode"):60111,ws=pe?Symbol.for("react.concurrent_mode"):60111,xs=pe?Symbol.for("react.forward_ref"):60112,_s=pe?Symbol.for("react.suspense"):60113,fx=pe?Symbol.for("react.suspense_list"):60120,Ss=pe?Symbol.for("react.memo"):60115,Es=pe?Symbol.for("react.lazy"):60116,hx=pe?Symbol.for("react.block"):60121,px=pe?Symbol.for("react.fundamental"):60117,mx=pe?Symbol.for("react.responder"):60118,gx=pe?Symbol.for("react.scope"):60119;function $e(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case xo:switch(t=t.type,t){case So:case ws:case ms:case ys:case gs:case _s:return t;default:switch(t=t&&t.$$typeof,t){case bs:case xs:case Es:case Ss:case vs:return t;default:return e}}case _o:return e}}}function bd(t){return $e(t)===ws}X.AsyncMode=So;X.ConcurrentMode=ws;X.ContextConsumer=bs;X.ContextProvider=vs;X.Element=xo;X.ForwardRef=xs;X.Fragment=ms;X.Lazy=Es;X.Memo=Ss;X.Portal=_o;X.Profiler=ys;X.StrictMode=gs;X.Suspense=_s;X.isAsyncMode=function(t){return bd(t)||$e(t)===So};X.isConcurrentMode=bd;X.isContextConsumer=function(t){return $e(t)===bs};X.isContextProvider=function(t){return $e(t)===vs};X.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===xo};X.isForwardRef=function(t){return $e(t)===xs};X.isFragment=function(t){return $e(t)===ms};X.isLazy=function(t){return $e(t)===Es};X.isMemo=function(t){return $e(t)===Ss};X.isPortal=function(t){return $e(t)===_o};X.isProfiler=function(t){return $e(t)===ys};X.isStrictMode=function(t){return $e(t)===gs};X.isSuspense=function(t){return $e(t)===_s};X.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===ms||t===ws||t===ys||t===gs||t===_s||t===fx||typeof t=="object"&&t!==null&&(t.$$typeof===Es||t.$$typeof===Ss||t.$$typeof===vs||t.$$typeof===bs||t.$$typeof===xs||t.$$typeof===px||t.$$typeof===mx||t.$$typeof===gx||t.$$typeof===hx)};X.typeOf=$e;vd.exports=X;var yx=vd.exports,wd=yx,vx={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},bx={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},xd={};xd[wd.ForwardRef]=vx;xd[wd.Memo]=bx;function le(){return le=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},le.apply(this,arguments)}function gn(t,e){if(t==null)return{};var n={},r=Object.keys(t),s,i;for(i=0;i<r.length;i++)s=r[i],!(e.indexOf(s)>=0)&&(n[s]=t[s]);return n}var Cs=f.createContext(void 0);Cs.displayName="FormikContext";var wx=Cs.Provider;Cs.Consumer;function Eo(){var t=f.useContext(Cs);return t}var ke=function(e){return typeof e=="function"},fr=function(e){return e!==null&&typeof e=="object"},xx=function(e){return String(Math.floor(Number(e)))===e},Ks=function(e){return Object.prototype.toString.call(e)==="[object String]"},_x=function(e){return f.Children.count(e)===0},Gs=function(e){return fr(e)&&ke(e.then)};function Ae(t,e,n,r){r===void 0&&(r=0);for(var s=yd(e);t&&r<s.length;)t=t[s[r++]];return r!==s.length&&!t||t===void 0?n:t}function Gt(t,e,n){for(var r=Xa(t),s=r,i=0,o=yd(e);i<o.length-1;i++){var a=o[i],c=Ae(t,o.slice(0,i+1));if(c&&(fr(c)||Array.isArray(c)))s=s[a]=Xa(c);else{var l=o[i+1];s=s[a]=xx(l)&&Number(l)>=0?[]:{}}}return(i===0?t:s)[o[i]]===n?t:(n===void 0?delete s[o[i]]:s[o[i]]=n,i===0&&n===void 0&&delete r[o[i]],r)}function _d(t,e,n,r){n===void 0&&(n=new WeakMap),r===void 0&&(r={});for(var s=0,i=Object.keys(t);s<i.length;s++){var o=i[s],a=t[o];fr(a)?n.get(a)||(n.set(a,!0),r[o]=Array.isArray(a)?[]:{},_d(a,e,n,r[o])):r[o]=e}return r}function Sx(t,e){switch(e.type){case"SET_VALUES":return le({},t,{values:e.payload});case"SET_TOUCHED":return le({},t,{touched:e.payload});case"SET_ERRORS":return Vt(t.errors,e.payload)?t:le({},t,{errors:e.payload});case"SET_STATUS":return le({},t,{status:e.payload});case"SET_ISSUBMITTING":return le({},t,{isSubmitting:e.payload});case"SET_ISVALIDATING":return le({},t,{isValidating:e.payload});case"SET_FIELD_VALUE":return le({},t,{values:Gt(t.values,e.payload.field,e.payload.value)});case"SET_FIELD_TOUCHED":return le({},t,{touched:Gt(t.touched,e.payload.field,e.payload.value)});case"SET_FIELD_ERROR":return le({},t,{errors:Gt(t.errors,e.payload.field,e.payload.value)});case"RESET_FORM":return le({},t,e.payload);case"SET_FORMIK_STATE":return e.payload(t);case"SUBMIT_ATTEMPT":return le({},t,{touched:_d(t.values,!0),isSubmitting:!0,submitCount:t.submitCount+1});case"SUBMIT_FAILURE":return le({},t,{isSubmitting:!1});case"SUBMIT_SUCCESS":return le({},t,{isSubmitting:!1});default:return t}}var Ut={},Cr={};function Ex(t){var e=t.validateOnChange,n=e===void 0?!0:e,r=t.validateOnBlur,s=r===void 0?!0:r,i=t.validateOnMount,o=i===void 0?!1:i,a=t.isInitialValid,c=t.enableReinitialize,l=c===void 0?!1:c,u=t.onSubmit,d=gn(t,["validateOnChange","validateOnBlur","validateOnMount","isInitialValid","enableReinitialize","onSubmit"]),p=le({validateOnChange:n,validateOnBlur:s,validateOnMount:o,onSubmit:u},d),g=f.useRef(p.initialValues),v=f.useRef(p.initialErrors||Ut),m=f.useRef(p.initialTouched||Cr),y=f.useRef(p.initialStatus),b=f.useRef(!1),w=f.useRef({});f.useEffect(function(){return b.current=!0,function(){b.current=!1}},[]);var _=f.useState(0),S=_[1],C=f.useRef({values:Er(p.initialValues),errors:Er(p.initialErrors)||Ut,touched:Er(p.initialTouched)||Cr,status:Er(p.initialStatus),isSubmitting:!1,isValidating:!1,submitCount:0}),O=C.current,E=f.useCallback(function(x){var j=C.current;C.current=Sx(j,x),j!==C.current&&S(function(A){return A+1})},[]),I=f.useCallback(function(x,j){return new Promise(function(A,R){var V=p.validate(x,j);V==null?A(Ut):Gs(V)?V.then(function(J){A(J||Ut)},function(J){R(J)}):A(V)})},[p.validate]),P=f.useCallback(function(x,j){var A=p.validationSchema,R=ke(A)?A(j):A,V=j&&R.validateAt?R.validateAt(j,x):Tx(x,R);return new Promise(function(J,ye){V.then(function(){J(Ut)},function(nt){nt.name==="ValidationError"?J(Cx(nt)):ye(nt)})})},[p.validationSchema]),L=f.useCallback(function(x,j){return new Promise(function(A){return A(w.current[x].validate(j))})},[]),k=f.useCallback(function(x){var j=Object.keys(w.current).filter(function(R){return ke(w.current[R].validate)}),A=j.length>0?j.map(function(R){return L(R,Ae(x,R))}):[Promise.resolve("DO_NOT_DELETE_YOU_WILL_BE_FIRED")];return Promise.all(A).then(function(R){return R.reduce(function(V,J,ye){return J==="DO_NOT_DELETE_YOU_WILL_BE_FIRED"||J&&(V=Gt(V,j[ye],J)),V},{})})},[L]),M=f.useCallback(function(x){return Promise.all([k(x),p.validationSchema?P(x):{},p.validate?I(x):{}]).then(function(j){var A=j[0],R=j[1],V=j[2],J=ji.all([A,R,V],{arrayMerge:Ox});return J})},[p.validate,p.validationSchema,k,I,P]),F=Fe(function(x){return x===void 0&&(x=O.values),E({type:"SET_ISVALIDATING",payload:!0}),M(x).then(function(j){return b.current&&(E({type:"SET_ISVALIDATING",payload:!1}),E({type:"SET_ERRORS",payload:j})),j})});f.useEffect(function(){o&&b.current===!0&&Vt(g.current,p.initialValues)&&F(g.current)},[o,F]);var U=f.useCallback(function(x){var j=x&&x.values?x.values:g.current,A=x&&x.errors?x.errors:v.current?v.current:p.initialErrors||{},R=x&&x.touched?x.touched:m.current?m.current:p.initialTouched||{},V=x&&x.status?x.status:y.current?y.current:p.initialStatus;g.current=j,v.current=A,m.current=R,y.current=V;var J=function(){E({type:"RESET_FORM",payload:{isSubmitting:!!x&&!!x.isSubmitting,errors:A,touched:R,status:V,values:j,isValidating:!!x&&!!x.isValidating,submitCount:x&&x.submitCount&&typeof x.submitCount=="number"?x.submitCount:0}})};if(p.onReset){var ye=p.onReset(O.values,ge);Gs(ye)?ye.then(J):J()}else J()},[p.initialErrors,p.initialStatus,p.initialTouched,p.onReset]);f.useEffect(function(){b.current===!0&&!Vt(g.current,p.initialValues)&&l&&(g.current=p.initialValues,U(),o&&F(g.current))},[l,p.initialValues,U,o,F]),f.useEffect(function(){l&&b.current===!0&&!Vt(v.current,p.initialErrors)&&(v.current=p.initialErrors||Ut,E({type:"SET_ERRORS",payload:p.initialErrors||Ut}))},[l,p.initialErrors]),f.useEffect(function(){l&&b.current===!0&&!Vt(m.current,p.initialTouched)&&(m.current=p.initialTouched||Cr,E({type:"SET_TOUCHED",payload:p.initialTouched||Cr}))},[l,p.initialTouched]),f.useEffect(function(){l&&b.current===!0&&!Vt(y.current,p.initialStatus)&&(y.current=p.initialStatus,E({type:"SET_STATUS",payload:p.initialStatus}))},[l,p.initialStatus,p.initialTouched]);var oe=Fe(function(x){if(w.current[x]&&ke(w.current[x].validate)){var j=Ae(O.values,x),A=w.current[x].validate(j);return Gs(A)?(E({type:"SET_ISVALIDATING",payload:!0}),A.then(function(R){return R}).then(function(R){E({type:"SET_FIELD_ERROR",payload:{field:x,value:R}}),E({type:"SET_ISVALIDATING",payload:!1})})):(E({type:"SET_FIELD_ERROR",payload:{field:x,value:A}}),Promise.resolve(A))}else if(p.validationSchema)return E({type:"SET_ISVALIDATING",payload:!0}),P(O.values,x).then(function(R){return R}).then(function(R){E({type:"SET_FIELD_ERROR",payload:{field:x,value:Ae(R,x)}}),E({type:"SET_ISVALIDATING",payload:!1})});return Promise.resolve()}),z=f.useCallback(function(x,j){var A=j.validate;w.current[x]={validate:A}},[]),K=f.useCallback(function(x){delete w.current[x]},[]),D=Fe(function(x,j){E({type:"SET_TOUCHED",payload:x});var A=j===void 0?s:j;return A?F(O.values):Promise.resolve()}),ee=f.useCallback(function(x){E({type:"SET_ERRORS",payload:x})},[]),me=Fe(function(x,j){var A=ke(x)?x(O.values):x;E({type:"SET_VALUES",payload:A});var R=j===void 0?n:j;return R?F(A):Promise.resolve()}),we=f.useCallback(function(x,j){E({type:"SET_FIELD_ERROR",payload:{field:x,value:j}})},[]),Ie=Fe(function(x,j,A){E({type:"SET_FIELD_VALUE",payload:{field:x,value:j}});var R=A===void 0?n:A;return R?F(Gt(O.values,x,j)):Promise.resolve()}),ht=f.useCallback(function(x,j){var A=j,R=x,V;if(!Ks(x)){x.persist&&x.persist();var J=x.target?x.target:x.currentTarget,ye=J.type,nt=J.name,As=J.id,ks=J.value,nf=J.checked;J.outerHTML;var Io=J.options,rf=J.multiple;A=j||nt||As,R=/number|range/.test(ye)?(V=parseFloat(ks),isNaN(V)?"":V):/checkbox/.test(ye)?Ax(Ae(O.values,A),nf,ks):Io&&rf?jx(Io):ks}A&&Ie(A,R)},[Ie,O.values]),Ne=Fe(function(x){if(Ks(x))return function(j){return ht(j,x)};ht(x)}),Oe=Fe(function(x,j,A){j===void 0&&(j=!0),E({type:"SET_FIELD_TOUCHED",payload:{field:x,value:j}});var R=A===void 0?s:A;return R?F(O.values):Promise.resolve()}),qe=f.useCallback(function(x,j){x.persist&&x.persist();var A=x.target,R=A.name,V=A.id;A.outerHTML;var J=j||R||V;Oe(J,!0)},[Oe]),$=Fe(function(x){if(Ks(x))return function(j){return qe(j,x)};qe(x)}),te=f.useCallback(function(x){ke(x)?E({type:"SET_FORMIK_STATE",payload:x}):E({type:"SET_FORMIK_STATE",payload:function(){return x}})},[]),fe=f.useCallback(function(x){E({type:"SET_STATUS",payload:x})},[]),Q=f.useCallback(function(x){E({type:"SET_ISSUBMITTING",payload:x})},[]),q=Fe(function(){return E({type:"SUBMIT_ATTEMPT"}),F().then(function(x){var j=x instanceof Error,A=!j&&Object.keys(x).length===0;if(A){var R;try{if(R=De(),R===void 0)return}catch(V){throw V}return Promise.resolve(R).then(function(V){return b.current&&E({type:"SUBMIT_SUCCESS"}),V}).catch(function(V){if(b.current)throw E({type:"SUBMIT_FAILURE"}),V})}else if(b.current&&(E({type:"SUBMIT_FAILURE"}),j))throw x})}),G=Fe(function(x){x&&x.preventDefault&&ke(x.preventDefault)&&x.preventDefault(),x&&x.stopPropagation&&ke(x.stopPropagation)&&x.stopPropagation(),q().catch(function(j){console.warn("Warning: An unhandled error was caught from submitForm()",j)})}),ge={resetForm:U,validateForm:F,validateField:oe,setErrors:ee,setFieldError:we,setFieldTouched:Oe,setFieldValue:Ie,setStatus:fe,setSubmitting:Q,setTouched:D,setValues:me,setFormikState:te,submitForm:q},De=Fe(function(){return u(O.values,ge)}),Nt=Fe(function(x){x&&x.preventDefault&&ke(x.preventDefault)&&x.preventDefault(),x&&x.stopPropagation&&ke(x.stopPropagation)&&x.stopPropagation(),U()}),Dt=f.useCallback(function(x){return{value:Ae(O.values,x),error:Ae(O.errors,x),touched:!!Ae(O.touched,x),initialValue:Ae(g.current,x),initialTouched:!!Ae(m.current,x),initialError:Ae(v.current,x)}},[O.errors,O.touched,O.values]),Ft=f.useCallback(function(x){return{setValue:function(A,R){return Ie(x,A,R)},setTouched:function(A,R){return Oe(x,A,R)},setError:function(A){return we(x,A)}}},[Ie,Oe,we]),js=f.useCallback(function(x){var j=fr(x),A=j?x.name:x,R=Ae(O.values,A),V={name:A,value:R,onChange:Ne,onBlur:$};if(j){var J=x.type,ye=x.value,nt=x.as,As=x.multiple;J==="checkbox"?ye===void 0?V.checked=!!R:(V.checked=!!(Array.isArray(R)&&~R.indexOf(ye)),V.value=ye):J==="radio"?(V.checked=R===ye,V.value=ye):nt==="select"&&As&&(V.value=V.value||[],V.multiple=!0)}return V},[$,Ne,O.values]),pt=f.useMemo(function(){return!Vt(g.current,O.values)},[g.current,O.values]),ef=f.useMemo(function(){return typeof a<"u"?pt?O.errors&&Object.keys(O.errors).length===0:a!==!1&&ke(a)?a(p):a:O.errors&&Object.keys(O.errors).length===0},[a,pt,O.errors,p]),tf=le({},O,{initialValues:g.current,initialErrors:v.current,initialTouched:m.current,initialStatus:y.current,handleBlur:$,handleChange:Ne,handleReset:Nt,handleSubmit:G,resetForm:U,setErrors:ee,setFormikState:te,setFieldTouched:Oe,setFieldValue:Ie,setFieldError:we,setStatus:fe,setSubmitting:Q,setTouched:D,setValues:me,submitForm:q,validateForm:F,validateField:oe,isValid:ef,dirty:pt,unregisterField:K,registerField:z,getFieldProps:js,getFieldMeta:Dt,getFieldHelpers:Ft,validateOnBlur:s,validateOnChange:n,validateOnMount:o});return tf}function Sd(t){var e=Ex(t),n=t.component,r=t.children,s=t.render,i=t.innerRef;return f.useImperativeHandle(i,function(){return e}),f.createElement(wx,{value:e},n?f.createElement(n,e):s?s(e):r?ke(r)?r(e):_x(r)?null:f.Children.only(r):null)}function Cx(t){var e={};if(t.inner){if(t.inner.length===0)return Gt(e,t.path,t.message);for(var s=t.inner,n=Array.isArray(s),r=0,s=n?s:s[Symbol.iterator]();;){var i;if(n){if(r>=s.length)break;i=s[r++]}else{if(r=s.next(),r.done)break;i=r.value}var o=i;Ae(e,o.path)||(e=Gt(e,o.path,o.message))}}return e}function Tx(t,e,n,r){n===void 0&&(n=!1);var s=Ii(t);return e[n?"validateSync":"validate"](s,{abortEarly:!1,context:s})}function Ii(t){var e=Array.isArray(t)?[]:{};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){var r=String(n);Array.isArray(t[r])===!0?e[r]=t[r].map(function(s){return Array.isArray(s)===!0||Aa(s)?Ii(s):s!==""?s:void 0}):Aa(t[r])?e[r]=Ii(t[r]):e[r]=t[r]!==""?t[r]:void 0}return e}function Ox(t,e,n){var r=t.slice();return e.forEach(function(i,o){if(typeof r[o]>"u"){var a=n.clone!==!1,c=a&&n.isMergeableObject(i);r[o]=c?ji(Array.isArray(i)?[]:{},i,n):i}else n.isMergeableObject(i)?r[o]=ji(t[o],i,n):t.indexOf(i)===-1&&r.push(i)}),r}function jx(t){return Array.from(t).filter(function(e){return e.selected}).map(function(e){return e.value})}function Ax(t,e,n){if(typeof t=="boolean")return!!e;var r=[],s=!1,i=-1;if(Array.isArray(t))r=t,i=t.indexOf(n),s=i>=0;else if(!n||n=="true"||n=="false")return!!e;return e&&n&&!s?r.concat(n):s?r.slice(0,i).concat(r.slice(i+1)):r}var kx=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u"?f.useLayoutEffect:f.useEffect;function Fe(t){var e=f.useRef(t);return kx(function(){e.current=t}),f.useCallback(function(){for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return e.current.apply(void 0,r)},[])}function Ed(t){var e=Eo(),n=e.getFieldProps,r=e.getFieldMeta,s=e.getFieldHelpers,i=e.registerField,o=e.unregisterField,a=fr(t),c=a?t:{name:t},l=c.name,u=c.validate;f.useEffect(function(){return l&&i(l,{validate:u}),function(){l&&o(l)}},[i,o,l,u]);var d=f.useMemo(function(){return s(l)},[s,l]);return[n(c),r(l),d]}function Px(t){var e=t.validate,n=t.name,r=t.render,s=t.children,i=t.as,o=t.component,a=t.className,c=gn(t,["validate","name","render","children","as","component","className"]),l=Eo(),u=gn(l,["validate","validationSchema"]),d=u.registerField,p=u.unregisterField;f.useEffect(function(){return d(n,{validate:e}),function(){p(n)}},[d,p,n,e]);var g=u.getFieldProps(le({name:n},c)),v=u.getFieldMeta(n),m={field:g,form:u};if(r)return r(le({},m,{meta:v}));if(ke(s))return s(le({},m,{meta:v}));if(o){if(typeof o=="string"){var y=c.innerRef,b=gn(c,["innerRef"]);return f.createElement(o,le({ref:y},g,b,{className:a}),s)}return f.createElement(o,le({field:g,form:u},c,{className:a}),s)}var w=i||"input";if(typeof w=="string"){var _=c.innerRef,S=gn(c,["innerRef"]);return f.createElement(w,le({ref:_},g,S,{className:a}),s)}return f.createElement(w,le({},g,c,{className:a}),s)}var Co=f.forwardRef(function(t,e){var n=t.action,r=gn(t,["action"]),s=n??"#",i=Eo(),o=i.handleReset,a=i.handleSubmit;return f.createElement("form",le({onSubmit:a,ref:e,onReset:o,action:s},r))});Co.displayName="Form";const{add:Rx,update:$x,delete:PS}=wc.success.patient,Ix=async(t="",e)=>{let n=Pt.from("Patients").select("*");return t.trim().length>0&&(n=n.ilike("name",`%${t}%`)),e?await n.abortSignal(e):await n},Nx=async t=>Pt.from("Patients").select("*").eq("id",t),Dx=async t=>{const{error:e}=await Pt.from("Patients").insert([t]).select("*");e?at.error(rr):at.success(Rx)},Fx=async t=>{const{error:e}=await Pt.from("Patients").update(t).eq("id",t.id).select("*");e?at.error(rr):at.success($x)};function Cd({label:t,disabled:e}){return h.jsx("button",{disabled:e,type:"submit",className:"p-3 bg-primary max-sm:w-full w-24 hover:opacity-80 transition rounded-xl mt-3 text-muted font-semibold disabled:bg-gray-400",children:t})}function Td({children:t,className:e}){return h.jsx("div",{className:N("grid grid-cols-2 gap-8 max-md:grid-cols-1 max-md:gap-8 overflow-auto ",e),children:t})}function Od(t){const{label:e,icon:n,error:r,className:s,...i}=t;return h.jsxs("div",{className:N("flex flex-col gap-1 ",s),children:[e&&h.jsx("label",{className:"",htmlFor:t.id,children:e}),h.jsxs("div",{className:N("flex items-center gap-2 h-10 bg-white rounded-xl px-2 ring-offset-background data-[placeholder]:!text-grey-grey1 text-text-black focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 border border-transparent",{"border-red-500":!!r}),children:[n&&n,h.jsx(Hc,{...i,className:N("rounded-xl bg-transparent focus-visible:outline-none focus-visible:ring-0 border-none focus-visible:border-none focus-visible:ring-offset-transparent focus-visible:ring-transparent px-1 w-full flex-1 ")})]}),h.jsx("span",{className:"text-red-600 text-xs h-4",children:r})]})}function _n(t){return h.jsx(Px,{name:t.name,children:({field:e,form:{touched:n,errors:r},meta:s})=>h.jsx(Od,{error:s.touched&&s.error,...t,...e})})}const Lx=({options:t,onValueChange:e,defaultValue:n,placeholder:r,className:s,label:i,isRequired:o,error:a,isDisabled:c,name:l})=>h.jsxs("div",{className:"flex flex-col gap-1",dir:"auto",children:[h.jsxs("div",{className:"font-medium text-text-black px-1",children:[i,o&&h.jsx("span",{className:"text-feedback-error ms-1",children:"*"})]}),h.jsxs(Jy,{name:l,onValueChange:e,defaultValue:n,disabled:c,children:[h.jsx(fu,{className:N(" border-border h-11 border bg-white rounded-xl px-3 py-0.5 text-base data-[placeholder]:!text-gray-400 text-text-black focus:outline-none focus:ring-0 focus:ring-transparent",{"border-red-600":a,"border-gray-200":!a},s),children:h.jsx(Yy,{placeholder:r})}),h.jsx(mu,{children:"options"in t[0]?t.map(u=>h.jsxs("div",{children:[h.jsx("div",{className:"font-semibold px-2",children:u.label}),u.options.map(d=>h.jsx(Oi,{value:d.value,children:d.label},`${d.value}-${d.label}`))]},u.label)):t.map(u=>h.jsx(Oi,{value:u==null?void 0:u.value,children:u==null?void 0:u.label},`${u==null?void 0:u.value}-${u==null?void 0:u.label}`))})]}),a&&(a==null?void 0:a.length)>0&&h.jsx("div",{className:"font-medium text-feedback-error px-1 text-xs text-red-700",children:a})]});function Mx(t){const[e,n,r]=Ed({...t}),s=r.setValue;return f.useEffect(()=>{const i=t.defaultValue;i&&s(i)},[]),h.jsx(Lx,{error:n.touched&&n.error?n.error:void 0,...t,...e,onValueChange:i=>{t.onValueChange(i),s(i)}})}function an(t){this._maxSize=t,this.clear()}an.prototype.clear=function(){this._size=0,this._values=Object.create(null)};an.prototype.get=function(t){return this._values[t]};an.prototype.set=function(t,e){return this._size>=this._maxSize&&this.clear(),t in this._values||this._size++,this._values[t]=e};var Ux=/[^.^\]^[]+|(?=\[\]|\.\.)/g,jd=/^\d+$/,Bx=/^\d/,Vx=/[~`!#$%\^&*+=\-\[\]\\';,/{}|\\":<>\?]/g,zx=/^\s*(['"]?)(.*?)(\1)\s*$/,To=512,nc=new an(To),rc=new an(To),sc=new an(To),Jt={Cache:an,split:Ni,normalizePath:Js,setter:function(t){var e=Js(t);return rc.get(t)||rc.set(t,function(r,s){for(var i=0,o=e.length,a=r;i<o-1;){var c=e[i];if(c==="__proto__"||c==="constructor"||c==="prototype")return r;a=a[e[i++]]}a[e[i]]=s})},getter:function(t,e){var n=Js(t);return sc.get(t)||sc.set(t,function(s){for(var i=0,o=n.length;i<o;)if(s!=null||!e)s=s[n[i++]];else return;return s})},join:function(t){return t.reduce(function(e,n){return e+(Oo(n)||jd.test(n)?"["+n+"]":(e?".":"")+n)},"")},forEach:function(t,e,n){Wx(Array.isArray(t)?t:Ni(t),e,n)}};function Js(t){return nc.get(t)||nc.set(t,Ni(t).map(function(e){return e.replace(zx,"$2")}))}function Ni(t){return t.match(Ux)||[""]}function Wx(t,e,n){var r=t.length,s,i,o,a;for(i=0;i<r;i++)s=t[i],s&&(Kx(s)&&(s='"'+s+'"'),a=Oo(s),o=!a&&/^\d+$/.test(s),e.call(n,s,a,o,i,t))}function Oo(t){return typeof t=="string"&&t&&["'",'"'].indexOf(t.charAt(0))!==-1}function Hx(t){return t.match(Bx)&&!t.match(jd)}function qx(t){return Vx.test(t)}function Kx(t){return!Oo(t)&&(Hx(t)||qx(t))}const Gx=/[A-Z\xc0-\xd6\xd8-\xde]?[a-z\xdf-\xf6\xf8-\xff]+(?:['’](?:d|ll|m|re|s|t|ve))?(?=[\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000]|[A-Z\xc0-\xd6\xd8-\xde]|$)|(?:[A-Z\xc0-\xd6\xd8-\xde]|[^\ud800-\udfff\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\d+\u2700-\u27bfa-z\xdf-\xf6\xf8-\xffA-Z\xc0-\xd6\xd8-\xde])+(?:['’](?:D|LL|M|RE|S|T|VE))?(?=[\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000]|[A-Z\xc0-\xd6\xd8-\xde](?:[a-z\xdf-\xf6\xf8-\xff]|[^\ud800-\udfff\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\d+\u2700-\u27bfa-z\xdf-\xf6\xf8-\xffA-Z\xc0-\xd6\xd8-\xde])|$)|[A-Z\xc0-\xd6\xd8-\xde]?(?:[a-z\xdf-\xf6\xf8-\xff]|[^\ud800-\udfff\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\d+\u2700-\u27bfa-z\xdf-\xf6\xf8-\xffA-Z\xc0-\xd6\xd8-\xde])+(?:['’](?:d|ll|m|re|s|t|ve))?|[A-Z\xc0-\xd6\xd8-\xde]+(?:['’](?:D|LL|M|RE|S|T|VE))?|\d*(?:1ST|2ND|3RD|(?![123])\dTH)(?=\b|[a-z_])|\d*(?:1st|2nd|3rd|(?![123])\dth)(?=\b|[A-Z_])|\d+|(?:[\u2700-\u27bf]|(?:\ud83c[\udde6-\uddff]){2}|[\ud800-\udbff][\udc00-\udfff])[\ufe0e\ufe0f]?(?:[\u0300-\u036f\ufe20-\ufe2f\u20d0-\u20ff]|\ud83c[\udffb-\udfff])?(?:\u200d(?:[^\ud800-\udfff]|(?:\ud83c[\udde6-\uddff]){2}|[\ud800-\udbff][\udc00-\udfff])[\ufe0e\ufe0f]?(?:[\u0300-\u036f\ufe20-\ufe2f\u20d0-\u20ff]|\ud83c[\udffb-\udfff])?)*/g,Ts=t=>t.match(Gx)||[],Os=t=>t[0].toUpperCase()+t.slice(1),jo=(t,e)=>Ts(t).join(e).toLowerCase(),Ad=t=>Ts(t).reduce((e,n)=>`${e}${e?n[0].toUpperCase()+n.slice(1).toLowerCase():n.toLowerCase()}`,""),Jx=t=>Os(Ad(t)),Yx=t=>jo(t,"_"),Zx=t=>jo(t,"-"),Qx=t=>Os(jo(t," ")),Xx=t=>Ts(t).map(Os).join(" ");var Ys={words:Ts,upperFirst:Os,camelCase:Ad,pascalCase:Jx,snakeCase:Yx,kebabCase:Zx,sentenceCase:Qx,titleCase:Xx},Ao={exports:{}};Ao.exports=function(t){return kd(e_(t),t)};Ao.exports.array=kd;function kd(t,e){var n=t.length,r=new Array(n),s={},i=n,o=t_(e),a=n_(t);for(e.forEach(function(l){if(!a.has(l[0])||!a.has(l[1]))throw new Error("Unknown node. There is an unknown node in the supplied edges.")});i--;)s[i]||c(t[i],i,new Set);return r;function c(l,u,d){if(d.has(l)){var p;try{p=", node was:"+JSON.stringify(l)}catch{p=""}throw new Error("Cyclic dependency"+p)}if(!a.has(l))throw new Error("Found unknown node. Make sure to provided all involved nodes. Unknown node: "+JSON.stringify(l));if(!s[u]){s[u]=!0;var g=o.get(l)||new Set;if(g=Array.from(g),u=g.length){d.add(l);do{var v=g[--u];c(v,a.get(v),d)}while(u);d.delete(l)}r[--n]=l}}}function e_(t){for(var e=new Set,n=0,r=t.length;n<r;n++){var s=t[n];e.add(s[0]),e.add(s[1])}return Array.from(e)}function t_(t){for(var e=new Map,n=0,r=t.length;n<r;n++){var s=t[n];e.has(s[0])||e.set(s[0],new Set),e.has(s[1])||e.set(s[1],new Set),e.get(s[0]).add(s[1])}return e}function n_(t){for(var e=new Map,n=0,r=t.length;n<r;n++)e.set(t[n],n);return e}var r_=Ao.exports;const s_=pc(r_),i_=Object.prototype.toString,o_=Error.prototype.toString,a_=RegExp.prototype.toString,c_=typeof Symbol<"u"?Symbol.prototype.toString:()=>"",l_=/^Symbol\((.*)\)(.*)$/;function u_(t){return t!=+t?"NaN":t===0&&1/t<0?"-0":""+t}function ic(t,e=!1){if(t==null||t===!0||t===!1)return""+t;const n=typeof t;if(n==="number")return u_(t);if(n==="string")return e?`"${t}"`:t;if(n==="function")return"[Function "+(t.name||"anonymous")+"]";if(n==="symbol")return c_.call(t).replace(l_,"Symbol($1)");const r=i_.call(t).slice(8,-1);return r==="Date"?isNaN(t.getTime())?""+t:t.toISOString(t):r==="Error"||t instanceof Error?"["+o_.call(t)+"]":r==="RegExp"?a_.call(t):null}function Ct(t,e){let n=ic(t,e);return n!==null?n:JSON.stringify(t,function(r,s){let i=ic(this[r],e);return i!==null?i:s},2)}function Pd(t){return t==null?[]:[].concat(t)}let Rd,$d,Id,d_=/\$\{\s*(\w+)\s*\}/g;Rd=Symbol.toStringTag;class oc{constructor(e,n,r,s){this.name=void 0,this.message=void 0,this.value=void 0,this.path=void 0,this.type=void 0,this.params=void 0,this.errors=void 0,this.inner=void 0,this[Rd]="Error",this.name="ValidationError",this.value=n,this.path=r,this.type=s,this.errors=[],this.inner=[],Pd(e).forEach(i=>{if(Te.isError(i)){this.errors.push(...i.errors);const o=i.inner.length?i.inner:[i];this.inner.push(...o)}else this.errors.push(i)}),this.message=this.errors.length>1?`${this.errors.length} errors occurred`:this.errors[0]}}$d=Symbol.hasInstance;Id=Symbol.toStringTag;class Te extends Error{static formatError(e,n){const r=n.label||n.path||"this";return n=Object.assign({},n,{path:r,originalPath:n.path}),typeof e=="string"?e.replace(d_,(s,i)=>Ct(n[i])):typeof e=="function"?e(n):e}static isError(e){return e&&e.name==="ValidationError"}constructor(e,n,r,s,i){const o=new oc(e,n,r,s);if(i)return o;super(),this.value=void 0,this.path=void 0,this.type=void 0,this.params=void 0,this.errors=[],this.inner=[],this[Id]="Error",this.name=o.name,this.message=o.message,this.type=o.type,this.value=o.value,this.path=o.path,this.errors=o.errors,this.inner=o.inner,Error.captureStackTrace&&Error.captureStackTrace(this,Te)}static[$d](e){return oc[Symbol.hasInstance](e)||super[Symbol.hasInstance](e)}}let Ge={default:"${path} is invalid",required:"${path} is a required field",defined:"${path} must be defined",notNull:"${path} cannot be null",oneOf:"${path} must be one of the following values: ${values}",notOneOf:"${path} must not be one of the following values: ${values}",notType:({path:t,type:e,value:n,originalValue:r})=>{const s=r!=null&&r!==n?` (cast from the value \`${Ct(r,!0)}\`).`:".";return e!=="mixed"?`${t} must be a \`${e}\` type, but the final value was: \`${Ct(n,!0)}\``+s:`${t} must match the configured type. The validated value was: \`${Ct(n,!0)}\``+s}},_e={length:"${path} must be exactly ${length} characters",min:"${path} must be at least ${min} characters",max:"${path} must be at most ${max} characters",matches:'${path} must match the following: "${regex}"',email:"${path} must be a valid email",url:"${path} must be a valid URL",uuid:"${path} must be a valid UUID",datetime:"${path} must be a valid ISO date-time",datetime_precision:"${path} must be a valid ISO date-time with a sub-second precision of exactly ${precision} digits",datetime_offset:'${path} must be a valid ISO date-time with UTC "Z" timezone',trim:"${path} must be a trimmed string",lowercase:"${path} must be a lowercase string",uppercase:"${path} must be a upper case string"},vt={min:"${path} must be greater than or equal to ${min}",max:"${path} must be less than or equal to ${max}",lessThan:"${path} must be less than ${less}",moreThan:"${path} must be greater than ${more}",positive:"${path} must be a positive number",negative:"${path} must be a negative number",integer:"${path} must be an integer"},Di={min:"${path} field must be later than ${min}",max:"${path} field must be at earlier than ${max}"},Fi={isValue:"${path} field must be ${value}"},Rr={noUnknown:"${path} field has unspecified keys: ${unknown}",exact:"${path} object contains unknown properties: ${properties}"},f_={min:"${path} field must have at least ${min} items",max:"${path} field must have less than or equal to ${max} items",length:"${path} must have ${length} items"},h_={notType:t=>{const{path:e,value:n,spec:r}=t,s=r.types.length;if(Array.isArray(n)){if(n.length<s)return`${e} tuple value has too few items, expected a length of ${s} but got ${n.length} for value: \`${Ct(n,!0)}\``;if(n.length>s)return`${e} tuple value has too many items, expected a length of ${s} but got ${n.length} for value: \`${Ct(n,!0)}\``}return Te.formatError(Ge.notType,t)}};Object.assign(Object.create(null),{mixed:Ge,string:_e,number:vt,date:Di,object:Rr,array:f_,boolean:Fi,tuple:h_});const ko=t=>t&&t.__isYupSchema__;class Wr{static fromOptions(e,n){if(!n.then&&!n.otherwise)throw new TypeError("either `then:` or `otherwise:` is required for `when()` conditions");let{is:r,then:s,otherwise:i}=n,o=typeof r=="function"?r:(...a)=>a.every(c=>c===r);return new Wr(e,(a,c)=>{var l;let u=o(...a)?s:i;return(l=u==null?void 0:u(c))!=null?l:c})}constructor(e,n){this.fn=void 0,this.refs=e,this.refs=e,this.fn=n}resolve(e,n){let r=this.refs.map(i=>i.getValue(n==null?void 0:n.value,n==null?void 0:n.parent,n==null?void 0:n.context)),s=this.fn(r,e,n);if(s===void 0||s===e)return e;if(!ko(s))throw new TypeError("conditions must return a schema object");return s.resolve(n)}}const Tr={context:"$",value:"."};class cn{constructor(e,n={}){if(this.key=void 0,this.isContext=void 0,this.isValue=void 0,this.isSibling=void 0,this.path=void 0,this.getter=void 0,this.map=void 0,typeof e!="string")throw new TypeError("ref must be a string, got: "+e);if(this.key=e.trim(),e==="")throw new TypeError("ref must be a non-empty string");this.isContext=this.key[0]===Tr.context,this.isValue=this.key[0]===Tr.value,this.isSibling=!this.isContext&&!this.isValue;let r=this.isContext?Tr.context:this.isValue?Tr.value:"";this.path=this.key.slice(r.length),this.getter=this.path&&Jt.getter(this.path,!0),this.map=n.map}getValue(e,n,r){let s=this.isContext?r:this.isValue?e:n;return this.getter&&(s=this.getter(s||{})),this.map&&(s=this.map(s)),s}cast(e,n){return this.getValue(e,n==null?void 0:n.parent,n==null?void 0:n.context)}resolve(){return this}describe(){return{type:"ref",key:this.key}}toString(){return`Ref(${this.key})`}static isRef(e){return e&&e.__isYupRef}}cn.prototype.__isYupRef=!0;const Ve=t=>t==null;function mn(t){function e({value:n,path:r="",options:s,originalValue:i,schema:o},a,c){const{name:l,test:u,params:d,message:p,skipAbsent:g}=t;let{parent:v,context:m,abortEarly:y=o.spec.abortEarly,disableStackTrace:b=o.spec.disableStackTrace}=s;function w(k){return cn.isRef(k)?k.getValue(n,v,m):k}function _(k={}){const M=Object.assign({value:n,originalValue:i,label:o.spec.label,path:k.path||r,spec:o.spec,disableStackTrace:k.disableStackTrace||b},d,k.params);for(const U of Object.keys(M))M[U]=w(M[U]);const F=new Te(Te.formatError(k.message||p,M),n,M.path,k.type||l,M.disableStackTrace);return F.params=M,F}const S=y?a:c;let C={path:r,parent:v,type:l,from:s.from,createError:_,resolve:w,options:s,originalValue:i,schema:o};const O=k=>{Te.isError(k)?S(k):k?c(null):S(_())},E=k=>{Te.isError(k)?S(k):a(k)};if(g&&Ve(n))return O(!0);let P;try{var L;if(P=u.call(C,n,C),typeof((L=P)==null?void 0:L.then)=="function"){if(s.sync)throw new Error(`Validation test of type: "${C.type}" returned a Promise during a synchronous validate. This test will finish after the validate call has returned`);return Promise.resolve(P).then(O,E)}}catch(k){E(k);return}O(P)}return e.OPTIONS=t,e}function p_(t,e,n,r=n){let s,i,o;return e?(Jt.forEach(e,(a,c,l)=>{let u=c?a.slice(1,a.length-1):a;t=t.resolve({context:r,parent:s,value:n});let d=t.type==="tuple",p=l?parseInt(u,10):0;if(t.innerType||d){if(d&&!l)throw new Error(`Yup.reach cannot implicitly index into a tuple type. the path part "${o}" must contain an index to the tuple element, e.g. "${o}[0]"`);if(n&&p>=n.length)throw new Error(`Yup.reach cannot resolve an array item at index: ${a}, in the path: ${e}. because there is no value at that index. `);s=n,n=n&&n[p],t=d?t.spec.types[p]:t.innerType}if(!l){if(!t.fields||!t.fields[u])throw new Error(`The schema does not contain the path: ${e}. (failed at: ${o} which is a type: "${t.type}")`);s=n,n=n&&n[u],t=t.fields[u]}i=u,o=c?"["+a+"]":"."+a}),{schema:t,parent:s,parentPath:i}):{parent:s,parentPath:e,schema:t}}class Hr extends Set{describe(){const e=[];for(const n of this.values())e.push(cn.isRef(n)?n.describe():n);return e}resolveAll(e){let n=[];for(const r of this.values())n.push(e(r));return n}clone(){return new Hr(this.values())}merge(e,n){const r=this.clone();return e.forEach(s=>r.add(s)),n.forEach(s=>r.delete(s)),r}}function yn(t,e=new Map){if(ko(t)||!t||typeof t!="object")return t;if(e.has(t))return e.get(t);let n;if(t instanceof Date)n=new Date(t.getTime()),e.set(t,n);else if(t instanceof RegExp)n=new RegExp(t),e.set(t,n);else if(Array.isArray(t)){n=new Array(t.length),e.set(t,n);for(let r=0;r<t.length;r++)n[r]=yn(t[r],e)}else if(t instanceof Map){n=new Map,e.set(t,n);for(const[r,s]of t.entries())n.set(r,yn(s,e))}else if(t instanceof Set){n=new Set,e.set(t,n);for(const r of t)n.add(yn(r,e))}else if(t instanceof Object){n={},e.set(t,n);for(const[r,s]of Object.entries(t))n[r]=yn(s,e)}else throw Error(`Unable to clone ${t}`);return n}class Me{constructor(e){this.type=void 0,this.deps=[],this.tests=void 0,this.transforms=void 0,this.conditions=[],this._mutate=void 0,this.internalTests={},this._whitelist=new Hr,this._blacklist=new Hr,this.exclusiveTests=Object.create(null),this._typeCheck=void 0,this.spec=void 0,this.tests=[],this.transforms=[],this.withMutation(()=>{this.typeError(Ge.notType)}),this.type=e.type,this._typeCheck=e.check,this.spec=Object.assign({strip:!1,strict:!1,abortEarly:!0,recursive:!0,disableStackTrace:!1,nullable:!1,optional:!0,coerce:!0},e==null?void 0:e.spec),this.withMutation(n=>{n.nonNullable()})}get _type(){return this.type}clone(e){if(this._mutate)return e&&Object.assign(this.spec,e),this;const n=Object.create(Object.getPrototypeOf(this));return n.type=this.type,n._typeCheck=this._typeCheck,n._whitelist=this._whitelist.clone(),n._blacklist=this._blacklist.clone(),n.internalTests=Object.assign({},this.internalTests),n.exclusiveTests=Object.assign({},this.exclusiveTests),n.deps=[...this.deps],n.conditions=[...this.conditions],n.tests=[...this.tests],n.transforms=[...this.transforms],n.spec=yn(Object.assign({},this.spec,e)),n}label(e){let n=this.clone();return n.spec.label=e,n}meta(...e){if(e.length===0)return this.spec.meta;let n=this.clone();return n.spec.meta=Object.assign(n.spec.meta||{},e[0]),n}withMutation(e){let n=this._mutate;this._mutate=!0;let r=e(this);return this._mutate=n,r}concat(e){if(!e||e===this)return this;if(e.type!==this.type&&this.type!=="mixed")throw new TypeError(`You cannot \`concat()\` schema's of different types: ${this.type} and ${e.type}`);let n=this,r=e.clone();const s=Object.assign({},n.spec,r.spec);return r.spec=s,r.internalTests=Object.assign({},n.internalTests,r.internalTests),r._whitelist=n._whitelist.merge(e._whitelist,e._blacklist),r._blacklist=n._blacklist.merge(e._blacklist,e._whitelist),r.tests=n.tests,r.exclusiveTests=n.exclusiveTests,r.withMutation(i=>{e.tests.forEach(o=>{i.test(o.OPTIONS)})}),r.transforms=[...n.transforms,...r.transforms],r}isType(e){return e==null?!!(this.spec.nullable&&e===null||this.spec.optional&&e===void 0):this._typeCheck(e)}resolve(e){let n=this;if(n.conditions.length){let r=n.conditions;n=n.clone(),n.conditions=[],n=r.reduce((s,i)=>i.resolve(s,e),n),n=n.resolve(e)}return n}resolveOptions(e){var n,r,s,i;return Object.assign({},e,{from:e.from||[],strict:(n=e.strict)!=null?n:this.spec.strict,abortEarly:(r=e.abortEarly)!=null?r:this.spec.abortEarly,recursive:(s=e.recursive)!=null?s:this.spec.recursive,disableStackTrace:(i=e.disableStackTrace)!=null?i:this.spec.disableStackTrace})}cast(e,n={}){let r=this.resolve(Object.assign({value:e},n)),s=n.assert==="ignore-optionality",i=r._cast(e,n);if(n.assert!==!1&&!r.isType(i)){if(s&&Ve(i))return i;let o=Ct(e),a=Ct(i);throw new TypeError(`The value of ${n.path||"field"} could not be cast to a value that satisfies the schema type: "${r.type}". 

attempted value: ${o} 
`+(a!==o?`result of cast: ${a}`:""))}return i}_cast(e,n){let r=e===void 0?e:this.transforms.reduce((s,i)=>i.call(this,s,e,this),e);return r===void 0&&(r=this.getDefault(n)),r}_validate(e,n={},r,s){let{path:i,originalValue:o=e,strict:a=this.spec.strict}=n,c=e;a||(c=this._cast(c,Object.assign({assert:!1},n)));let l=[];for(let u of Object.values(this.internalTests))u&&l.push(u);this.runTests({path:i,value:c,originalValue:o,options:n,tests:l},r,u=>{if(u.length)return s(u,c);this.runTests({path:i,value:c,originalValue:o,options:n,tests:this.tests},r,s)})}runTests(e,n,r){let s=!1,{tests:i,value:o,originalValue:a,path:c,options:l}=e,u=m=>{s||(s=!0,n(m,o))},d=m=>{s||(s=!0,r(m,o))},p=i.length,g=[];if(!p)return d([]);let v={value:o,originalValue:a,path:c,options:l,schema:this};for(let m=0;m<i.length;m++){const y=i[m];y(v,u,function(w){w&&(Array.isArray(w)?g.push(...w):g.push(w)),--p<=0&&d(g)})}}asNestedTest({key:e,index:n,parent:r,parentPath:s,originalParent:i,options:o}){const a=e??n;if(a==null)throw TypeError("Must include `key` or `index` for nested validations");const c=typeof a=="number";let l=r[a];const u=Object.assign({},o,{strict:!0,parent:r,value:l,originalValue:i[a],key:void 0,[c?"index":"key"]:a,path:c||a.includes(".")?`${s||""}[${c?a:`"${a}"`}]`:(s?`${s}.`:"")+e});return(d,p,g)=>this.resolve(u)._validate(l,u,p,g)}validate(e,n){var r;let s=this.resolve(Object.assign({},n,{value:e})),i=(r=n==null?void 0:n.disableStackTrace)!=null?r:s.spec.disableStackTrace;return new Promise((o,a)=>s._validate(e,n,(c,l)=>{Te.isError(c)&&(c.value=l),a(c)},(c,l)=>{c.length?a(new Te(c,l,void 0,void 0,i)):o(l)}))}validateSync(e,n){var r;let s=this.resolve(Object.assign({},n,{value:e})),i,o=(r=n==null?void 0:n.disableStackTrace)!=null?r:s.spec.disableStackTrace;return s._validate(e,Object.assign({},n,{sync:!0}),(a,c)=>{throw Te.isError(a)&&(a.value=c),a},(a,c)=>{if(a.length)throw new Te(a,e,void 0,void 0,o);i=c}),i}isValid(e,n){return this.validate(e,n).then(()=>!0,r=>{if(Te.isError(r))return!1;throw r})}isValidSync(e,n){try{return this.validateSync(e,n),!0}catch(r){if(Te.isError(r))return!1;throw r}}_getDefault(e){let n=this.spec.default;return n==null?n:typeof n=="function"?n.call(this,e):yn(n)}getDefault(e){return this.resolve(e||{})._getDefault(e)}default(e){return arguments.length===0?this._getDefault():this.clone({default:e})}strict(e=!0){return this.clone({strict:e})}nullability(e,n){const r=this.clone({nullable:e});return r.internalTests.nullable=mn({message:n,name:"nullable",test(s){return s===null?this.schema.spec.nullable:!0}}),r}optionality(e,n){const r=this.clone({optional:e});return r.internalTests.optionality=mn({message:n,name:"optionality",test(s){return s===void 0?this.schema.spec.optional:!0}}),r}optional(){return this.optionality(!0)}defined(e=Ge.defined){return this.optionality(!1,e)}nullable(){return this.nullability(!0)}nonNullable(e=Ge.notNull){return this.nullability(!1,e)}required(e=Ge.required){return this.clone().withMutation(n=>n.nonNullable(e).defined(e))}notRequired(){return this.clone().withMutation(e=>e.nullable().optional())}transform(e){let n=this.clone();return n.transforms.push(e),n}test(...e){let n;if(e.length===1?typeof e[0]=="function"?n={test:e[0]}:n=e[0]:e.length===2?n={name:e[0],test:e[1]}:n={name:e[0],message:e[1],test:e[2]},n.message===void 0&&(n.message=Ge.default),typeof n.test!="function")throw new TypeError("`test` is a required parameters");let r=this.clone(),s=mn(n),i=n.exclusive||n.name&&r.exclusiveTests[n.name]===!0;if(n.exclusive&&!n.name)throw new TypeError("Exclusive tests must provide a unique `name` identifying the test");return n.name&&(r.exclusiveTests[n.name]=!!n.exclusive),r.tests=r.tests.filter(o=>!(o.OPTIONS.name===n.name&&(i||o.OPTIONS.test===s.OPTIONS.test))),r.tests.push(s),r}when(e,n){!Array.isArray(e)&&typeof e!="string"&&(n=e,e=".");let r=this.clone(),s=Pd(e).map(i=>new cn(i));return s.forEach(i=>{i.isSibling&&r.deps.push(i.key)}),r.conditions.push(typeof n=="function"?new Wr(s,n):Wr.fromOptions(s,n)),r}typeError(e){let n=this.clone();return n.internalTests.typeError=mn({message:e,name:"typeError",skipAbsent:!0,test(r){return this.schema._typeCheck(r)?!0:this.createError({params:{type:this.schema.type}})}}),n}oneOf(e,n=Ge.oneOf){let r=this.clone();return e.forEach(s=>{r._whitelist.add(s),r._blacklist.delete(s)}),r.internalTests.whiteList=mn({message:n,name:"oneOf",skipAbsent:!0,test(s){let i=this.schema._whitelist,o=i.resolveAll(this.resolve);return o.includes(s)?!0:this.createError({params:{values:Array.from(i).join(", "),resolved:o}})}}),r}notOneOf(e,n=Ge.notOneOf){let r=this.clone();return e.forEach(s=>{r._blacklist.add(s),r._whitelist.delete(s)}),r.internalTests.blacklist=mn({message:n,name:"notOneOf",test(s){let i=this.schema._blacklist,o=i.resolveAll(this.resolve);return o.includes(s)?this.createError({params:{values:Array.from(i).join(", "),resolved:o}}):!0}}),r}strip(e=!0){let n=this.clone();return n.spec.strip=e,n}describe(e){const n=(e?this.resolve(e):this).clone(),{label:r,meta:s,optional:i,nullable:o}=n.spec;return{meta:s,label:r,optional:i,nullable:o,default:n.getDefault(e),type:n.type,oneOf:n._whitelist.describe(),notOneOf:n._blacklist.describe(),tests:n.tests.map(c=>({name:c.OPTIONS.name,params:c.OPTIONS.params})).filter((c,l,u)=>u.findIndex(d=>d.name===c.name)===l)}}}Me.prototype.__isYupSchema__=!0;for(const t of["validate","validateSync"])Me.prototype[`${t}At`]=function(e,n,r={}){const{parent:s,parentPath:i,schema:o}=p_(this,e,n,r.context);return o[t](s&&s[i],Object.assign({},r,{parent:s,path:e}))};for(const t of["equals","is"])Me.prototype[t]=Me.prototype.oneOf;for(const t of["not","nope"])Me.prototype[t]=Me.prototype.notOneOf;function Li(){return new Nd}class Nd extends Me{constructor(){super({type:"boolean",check(e){return e instanceof Boolean&&(e=e.valueOf()),typeof e=="boolean"}}),this.withMutation(()=>{this.transform((e,n,r)=>{if(r.spec.coerce&&!r.isType(e)){if(/^(true|1)$/i.test(String(e)))return!0;if(/^(false|0)$/i.test(String(e)))return!1}return e})})}isTrue(e=Fi.isValue){return this.test({message:e,name:"is-value",exclusive:!0,params:{value:"true"},test(n){return Ve(n)||n===!0}})}isFalse(e=Fi.isValue){return this.test({message:e,name:"is-value",exclusive:!0,params:{value:"false"},test(n){return Ve(n)||n===!1}})}default(e){return super.default(e)}defined(e){return super.defined(e)}optional(){return super.optional()}required(e){return super.required(e)}notRequired(){return super.notRequired()}nullable(){return super.nullable()}nonNullable(e){return super.nonNullable(e)}strip(e){return super.strip(e)}}Li.prototype=Nd.prototype;const m_=/^(\d{4}|[+-]\d{6})(?:-?(\d{2})(?:-?(\d{2}))?)?(?:[ T]?(\d{2}):?(\d{2})(?::?(\d{2})(?:[,.](\d{1,}))?)?(?:(Z)|([+-])(\d{2})(?::?(\d{2}))?)?)?$/;function g_(t){const e=Mi(t);if(!e)return Date.parse?Date.parse(t):Number.NaN;if(e.z===void 0&&e.plusMinus===void 0)return new Date(e.year,e.month,e.day,e.hour,e.minute,e.second,e.millisecond).valueOf();let n=0;return e.z!=="Z"&&e.plusMinus!==void 0&&(n=e.hourOffset*60+e.minuteOffset,e.plusMinus==="+"&&(n=0-n)),Date.UTC(e.year,e.month,e.day,e.hour,e.minute+n,e.second,e.millisecond)}function Mi(t){var e,n;const r=m_.exec(t);return r?{year:rt(r[1]),month:rt(r[2],1)-1,day:rt(r[3],1),hour:rt(r[4]),minute:rt(r[5]),second:rt(r[6]),millisecond:r[7]?rt(r[7].substring(0,3)):0,precision:(e=(n=r[7])==null?void 0:n.length)!=null?e:void 0,z:r[8]||void 0,plusMinus:r[9]||void 0,hourOffset:rt(r[10]),minuteOffset:rt(r[11])}:null}function rt(t,e=0){return Number(t)||e}let y_=/^[a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,v_=/^((https?|ftp):)?\/\/(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(\#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i,b_=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i,w_="^\\d{4}-\\d{2}-\\d{2}",x_="\\d{2}:\\d{2}:\\d{2}",__="(([+-]\\d{2}(:?\\d{2})?)|Z)",S_=new RegExp(`${w_}T${x_}(\\.\\d+)?${__}$`),E_=t=>Ve(t)||t===t.trim(),C_={}.toString();function Wt(){return new Dd}class Dd extends Me{constructor(){super({type:"string",check(e){return e instanceof String&&(e=e.valueOf()),typeof e=="string"}}),this.withMutation(()=>{this.transform((e,n,r)=>{if(!r.spec.coerce||r.isType(e)||Array.isArray(e))return e;const s=e!=null&&e.toString?e.toString():e;return s===C_?e:s})})}required(e){return super.required(e).withMutation(n=>n.test({message:e||Ge.required,name:"required",skipAbsent:!0,test:r=>!!r.length}))}notRequired(){return super.notRequired().withMutation(e=>(e.tests=e.tests.filter(n=>n.OPTIONS.name!=="required"),e))}length(e,n=_e.length){return this.test({message:n,name:"length",exclusive:!0,params:{length:e},skipAbsent:!0,test(r){return r.length===this.resolve(e)}})}min(e,n=_e.min){return this.test({message:n,name:"min",exclusive:!0,params:{min:e},skipAbsent:!0,test(r){return r.length>=this.resolve(e)}})}max(e,n=_e.max){return this.test({name:"max",exclusive:!0,message:n,params:{max:e},skipAbsent:!0,test(r){return r.length<=this.resolve(e)}})}matches(e,n){let r=!1,s,i;return n&&(typeof n=="object"?{excludeEmptyString:r=!1,message:s,name:i}=n:s=n),this.test({name:i||"matches",message:s||_e.matches,params:{regex:e},skipAbsent:!0,test:o=>o===""&&r||o.search(e)!==-1})}email(e=_e.email){return this.matches(y_,{name:"email",message:e,excludeEmptyString:!0})}url(e=_e.url){return this.matches(v_,{name:"url",message:e,excludeEmptyString:!0})}uuid(e=_e.uuid){return this.matches(b_,{name:"uuid",message:e,excludeEmptyString:!1})}datetime(e){let n="",r,s;return e&&(typeof e=="object"?{message:n="",allowOffset:r=!1,precision:s=void 0}=e:n=e),this.matches(S_,{name:"datetime",message:n||_e.datetime,excludeEmptyString:!0}).test({name:"datetime_offset",message:n||_e.datetime_offset,params:{allowOffset:r},skipAbsent:!0,test:i=>{if(!i||r)return!0;const o=Mi(i);return o?!!o.z:!1}}).test({name:"datetime_precision",message:n||_e.datetime_precision,params:{precision:s},skipAbsent:!0,test:i=>{if(!i||s==null)return!0;const o=Mi(i);return o?o.precision===s:!1}})}ensure(){return this.default("").transform(e=>e===null?"":e)}trim(e=_e.trim){return this.transform(n=>n!=null?n.trim():n).test({message:e,name:"trim",test:E_})}lowercase(e=_e.lowercase){return this.transform(n=>Ve(n)?n:n.toLowerCase()).test({message:e,name:"string_case",exclusive:!0,skipAbsent:!0,test:n=>Ve(n)||n===n.toLowerCase()})}uppercase(e=_e.uppercase){return this.transform(n=>Ve(n)?n:n.toUpperCase()).test({message:e,name:"string_case",exclusive:!0,skipAbsent:!0,test:n=>Ve(n)||n===n.toUpperCase()})}}Wt.prototype=Dd.prototype;let T_=t=>t!=+t;function Fd(){return new Ld}class Ld extends Me{constructor(){super({type:"number",check(e){return e instanceof Number&&(e=e.valueOf()),typeof e=="number"&&!T_(e)}}),this.withMutation(()=>{this.transform((e,n,r)=>{if(!r.spec.coerce)return e;let s=e;if(typeof s=="string"){if(s=s.replace(/\s/g,""),s==="")return NaN;s=+s}return r.isType(s)||s===null?s:parseFloat(s)})})}min(e,n=vt.min){return this.test({message:n,name:"min",exclusive:!0,params:{min:e},skipAbsent:!0,test(r){return r>=this.resolve(e)}})}max(e,n=vt.max){return this.test({message:n,name:"max",exclusive:!0,params:{max:e},skipAbsent:!0,test(r){return r<=this.resolve(e)}})}lessThan(e,n=vt.lessThan){return this.test({message:n,name:"max",exclusive:!0,params:{less:e},skipAbsent:!0,test(r){return r<this.resolve(e)}})}moreThan(e,n=vt.moreThan){return this.test({message:n,name:"min",exclusive:!0,params:{more:e},skipAbsent:!0,test(r){return r>this.resolve(e)}})}positive(e=vt.positive){return this.moreThan(0,e)}negative(e=vt.negative){return this.lessThan(0,e)}integer(e=vt.integer){return this.test({name:"integer",message:e,skipAbsent:!0,test:n=>Number.isInteger(n)})}truncate(){return this.transform(e=>Ve(e)?e:e|0)}round(e){var n;let r=["ceil","floor","round","trunc"];if(e=((n=e)==null?void 0:n.toLowerCase())||"round",e==="trunc")return this.truncate();if(r.indexOf(e.toLowerCase())===-1)throw new TypeError("Only valid options for round() are: "+r.join(", "));return this.transform(s=>Ve(s)?s:Math[e](s))}}Fd.prototype=Ld.prototype;let Md=new Date(""),O_=t=>Object.prototype.toString.call(t)==="[object Date]";function Po(){return new hr}class hr extends Me{constructor(){super({type:"date",check(e){return O_(e)&&!isNaN(e.getTime())}}),this.withMutation(()=>{this.transform((e,n,r)=>!r.spec.coerce||r.isType(e)||e===null?e:(e=g_(e),isNaN(e)?hr.INVALID_DATE:new Date(e)))})}prepareParam(e,n){let r;if(cn.isRef(e))r=e;else{let s=this.cast(e);if(!this._typeCheck(s))throw new TypeError(`\`${n}\` must be a Date or a value that can be \`cast()\` to a Date`);r=s}return r}min(e,n=Di.min){let r=this.prepareParam(e,"min");return this.test({message:n,name:"min",exclusive:!0,params:{min:e},skipAbsent:!0,test(s){return s>=this.resolve(r)}})}max(e,n=Di.max){let r=this.prepareParam(e,"max");return this.test({message:n,name:"max",exclusive:!0,params:{max:e},skipAbsent:!0,test(s){return s<=this.resolve(r)}})}}hr.INVALID_DATE=Md;Po.prototype=hr.prototype;Po.INVALID_DATE=Md;function j_(t,e=[]){let n=[],r=new Set,s=new Set(e.map(([o,a])=>`${o}-${a}`));function i(o,a){let c=Jt.split(o)[0];r.add(c),s.has(`${a}-${c}`)||n.push([a,c])}for(const o of Object.keys(t)){let a=t[o];r.add(o),cn.isRef(a)&&a.isSibling?i(a.path,o):ko(a)&&"deps"in a&&a.deps.forEach(c=>i(c,o))}return s_.array(Array.from(r),n).reverse()}function ac(t,e){let n=1/0;return t.some((r,s)=>{var i;if((i=e.path)!=null&&i.includes(r))return n=s,!0}),n}function Ud(t){return(e,n)=>ac(t,e)-ac(t,n)}const A_=(t,e,n)=>{if(typeof t!="string")return t;let r=t;try{r=JSON.parse(t)}catch{}return n.isType(r)?r:t};function $r(t){if("fields"in t){const e={};for(const[n,r]of Object.entries(t.fields))e[n]=$r(r);return t.setFields(e)}if(t.type==="array"){const e=t.optional();return e.innerType&&(e.innerType=$r(e.innerType)),e}return t.type==="tuple"?t.optional().clone({types:t.spec.types.map($r)}):"optional"in t?t.optional():t}const k_=(t,e)=>{const n=[...Jt.normalizePath(e)];if(n.length===1)return n[0]in t;let r=n.pop(),s=Jt.getter(Jt.join(n),!0)(t);return!!(s&&r in s)};let cc=t=>Object.prototype.toString.call(t)==="[object Object]";function lc(t,e){let n=Object.keys(t.fields);return Object.keys(e).filter(r=>n.indexOf(r)===-1)}const P_=Ud([]);function Ro(t){return new Bd(t)}class Bd extends Me{constructor(e){super({type:"object",check(n){return cc(n)||typeof n=="function"}}),this.fields=Object.create(null),this._sortErrors=P_,this._nodes=[],this._excludedEdges=[],this.withMutation(()=>{e&&this.shape(e)})}_cast(e,n={}){var r;let s=super._cast(e,n);if(s===void 0)return this.getDefault(n);if(!this._typeCheck(s))return s;let i=this.fields,o=(r=n.stripUnknown)!=null?r:this.spec.noUnknown,a=[].concat(this._nodes,Object.keys(s).filter(d=>!this._nodes.includes(d))),c={},l=Object.assign({},n,{parent:c,__validating:n.__validating||!1}),u=!1;for(const d of a){let p=i[d],g=d in s;if(p){let v,m=s[d];l.path=(n.path?`${n.path}.`:"")+d,p=p.resolve({value:m,context:n.context,parent:c});let y=p instanceof Me?p.spec:void 0,b=y==null?void 0:y.strict;if(y!=null&&y.strip){u=u||d in s;continue}v=!n.__validating||!b?p.cast(s[d],l):s[d],v!==void 0&&(c[d]=v)}else g&&!o&&(c[d]=s[d]);(g!==d in c||c[d]!==s[d])&&(u=!0)}return u?c:s}_validate(e,n={},r,s){let{from:i=[],originalValue:o=e,recursive:a=this.spec.recursive}=n;n.from=[{schema:this,value:o},...i],n.__validating=!0,n.originalValue=o,super._validate(e,n,r,(c,l)=>{if(!a||!cc(l)){s(c,l);return}o=o||l;let u=[];for(let d of this._nodes){let p=this.fields[d];!p||cn.isRef(p)||u.push(p.asNestedTest({options:n,key:d,parent:l,parentPath:n.path,originalParent:o}))}this.runTests({tests:u,value:l,originalValue:o,options:n},r,d=>{s(d.sort(this._sortErrors).concat(c),l)})})}clone(e){const n=super.clone(e);return n.fields=Object.assign({},this.fields),n._nodes=this._nodes,n._excludedEdges=this._excludedEdges,n._sortErrors=this._sortErrors,n}concat(e){let n=super.concat(e),r=n.fields;for(let[s,i]of Object.entries(this.fields)){const o=r[s];r[s]=o===void 0?i:o}return n.withMutation(s=>s.setFields(r,[...this._excludedEdges,...e._excludedEdges]))}_getDefault(e){if("default"in this.spec)return super._getDefault(e);if(!this._nodes.length)return;let n={};return this._nodes.forEach(r=>{var s;const i=this.fields[r];let o=e;(s=o)!=null&&s.value&&(o=Object.assign({},o,{parent:o.value,value:o.value[r]})),n[r]=i&&"getDefault"in i?i.getDefault(o):void 0}),n}setFields(e,n){let r=this.clone();return r.fields=e,r._nodes=j_(e,n),r._sortErrors=Ud(Object.keys(e)),n&&(r._excludedEdges=n),r}shape(e,n=[]){return this.clone().withMutation(r=>{let s=r._excludedEdges;return n.length&&(Array.isArray(n[0])||(n=[n]),s=[...r._excludedEdges,...n]),r.setFields(Object.assign(r.fields,e),s)})}partial(){const e={};for(const[n,r]of Object.entries(this.fields))e[n]="optional"in r&&r.optional instanceof Function?r.optional():r;return this.setFields(e)}deepPartial(){return $r(this)}pick(e){const n={};for(const r of e)this.fields[r]&&(n[r]=this.fields[r]);return this.setFields(n,this._excludedEdges.filter(([r,s])=>e.includes(r)&&e.includes(s)))}omit(e){const n=[];for(const r of Object.keys(this.fields))e.includes(r)||n.push(r);return this.pick(n)}from(e,n,r){let s=Jt.getter(e,!0);return this.transform(i=>{if(!i)return i;let o=i;return k_(i,e)&&(o=Object.assign({},i),r||delete o[e],o[n]=s(i)),o})}json(){return this.transform(A_)}exact(e){return this.test({name:"exact",exclusive:!0,message:e||Rr.exact,test(n){if(n==null)return!0;const r=lc(this.schema,n);return r.length===0||this.createError({params:{properties:r.join(", ")}})}})}stripUnknown(){return this.clone({noUnknown:!0})}noUnknown(e=!0,n=Rr.noUnknown){typeof e!="boolean"&&(n=e,e=!0);let r=this.test({name:"noUnknown",exclusive:!0,message:n,test(s){if(s==null)return!0;const i=lc(this.schema,s);return!e||i.length===0||this.createError({params:{unknown:i.join(", ")}})}});return r.spec.noUnknown=e,r}unknown(e=!0,n=Rr.noUnknown){return this.noUnknown(!e,n)}transformKeys(e){return this.transform(n=>{if(!n)return n;const r={};for(const s of Object.keys(n))r[e(s)]=n[s];return r})}camelCase(){return this.transformKeys(Ys.camelCase)}snakeCase(){return this.transformKeys(Ys.snakeCase)}constantCase(){return this.transformKeys(e=>Ys.snakeCase(e).toUpperCase())}describe(e){const n=(e?this.resolve(e):this).clone(),r=super.describe(e);r.fields={};for(const[i,o]of Object.entries(n.fields)){var s;let a=e;(s=a)!=null&&s.value&&(a=Object.assign({},a,{parent:a.value,value:a.value[i]})),r.fields[i]=o.describe(a)}return r}}Ro.prototype=Bd.prototype;const R_=Ro({patient_id:Wt().required("مطلوب"),date:Po().required("مطلوب"),time:Wt().nullable()}),$_={patient_id:"",date:"",time:null};function I_({setIsOpen:t,patientId:e}){const{isFetching:n,data:r}=bc({queryKey:["patients-select"],queryFn:()=>Ix()}),s=r==null?void 0:r.data,i=[{value:"test",label:"test"}],o=(s==null?void 0:s.map(u=>({label:u.name,value:`${u.id}`})))??i,a=nr(),{mutate:c,isPending:l}=Bi({mutationFn:Hp,onSuccess:()=>{a.invalidateQueries({queryKey:["appointments"]}),t(!1)}});return h.jsx("div",{className:"h-full overflow-auto px-2",children:h.jsx(Sd,{initialValues:$_,validationSchema:R_,onSubmit:u=>c(u),children:h.jsxs(Co,{className:"flex flex-col justify-between h-full",children:[h.jsxs(Td,{children:[h.jsx(Mx,{className:N("disabled:text-primary disabled:opacity-70 disabled:[&>svg]:hidden",{"[&>svg]:hidden":!!e}),isDisabled:!!e||n,label:"المريض",name:"patient_id",options:o,placeholder:"اختر مريض",onValueChange:()=>{},defaultValue:e}),h.jsx(_n,{label:"التاريخ",name:"date",type:"date"}),h.jsx(_n,{label:"الوقت",name:"time",type:"time"})]}),h.jsx(Cd,{label:"حجز",disabled:l})]})})})}var Vd=(t=>(t.APPOINTMENT="appointment",t.PATIENT="patient",t))(Vd||{});function N_({className:t}){return h.jsx("svg",{width:"27px",height:"27px",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:N("stroke-black",t),children:h.jsx("path",{d:"M12 7V12L9.5 13.5M21 12C21 16.9706 16.9706 21 12 21C7.02944 21 3 16.9706 3 12C3 7.02944 7.02944 3 12 3C16.9706 3 21 7.02944 21 12Z",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})}function D_({onClick:t,className:e}){return h.jsx("span",{onClick:t,className:N("text-sm text-primary hover:text-secondary transition font-semibold hover:underline hover:underline-offset-4",e),children:"موعد جديد"})}function F_({yesCallBack:t,noCallBack:e,patientName:n,isDisabled:r}){return h.jsxs("div",{className:"flex flex-col gap-7 justify-center items-center",children:[h.jsxs("div",{className:"flex flex-col gap-3 justify-center items-center",children:[h.jsx("span",{className:"font-bold text-xl",children:"هل تريد إلغاء موعد"}),h.jsx("span",{className:"font-semibold text-primary",children:n})]}),h.jsxs("div",{className:"flex items-center gap-6",children:[h.jsx("button",{disabled:r,className:" border-secondary font-medium w-20 text-secondary hover:bg-secondary hover:text-white transition rounded-xl h-fit px-5 py-2 border",onClick:t,children:"نعم"}),h.jsx("button",{disabled:r,className:" border-foreground font-medium w-20 text-foreground hover:bg-foreground hover:text-white transition rounded-xl h-fit px-5 py-2 border",onClick:e,children:"لا"})]})]})}function L_({appointmentId:t,patientName:e}){const[n,r]=f.useState(!1),s=nr(),{mutate:i,isPending:o}=Bi({mutationFn:qp,onSuccess:()=>{r(!1),s.invalidateQueries({queryKey:["appointments"]})}});return h.jsx(zu,{title:"إلغاء موعد",className:" md:w-2/5 lg:w-[25.5rem] w-11/12 h-fit overflow-hidden rounded-lg",isOpen:n,toggle:a=>r(a??!1),trigger:h.jsx("div",{className:"border-secondary font-medium text-secondary hover:bg-secondary hover:text-white transition rounded-xl h-fit text-sm px-5 py-2 border",children:"إلغاء"}),children:h.jsx(F_,{yesCallBack:()=>i(t),noCallBack:()=>r(!1),patientName:e,isDisabled:o})})}function M_(){return h.jsx("div",{className:"p-5",children:h.jsx(gu,{})})}function zd({className:t}){return h.jsx("svg",{width:"27px",height:"27px",className:N("",t),viewBox:"0 0 48 48",version:"1.1",xmlns:"http://www.w3.org/2000/svg",children:h.jsx("g",{id:"Icons",stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd",children:h.jsx("g",{id:"Color-",transform:"translate(-700.000000, -360.000000)",fill:"#67C15E",children:h.jsx("path",{d:"M723.993033,360 C710.762252,360 700,370.765287 700,383.999801 C700,389.248451 701.692661,394.116025 704.570026,398.066947 L701.579605,406.983798 L710.804449,404.035539 C714.598605,406.546975 719.126434,408 724.006967,408 C737.237748,408 748,397.234315 748,384.000199 C748,370.765685 737.237748,360.000398 724.006967,360.000398 L723.993033,360.000398 L723.993033,360 Z M717.29285,372.190836 C716.827488,371.07628 716.474784,371.034071 715.769774,371.005401 C715.529728,370.991464 715.262214,370.977527 714.96564,370.977527 C714.04845,370.977527 713.089462,371.245514 712.511043,371.838033 C711.806033,372.557577 710.056843,374.23638 710.056843,377.679202 C710.056843,381.122023 712.567571,384.451756 712.905944,384.917648 C713.258648,385.382743 717.800808,392.55031 724.853297,395.471492 C730.368379,397.757149 732.00491,397.545307 733.260074,397.27732 C735.093658,396.882308 737.393002,395.527239 737.971421,393.891043 C738.54984,392.25405 738.54984,390.857171 738.380255,390.560912 C738.211068,390.264652 737.745308,390.095816 737.040298,389.742615 C736.335288,389.389811 732.90737,387.696673 732.25849,387.470894 C731.623543,387.231179 731.017259,387.315995 730.537963,387.99333 C729.860819,388.938653 729.198006,389.89831 728.661785,390.476494 C728.238619,390.928051 727.547144,390.984595 726.969123,390.744481 C726.193254,390.420348 724.021298,389.657798 721.340985,387.273388 C719.267356,385.42535 717.856938,383.125756 717.448104,382.434484 C717.038871,381.729275 717.405907,381.319529 717.729948,380.938852 C718.082653,380.501232 718.421026,380.191036 718.77373,379.781688 C719.126434,379.372738 719.323884,379.160897 719.549599,378.681068 C719.789645,378.215575 719.62006,377.735746 719.450874,377.382942 C719.281687,377.030139 717.871269,373.587317 717.29285,372.190836 Z",id:"Whatsapp"})})})})}var $o="Checkbox",[U_,RS]=or($o),[B_,V_]=U_($o),Wd=f.forwardRef((t,e)=>{const{__scopeCheckbox:n,name:r,checked:s,defaultChecked:i,required:o,disabled:a,value:c="on",onCheckedChange:l,form:u,...d}=t,[p,g]=f.useState(null),v=de(e,S=>g(S)),m=f.useRef(!1),y=p?u||!!p.closest("form"):!0,[b=!1,w]=Ur({prop:s,defaultProp:i,onChange:l}),_=f.useRef(b);return f.useEffect(()=>{const S=p==null?void 0:p.form;if(S){const C=()=>w(_.current);return S.addEventListener("reset",C),()=>S.removeEventListener("reset",C)}},[p,w]),h.jsxs(B_,{scope:n,state:b,disabled:a,children:[h.jsx(re.button,{type:"button",role:"checkbox","aria-checked":Tt(b)?"mixed":b,"aria-required":o,"data-state":Kd(b),"data-disabled":a?"":void 0,disabled:a,value:c,...d,ref:v,onKeyDown:ne(t.onKeyDown,S=>{S.key==="Enter"&&S.preventDefault()}),onClick:ne(t.onClick,S=>{w(C=>Tt(C)?!0:!C),y&&(m.current=S.isPropagationStopped(),m.current||S.stopPropagation())})}),y&&h.jsx(z_,{control:p,bubbles:!m.current,name:r,value:c,checked:b,required:o,disabled:a,form:u,style:{transform:"translateX(-100%)"},defaultChecked:Tt(i)?!1:i})]})});Wd.displayName=$o;var Hd="CheckboxIndicator",qd=f.forwardRef((t,e)=>{const{__scopeCheckbox:n,forceMount:r,...s}=t,i=V_(Hd,n);return h.jsx(cr,{present:r||Tt(i.state)||i.state===!0,children:h.jsx(re.span,{"data-state":Kd(i.state),"data-disabled":i.disabled?"":void 0,...s,ref:e,style:{pointerEvents:"none",...t.style}})})});qd.displayName=Hd;var z_=t=>{const{control:e,checked:n,bubbles:r=!0,defaultChecked:s,...i}=t,o=f.useRef(null),a=Ol(n),c=al(e);f.useEffect(()=>{const u=o.current,d=window.HTMLInputElement.prototype,g=Object.getOwnPropertyDescriptor(d,"checked").set;if(a!==n&&g){const v=new Event("click",{bubbles:r});u.indeterminate=Tt(n),g.call(u,Tt(n)?!1:n),u.dispatchEvent(v)}},[a,n,r]);const l=f.useRef(Tt(n)?!1:n);return h.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:s??l.current,...i,tabIndex:-1,ref:o,style:{...t.style,...c,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function Tt(t){return t==="indeterminate"}function Kd(t){return Tt(t)?"indeterminate":t?"checked":"unchecked"}var Gd=Wd,W_=qd;const Jd=f.forwardRef(({className:t,...e},n)=>h.jsx(Gd,{ref:n,className:N("peer size-5 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",t),...e,children:h.jsx(W_,{className:N("flex items-center justify-center text-current"),children:h.jsx(du,{className:"h-4 w-4"})})}));Jd.displayName=Gd.displayName;function H_(t){const e=Ed({...t}),n=e[0].value,r=e[2].setValue;return h.jsx(Jd,{checked:n,onCheckedChange:s=>{r(s)},...t,...e})}const q_=Ro({name:Wt().required("مطلوب"),age:Fd().typeError("أرقام فقط").required("مطلوب").min(3,"العمر غير صحيح").max(120,"العمر غير صحيح"),address:Wt(),phone1:Wt().typeError("أرقام فقط").required("مطلوب").matches(/^01[0-25]\d{8}$/,"رقم غير صحيح"),phone1_has_whatsapp:Li(),phone2:Wt().typeError("أرقام فقط").matches(/^01[0-25]\d{8}$/,"رقم غير صحيح"),phone2_has_whatsapp:Li().required("مطلوب")}),K_={name:"",age:"",address:"",phone1:"",phone1_has_whatsapp:!1,phone2:"",phone2_has_whatsapp:!1};function G_({setIsOpen:t,patientId:e}){var l;const{isFetching:n,isError:r,data:s}=bc({queryKey:["patient",e],queryFn:()=>Nx(e??""),enabled:!!e}),i=nr(),{mutate:o,isPending:a}=Bi({mutationFn:e?Fx:Dx,onSuccess:()=>{t(!1),i.invalidateQueries({queryKey:["patients"]})}});if(n)return h.jsx(M_,{});if(r)return h.jsx("p",{className:"text-red-500 font-semibold",children:rr});const c=(l=s==null?void 0:s.data)==null?void 0:l[0];return h.jsx("div",{className:"h-full overflow-auto px-2",children:h.jsx(Sd,{initialValues:e?c:K_,validationSchema:q_,onSubmit:u=>o(u),children:h.jsxs(Co,{children:[h.jsxs(Td,{children:[h.jsx(_n,{label:"الاسم",name:"name"}),h.jsx(_n,{onKeyDown:pf,label:"العمر",name:"age",inputMode:"numeric"}),h.jsx(uc,{label:"رقم الهاتف",name:"phone1",onChange:()=>{}}),h.jsx(uc,{label:"رقم هاتف آخر (اختياري)",name:"phone2",onChange:()=>{}}),h.jsx(_n,{label:"العنوان (اختياري)",name:"address"})]}),h.jsx(Cd,{label:e?"تعديل":"إضافة",disabled:a})]})})})}function uc({label:t,name:e}){return h.jsxs("div",{className:"flex gap-2",children:[h.jsx(_n,{inputMode:"numeric",pattern:"[0-9]*",label:t,name:e,className:"flex-1 w-full"}),h.jsxs("div",{className:"flex gap-1.5 items-center mt-2",children:[h.jsx(zd,{className:"max-sm:size-5"}),h.jsx(H_,{className:"max-sm:size-4",name:`${e}_has_whatsapp`})]})]})}function J_({className:t}){return h.jsxs("svg",{width:"27px",height:"27px",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg",className:N("",t),children:[h.jsx("path",{d:"M905.92 237.76a32 32 0 0 0-52.48 36.48A416 416 0 1 1 96 512a418.56 418.56 0 0 1 297.28-398.72 32 32 0 1 0-18.24-61.44A480 480 0 1 0 992 512a477.12 477.12 0 0 0-86.08-274.24z"}),h.jsx("path",{d:"M630.72 113.28A413.76 413.76 0 0 1 768 185.28a32 32 0 0 0 39.68-50.24 476.8 476.8 0 0 0-160-83.2 32 32 0 0 0-18.24 61.44zM489.28 86.72a36.8 36.8 0 0 0 10.56 6.72 30.08 30.08 0 0 0 24.32 0 37.12 37.12 0 0 0 10.56-6.72A32 32 0 0 0 544 64a33.6 33.6 0 0 0-9.28-22.72A32 32 0 0 0 505.6 32a20.8 20.8 0 0 0-5.76 1.92 23.68 23.68 0 0 0-5.76 2.88l-4.8 3.84a32 32 0 0 0-6.72 10.56A32 32 0 0 0 480 64a32 32 0 0 0 2.56 12.16 37.12 37.12 0 0 0 6.72 10.56zM726.72 297.28a32 32 0 0 0-45.12 0l-169.6 169.6-169.28-169.6A32 32 0 0 0 297.6 342.4l169.28 169.6-169.6 169.28a32 32 0 1 0 45.12 45.12l169.6-169.28 169.28 169.28a32 32 0 0 0 45.12-45.12L557.12 512l169.28-169.28a32 32 0 0 0 0.32-45.44z"})]})}function Y_({className:t}){return h.jsx("svg",{width:"27px",height:"27px",viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg",className:N("",t),children:h.jsxs("g",{fill:"gray",children:[h.jsx("path",{d:"M8 16a8 8 0 0 1-8-8 8 8 0 0 1 8-8 8 8 0 0 1 8 8 8 8 0 0 1-8 8zm0-1a7 7 0 0 0 7-7 7 7 0 0 0-7-7 7 7 0 0 0-7 7 7 7 0 0 0 7 7z"}),h.jsx("path",{d:"M8 3.75c-.386 0-.69.124-.914.373A1.269 1.269 0 0 0 6.75 5c0 .336.112.628.336.877.224.249.528.373.914.373s.69-.124.914-.373c.224-.249.336-.541.336-.877 0-.336-.112-.628-.336-.877C8.69 3.874 8.386 3.75 8 3.75zM7 7v5h2V7z",fontFamily:"Ubuntu",fontWeight:"400",letterSpacing:"0",wordSpacing:"0"})]})})}function Z_({className:t}){return h.jsx("svg",{width:"27px",height:"27px",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:N("",t),children:h.jsx("path",{d:"M12 5H9C7.11438 5 6.17157 5 5.58579 5.58579C5 6.17157 5 7.11438 5 9V15C5 16.8856 5 17.8284 5.58579 18.4142C6.17157 19 7.11438 19 9 19H15C16.8856 19 17.8284 19 18.4142 18.4142C19 17.8284 19 16.8856 19 15V12M9.31899 12.6911L15.2486 6.82803C15.7216 6.36041 16.4744 6.33462 16.9782 6.76876C17.5331 7.24688 17.5723 8.09299 17.064 8.62034L11.2329 14.6702L9 15L9.31899 12.6911Z",stroke:"#464455",strokeLinecap:"round",strokeLinejoin:"round"})})}const Q_=({className:t})=>h.jsx("svg",{width:"4",height:"16",viewBox:"0 0 4 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:N(t),children:h.jsx("path",{d:"M2 16C1.45 16 0.979167 15.8042 0.5875 15.4125C0.195833 15.0208 0 14.55 0 14C0 13.45 0.195833 12.9792 0.5875 12.5875C0.979167 12.1958 1.45 12 2 12C2.55 12 3.02083 12.1958 3.4125 12.5875C3.80417 12.9792 4 13.45 4 14C4 14.55 3.80417 15.0208 3.4125 15.4125C3.02083 15.8042 2.55 16 2 16ZM2 10C1.45 10 0.979167 9.80417 0.5875 9.4125C0.195833 9.02083 0 8.55 0 8C0 7.45 0.195833 6.97917 0.5875 6.5875C0.979167 6.19583 1.45 6 2 6C2.55 6 3.02083 6.19583 3.4125 6.5875C3.80417 6.97917 4 7.45 4 8C4 8.55 3.80417 9.02083 3.4125 9.4125C3.02083 9.80417 2.55 10 2 10ZM2 4C1.45 4 0.979167 3.80417 0.5875 3.4125C0.195833 3.02083 0 2.55 0 2C0 1.45 0.195833 0.979167 0.5875 0.5875C0.979167 0.195833 1.45 0 2 0C2.55 0 3.02083 0.195833 3.4125 0.5875C3.80417 0.979167 4 1.45 4 2C4 2.55 3.80417 3.02083 3.4125 3.4125C3.02083 3.80417 2.55 4 2 4Z",fill:"#343434"})});function X_({patientId:t}){const[e,n]=f.useState(!1),[r,s]=f.useState(!1);f.useState(!1);const i=f.useRef(null);return f.useEffect(()=>{const o=a=>{a.stopPropagation();const c=a.target,l=i.current;c===l||l!=null&&l.contains(c)||n(!1)};return document.removeEventListener("click",o),document.addEventListener("click",o),()=>document.removeEventListener("click",o)},[i.current]),h.jsxs(h.Fragment,{children:[h.jsxs("div",{className:"relative -m-1.5",children:[h.jsx("button",{ref:i,onClick:()=>n(o=>!o),className:" rounded-full hover:bg-gray-50 transition-all  size-8 flex justify-center items-center",children:h.jsx(Q_,{})}),e&&h.jsxs("div",{className:" absolute bottom-0 translate-y-full left-3 flex flex-col z-[999] bg-white drop-shadow-lg w-40 rounded-lg overflow-hidden",children:[h.jsx(Zs,{label:"تفاصيل",icon:h.jsx(Y_,{className:"size-[22.5px]"})}),h.jsx("button",{onClick:()=>s(!0),children:h.jsx(Zs,{label:"تعديل",icon:h.jsx(Z_,{className:"-ms-1 h-7 w-8 -me-1"})})}),h.jsx(Zs,{label:"حذف",icon:h.jsx(J_,{className:" fill-red-600 size-[22.5px]"})})]})]}),h.jsx(Wu,{title:"تعديل مريض",isOpen:r,setIsOpen:s,children:h.jsx(G_,{setIsOpen:s,patientId:t})})]})}const Zs=({label:t,icon:e})=>h.jsxs("span",{className:"px-2.5 py-2 flex items-center gap-2 hover:bg-gray-50 transition-all text-sm",children:[e,t]});function eS({className:t}){return h.jsx("svg",{width:"27px",height:"27px",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:N("stroke-primary",t),children:h.jsx("path",{d:"M21 5.5C21 14.0604 14.0604 21 5.5 21C5.11378 21 4.73086 20.9859 4.35172 20.9581C3.91662 20.9262 3.69906 20.9103 3.50103 20.7963C3.33701 20.7019 3.18146 20.5345 3.09925 20.364C3 20.1582 3 19.9181 3 19.438V16.6207C3 16.2169 3 16.015 3.06645 15.842C3.12515 15.6891 3.22049 15.553 3.3441 15.4456C3.48403 15.324 3.67376 15.255 4.05321 15.117L7.26005 13.9509C7.70153 13.7904 7.92227 13.7101 8.1317 13.7237C8.31637 13.7357 8.49408 13.7988 8.64506 13.9058C8.81628 14.0271 8.93713 14.2285 9.17882 14.6314L10 16C12.6499 14.7999 14.7981 12.6489 16 10L14.6314 9.17882C14.2285 8.93713 14.0271 8.81628 13.9058 8.64506C13.7988 8.49408 13.7357 8.31637 13.7237 8.1317C13.7101 7.92227 13.7904 7.70153 13.9509 7.26005L13.9509 7.26005L15.117 4.05321C15.255 3.67376 15.324 3.48403 15.4456 3.3441C15.553 3.22049 15.6891 3.12515 15.842 3.06645C16.015 3 16.2169 3 16.6207 3H19.438C19.9181 3 20.1582 3 20.364 3.09925C20.5345 3.18146 20.7019 3.33701 20.7963 3.50103C20.9103 3.69907 20.9262 3.91662 20.9581 4.35173C20.9859 4.73086 21 5.11378 21 5.5Z",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})}function dc({phone:t,hasWhatsapp:e}){return h.jsx("div",{className:"flex items-center gap-2 max-sm:text-sm ",children:t?h.jsxs(h.Fragment,{children:[h.jsx("span",{children:t}),h.jsx("a",{href:`tel:${t}`,children:h.jsx(eS,{className:"size-6 max-sm:size-5 hover:stroke-secondary transition"})}),e&&h.jsx("a",{href:`https://wa.me/2${t}`,target:"_blank",rel:"noopener noreferrer",children:h.jsx(zd,{className:"size-6 max-sm:size-5"})})]}):h.jsx("span",{className:"text-secondary",children:"لا يوجد رقم آخر"})})}function $S(t){const[e,n]=f.useState(!1),{patient:r,variant:s}=t,{name:i,phone1:o,phone1_has_whatsapp:a,phone2:c,phone2_has_whatsapp:l}=r,u=s===Vd.PATIENT;return h.jsxs("div",{className:"bg-white h-fit group w-full py-4 px-3 rounded-xl flex flex-col gap-5 max-sm:gap-5 hover:shadow-md transition duration-200 ",children:[h.jsxs("div",{className:"flex gap-2 max-lg:gap-2 items-start justify-between max-lg:justify-center",children:[h.jsx("div",{className:"flex flex-1 flex-col gap-1 text-foreground group-hover:text-primary",children:h.jsx("h4",{className:"font-bold text-sm lg:text-base  h-10 lg:h-12",children:i})}),!u&&h.jsxs("div",{className:"flex items-center gap-1",children:[h.jsx("span",{style:{direction:"ltr"},className:"font-semibold text-sm text-foreground",children:u?"--:--":t.time}),h.jsx(N_,{className:"size-6 -me-0.5"})]}),u&&h.jsx(X_,{patientId:r.id})]}),h.jsxs("div",{className:"flex items-end max-lg:gap-2 justify-between",children:[h.jsxs("div",{className:"flex flex-col gap-4 ",children:[h.jsx(dc,{phone:o,hasWhatsapp:a}),h.jsx(dc,{phone:c,hasWhatsapp:!!l})]}),!u&&h.jsx(h.Fragment,{children:!mf(new Date(t.date))&&h.jsx(L_,{appointmentId:t.appointmentId,patientName:r.name})}),u&&h.jsx(Wu,{title:"حجز موعد",isOpen:e,setIsOpen:n,trigger:h.jsx(D_,{onClick:()=>{}}),children:h.jsx(I_,{setIsOpen:n,patientId:`${r.id}`})})]})]})}const tS=$u,nS=Iu,rS=Nu,Yd=f.forwardRef(({className:t,...e},n)=>h.jsx(cs,{className:N("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e,ref:n}));Yd.displayName=cs.displayName;const sS=Zp("fixed z-50 gap-4 bg-background p-6 shadow-lg transition ease-in-out data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:duration-300 data-[state=open]:duration-500",{variants:{side:{top:"inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top",bottom:"inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom",left:"inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm",right:"inset-y-0 right-0 h-full w-3/4  border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm"}},defaultVariants:{side:"right"}}),Zd=f.forwardRef(({side:t="right",className:e,children:n,...r},s)=>h.jsxs(rS,{children:[h.jsx(Yd,{}),h.jsxs(ls,{ref:s,className:N(sS({side:t}),e),...r,children:[n,h.jsxs(Du,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-secondary",children:[h.jsx(Fu,{className:"h-4 w-4"}),h.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));Zd.displayName=ls.displayName;const Qd=({className:t,...e})=>h.jsx("div",{className:N("flex flex-col space-y-2 text-center sm:text-left",t),...e});Qd.displayName="SheetHeader";const Xd=f.forwardRef(({className:t,...e},n)=>h.jsx(us,{ref:n,className:N("text-lg font-semibold text-foreground",t),...e}));Xd.displayName=us.displayName;const iS=f.forwardRef(({className:t,...e},n)=>h.jsx(ds,{ref:n,className:N("text-sm text-muted-foreground",t),...e}));iS.displayName=ds.displayName;function oS({trigger:t,title:e,children:n,className:r}){return h.jsxs(tS,{children:[h.jsx(nS,{children:t}),h.jsx(Zd,{className:"p-0 !max-w-[17rem]",children:h.jsxs(Qd,{children:[h.jsx(Xd,{children:e}),h.jsx("div",{className:N("h-screen w-full !mt-0",r),children:n})]})})]})}function aS({className:t}){return h.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:N("",t),children:[h.jsx("path",{d:"M4 18L20 18",stroke:"#000000",strokeWidth:"2",strokeLinecap:"round"}),h.jsx("path",{d:"M4 12L20 12",stroke:"#000000",strokeWidth:"2",strokeLinecap:"round"}),h.jsx("path",{d:"M4 6L20 6",stroke:"#000000",strokeWidth:"2",strokeLinecap:"round"})]})}function cS({className:t}){return h.jsx("svg",{width:"22px",height:"22px",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:N("stroke-slate-300",t),children:h.jsx("path",{d:"M16.6725 16.6412L21 21M19 11C19 15.4183 15.4183 19 11 19C6.58172 19 3 15.4183 3 11C3 6.58172 6.58172 3 11 3C15.4183 3 19 6.58172 19 11Z",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})}function IS({children:t,isFetching:e,addBtn:n}){const{pathname:r}=af(),{search:s,setSearch:i}=f.useContext(gf),o=yf.find(c=>c.href===r),a=(o==null?void 0:o.id)==="home"?"مواعيد اليوم":o==null?void 0:o.label;return h.jsxs("div",{className:"flex flex-col sm:gap-3 py-3 sm:py-6 px-2 sm:px-5 w-full h-full",children:[h.jsxs("div",{className:"flex sm:items-start max-sm:gap-3 justify-between max-sm:flex-col",children:[h.jsxs("div",{className:"flex gap-2 ",children:[h.jsx("div",{className:"lg:hidden",children:h.jsx(oS,{trigger:h.jsx(aS,{className:" size-7"}),title:"",children:h.jsx(vf,{className:"w-full h-full"})})}),h.jsxs("div",{className:"flex gap-3",children:[h.jsx("h4",{className:"font-semibold text-2xl sm:text-3xl text-foreground",children:a}),!!n&&n]})]}),h.jsx(Od,{icon:h.jsx(cS,{}),className:"sm:w-80 text-sm max-sm:[&>div>input]:placeholder:text-sm max-sm:[&>div>input]:text-sm max-sm:h-12 max-sm:w-10/12 max-sm:mx-auto",placeholder:"بحث",value:s,onChange:c=>{const l=c.target.value;i(l)}})]}),h.jsxs("div",{className:" overflow-auto flex-1 pe-1",children:[h.jsx(bf,{richColors:!0,position:"top-left",theme:"light",closeButton:!0}),e?h.jsx(gu,{}):t]})]})}export{Cg as A,G_ as B,Tg as C,Ki as D,Ix as E,Gi as F,TS as G,Hc as I,kS as N,re as P,io as R,An as S,or as a,ll as b,Zp as c,ne as d,cr as e,Gc as f,Og as g,bl as h,Ur as i,Eg as j,bn as k,so as l,Jy as m,fu as n,Yy as o,mu as p,Oi as q,bc as r,IS as s,Wu as t,de as u,I_ as v,gu as w,$S as x,Vd as y,CS as z};
