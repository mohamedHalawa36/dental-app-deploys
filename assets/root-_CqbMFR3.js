const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/web-BtbetK0z.js","assets/chunk-PVWAREVJ-chYXeG9N.js","assets/QueryClientProvider-DuLNCRAu.js","assets/auth-C2qdTIjl.js","assets/useAttachBackBtn-n1K_AgdM.js","assets/query-BmC5EiLz.js","assets/web-WvZgrqKE.js"])))=>i.map(i=>d[i]);
var ae=t=>{throw TypeError(t)};var oe=(t,e,s)=>e.has(t)||ae("Cannot "+s);var a=(t,e,s)=>(oe(t,e,"read from private field"),s?s.call(t):e.get(t)),b=(t,e,s)=>e.has(t)?ae("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,s),m=(t,e,s,n)=>(oe(t,e,"write to private field"),n?n.call(t,s):e.set(t,s),s);var J=(t,e,s,n)=>({set _(i){m(t,e,i,s)},get _(){return a(t,e,n)}});import{r as ee,q as Ee,p as l,t as ne,v as ke,w as Ce,x as Le,M as Ae,L as je,S as Me,y as Qe,O as Se,i as De}from"./chunk-PVWAREVJ-chYXeG9N.js";import{u as qe,t as N,_ as we,A as Fe,e as Te,a as Re,b as $e,S as be,M as Ue,n as x,m as ce,c as Q,h as xe,d as de,f as He,o as le,r as ue,g as Ie,i as he,p as pe,s as Ke,Q as Be,T as We}from"./QueryClientProvider-DuLNCRAu.js";import{g as Ge,a as Ve}from"./auth-C2qdTIjl.js";import{P as ze,u as Xe}from"./useAttachBackBtn-n1K_AgdM.js";import{Q as Je}from"./query-BmC5EiLz.js";const Ye="/assets/app-CdEtK2Vl.css",Ze=[{rel:"apple-touch-startup-image",href:"splash_screens/iPhone_16_Pro_Max_landscape.png",media:"screen and (device-width: 440px) and (device-height: 956px) and (-webkit-device-pixel-ratio: 3) and (orientation: landscape)"},{rel:"apple-touch-startup-image",href:"splash_screens/iPhone_16_Pro_landscape.png",media:"screen and (device-width: 402px) and (device-height: 874px) and (-webkit-device-pixel-ratio: 3) and (orientation: landscape)"},{rel:"apple-touch-startup-image",href:"splash_screens/iPhone_16_Plus__iPhone_15_Pro_Max__iPhone_15_Plus__iPhone_14_Pro_Max_landscape.png",media:"screen and (device-width: 430px) and (device-height: 932px) and (-webkit-device-pixel-ratio: 3) and (orientation: landscape)"},{rel:"apple-touch-startup-image",href:"splash_screens/iPhone_16__iPhone_15_Pro__iPhone_15__iPhone_14_Pro_landscape.png",media:"screen and (device-width: 393px) and (device-height: 852px) and (-webkit-device-pixel-ratio: 3) and (orientation: landscape)"},{rel:"apple-touch-startup-image",href:"splash_screens/iPhone_14_Plus__iPhone_13_Pro_Max__iPhone_12_Pro_Max_landscape.png",media:"screen and (device-width: 428px) and (device-height: 926px) and (-webkit-device-pixel-ratio: 3) and (orientation: landscape)"},{rel:"apple-touch-startup-image",href:"splash_screens/iPhone_16e__iPhone_14__iPhone_13_Pro__iPhone_13__iPhone_12_Pro__iPhone_12_landscape.png",media:"screen and (device-width: 390px) and (device-height: 844px) and (-webkit-device-pixel-ratio: 3) and (orientation: landscape)"},{rel:"apple-touch-startup-image",href:"splash_screens/iPhone_13_mini__iPhone_12_mini__iPhone_11_Pro__iPhone_XS__iPhone_X_landscape.png",media:"screen and (device-width: 375px) and (device-height: 812px) and (-webkit-device-pixel-ratio: 3) and (orientation: landscape)"},{rel:"apple-touch-startup-image",href:"splash_screens/iPhone_11_Pro_Max__iPhone_XS_Max_landscape.png",media:"screen and (device-width: 414px) and (device-height: 896px) and (-webkit-device-pixel-ratio: 3) and (orientation: landscape)"},{rel:"apple-touch-startup-image",href:"splash_screens/iPhone_11__iPhone_XR_landscape.png",media:"screen and (device-width: 414px) and (device-height: 896px) and (-webkit-device-pixel-ratio: 2) and (orientation: landscape)"},{rel:"apple-touch-startup-image",href:"splash_screens/iPhone_8_Plus__iPhone_7_Plus__iPhone_6s_Plus__iPhone_6_Plus_landscape.png",media:"screen and (device-width: 414px) and (device-height: 736px) and (-webkit-device-pixel-ratio: 3) and (orientation: landscape)"},{rel:"apple-touch-startup-image",href:"splash_screens/iPhone_8__iPhone_7__iPhone_6s__iPhone_6__4.7__iPhone_SE_landscape.png",media:"screen and (device-width: 375px) and (device-height: 667px) and (-webkit-device-pixel-ratio: 2) and (orientation: landscape)"},{rel:"apple-touch-startup-image",href:"splash_screens/4__iPhone_SE__iPod_touch_5th_generation_and_later_landscape.png",media:"screen and (device-width: 320px) and (device-height: 568px) and (-webkit-device-pixel-ratio: 2) and (orientation: landscape)"},{rel:"apple-touch-startup-image",href:"splash_screens/13__iPad_Pro_M4_landscape.png",media:"screen and (device-width: 1032px) and (device-height: 1376px) and (-webkit-device-pixel-ratio: 2) and (orientation: landscape)"},{rel:"apple-touch-startup-image",href:"splash_screens/12.9__iPad_Pro_landscape.png",media:"screen and (device-width: 1024px) and (device-height: 1366px) and (-webkit-device-pixel-ratio: 2) and (orientation: landscape)"},{rel:"apple-touch-startup-image",href:"splash_screens/11__iPad_Pro_M4_landscape.png",media:"screen and (device-width: 834px) and (device-height: 1210px) and (-webkit-device-pixel-ratio: 2) and (orientation: landscape)"},{rel:"apple-touch-startup-image",href:"splash_screens/11__iPad_Pro__10.5__iPad_Pro_landscape.png",media:"screen and (device-width: 834px) and (device-height: 1194px) and (-webkit-device-pixel-ratio: 2) and (orientation: landscape)"},{rel:"apple-touch-startup-image",href:"splash_screens/10.9__iPad_Air_landscape.png",media:"screen and (device-width: 820px) and (device-height: 1180px) and (-webkit-device-pixel-ratio: 2) and (orientation: landscape)"},{rel:"apple-touch-startup-image",href:"splash_screens/10.5__iPad_Air_landscape.png",media:"screen and (device-width: 834px) and (device-height: 1112px) and (-webkit-device-pixel-ratio: 2) and (orientation: landscape)"},{rel:"apple-touch-startup-image",href:"splash_screens/10.2__iPad_landscape.png",media:"screen and (device-width: 810px) and (device-height: 1080px) and (-webkit-device-pixel-ratio: 2) and (orientation: landscape)"},{rel:"apple-touch-startup-image",href:"splash_screens/9.7__iPad_Pro__7.9__iPad_mini__9.7__iPad_Air__9.7__iPad_landscape.png",media:"screen and (device-width: 768px) and (device-height: 1024px) and (-webkit-device-pixel-ratio: 2) and (orientation: landscape)"},{rel:"apple-touch-startup-image",href:"splash_screens/8.3__iPad_Mini_landscape.png",media:"screen and (device-width: 744px) and (device-height: 1133px) and (-webkit-device-pixel-ratio: 2) and (orientation: landscape)"}],Ne=["/users"],et=["/availability"],tt=(t,e,s)=>{if(s)return!0;const n=et.includes(t),i=Ne.includes(t);if(!n&&!i)return!0;const r=e==="doctor";if(n)return r;if(i)return s};function st({children:t}){const[e,s]=ee.useState(!0),{authData:n,setAuthData:i}=qe(),r=n==null?void 0:n.user,{pathname:o}=Ee();ee.useEffect(()=>{(async()=>{var A;const{data:g,error:M}=await Ge();if(M){i(null),s(!1),N.error("لم نستطع العثور على معلومات المستخدم، برجاء تسجيل الدخول");return}const c=(A=g==null?void 0:g.session)==null?void 0:A.user,u=(c==null?void 0:c.id)===(r==null?void 0:r.id);if(!c)i(null);else if(!u){const{data:O,error:v}=await Ve(c.id);v||i({user:{...c,...O},session:g.session})}s(!1)})()},[i,r==null?void 0:r.id]);const d=o==="/login";return e?l.jsx(ze,{}):r?d?l.jsx(ne,{to:"/",replace:!0}):tt(o,r.role,r.is_admin)?t:l.jsx(ne,{to:"/",replace:!0}):d?t:l.jsx(ne,{to:"/login",replace:!0})}const Y=()=>{N.dismiss(),navigator.onLine||N.error("No internet connection"),navigator.onLine&&N.success("Connection Restored")};/*! Capacitor: https://capacitorjs.com/ - MIT License */var K;(function(t){t.Unimplemented="UNIMPLEMENTED",t.Unavailable="UNAVAILABLE"})(K||(K={}));class ie extends Error{constructor(e,s,n){super(e),this.message=e,this.code=s,this.data=n}}const nt=t=>{var e,s;return t!=null&&t.androidBridge?"android":!((s=(e=t==null?void 0:t.webkit)===null||e===void 0?void 0:e.messageHandlers)===null||s===void 0)&&s.bridge?"ios":"web"},it=t=>{const e=t.CapacitorCustomPlatform||null,s=t.Capacitor||{},n=s.Plugins=s.Plugins||{},i=()=>e!==null?e.name:nt(t),r=()=>i()!=="web",o=c=>{const u=g.get(c);return!!(u!=null&&u.platforms.has(i())||d(c))},d=c=>{var u;return(u=s.PluginHeaders)===null||u===void 0?void 0:u.find(A=>A.name===c)},p=c=>t.console.error(c),g=new Map,M=(c,u={})=>{const A=g.get(c);if(A)return console.warn(`Capacitor plugin "${c}" already registered. Cannot register plugins twice.`),A.proxy;const O=i(),v=d(c);let P;const se=async()=>(!P&&O in u?P=typeof u[O]=="function"?P=await u[O]():P=u[O]:e!==null&&!P&&"web"in u&&(P=typeof u.web=="function"?P=await u.web():P=u.web),P),G=(f,_)=>{var w,k;if(v){const q=v==null?void 0:v.methods.find(C=>_===C.name);if(q)return q.rtype==="promise"?C=>s.nativePromise(c,_.toString(),C):(C,z)=>s.nativeCallback(c,_.toString(),C,z);if(f)return(w=f[_])===null||w===void 0?void 0:w.bind(f)}else{if(f)return(k=f[_])===null||k===void 0?void 0:k.bind(f);throw new ie(`"${c}" plugin is not implemented on ${O}`,K.Unimplemented)}},y=f=>{let _;const w=(...k)=>{const q=se().then(C=>{const z=G(C,f);if(z){const X=z(...k);return _=X==null?void 0:X.remove,X}else throw new ie(`"${c}.${f}()" is not implemented on ${O}`,K.Unimplemented)});return f==="addListener"&&(q.remove=async()=>_()),q};return w.toString=()=>`${f.toString()}() { [capacitor code] }`,Object.defineProperty(w,"name",{value:f,writable:!1,configurable:!1}),w},E=y("addListener"),D=y("removeListener"),V=(f,_)=>{const w=E({eventName:f},_),k=async()=>{const C=await w;D({eventName:f,callbackId:C},_)},q=new Promise(C=>w.then(()=>C({remove:k})));return q.remove=async()=>{console.warn("Using addListener() without 'await' is deprecated."),await k()},q},B=new Proxy({},{get(f,_){switch(_){case"$$typeof":return;case"toJSON":return()=>({});case"addListener":return v?V:E;case"removeListener":return D;default:return y(_)}}});return n[c]=B,g.set(c,{name:c,proxy:B,platforms:new Set([...Object.keys(u),...v?[O]:[]])}),B};return s.convertFileSrc||(s.convertFileSrc=c=>c),s.getPlatform=i,s.handleError=p,s.isNativePlatform=r,s.isPluginAvailable=o,s.registerPlugin=M,s.Exception=ie,s.DEBUG=!!s.DEBUG,s.isLoggingEnabled=!!s.isLoggingEnabled,s},rt=t=>t.Capacitor=it(t),re=rt(typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{}),te=re.registerPlugin;class Oe{constructor(){this.listeners={},this.retainedEventArguments={},this.windowListeners={}}addListener(e,s){let n=!1;this.listeners[e]||(this.listeners[e]=[],n=!0),this.listeners[e].push(s);const r=this.windowListeners[e];r&&!r.registered&&this.addWindowListener(r),n&&this.sendRetainedArgumentsForEvent(e);const o=async()=>this.removeListener(e,s);return Promise.resolve({remove:o})}async removeAllListeners(){this.listeners={};for(const e in this.windowListeners)this.removeWindowListener(this.windowListeners[e]);this.windowListeners={}}notifyListeners(e,s,n){const i=this.listeners[e];if(!i){if(n){let r=this.retainedEventArguments[e];r||(r=[]),r.push(s),this.retainedEventArguments[e]=r}return}i.forEach(r=>r(s))}hasListeners(e){var s;return!!(!((s=this.listeners[e])===null||s===void 0)&&s.length)}registerWindowListener(e,s){this.windowListeners[s]={registered:!1,windowEventName:e,pluginEventName:s,handler:n=>{this.notifyListeners(s,n)}}}unimplemented(e="not implemented"){return new re.Exception(e,K.Unimplemented)}unavailable(e="not available"){return new re.Exception(e,K.Unavailable)}async removeListener(e,s){const n=this.listeners[e];if(!n)return;const i=n.indexOf(s);this.listeners[e].splice(i,1),this.listeners[e].length||this.removeWindowListener(this.windowListeners[e])}addWindowListener(e){window.addEventListener(e.windowEventName,e.handler),e.registered=!0}removeWindowListener(e){e&&(window.removeEventListener(e.windowEventName,e.handler),e.registered=!1)}sendRetainedArgumentsForEvent(e){const s=this.retainedEventArguments[e];s&&(delete this.retainedEventArguments[e],s.forEach(n=>{this.notifyListeners(e,n)}))}}const fe=t=>encodeURIComponent(t).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape),ge=t=>t.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent);class at extends Oe{async getCookies(){const e=document.cookie,s={};return e.split(";").forEach(n=>{if(n.length<=0)return;let[i,r]=n.replace(/=/,"CAP_COOKIE").split("CAP_COOKIE");i=ge(i).trim(),r=ge(r).trim(),s[i]=r}),s}async setCookie(e){try{const s=fe(e.key),n=fe(e.value),i=`; expires=${(e.expires||"").replace("expires=","")}`,r=(e.path||"/").replace("path=",""),o=e.url!=null&&e.url.length>0?`domain=${e.url}`:"";document.cookie=`${s}=${n||""}${i}; path=${r}; ${o};`}catch(s){return Promise.reject(s)}}async deleteCookie(e){try{document.cookie=`${e.key}=; Max-Age=0`}catch(s){return Promise.reject(s)}}async clearCookies(){try{const e=document.cookie.split(";")||[];for(const s of e)document.cookie=s.replace(/^ +/,"").replace(/=.*/,`=;expires=${new Date().toUTCString()};path=/`)}catch(e){return Promise.reject(e)}}async clearAllCookies(){try{await this.clearCookies()}catch(e){return Promise.reject(e)}}}te("CapacitorCookies",{web:()=>new at});const ot=async t=>new Promise((e,s)=>{const n=new FileReader;n.onload=()=>{const i=n.result;e(i.indexOf(",")>=0?i.split(",")[1]:i)},n.onerror=i=>s(i),n.readAsDataURL(t)}),ct=(t={})=>{const e=Object.keys(t);return Object.keys(t).map(i=>i.toLocaleLowerCase()).reduce((i,r,o)=>(i[r]=t[e[o]],i),{})},dt=(t,e=!0)=>t?Object.entries(t).reduce((n,i)=>{const[r,o]=i;let d,p;return Array.isArray(o)?(p="",o.forEach(g=>{d=e?encodeURIComponent(g):g,p+=`${r}=${d}&`}),p.slice(0,-1)):(d=e?encodeURIComponent(o):o,p=`${r}=${d}`),`${n}&${p}`},"").substr(1):null,lt=(t,e={})=>{const s=Object.assign({method:t.method||"GET",headers:t.headers},e),i=ct(t.headers)["content-type"]||"";if(typeof t.data=="string")s.body=t.data;else if(i.includes("application/x-www-form-urlencoded")){const r=new URLSearchParams;for(const[o,d]of Object.entries(t.data||{}))r.set(o,d);s.body=r.toString()}else if(i.includes("multipart/form-data")||t.data instanceof FormData){const r=new FormData;if(t.data instanceof FormData)t.data.forEach((d,p)=>{r.append(p,d)});else for(const d of Object.keys(t.data))r.append(d,t.data[d]);s.body=r;const o=new Headers(s.headers);o.delete("content-type"),s.headers=o}else(i.includes("application/json")||typeof t.data=="object")&&(s.body=JSON.stringify(t.data));return s};class ut extends Oe{async request(e){const s=lt(e,e.webFetchExtra),n=dt(e.params,e.shouldEncodeUrlParams),i=n?`${e.url}?${n}`:e.url,r=await fetch(i,s),o=r.headers.get("content-type")||"";let{responseType:d="text"}=r.ok?e:{};o.includes("application/json")&&(d="json");let p,g;switch(d){case"arraybuffer":case"blob":g=await r.blob(),p=await ot(g);break;case"json":p=await r.json();break;case"document":case"text":default:p=await r.text()}const M={};return r.headers.forEach((c,u)=>{M[u]=c}),{data:p,headers:M,status:r.status,url:r.url}}async get(e){return this.request(Object.assign(Object.assign({},e),{method:"GET"}))}async post(e){return this.request(Object.assign(Object.assign({},e),{method:"POST"}))}async put(e){return this.request(Object.assign(Object.assign({},e),{method:"PUT"}))}async patch(e){return this.request(Object.assign(Object.assign({},e),{method:"PATCH"}))}async delete(e){return this.request(Object.assign(Object.assign({},e),{method:"DELETE"}))}}te("CapacitorHttp",{web:()=>new ut});const ht=te("App",{web:()=>we(()=>import("./web-BtbetK0z.js"),__vite__mapDeps([0,1,2,3,4,5])).then(t=>new t.AppWeb)}),pt=te("SplashScreen",{web:()=>we(()=>import("./web-WvZgrqKE.js"),__vite__mapDeps([6,1,2,3,4,5])).then(t=>new t.SplashScreenWeb)});function ft({children:t}){ee.useEffect(()=>(window.addEventListener("online",Y),window.addEventListener("offline",Y),()=>{window.removeEventListener("online",Y),window.removeEventListener("offline",Y)}),[]),ee.useEffect(()=>{const s=()=>{pt.hide()};return s(),document.addEventListener("DOMContentLoaded",s),()=>document.removeEventListener("DOMContentLoaded",s)},[]);const e=ke();return Xe(({canGoBack:s})=>{const n=document.body;n.querySelector("span[data-radix-focus-guard]")||n.getAttribute("data-scroll-locked")==="1"||(s?e(-1):ht.minimizeApp())},[]),l.jsx(Fe,{children:l.jsx(st,{children:l.jsx("div",{className:"h-screen w-screen overflow-hidden",children:t})})})}function _e(t){return{onFetch:(e,s)=>{var M,c,u,A,O;const n=e.options,i=(u=(c=(M=e.fetchOptions)==null?void 0:M.meta)==null?void 0:c.fetchMore)==null?void 0:u.direction,r=((A=e.state.data)==null?void 0:A.pages)||[],o=((O=e.state.data)==null?void 0:O.pageParams)||[];let d={pages:[],pageParams:[]},p=0;const g=async()=>{let v=!1;const P=y=>{Object.defineProperty(y,"signal",{enumerable:!0,get:()=>(e.signal.aborted?v=!0:e.signal.addEventListener("abort",()=>{v=!0}),e.signal)})},se=Te(e.options,e.fetchOptions),G=async(y,E,D)=>{if(v)return Promise.reject();if(E==null&&y.pages.length)return Promise.resolve(y);const B=(()=>{const k={client:e.client,queryKey:e.queryKey,pageParam:E,direction:D?"backward":"forward",meta:e.options.meta};return P(k),k})(),f=await se(B),{maxPages:_}=e.options,w=D?Re:$e;return{pages:w(y.pages,f,_),pageParams:w(y.pageParams,E,_)}};if(i&&r.length){const y=i==="backward",E=y?gt:me,D={pages:r,pageParams:o},V=E(n,D);d=await G(D,V,y)}else{const y=t??r.length;do{const E=p===0?o[0]??n.initialPageParam:me(n,d);if(p>0&&E==null)break;d=await G(d,E),p++}while(p<y)}return d};e.options.persister?e.fetchFn=()=>{var v,P;return(P=(v=e.options).persister)==null?void 0:P.call(v,g,{client:e.client,queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},s)}:e.fetchFn=g}}}function me(t,{pages:e,pageParams:s}){const n=e.length-1;return e.length>0?t.getNextPageParam(e[n],e,s[n],s):void 0}function gt(t,{pages:e,pageParams:s}){var n;return e.length>0?(n=t.getPreviousPageParam)==null?void 0:n.call(t,e[0],e,s[0],s):void 0}var S,L,W,ve,_t=(ve=class extends be{constructor(e={}){super();b(this,S);b(this,L);b(this,W);this.config=e,m(this,S,new Set),m(this,L,new Map),m(this,W,0)}build(e,s,n){const i=new Ue({mutationCache:this,mutationId:++J(this,W)._,options:e.defaultMutationOptions(s),state:n});return this.add(i),i}add(e){a(this,S).add(e);const s=Z(e);if(typeof s=="string"){const n=a(this,L).get(s);n?n.push(e):a(this,L).set(s,[e])}this.notify({type:"added",mutation:e})}remove(e){if(a(this,S).delete(e)){const s=Z(e);if(typeof s=="string"){const n=a(this,L).get(s);if(n)if(n.length>1){const i=n.indexOf(e);i!==-1&&n.splice(i,1)}else n[0]===e&&a(this,L).delete(s)}}this.notify({type:"removed",mutation:e})}canRun(e){const s=Z(e);if(typeof s=="string"){const n=a(this,L).get(s),i=n==null?void 0:n.find(r=>r.state.status==="pending");return!i||i===e}else return!0}runNext(e){var n;const s=Z(e);if(typeof s=="string"){const i=(n=a(this,L).get(s))==null?void 0:n.find(r=>r!==e&&r.state.isPaused);return(i==null?void 0:i.continue())??Promise.resolve()}else return Promise.resolve()}clear(){x.batch(()=>{a(this,S).forEach(e=>{this.notify({type:"removed",mutation:e})}),a(this,S).clear(),a(this,L).clear()})}getAll(){return Array.from(a(this,S))}find(e){const s={exact:!0,...e};return this.getAll().find(n=>ce(s,n))}findAll(e={}){return this.getAll().filter(s=>ce(e,s))}notify(e){x.batch(()=>{this.listeners.forEach(s=>{s(e)})})}resumePausedMutations(){const e=this.getAll().filter(s=>s.state.isPaused);return x.batch(()=>Promise.all(e.map(s=>s.continue().catch(Q))))}},S=new WeakMap,L=new WeakMap,W=new WeakMap,ve);function Z(t){var e;return(e=t.options.scope)==null?void 0:e.id}var j,ye,mt=(ye=class extends be{constructor(e={}){super();b(this,j);this.config=e,m(this,j,new Map)}build(e,s,n){const i=s.queryKey,r=s.queryHash??xe(i,s);let o=this.get(r);return o||(o=new Je({client:e,queryKey:i,queryHash:r,options:e.defaultQueryOptions(s),state:n,defaultOptions:e.getQueryDefaults(i)}),this.add(o)),o}add(e){a(this,j).has(e.queryHash)||(a(this,j).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const s=a(this,j).get(e.queryHash);s&&(e.destroy(),s===e&&a(this,j).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){x.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return a(this,j).get(e)}getAll(){return[...a(this,j).values()]}find(e){const s={exact:!0,...e};return this.getAll().find(n=>de(s,n))}findAll(e={}){const s=this.getAll();return Object.keys(e).length>0?s.filter(n=>de(e,n)):s}notify(e){x.batch(()=>{this.listeners.forEach(s=>{s(e)})})}onFocus(){x.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){x.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},j=new WeakMap,ye),h,F,T,$,U,R,H,I,Pe,vt=(Pe=class{constructor(t={}){b(this,h);b(this,F);b(this,T);b(this,$);b(this,U);b(this,R);b(this,H);b(this,I);m(this,h,t.queryCache||new mt),m(this,F,t.mutationCache||new _t),m(this,T,t.defaultOptions||{}),m(this,$,new Map),m(this,U,new Map),m(this,R,0)}mount(){J(this,R)._++,a(this,R)===1&&(m(this,H,He.subscribe(async t=>{t&&(await this.resumePausedMutations(),a(this,h).onFocus())})),m(this,I,le.subscribe(async t=>{t&&(await this.resumePausedMutations(),a(this,h).onOnline())})))}unmount(){var t,e;J(this,R)._--,a(this,R)===0&&((t=a(this,H))==null||t.call(this),m(this,H,void 0),(e=a(this,I))==null||e.call(this),m(this,I,void 0))}isFetching(t){return a(this,h).findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return a(this,F).findAll({...t,status:"pending"}).length}getQueryData(t){var s;const e=this.defaultQueryOptions({queryKey:t});return(s=a(this,h).get(e.queryHash))==null?void 0:s.state.data}ensureQueryData(t){const e=this.defaultQueryOptions(t),s=a(this,h).build(this,e),n=s.state.data;return n===void 0?this.fetchQuery(t):(t.revalidateIfStale&&s.isStaleByTime(ue(e.staleTime,s))&&this.prefetchQuery(e),Promise.resolve(n))}getQueriesData(t){return a(this,h).findAll(t).map(({queryKey:e,state:s})=>{const n=s.data;return[e,n]})}setQueryData(t,e,s){const n=this.defaultQueryOptions({queryKey:t}),i=a(this,h).get(n.queryHash),r=i==null?void 0:i.state.data,o=Ie(e,r);if(o!==void 0)return a(this,h).build(this,n).setData(o,{...s,manual:!0})}setQueriesData(t,e,s){return x.batch(()=>a(this,h).findAll(t).map(({queryKey:n})=>[n,this.setQueryData(n,e,s)]))}getQueryState(t){var s;const e=this.defaultQueryOptions({queryKey:t});return(s=a(this,h).get(e.queryHash))==null?void 0:s.state}removeQueries(t){const e=a(this,h);x.batch(()=>{e.findAll(t).forEach(s=>{e.remove(s)})})}resetQueries(t,e){const s=a(this,h);return x.batch(()=>(s.findAll(t).forEach(n=>{n.reset()}),this.refetchQueries({type:"active",...t},e)))}cancelQueries(t,e={}){const s={revert:!0,...e},n=x.batch(()=>a(this,h).findAll(t).map(i=>i.cancel(s)));return Promise.all(n).then(Q).catch(Q)}invalidateQueries(t,e={}){return x.batch(()=>(a(this,h).findAll(t).forEach(s=>{s.invalidate()}),(t==null?void 0:t.refetchType)==="none"?Promise.resolve():this.refetchQueries({...t,type:(t==null?void 0:t.refetchType)??(t==null?void 0:t.type)??"active"},e)))}refetchQueries(t,e={}){const s={...e,cancelRefetch:e.cancelRefetch??!0},n=x.batch(()=>a(this,h).findAll(t).filter(i=>!i.isDisabled()&&!i.isStatic()).map(i=>{let r=i.fetch(void 0,s);return s.throwOnError||(r=r.catch(Q)),i.state.fetchStatus==="paused"?Promise.resolve():r}));return Promise.all(n).then(Q)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const s=a(this,h).build(this,e);return s.isStaleByTime(ue(e.staleTime,s))?s.fetch(e):Promise.resolve(s.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(Q).catch(Q)}fetchInfiniteQuery(t){return t.behavior=_e(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(Q).catch(Q)}ensureInfiniteQueryData(t){return t.behavior=_e(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return le.isOnline()?a(this,F).resumePausedMutations():Promise.resolve()}getQueryCache(){return a(this,h)}getMutationCache(){return a(this,F)}getDefaultOptions(){return a(this,T)}setDefaultOptions(t){m(this,T,t)}setQueryDefaults(t,e){a(this,$).set(he(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...a(this,$).values()],s={};return e.forEach(n=>{pe(t,n.queryKey)&&Object.assign(s,n.defaultOptions)}),s}setMutationDefaults(t,e){a(this,U).set(he(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...a(this,U).values()],s={};return e.forEach(n=>{pe(t,n.mutationKey)&&Object.assign(s,n.defaultOptions)}),s}defaultQueryOptions(t){if(t._defaulted)return t;const e={...a(this,T).queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=xe(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.queryFn===Ke&&(e.enabled=!1),e}defaultMutationOptions(t){return t!=null&&t._defaulted?t:{...a(this,T).mutations,...(t==null?void 0:t.mutationKey)&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){a(this,h).clear(),a(this,F).clear()}},h=new WeakMap,F=new WeakMap,T=new WeakMap,$=new WeakMap,U=new WeakMap,R=new WeakMap,H=new WeakMap,I=new WeakMap,Pe);function yt({children:t}){const e=new vt({defaultOptions:{queries:{refetchOnWindowFocus:!1}}});return l.jsx(Be,{client:e,children:l.jsxs(l.Fragment,{children:[t,l.jsx(We,{richColors:!0,position:"top-left",theme:"light",closeButton:!0})]})})}const kt=()=>[{rel:"preconnect",href:"https://fonts.googleapis.com"},{rel:"preconnect",href:"https://fonts.gstatic.com",crossOrigin:"anonymous"},{rel:"stylesheet",href:"https://fonts.googleapis.com/css2?family=Alexandria:wght@100..900&display=swap"},{rel:"stylesheet",href:Ye},{rel:"manifest",href:"/manifest.webmanifest?v=2"},...Ze];function Ct({children:t}){return l.jsxs("html",{lang:"ar",dir:"rtl",children:[l.jsxs("head",{children:[l.jsx("meta",{charSet:"utf-8"}),l.jsx("meta",{name:"viewport",content:"width=device-width, initial-scale=1"}),l.jsx("meta",{name:"mobile-web-app-capable",content:"yes"}),l.jsx(Ae,{}),l.jsx(je,{})]}),l.jsxs("body",{className:"h-screen w-screen",children:[t,l.jsx(Me,{}),l.jsx(Qe,{})]})]})}const Lt=Ce(function(){return l.jsx(yt,{children:l.jsx(ft,{children:l.jsx(Se,{})})})}),At=Le(function({error:e}){let s="Oops!",n="An unexpected error occurred.",i;return De(e)&&(s=e.status===404?"404":"Error",n=e.status===404?"The requested page could not be found.":e.statusText||n),l.jsxs("main",{className:"container mx-auto p-4 pt-16",children:[l.jsx("h1",{children:s}),l.jsx("p",{children:n}),i]})});export{At as E,Ct as L,Oe as W,kt as l,Lt as r};
