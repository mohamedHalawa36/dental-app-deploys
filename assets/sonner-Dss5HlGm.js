const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/browser-D_wwIK8g.js","assets/chunk-SYFQ2XB5-Y8KprK8j.js"])))=>i.map(i=>d[i]);
var ps=r=>{throw TypeError(r)};var on=(r,e,t)=>e.has(r)||ps("Cannot "+t);var G=(r,e,t)=>(on(r,e,"read from private field"),t?t.call(r):e.get(r)),kt=(r,e,t)=>e.has(r)?ps("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(r):e.set(r,t),$t=(r,e,t,n)=>(on(r,e,"write to private field"),n?n.call(r,t):e.set(r,t),t),Ot=(r,e,t)=>(on(r,e,"access private method"),t);import{r as g,p as b,w as za,x as Te,l as W,y as bi}from"./chunk-SYFQ2XB5-Y8KprK8j.js";import{S as Va,C as Ha,i as gs,O as qa,n as vi,H as Ga,v as Ft}from"./utils-DOddNwIy.js";import{R as Wa,r as Ka}from"./index-CRDjHsPC.js";var rt,nt,oe,ze,Ve,Er,bn,yi,Ja=(yi=class extends Va{constructor(e,t){super();kt(this,Ve);kt(this,rt);kt(this,nt);kt(this,oe);kt(this,ze);$t(this,rt,e),this.setOptions(t),this.bindMethods(),Ot(this,Ve,Er).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(e){var n;const t=this.options;this.options=G(this,rt).defaultMutationOptions(e),Ha(this.options,t)||G(this,rt).getMutationCache().notify({type:"observerOptionsUpdated",mutation:G(this,oe),observer:this}),t!=null&&t.mutationKey&&this.options.mutationKey&&gs(t.mutationKey)!==gs(this.options.mutationKey)?this.reset():((n=G(this,oe))==null?void 0:n.state.status)==="pending"&&G(this,oe).setOptions(this.options)}onUnsubscribe(){var e;this.hasListeners()||(e=G(this,oe))==null||e.removeObserver(this)}onMutationUpdate(e){Ot(this,Ve,Er).call(this),Ot(this,Ve,bn).call(this,e)}getCurrentResult(){return G(this,nt)}reset(){var e;(e=G(this,oe))==null||e.removeObserver(this),$t(this,oe,void 0),Ot(this,Ve,Er).call(this),Ot(this,Ve,bn).call(this)}mutate(e,t){var n;return $t(this,ze,t),(n=G(this,oe))==null||n.removeObserver(this),$t(this,oe,G(this,rt).getMutationCache().build(G(this,rt),this.options)),G(this,oe).addObserver(this),G(this,oe).execute(e)}},rt=new WeakMap,nt=new WeakMap,oe=new WeakMap,ze=new WeakMap,Ve=new WeakSet,Er=function(){var t;const e=((t=G(this,oe))==null?void 0:t.state)??qa();$t(this,nt,{...e,isPending:e.status==="pending",isSuccess:e.status==="success",isError:e.status==="error",isIdle:e.status==="idle",mutate:this.mutate,reset:this.reset})},bn=function(e){vi.batch(()=>{var t,n,s,i,a,o,u,l;if(G(this,ze)&&this.hasListeners()){const d=G(this,nt).variables,c=G(this,nt).context;(e==null?void 0:e.type)==="success"?((n=(t=G(this,ze)).onSuccess)==null||n.call(t,e.data,d,c),(i=(s=G(this,ze)).onSettled)==null||i.call(s,e.data,null,d,c)):(e==null?void 0:e.type)==="error"&&((o=(a=G(this,ze)).onError)==null||o.call(a,e.error,d,c),(l=(u=G(this,ze)).onSettled)==null||l.call(u,void 0,e.error,d,c))}this.listeners.forEach(d=>{d(G(this,nt))})})},yi);function Ya(r,e){return typeof r=="function"?r(...e):!!r}function Za(){}function xg(r,e){const t=Ga(),[n]=g.useState(()=>new Ja(t,r));g.useEffect(()=>{n.setOptions(r)},[n,r]);const s=g.useSyncExternalStore(g.useCallback(a=>n.subscribe(vi.batchCalls(a)),[n]),()=>n.getCurrentResult(),()=>n.getCurrentResult()),i=g.useCallback((a,o)=>{n.mutate(a,o).catch(Za)},[n]);if(s.error&&Ya(n.options.throwOnError,[s.error]))throw s.error;return{...s,mutate:i,mutateAsync:s.mutate}}function Xa(r){if(typeof document>"u")return;let e=document.head||document.getElementsByTagName("head")[0],t=document.createElement("style");t.type="text/css",e.appendChild(t),t.styleSheet?t.styleSheet.cssText=r:t.appendChild(document.createTextNode(r))}const Qa=r=>{switch(r){case"success":return ro;case"info":return so;case"warning":return no;case"error":return io;default:return null}},eo=Array(12).fill(0),to=({visible:r,className:e})=>b.createElement("div",{className:["sonner-loading-wrapper",e].filter(Boolean).join(" "),"data-visible":r},b.createElement("div",{className:"sonner-spinner"},eo.map((t,n)=>b.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${n}`})))),ro=b.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},b.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),no=b.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},b.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),so=b.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},b.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),io=b.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},b.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),ao=b.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},b.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),b.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),oo=()=>{const[r,e]=b.useState(document.hidden);return b.useEffect(()=>{const t=()=>{e(document.hidden)};return document.addEventListener("visibilitychange",t),()=>window.removeEventListener("visibilitychange",t)},[]),r};let vn=1;class uo{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{const t=this.subscribers.indexOf(e);this.subscribers.splice(t,1)}),this.publish=e=>{this.subscribers.forEach(t=>t(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var t;const{message:n,...s}=e,i=typeof(e==null?void 0:e.id)=="number"||((t=e.id)==null?void 0:t.length)>0?e.id:vn++,a=this.toasts.find(u=>u.id===i),o=e.dismissible===void 0?!0:e.dismissible;return this.dismissedToasts.has(i)&&this.dismissedToasts.delete(i),a?this.toasts=this.toasts.map(u=>u.id===i?(this.publish({...u,...e,id:i,title:n}),{...u,...e,id:i,dismissible:o,title:n}):u):this.addToast({title:n,...s,dismissible:o,id:i}),i},this.dismiss=e=>(this.dismissedToasts.add(e),e||this.toasts.forEach(t=>{this.subscribers.forEach(n=>n({id:t.id,dismiss:!0}))}),requestAnimationFrame(()=>this.subscribers.forEach(t=>t({id:e,dismiss:!0}))),e),this.message=(e,t)=>this.create({...t,message:e}),this.error=(e,t)=>this.create({...t,message:e,type:"error"}),this.success=(e,t)=>this.create({...t,type:"success",message:e}),this.info=(e,t)=>this.create({...t,type:"info",message:e}),this.warning=(e,t)=>this.create({...t,type:"warning",message:e}),this.loading=(e,t)=>this.create({...t,type:"loading",message:e}),this.promise=(e,t)=>{if(!t)return;let n;t.loading!==void 0&&(n=this.create({...t,promise:e,type:"loading",message:t.loading,description:typeof t.description!="function"?t.description:void 0}));const s=Promise.resolve(e instanceof Function?e():e);let i=n!==void 0,a;const o=s.then(async l=>{if(a=["resolve",l],b.isValidElement(l))i=!1,this.create({id:n,type:"default",message:l});else if(co(l)&&!l.ok){i=!1;const c=typeof t.error=="function"?await t.error(`HTTP error! status: ${l.status}`):t.error,f=typeof t.description=="function"?await t.description(`HTTP error! status: ${l.status}`):t.description,p=typeof c=="object"?c:{message:c};this.create({id:n,type:"error",description:f,...p})}else if(l instanceof Error){i=!1;const c=typeof t.error=="function"?await t.error(l):t.error,f=typeof t.description=="function"?await t.description(l):t.description,p=typeof c=="object"?c:{message:c};this.create({id:n,type:"error",description:f,...p})}else if(t.success!==void 0){i=!1;const c=typeof t.success=="function"?await t.success(l):t.success,f=typeof t.description=="function"?await t.description(l):t.description,p=typeof c=="object"?c:{message:c};this.create({id:n,type:"success",description:f,...p})}}).catch(async l=>{if(a=["reject",l],t.error!==void 0){i=!1;const d=typeof t.error=="function"?await t.error(l):t.error,c=typeof t.description=="function"?await t.description(l):t.description,f=typeof d=="object"?d:{message:d};this.create({id:n,type:"error",description:c,...f})}}).finally(()=>{i&&(this.dismiss(n),n=void 0),t.finally==null||t.finally.call(t)}),u=()=>new Promise((l,d)=>o.then(()=>a[0]==="reject"?d(a[1]):l(a[1])).catch(d));return typeof n!="string"&&typeof n!="number"?{unwrap:u}:Object.assign(n,{unwrap:u})},this.custom=(e,t)=>{const n=(t==null?void 0:t.id)||vn++;return this.create({jsx:e(n),id:n,...t}),n},this.getActiveToasts=()=>this.toasts.filter(e=>!this.dismissedToasts.has(e.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}}const ue=new uo,lo=(r,e)=>{const t=(e==null?void 0:e.id)||vn++;return ue.addToast({title:r,...e,id:t}),t},co=r=>r&&typeof r=="object"&&"ok"in r&&typeof r.ok=="boolean"&&"status"in r&&typeof r.status=="number",fo=lo,ho=()=>ue.toasts,po=()=>ue.getActiveToasts(),ms=Object.assign(fo,{success:ue.success,info:ue.info,warning:ue.warning,error:ue.error,custom:ue.custom,message:ue.message,promise:ue.promise,dismiss:ue.dismiss,loading:ue.loading},{getHistory:ho,getToasts:po});Xa("[data-sonner-toaster][dir=ltr],html[dir=ltr]{--toast-icon-margin-start:-3px;--toast-icon-margin-end:4px;--toast-svg-margin-start:-1px;--toast-svg-margin-end:0px;--toast-button-margin-start:auto;--toast-button-margin-end:0;--toast-close-button-start:0;--toast-close-button-end:unset;--toast-close-button-transform:translate(-35%, -35%)}[data-sonner-toaster][dir=rtl],html[dir=rtl]{--toast-icon-margin-start:4px;--toast-icon-margin-end:-3px;--toast-svg-margin-start:0px;--toast-svg-margin-end:-1px;--toast-button-margin-start:0;--toast-button-margin-end:auto;--toast-close-button-start:unset;--toast-close-button-end:0;--toast-close-button-transform:translate(35%, -35%)}[data-sonner-toaster]{position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1:hsl(0, 0%, 99%);--gray2:hsl(0, 0%, 97.3%);--gray3:hsl(0, 0%, 95.1%);--gray4:hsl(0, 0%, 93%);--gray5:hsl(0, 0%, 90.9%);--gray6:hsl(0, 0%, 88.7%);--gray7:hsl(0, 0%, 85.8%);--gray8:hsl(0, 0%, 78%);--gray9:hsl(0, 0%, 56.1%);--gray10:hsl(0, 0%, 52.3%);--gray11:hsl(0, 0%, 43.5%);--gray12:hsl(0, 0%, 9%);--border-radius:8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:0;z-index:999999999;transition:transform .4s ease}[data-sonner-toaster][data-lifted=true]{transform:translateY(-8px)}@media (hover:none) and (pointer:coarse){[data-sonner-toaster][data-lifted=true]{transform:none}}[data-sonner-toaster][data-x-position=right]{right:var(--offset-right)}[data-sonner-toaster][data-x-position=left]{left:var(--offset-left)}[data-sonner-toaster][data-x-position=center]{left:50%;transform:translateX(-50%)}[data-sonner-toaster][data-y-position=top]{top:var(--offset-top)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--offset-bottom)}[data-sonner-toast]{--y:translateY(100%);--lift-amount:calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:0;overflow-wrap:anywhere}[data-sonner-toast][data-styled=true]{padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px rgba(0,0,0,.1);width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}[data-sonner-toast]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-y-position=top]{top:0;--y:translateY(-100%);--lift:1;--lift-amount:calc(1 * var(--gap))}[data-sonner-toast][data-y-position=bottom]{bottom:0;--y:translateY(100%);--lift:-1;--lift-amount:calc(var(--lift) * var(--gap))}[data-sonner-toast][data-styled=true] [data-description]{font-weight:400;line-height:1.4;color:#3f3f3f}[data-sonner-toaster][data-sonner-theme=dark] [data-description]{color:#e8e8e8}[data-sonner-toast][data-styled=true] [data-title]{font-weight:500;line-height:1.5;color:inherit}[data-sonner-toast][data-styled=true] [data-icon]{display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}[data-sonner-toast][data-promise=true] [data-icon]>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}[data-sonner-toast][data-styled=true] [data-icon]>*{flex-shrink:0}[data-sonner-toast][data-styled=true] [data-icon] svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}[data-sonner-toast][data-styled=true] [data-content]{display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;font-weight:500;cursor:pointer;outline:0;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}[data-sonner-toast][data-styled=true] [data-button]:focus-visible{box-shadow:0 0 0 2px rgba(0,0,0,.4)}[data-sonner-toast][data-styled=true] [data-button]:first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}[data-sonner-toast][data-styled=true] [data-cancel]{color:var(--normal-text);background:rgba(0,0,0,.08)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-styled=true] [data-cancel]{background:rgba(255,255,255,.3)}[data-sonner-toast][data-styled=true] [data-close-button]{position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);background:var(--normal-bg);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast][data-styled=true] [data-close-button]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-styled=true] [data-disabled=true]{cursor:not-allowed}[data-sonner-toast][data-styled=true]:hover [data-close-button]:hover{background:var(--gray2);border-color:var(--gray5)}[data-sonner-toast][data-swiping=true]::before{content:'';position:absolute;left:-100%;right:-100%;height:100%;z-index:-1}[data-sonner-toast][data-y-position=top][data-swiping=true]::before{bottom:50%;transform:scaleY(3) translateY(50%)}[data-sonner-toast][data-y-position=bottom][data-swiping=true]::before{top:50%;transform:scaleY(3) translateY(-50%)}[data-sonner-toast][data-swiping=false][data-removed=true]::before{content:'';position:absolute;inset:0;transform:scaleY(2)}[data-sonner-toast]::after{content:'';position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}[data-sonner-toast][data-mounted=true]{--y:translateY(0);opacity:1}[data-sonner-toast][data-expanded=false][data-front=false]{--scale:var(--toasts-before) * 0.05 + 1;--y:translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}[data-sonner-toast]>*{transition:opacity .4s}[data-sonner-toast][data-x-position=right]{right:0}[data-sonner-toast][data-x-position=left]{left:0}[data-sonner-toast][data-expanded=false][data-front=false][data-styled=true]>*{opacity:0}[data-sonner-toast][data-visible=false]{opacity:0;pointer-events:none}[data-sonner-toast][data-mounted=true][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}[data-sonner-toast][data-removed=true][data-front=true][data-swipe-out=false]{--y:translateY(calc(var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=false]{--y:translateY(40%);opacity:0;transition:transform .5s,opacity .2s}[data-sonner-toast][data-removed=true][data-front=false]::before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y,0)) translateX(var(--swipe-amount-x,0));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width:600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-sonner-theme=light]{--normal-bg:#fff;--normal-border:var(--gray4);--normal-text:var(--gray12);--success-bg:hsl(143, 85%, 96%);--success-border:hsl(145, 92%, 87%);--success-text:hsl(140, 100%, 27%);--info-bg:hsl(208, 100%, 97%);--info-border:hsl(221, 91%, 93%);--info-text:hsl(210, 92%, 45%);--warning-bg:hsl(49, 100%, 97%);--warning-border:hsl(49, 91%, 84%);--warning-text:hsl(31, 92%, 45%);--error-bg:hsl(359, 100%, 97%);--error-border:hsl(359, 100%, 94%);--error-text:hsl(360, 100%, 45%)}[data-sonner-toaster][data-sonner-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg:#000;--normal-border:hsl(0, 0%, 20%);--normal-text:var(--gray1)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg:#fff;--normal-border:var(--gray3);--normal-text:var(--gray12)}[data-sonner-toaster][data-sonner-theme=dark]{--normal-bg:#000;--normal-bg-hover:hsl(0, 0%, 12%);--normal-border:hsl(0, 0%, 20%);--normal-border-hover:hsl(0, 0%, 25%);--normal-text:var(--gray1);--success-bg:hsl(150, 100%, 6%);--success-border:hsl(147, 100%, 12%);--success-text:hsl(150, 86%, 65%);--info-bg:hsl(215, 100%, 6%);--info-border:hsl(223, 43%, 17%);--info-text:hsl(216, 87%, 65%);--warning-bg:hsl(64, 100%, 6%);--warning-border:hsl(60, 100%, 9%);--warning-text:hsl(46, 87%, 65%);--error-bg:hsl(358, 76%, 10%);--error-border:hsl(357, 89%, 16%);--error-text:hsl(358, 100%, 81%)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size:16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:first-child{animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}100%{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}100%{opacity:.15}}@media (prefers-reduced-motion){.sonner-loading-bar,[data-sonner-toast],[data-sonner-toast]>*{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}");function mr(r){return r.label!==void 0}const go=3,mo="24px",yo="16px",ys=4e3,bo=356,vo=14,_o=45,wo=200;function Re(...r){return r.filter(Boolean).join(" ")}function xo(r){const[e,t]=r.split("-"),n=[];return e&&n.push(e),t&&n.push(t),n}const So=r=>{var e,t,n,s,i,a,o,u,l;const{invert:d,toast:c,unstyled:f,interacting:p,setHeights:y,visibleToasts:_,heights:m,index:x,toasts:O,expanded:q,removeToast:H,defaultRichColors:C,closeButton:$,style:A,cancelButtonStyle:qe,actionButtonStyle:ve,className:Ce="",descriptionClassName:R="",duration:ee,position:K,gap:_e,expandByDefault:de,classNames:P,icons:ke,closeButtonAriaLabel:we="Close toast"}=r,[ne,Ge]=b.useState(null),[F,D]=b.useState(null),[L,te]=b.useState(!1),[se,B]=b.useState(!1),[Ne,Le]=b.useState(!1),[We,Ke]=b.useState(!1),[Vt,lr]=b.useState(!1),[cr,Ht]=b.useState(0),[tn,dr]=b.useState(0),ot=b.useRef(c.duration||ee||ys),fr=b.useRef(null),fe=b.useRef(null),rn=x===0,nn=x+1<=_,h=c.type,v=c.dismissible!==!1,w=c.className||"",S=c.descriptionClassName||"",T=b.useMemo(()=>m.findIndex(E=>E.toastId===c.id)||0,[m,c.id]),I=b.useMemo(()=>{var E;return(E=c.closeButton)!=null?E:$},[c.closeButton,$]),J=b.useMemo(()=>c.duration||ee||ys,[c.duration,ee]),he=b.useRef(0),Pe=b.useRef(0),Et=b.useRef(0),Je=b.useRef(null),[hr,sn]=K.split("-"),ls=b.useMemo(()=>m.reduce((E,Y,re)=>re>=T?E:E+Y.height,0),[m,T]),cs=oo(),Ua=c.invert||d,an=h==="loading";Pe.current=b.useMemo(()=>T*_e+ls,[T,ls]),b.useEffect(()=>{ot.current=J},[J]),b.useEffect(()=>{te(!0)},[]),b.useEffect(()=>{const E=fe.current;if(E){const Y=E.getBoundingClientRect().height;return dr(Y),y(re=>[{toastId:c.id,height:Y,position:c.position},...re]),()=>y(re=>re.filter(pe=>pe.toastId!==c.id))}},[y,c.id]),b.useLayoutEffect(()=>{if(!L)return;const E=fe.current,Y=E.style.height;E.style.height="auto";const re=E.getBoundingClientRect().height;E.style.height=Y,dr(re),y(pe=>pe.find(Q=>Q.toastId===c.id)?pe.map(Q=>Q.toastId===c.id?{...Q,height:re}:Q):[{toastId:c.id,height:re,position:c.position},...pe])},[L,c.title,c.description,y,c.id]);const Ye=b.useCallback(()=>{B(!0),Ht(Pe.current),y(E=>E.filter(Y=>Y.toastId!==c.id)),setTimeout(()=>{H(c)},wo)},[c,H,y,Pe]);b.useEffect(()=>{if(c.promise&&h==="loading"||c.duration===1/0||c.type==="loading")return;let E;return q||p||cs?(()=>{if(Et.current<he.current){const pe=new Date().getTime()-he.current;ot.current=ot.current-pe}Et.current=new Date().getTime()})():(()=>{ot.current!==1/0&&(he.current=new Date().getTime(),E=setTimeout(()=>{c.onAutoClose==null||c.onAutoClose.call(c,c),Ye()},ot.current))})(),()=>clearTimeout(E)},[q,p,c,h,cs,Ye]),b.useEffect(()=>{c.delete&&Ye()},[Ye,c.delete]);function Ba(){var E;if(ke!=null&&ke.loading){var Y;return b.createElement("div",{className:Re(P==null?void 0:P.loader,c==null||(Y=c.classNames)==null?void 0:Y.loader,"sonner-loader"),"data-visible":h==="loading"},ke.loading)}return b.createElement(to,{className:Re(P==null?void 0:P.loader,c==null||(E=c.classNames)==null?void 0:E.loader),visible:h==="loading"})}var ds,fs;return b.createElement("li",{tabIndex:0,ref:fe,className:Re(Ce,w,P==null?void 0:P.toast,c==null||(e=c.classNames)==null?void 0:e.toast,P==null?void 0:P.default,P==null?void 0:P[h],c==null||(t=c.classNames)==null?void 0:t[h]),"data-sonner-toast":"","data-rich-colors":(ds=c.richColors)!=null?ds:C,"data-styled":!(c.jsx||c.unstyled||f),"data-mounted":L,"data-promise":!!c.promise,"data-swiped":Vt,"data-removed":se,"data-visible":nn,"data-y-position":hr,"data-x-position":sn,"data-index":x,"data-front":rn,"data-swiping":Ne,"data-dismissible":v,"data-type":h,"data-invert":Ua,"data-swipe-out":We,"data-swipe-direction":F,"data-expanded":!!(q||de&&L),style:{"--index":x,"--toasts-before":x,"--z-index":O.length-x,"--offset":`${se?cr:Pe.current}px`,"--initial-height":de?"auto":`${tn}px`,...A,...c.style},onDragEnd:()=>{Le(!1),Ge(null),Je.current=null},onPointerDown:E=>{an||!v||(fr.current=new Date,Ht(Pe.current),E.target.setPointerCapture(E.pointerId),E.target.tagName!=="BUTTON"&&(Le(!0),Je.current={x:E.clientX,y:E.clientY}))},onPointerUp:()=>{var E,Y,re;if(We||!v)return;Je.current=null;const pe=Number(((E=fe.current)==null?void 0:E.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),pr=Number(((Y=fe.current)==null?void 0:Y.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),Q=new Date().getTime()-((re=fr.current)==null?void 0:re.getTime()),xe=ne==="x"?pe:pr,gr=Math.abs(xe)/Q;if(Math.abs(xe)>=_o||gr>.11){Ht(Pe.current),c.onDismiss==null||c.onDismiss.call(c,c),D(ne==="x"?pe>0?"right":"left":pr>0?"down":"up"),Ye(),Ke(!0);return}else{var $e,Oe;($e=fe.current)==null||$e.style.setProperty("--swipe-amount-x","0px"),(Oe=fe.current)==null||Oe.style.setProperty("--swipe-amount-y","0px")}lr(!1),Le(!1),Ge(null)},onPointerMove:E=>{var Y,re,pe;if(!Je.current||!v||((Y=window.getSelection())==null?void 0:Y.toString().length)>0)return;const Q=E.clientY-Je.current.y,xe=E.clientX-Je.current.x;var gr;const $e=(gr=r.swipeDirections)!=null?gr:xo(K);!ne&&(Math.abs(xe)>1||Math.abs(Q)>1)&&Ge(Math.abs(xe)>Math.abs(Q)?"x":"y");let Oe={x:0,y:0};const hs=ut=>1/(1.5+Math.abs(ut)/20);if(ne==="y"){if($e.includes("top")||$e.includes("bottom"))if($e.includes("top")&&Q<0||$e.includes("bottom")&&Q>0)Oe.y=Q;else{const ut=Q*hs(Q);Oe.y=Math.abs(ut)<Math.abs(Q)?ut:Q}}else if(ne==="x"&&($e.includes("left")||$e.includes("right")))if($e.includes("left")&&xe<0||$e.includes("right")&&xe>0)Oe.x=xe;else{const ut=xe*hs(xe);Oe.x=Math.abs(ut)<Math.abs(xe)?ut:xe}(Math.abs(Oe.x)>0||Math.abs(Oe.y)>0)&&lr(!0),(re=fe.current)==null||re.style.setProperty("--swipe-amount-x",`${Oe.x}px`),(pe=fe.current)==null||pe.style.setProperty("--swipe-amount-y",`${Oe.y}px`)}},I&&!c.jsx&&h!=="loading"?b.createElement("button",{"aria-label":we,"data-disabled":an,"data-close-button":!0,onClick:an||!v?()=>{}:()=>{Ye(),c.onDismiss==null||c.onDismiss.call(c,c)},className:Re(P==null?void 0:P.closeButton,c==null||(n=c.classNames)==null?void 0:n.closeButton)},(fs=ke==null?void 0:ke.close)!=null?fs:ao):null,h||c.icon||c.promise?b.createElement("div",{"data-icon":"",className:Re(P==null?void 0:P.icon,c==null||(s=c.classNames)==null?void 0:s.icon)},c.promise||c.type==="loading"&&!c.icon?c.icon||Ba():null,c.type!=="loading"?c.icon||(ke==null?void 0:ke[h])||Qa(h):null):null,b.createElement("div",{"data-content":"",className:Re(P==null?void 0:P.content,c==null||(i=c.classNames)==null?void 0:i.content)},b.createElement("div",{"data-title":"",className:Re(P==null?void 0:P.title,c==null||(a=c.classNames)==null?void 0:a.title)},c.jsx?c.jsx:typeof c.title=="function"?c.title():c.title),c.description?b.createElement("div",{"data-description":"",className:Re(R,S,P==null?void 0:P.description,c==null||(o=c.classNames)==null?void 0:o.description)},typeof c.description=="function"?c.description():c.description):null),b.isValidElement(c.cancel)?c.cancel:c.cancel&&mr(c.cancel)?b.createElement("button",{"data-button":!0,"data-cancel":!0,style:c.cancelButtonStyle||qe,onClick:E=>{mr(c.cancel)&&v&&(c.cancel.onClick==null||c.cancel.onClick.call(c.cancel,E),Ye())},className:Re(P==null?void 0:P.cancelButton,c==null||(u=c.classNames)==null?void 0:u.cancelButton)},c.cancel.label):null,b.isValidElement(c.action)?c.action:c.action&&mr(c.action)?b.createElement("button",{"data-button":!0,"data-action":!0,style:c.actionButtonStyle||ve,onClick:E=>{mr(c.action)&&(c.action.onClick==null||c.action.onClick.call(c.action,E),!E.defaultPrevented&&Ye())},className:Re(P==null?void 0:P.actionButton,c==null||(l=c.classNames)==null?void 0:l.actionButton)},c.action.label):null)};function bs(){if(typeof window>"u"||typeof document>"u")return"ltr";const r=document.documentElement.getAttribute("dir");return r==="auto"||!r?window.getComputedStyle(document.documentElement).direction:r}function To(r,e){const t={};return[r,e].forEach((n,s)=>{const i=s===1,a=i?"--mobile-offset":"--offset",o=i?yo:mo;function u(l){["top","right","bottom","left"].forEach(d=>{t[`${a}-${d}`]=typeof l=="number"?`${l}px`:l})}typeof n=="number"||typeof n=="string"?u(n):typeof n=="object"?["top","right","bottom","left"].forEach(l=>{n[l]===void 0?t[`${a}-${l}`]=o:t[`${a}-${l}`]=typeof n[l]=="number"?`${n[l]}px`:n[l]}):u(o)}),t}const Eo=b.forwardRef(function(e,t){const{invert:n,position:s="bottom-right",hotkey:i=["altKey","KeyT"],expand:a,closeButton:o,className:u,offset:l,mobileOffset:d,theme:c="light",richColors:f,duration:p,style:y,visibleToasts:_=go,toastOptions:m,dir:x=bs(),gap:O=vo,icons:q,containerAriaLabel:H="Notifications"}=e,[C,$]=b.useState([]),A=b.useMemo(()=>Array.from(new Set([s].concat(C.filter(F=>F.position).map(F=>F.position)))),[C,s]),[qe,ve]=b.useState([]),[Ce,R]=b.useState(!1),[ee,K]=b.useState(!1),[_e,de]=b.useState(c!=="system"?c:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),P=b.useRef(null),ke=i.join("+").replace(/Key/g,"").replace(/Digit/g,""),we=b.useRef(null),ne=b.useRef(!1),Ge=b.useCallback(F=>{$(D=>{var L;return(L=D.find(te=>te.id===F.id))!=null&&L.delete||ue.dismiss(F.id),D.filter(({id:te})=>te!==F.id)})},[]);return b.useEffect(()=>ue.subscribe(F=>{if(F.dismiss){const D=C.map(L=>L.id===F.id?{...L,delete:!0}:L);requestAnimationFrame(()=>{$(D)});return}setTimeout(()=>{Wa.flushSync(()=>{$(D=>{const L=D.findIndex(te=>te.id===F.id);return L!==-1?[...D.slice(0,L),{...D[L],...F},...D.slice(L+1)]:[F,...D]})})})}),[C]),b.useEffect(()=>{if(c!=="system"){de(c);return}if(c==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?de("dark"):de("light")),typeof window>"u")return;const F=window.matchMedia("(prefers-color-scheme: dark)");try{F.addEventListener("change",({matches:D})=>{de(D?"dark":"light")})}catch{F.addListener(({matches:L})=>{try{de(L?"dark":"light")}catch(te){console.error(te)}})}},[c]),b.useEffect(()=>{C.length<=1&&R(!1)},[C]),b.useEffect(()=>{const F=D=>{var L;if(i.every(B=>D[B]||D.code===B)){var se;R(!0),(se=P.current)==null||se.focus()}D.code==="Escape"&&(document.activeElement===P.current||(L=P.current)!=null&&L.contains(document.activeElement))&&R(!1)};return document.addEventListener("keydown",F),()=>document.removeEventListener("keydown",F)},[i]),b.useEffect(()=>{if(P.current)return()=>{we.current&&(we.current.focus({preventScroll:!0}),we.current=null,ne.current=!1)}},[P.current]),b.createElement("section",{ref:t,"aria-label":`${H} ${ke}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},A.map((F,D)=>{var L;const[te,se]=F.split("-");return C.length?b.createElement("ol",{key:F,dir:x==="auto"?bs():x,tabIndex:-1,ref:P,className:u,"data-sonner-toaster":!0,"data-sonner-theme":_e,"data-y-position":te,"data-lifted":Ce&&C.length>1&&!a,"data-x-position":se,style:{"--front-toast-height":`${((L=qe[0])==null?void 0:L.height)||0}px`,"--width":`${bo}px`,"--gap":`${O}px`,...y,...To(l,d)},onBlur:B=>{ne.current&&!B.currentTarget.contains(B.relatedTarget)&&(ne.current=!1,we.current&&(we.current.focus({preventScroll:!0}),we.current=null))},onFocus:B=>{B.target instanceof HTMLElement&&B.target.dataset.dismissible==="false"||ne.current||(ne.current=!0,we.current=B.relatedTarget)},onMouseEnter:()=>R(!0),onMouseMove:()=>R(!0),onMouseLeave:()=>{ee||R(!1)},onDragEnd:()=>R(!1),onPointerDown:B=>{B.target instanceof HTMLElement&&B.target.dataset.dismissible==="false"||K(!0)},onPointerUp:()=>K(!1)},C.filter(B=>!B.position&&D===0||B.position===F).map((B,Ne)=>{var Le,We;return b.createElement(So,{key:B.id,icons:q,index:Ne,toast:B,defaultRichColors:f,duration:(Le=m==null?void 0:m.duration)!=null?Le:p,className:m==null?void 0:m.className,descriptionClassName:m==null?void 0:m.descriptionClassName,invert:n,visibleToasts:_,closeButton:(We=m==null?void 0:m.closeButton)!=null?We:o,interacting:ee,position:F,style:m==null?void 0:m.style,unstyled:m==null?void 0:m.unstyled,classNames:m==null?void 0:m.classNames,cancelButtonStyle:m==null?void 0:m.cancelButtonStyle,actionButtonStyle:m==null?void 0:m.actionButtonStyle,closeButtonAriaLabel:m==null?void 0:m.closeButtonAriaLabel,removeToast:Ge,toasts:C.filter(Ke=>Ke.position==B.position),heights:qe.filter(Ke=>Ke.position==B.position),setHeights:ve,expandByDefault:a,gap:O,expanded:Ce,swipeDirections:e.swipeDirections})})):null}))}),ko="modulepreload",$o=function(r){return"/"+r},vs={},Nt=function(e,t,n){let s=Promise.resolve();if(t&&t.length>0){document.getElementsByTagName("link");const a=document.querySelector("meta[property=csp-nonce]"),o=(a==null?void 0:a.nonce)||(a==null?void 0:a.getAttribute("nonce"));s=Promise.allSettled(t.map(u=>{if(u=$o(u),u in vs)return;vs[u]=!0;const l=u.endsWith(".css"),d=l?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${u}"]${d}`))return;const c=document.createElement("link");if(c.rel=l?"stylesheet":ko,l||(c.as="script"),c.crossOrigin="",c.href=u,o&&c.setAttribute("nonce",o),document.head.appendChild(c),l)return new Promise((f,p)=>{c.addEventListener("load",f),c.addEventListener("error",()=>p(new Error(`Unable to preload CSS for ${u}`)))})}))}function i(a){const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=a,window.dispatchEvent(o),!o.defaultPrevented)throw a}return s.then(a=>{for(const o of a||[])o.status==="rejected"&&i(o.reason);return e().catch(i)})},Oo=r=>{let e;return r?e=r:typeof fetch>"u"?e=(...t)=>Nt(async()=>{const{default:n}=await Promise.resolve().then(()=>Ut);return{default:n}},void 0).then(({default:n})=>n(...t)):e=fetch,(...t)=>e(...t)};class Un extends Error{constructor(e,t="FunctionsError",n){super(e),this.name=t,this.context=n}}class Ao extends Un{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class jo extends Un{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class Co extends Un{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var _n;(function(r){r.Any="any",r.ApNortheast1="ap-northeast-1",r.ApNortheast2="ap-northeast-2",r.ApSouth1="ap-south-1",r.ApSoutheast1="ap-southeast-1",r.ApSoutheast2="ap-southeast-2",r.CaCentral1="ca-central-1",r.EuCentral1="eu-central-1",r.EuWest1="eu-west-1",r.EuWest2="eu-west-2",r.EuWest3="eu-west-3",r.SaEast1="sa-east-1",r.UsEast1="us-east-1",r.UsWest1="us-west-1",r.UsWest2="us-west-2"})(_n||(_n={}));var Po=function(r,e,t,n){function s(i){return i instanceof t?i:new t(function(a){a(i)})}return new(t||(t=Promise))(function(i,a){function o(d){try{l(n.next(d))}catch(c){a(c)}}function u(d){try{l(n.throw(d))}catch(c){a(c)}}function l(d){d.done?i(d.value):s(d.value).then(o,u)}l((n=n.apply(r,e||[])).next())})};class Ro{constructor(e,{headers:t={},customFetch:n,region:s=_n.Any}={}){this.url=e,this.headers=t,this.region=s,this.fetch=Oo(n)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e,t={}){var n;return Po(this,void 0,void 0,function*(){try{const{headers:s,method:i,body:a}=t;let o={},{region:u}=t;u||(u=this.region),u&&u!=="any"&&(o["x-region"]=u);let l;a&&(s&&!Object.prototype.hasOwnProperty.call(s,"Content-Type")||!s)&&(typeof Blob<"u"&&a instanceof Blob||a instanceof ArrayBuffer?(o["Content-Type"]="application/octet-stream",l=a):typeof a=="string"?(o["Content-Type"]="text/plain",l=a):typeof FormData<"u"&&a instanceof FormData?l=a:(o["Content-Type"]="application/json",l=JSON.stringify(a)));const d=yield this.fetch(`${this.url}/${e}`,{method:i||"POST",headers:Object.assign(Object.assign(Object.assign({},o),this.headers),s),body:l}).catch(y=>{throw new Ao(y)}),c=d.headers.get("x-relay-error");if(c&&c==="true")throw new jo(d);if(!d.ok)throw new Co(d);let f=((n=d.headers.get("Content-Type"))!==null&&n!==void 0?n:"text/plain").split(";")[0].trim(),p;return f==="application/json"?p=yield d.json():f==="application/octet-stream"?p=yield d.blob():f==="text/event-stream"?p=d:f==="multipart/form-data"?p=yield d.formData():p=yield d.text(),{data:p,error:null}}catch(s){return{data:null,error:s}}})}}var le={},Bn={},Pr={},nr={},Rr={},Ir={},Io=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},Lt=Io();const Fo=Lt.fetch,_i=Lt.fetch.bind(Lt),wi=Lt.Headers,Do=Lt.Request,No=Lt.Response,Ut=Object.freeze(Object.defineProperty({__proto__:null,Headers:wi,Request:Do,Response:No,default:_i,fetch:Fo},Symbol.toStringTag,{value:"Module"})),Lo=za(Ut);var Fr={};Object.defineProperty(Fr,"__esModule",{value:!0});let Mo=class extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}};Fr.default=Mo;var xi=Te&&Te.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Ir,"__esModule",{value:!0});const Uo=xi(Lo),Bo=xi(Fr);let zo=class{constructor(e){this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=e.headers,this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=e.shouldThrowOnError,this.signal=e.signal,this.isMaybeSingle=e.isMaybeSingle,e.fetch?this.fetch=e.fetch:typeof fetch>"u"?this.fetch=Uo.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,t){return this.headers=Object.assign({},this.headers),this.headers[e]=t,this}then(e,t){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const n=this.fetch;let s=n(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async i=>{var a,o,u;let l=null,d=null,c=null,f=i.status,p=i.statusText;if(i.ok){if(this.method!=="HEAD"){const x=await i.text();x===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?d=x:d=JSON.parse(x))}const _=(a=this.headers.Prefer)===null||a===void 0?void 0:a.match(/count=(exact|planned|estimated)/),m=(o=i.headers.get("content-range"))===null||o===void 0?void 0:o.split("/");_&&m&&m.length>1&&(c=parseInt(m[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(d)&&(d.length>1?(l={code:"PGRST116",details:`Results contain ${d.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},d=null,c=null,f=406,p="Not Acceptable"):d.length===1?d=d[0]:d=null)}else{const _=await i.text();try{l=JSON.parse(_),Array.isArray(l)&&i.status===404&&(d=[],l=null,f=200,p="OK")}catch{i.status===404&&_===""?(f=204,p="No Content"):l={message:_}}if(l&&this.isMaybeSingle&&(!((u=l==null?void 0:l.details)===null||u===void 0)&&u.includes("0 rows"))&&(l=null,f=200,p="OK"),l&&this.shouldThrowOnError)throw new Bo.default(l)}return{error:l,data:d,count:c,status:f,statusText:p}});return this.shouldThrowOnError||(s=s.catch(i=>{var a,o,u;return{error:{message:`${(a=i==null?void 0:i.name)!==null&&a!==void 0?a:"FetchError"}: ${i==null?void 0:i.message}`,details:`${(o=i==null?void 0:i.stack)!==null&&o!==void 0?o:""}`,hint:"",code:`${(u=i==null?void 0:i.code)!==null&&u!==void 0?u:""}`},data:null,count:null,status:0,statusText:""}})),s.then(e,t)}};Ir.default=zo;var Vo=Te&&Te.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Rr,"__esModule",{value:!0});const Ho=Vo(Ir);let qo=class extends Ho.default{select(e){let t=!1;const n=(e??"*").split("").map(s=>/\s/.test(s)&&!t?"":(s==='"'&&(t=!t),s)).join("");return this.url.searchParams.set("select",n),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(e,{ascending:t=!0,nullsFirst:n,foreignTable:s,referencedTable:i=s}={}){const a=i?`${i}.order`:"order",o=this.url.searchParams.get(a);return this.url.searchParams.set(a,`${o?`${o},`:""}${e}.${t?"asc":"desc"}${n===void 0?"":n?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:t,referencedTable:n=t}={}){const s=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(s,`${e}`),this}range(e,t,{foreignTable:n,referencedTable:s=n}={}){const i=typeof s>"u"?"offset":`${s}.offset`,a=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(i,`${e}`),this.url.searchParams.set(a,`${t-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:e=!1,verbose:t=!1,settings:n=!1,buffers:s=!1,wal:i=!1,format:a="text"}={}){var o;const u=[e?"analyze":null,t?"verbose":null,n?"settings":null,s?"buffers":null,i?"wal":null].filter(Boolean).join("|"),l=(o=this.headers.Accept)!==null&&o!==void 0?o:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${a}; for="${l}"; options=${u};`,a==="json"?this:this}rollback(){var e;return((e=this.headers.Prefer)!==null&&e!==void 0?e:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}};Rr.default=qo;var Go=Te&&Te.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(nr,"__esModule",{value:!0});const Wo=Go(Rr);let Ko=class extends Wo.default{eq(e,t){return this.url.searchParams.append(e,`eq.${t}`),this}neq(e,t){return this.url.searchParams.append(e,`neq.${t}`),this}gt(e,t){return this.url.searchParams.append(e,`gt.${t}`),this}gte(e,t){return this.url.searchParams.append(e,`gte.${t}`),this}lt(e,t){return this.url.searchParams.append(e,`lt.${t}`),this}lte(e,t){return this.url.searchParams.append(e,`lte.${t}`),this}like(e,t){return this.url.searchParams.append(e,`like.${t}`),this}likeAllOf(e,t){return this.url.searchParams.append(e,`like(all).{${t.join(",")}}`),this}likeAnyOf(e,t){return this.url.searchParams.append(e,`like(any).{${t.join(",")}}`),this}ilike(e,t){return this.url.searchParams.append(e,`ilike.${t}`),this}ilikeAllOf(e,t){return this.url.searchParams.append(e,`ilike(all).{${t.join(",")}}`),this}ilikeAnyOf(e,t){return this.url.searchParams.append(e,`ilike(any).{${t.join(",")}}`),this}is(e,t){return this.url.searchParams.append(e,`is.${t}`),this}in(e,t){const n=Array.from(new Set(t)).map(s=>typeof s=="string"&&new RegExp("[,()]").test(s)?`"${s}"`:`${s}`).join(",");return this.url.searchParams.append(e,`in.(${n})`),this}contains(e,t){return typeof t=="string"?this.url.searchParams.append(e,`cs.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cs.{${t.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(t)}`),this}containedBy(e,t){return typeof t=="string"?this.url.searchParams.append(e,`cd.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cd.{${t.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(t)}`),this}rangeGt(e,t){return this.url.searchParams.append(e,`sr.${t}`),this}rangeGte(e,t){return this.url.searchParams.append(e,`nxl.${t}`),this}rangeLt(e,t){return this.url.searchParams.append(e,`sl.${t}`),this}rangeLte(e,t){return this.url.searchParams.append(e,`nxr.${t}`),this}rangeAdjacent(e,t){return this.url.searchParams.append(e,`adj.${t}`),this}overlaps(e,t){return typeof t=="string"?this.url.searchParams.append(e,`ov.${t}`):this.url.searchParams.append(e,`ov.{${t.join(",")}}`),this}textSearch(e,t,{config:n,type:s}={}){let i="";s==="plain"?i="pl":s==="phrase"?i="ph":s==="websearch"&&(i="w");const a=n===void 0?"":`(${n})`;return this.url.searchParams.append(e,`${i}fts${a}.${t}`),this}match(e){return Object.entries(e).forEach(([t,n])=>{this.url.searchParams.append(t,`eq.${n}`)}),this}not(e,t,n){return this.url.searchParams.append(e,`not.${t}.${n}`),this}or(e,{foreignTable:t,referencedTable:n=t}={}){const s=n?`${n}.or`:"or";return this.url.searchParams.append(s,`(${e})`),this}filter(e,t,n){return this.url.searchParams.append(e,`${t}.${n}`),this}};nr.default=Ko;var Jo=Te&&Te.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Pr,"__esModule",{value:!0});const qt=Jo(nr);let Yo=class{constructor(e,{headers:t={},schema:n,fetch:s}){this.url=e,this.headers=t,this.schema=n,this.fetch=s}select(e,{head:t=!1,count:n}={}){const s=t?"HEAD":"GET";let i=!1;const a=(e??"*").split("").map(o=>/\s/.test(o)&&!i?"":(o==='"'&&(i=!i),o)).join("");return this.url.searchParams.set("select",a),n&&(this.headers.Prefer=`count=${n}`),new qt.default({method:s,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(e,{count:t,defaultToNull:n=!0}={}){const s="POST",i=[];if(this.headers.Prefer&&i.push(this.headers.Prefer),t&&i.push(`count=${t}`),n||i.push("missing=default"),this.headers.Prefer=i.join(","),Array.isArray(e)){const a=e.reduce((o,u)=>o.concat(Object.keys(u)),[]);if(a.length>0){const o=[...new Set(a)].map(u=>`"${u}"`);this.url.searchParams.set("columns",o.join(","))}}return new qt.default({method:s,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}upsert(e,{onConflict:t,ignoreDuplicates:n=!1,count:s,defaultToNull:i=!0}={}){const a="POST",o=[`resolution=${n?"ignore":"merge"}-duplicates`];if(t!==void 0&&this.url.searchParams.set("on_conflict",t),this.headers.Prefer&&o.push(this.headers.Prefer),s&&o.push(`count=${s}`),i||o.push("missing=default"),this.headers.Prefer=o.join(","),Array.isArray(e)){const u=e.reduce((l,d)=>l.concat(Object.keys(d)),[]);if(u.length>0){const l=[...new Set(u)].map(d=>`"${d}"`);this.url.searchParams.set("columns",l.join(","))}}return new qt.default({method:a,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}update(e,{count:t}={}){const n="PATCH",s=[];return this.headers.Prefer&&s.push(this.headers.Prefer),t&&s.push(`count=${t}`),this.headers.Prefer=s.join(","),new qt.default({method:n,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}delete({count:e}={}){const t="DELETE",n=[];return e&&n.push(`count=${e}`),this.headers.Prefer&&n.unshift(this.headers.Prefer),this.headers.Prefer=n.join(","),new qt.default({method:t,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}};Pr.default=Yo;var Dr={},Nr={};Object.defineProperty(Nr,"__esModule",{value:!0});Nr.version=void 0;Nr.version="0.0.0-automated";Object.defineProperty(Dr,"__esModule",{value:!0});Dr.DEFAULT_HEADERS=void 0;const Zo=Nr;Dr.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${Zo.version}`};var Si=Te&&Te.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Bn,"__esModule",{value:!0});const Xo=Si(Pr),Qo=Si(nr),eu=Dr;let tu=class Ti{constructor(e,{headers:t={},schema:n,fetch:s}={}){this.url=e,this.headers=Object.assign(Object.assign({},eu.DEFAULT_HEADERS),t),this.schemaName=n,this.fetch=s}from(e){const t=new URL(`${this.url}/${e}`);return new Xo.default(t,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(e){return new Ti(this.url,{headers:this.headers,schema:e,fetch:this.fetch})}rpc(e,t={},{head:n=!1,get:s=!1,count:i}={}){let a;const o=new URL(`${this.url}/rpc/${e}`);let u;n||s?(a=n?"HEAD":"GET",Object.entries(t).filter(([d,c])=>c!==void 0).map(([d,c])=>[d,Array.isArray(c)?`{${c.join(",")}}`:`${c}`]).forEach(([d,c])=>{o.searchParams.append(d,c)})):(a="POST",u=t);const l=Object.assign({},this.headers);return i&&(l.Prefer=`count=${i}`),new Qo.default({method:a,url:o,headers:l,schema:this.schemaName,body:u,fetch:this.fetch,allowEmpty:!1})}};Bn.default=tu;var Bt=Te&&Te.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(le,"__esModule",{value:!0});le.PostgrestError=le.PostgrestBuilder=le.PostgrestTransformBuilder=le.PostgrestFilterBuilder=le.PostgrestQueryBuilder=le.PostgrestClient=void 0;const Ei=Bt(Bn);le.PostgrestClient=Ei.default;const ki=Bt(Pr);le.PostgrestQueryBuilder=ki.default;const $i=Bt(nr);le.PostgrestFilterBuilder=$i.default;const Oi=Bt(Rr);le.PostgrestTransformBuilder=Oi.default;const Ai=Bt(Ir);le.PostgrestBuilder=Ai.default;const ji=Bt(Fr);le.PostgrestError=ji.default;var ru=le.default={PostgrestClient:Ei.default,PostgrestQueryBuilder:ki.default,PostgrestFilterBuilder:$i.default,PostgrestTransformBuilder:Oi.default,PostgrestBuilder:Ai.default,PostgrestError:ji.default};const{PostgrestClient:nu,PostgrestQueryBuilder:Og,PostgrestFilterBuilder:Ag,PostgrestTransformBuilder:jg,PostgrestBuilder:Cg,PostgrestError:Pg}=ru,su="2.11.2",iu={"X-Client-Info":`realtime-js/${su}`},au="1.0.0",Ci=1e4,ou=1e3;var Dt;(function(r){r[r.connecting=0]="connecting",r[r.open=1]="open",r[r.closing=2]="closing",r[r.closed=3]="closed"})(Dt||(Dt={}));var ge;(function(r){r.closed="closed",r.errored="errored",r.joined="joined",r.joining="joining",r.leaving="leaving"})(ge||(ge={}));var Ae;(function(r){r.close="phx_close",r.error="phx_error",r.join="phx_join",r.reply="phx_reply",r.leave="phx_leave",r.access_token="access_token"})(Ae||(Ae={}));var wn;(function(r){r.websocket="websocket"})(wn||(wn={}));var ht;(function(r){r.Connecting="connecting",r.Open="open",r.Closing="closing",r.Closed="closed"})(ht||(ht={}));class uu{constructor(){this.HEADER_LENGTH=1}decode(e,t){return e.constructor===ArrayBuffer?t(this._binaryDecode(e)):t(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){const t=new DataView(e),n=new TextDecoder;return this._decodeBroadcast(e,t,n)}_decodeBroadcast(e,t,n){const s=t.getUint8(1),i=t.getUint8(2);let a=this.HEADER_LENGTH+2;const o=n.decode(e.slice(a,a+s));a=a+s;const u=n.decode(e.slice(a,a+i));a=a+i;const l=JSON.parse(n.decode(e.slice(a,e.byteLength)));return{ref:null,topic:o,event:u,payload:l}}}class Pi{constructor(e,t){this.callback=e,this.timerCalc=t,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=t}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var M;(function(r){r.abstime="abstime",r.bool="bool",r.date="date",r.daterange="daterange",r.float4="float4",r.float8="float8",r.int2="int2",r.int4="int4",r.int4range="int4range",r.int8="int8",r.int8range="int8range",r.json="json",r.jsonb="jsonb",r.money="money",r.numeric="numeric",r.oid="oid",r.reltime="reltime",r.text="text",r.time="time",r.timestamp="timestamp",r.timestamptz="timestamptz",r.timetz="timetz",r.tsrange="tsrange",r.tstzrange="tstzrange"})(M||(M={}));const _s=(r,e,t={})=>{var n;const s=(n=t.skipTypes)!==null&&n!==void 0?n:[];return Object.keys(e).reduce((i,a)=>(i[a]=lu(a,r,e,s),i),{})},lu=(r,e,t,n)=>{const s=e.find(o=>o.name===r),i=s==null?void 0:s.type,a=t[r];return i&&!n.includes(i)?Ri(i,a):xn(a)},Ri=(r,e)=>{if(r.charAt(0)==="_"){const t=r.slice(1,r.length);return hu(e,t)}switch(r){case M.bool:return cu(e);case M.float4:case M.float8:case M.int2:case M.int4:case M.int8:case M.numeric:case M.oid:return du(e);case M.json:case M.jsonb:return fu(e);case M.timestamp:return pu(e);case M.abstime:case M.date:case M.daterange:case M.int4range:case M.int8range:case M.money:case M.reltime:case M.text:case M.time:case M.timestamptz:case M.timetz:case M.tsrange:case M.tstzrange:return xn(e);default:return xn(e)}},xn=r=>r,cu=r=>{switch(r){case"t":return!0;case"f":return!1;default:return r}},du=r=>{if(typeof r=="string"){const e=parseFloat(r);if(!Number.isNaN(e))return e}return r},fu=r=>{if(typeof r=="string")try{return JSON.parse(r)}catch(e){return console.log(`JSON parse error: ${e}`),r}return r},hu=(r,e)=>{if(typeof r!="string")return r;const t=r.length-1,n=r[t];if(r[0]==="{"&&n==="}"){let i;const a=r.slice(1,t);try{i=JSON.parse("["+a+"]")}catch{i=a?a.split(","):[]}return i.map(o=>Ri(e,o))}return r},pu=r=>typeof r=="string"?r.replace(" ","T"):r,Ii=r=>{let e=r;return e=e.replace(/^ws/i,"http"),e=e.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),e.replace(/\/+$/,"")};class un{constructor(e,t,n={},s=Ci){this.channel=e,this.event=t,this.payload=n,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,t){var n;return this._hasReceived(e)&&t((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:e,callback:t}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=t=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=t,this._matchReceive(t)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,t){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:t})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:t}){this.recHooks.filter(n=>n.status===e).forEach(n=>n.callback(t))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var ws;(function(r){r.SYNC="sync",r.JOIN="join",r.LEAVE="leave"})(ws||(ws={}));class Jt{constructor(e,t){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(t==null?void 0:t.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},s=>{const{onJoin:i,onLeave:a,onSync:o}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Jt.syncState(this.state,s,i,a),this.pendingDiffs.forEach(u=>{this.state=Jt.syncDiff(this.state,u,i,a)}),this.pendingDiffs=[],o()}),this.channel._on(n.diff,{},s=>{const{onJoin:i,onLeave:a,onSync:o}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=Jt.syncDiff(this.state,s,i,a),o())}),this.onJoin((s,i,a)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:i,newPresences:a})}),this.onLeave((s,i,a)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:i,leftPresences:a})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,t,n,s){const i=this.cloneDeep(e),a=this.transformState(t),o={},u={};return this.map(i,(l,d)=>{a[l]||(u[l]=d)}),this.map(a,(l,d)=>{const c=i[l];if(c){const f=d.map(m=>m.presence_ref),p=c.map(m=>m.presence_ref),y=d.filter(m=>p.indexOf(m.presence_ref)<0),_=c.filter(m=>f.indexOf(m.presence_ref)<0);y.length>0&&(o[l]=y),_.length>0&&(u[l]=_)}else o[l]=d}),this.syncDiff(i,{joins:o,leaves:u},n,s)}static syncDiff(e,t,n,s){const{joins:i,leaves:a}={joins:this.transformState(t.joins),leaves:this.transformState(t.leaves)};return n||(n=()=>{}),s||(s=()=>{}),this.map(i,(o,u)=>{var l;const d=(l=e[o])!==null&&l!==void 0?l:[];if(e[o]=this.cloneDeep(u),d.length>0){const c=e[o].map(p=>p.presence_ref),f=d.filter(p=>c.indexOf(p.presence_ref)<0);e[o].unshift(...f)}n(o,d,u)}),this.map(a,(o,u)=>{let l=e[o];if(!l)return;const d=u.map(c=>c.presence_ref);l=l.filter(c=>d.indexOf(c.presence_ref)<0),e[o]=l,s(o,l,u),l.length===0&&delete e[o]}),e}static map(e,t){return Object.getOwnPropertyNames(e).map(n=>t(n,e[n]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((t,n)=>{const s=e[n];return"metas"in s?t[n]=s.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):t[n]=s,t},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var xs;(function(r){r.ALL="*",r.INSERT="INSERT",r.UPDATE="UPDATE",r.DELETE="DELETE"})(xs||(xs={}));var Ss;(function(r){r.BROADCAST="broadcast",r.PRESENCE="presence",r.POSTGRES_CHANGES="postgres_changes",r.SYSTEM="system"})(Ss||(Ss={}));var Ue;(function(r){r.SUBSCRIBED="SUBSCRIBED",r.TIMED_OUT="TIMED_OUT",r.CLOSED="CLOSED",r.CHANNEL_ERROR="CHANNEL_ERROR"})(Ue||(Ue={}));class zn{constructor(e,t={config:{}},n){this.topic=e,this.params=t,this.socket=n,this.bindings={},this.state=ge.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},t.config),this.timeout=this.socket.timeout,this.joinPush=new un(this,Ae.join,this.params,this.timeout),this.rejoinTimer=new Pi(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=ge.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(s=>s.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=ge.closed,this.socket._remove(this)}),this._onError(s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=ge.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=ge.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Ae.reply,{},(s,i)=>{this._trigger(this._replyEventName(i),s)}),this.presence=new Jt(this),this.broadcastEndpointURL=Ii(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(e,t=this.timeout){var n,s;if(this.socket.isConnected()||this.socket.connect(),this.joinedOnce)throw"tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance";{const{config:{broadcast:i,presence:a,private:o}}=this.params;this._onError(d=>e==null?void 0:e(Ue.CHANNEL_ERROR,d)),this._onClose(()=>e==null?void 0:e(Ue.CLOSED));const u={},l={broadcast:i,presence:a,postgres_changes:(s=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(d=>d.filter))!==null&&s!==void 0?s:[],private:o};this.socket.accessTokenValue&&(u.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:l},u)),this.joinedOnce=!0,this._rejoin(t),this.joinPush.receive("ok",async({postgres_changes:d})=>{var c;if(this.socket.setAuth(),d===void 0){e==null||e(Ue.SUBSCRIBED);return}else{const f=this.bindings.postgres_changes,p=(c=f==null?void 0:f.length)!==null&&c!==void 0?c:0,y=[];for(let _=0;_<p;_++){const m=f[_],{filter:{event:x,schema:O,table:q,filter:H}}=m,C=d&&d[_];if(C&&C.event===x&&C.schema===O&&C.table===q&&C.filter===H)y.push(Object.assign(Object.assign({},m),{id:C.id}));else{this.unsubscribe(),e==null||e(Ue.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=y,e&&e(Ue.SUBSCRIBED);return}}).receive("error",d=>{e==null||e(Ue.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(d).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(Ue.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,t={}){return await this.send({type:"presence",event:"track",payload:e},t.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,t,n){return this._on(e,t,n)}async send(e,t={}){var n,s;if(!this._canPush()&&e.type==="broadcast"){const{event:i,payload:a}=e,u={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:a,private:this.private}]})};try{const l=await this._fetchWithTimeout(this.broadcastEndpointURL,u,(n=t.timeout)!==null&&n!==void 0?n:this.timeout);return await((s=l.body)===null||s===void 0?void 0:s.cancel()),l.ok?"ok":"error"}catch(l){return l.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var a,o,u;const l=this._push(e.type,e,t.timeout||this.timeout);e.type==="broadcast"&&!(!((u=(o=(a=this.params)===null||a===void 0?void 0:a.config)===null||o===void 0?void 0:o.broadcast)===null||u===void 0)&&u.ack)&&i("ok"),l.receive("ok",()=>i("ok")),l.receive("error",()=>i("error")),l.receive("timeout",()=>i("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=ge.leaving;const t=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Ae.close,"leave",this._joinRef())};return this.rejoinTimer.reset(),this.joinPush.destroy(),new Promise(n=>{const s=new un(this,Ae.leave,{},e);s.receive("ok",()=>{t(),n("ok")}).receive("timeout",()=>{t(),n("timed out")}).receive("error",()=>{n("error")}),s.send(),this._canPush()||s.trigger("ok",{})})}async _fetchWithTimeout(e,t,n){const s=new AbortController,i=setTimeout(()=>s.abort(),n),a=await this.socket.fetch(e,Object.assign(Object.assign({},t),{signal:s.signal}));return clearTimeout(i),a}_push(e,t,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new un(this,e,t,n);return this._canPush()?s.send():(s.startTimeout(),this.pushBuffer.push(s)),s}_onMessage(e,t,n){return t}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,t,n){var s,i;const a=e.toLocaleLowerCase(),{close:o,error:u,leave:l,join:d}=Ae;if(n&&[o,u,l,d].indexOf(a)>=0&&n!==this._joinRef())return;let f=this._onMessage(a,t,n);if(t&&!f)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(a)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(p=>{var y,_,m;return((y=p.filter)===null||y===void 0?void 0:y.event)==="*"||((m=(_=p.filter)===null||_===void 0?void 0:_.event)===null||m===void 0?void 0:m.toLocaleLowerCase())===a}).map(p=>p.callback(f,n)):(i=this.bindings[a])===null||i===void 0||i.filter(p=>{var y,_,m,x,O,q;if(["broadcast","presence","postgres_changes"].includes(a))if("id"in p){const H=p.id,C=(y=p.filter)===null||y===void 0?void 0:y.event;return H&&((_=t.ids)===null||_===void 0?void 0:_.includes(H))&&(C==="*"||(C==null?void 0:C.toLocaleLowerCase())===((m=t.data)===null||m===void 0?void 0:m.type.toLocaleLowerCase()))}else{const H=(O=(x=p==null?void 0:p.filter)===null||x===void 0?void 0:x.event)===null||O===void 0?void 0:O.toLocaleLowerCase();return H==="*"||H===((q=t==null?void 0:t.event)===null||q===void 0?void 0:q.toLocaleLowerCase())}else return p.type.toLocaleLowerCase()===a}).map(p=>{if(typeof f=="object"&&"ids"in f){const y=f.data,{schema:_,table:m,commit_timestamp:x,type:O,errors:q}=y;f=Object.assign(Object.assign({},{schema:_,table:m,commit_timestamp:x,eventType:O,new:{},old:{},errors:q}),this._getPayloadRecords(y))}p.callback(f,n)})}_isClosed(){return this.state===ge.closed}_isJoined(){return this.state===ge.joined}_isJoining(){return this.state===ge.joining}_isLeaving(){return this.state===ge.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,t,n){const s=e.toLocaleLowerCase(),i={type:s,filter:t,callback:n};return this.bindings[s]?this.bindings[s].push(i):this.bindings[s]=[i],this}_off(e,t){const n=e.toLocaleLowerCase();return this.bindings[n]=this.bindings[n].filter(s=>{var i;return!(((i=s.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===n&&zn.isEqual(s.filter,t))}),this}static isEqual(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(e[n]!==t[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(Ae.close,{},e)}_onError(e){this._on(Ae.error,{},t=>e(t))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=ge.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const t={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(t.new=_s(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(t.old=_s(e.columns,e.old_record)),t}}const gu=()=>{},mu=typeof WebSocket<"u",yu=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class bu{constructor(e,t){var n;this.accessTokenValue=null,this.apiKey=null,this.channels=[],this.endPoint="",this.httpEndpoint="",this.headers=iu,this.params={},this.timeout=Ci,this.heartbeatIntervalMs=3e4,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.ref=0,this.logger=gu,this.conn=null,this.sendBuffer=[],this.serializer=new uu,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=i=>{let a;return i?a=i:typeof fetch>"u"?a=(...o)=>Nt(async()=>{const{default:u}=await Promise.resolve().then(()=>Ut);return{default:u}},void 0).then(({default:u})=>u(...o)):a=fetch,(...o)=>a(...o)},this.endPoint=`${e}/${wn.websocket}`,this.httpEndpoint=Ii(e),t!=null&&t.transport?this.transport=t.transport:this.transport=null,t!=null&&t.params&&(this.params=t.params),t!=null&&t.headers&&(this.headers=Object.assign(Object.assign({},this.headers),t.headers)),t!=null&&t.timeout&&(this.timeout=t.timeout),t!=null&&t.logger&&(this.logger=t.logger),t!=null&&t.heartbeatIntervalMs&&(this.heartbeatIntervalMs=t.heartbeatIntervalMs);const s=(n=t==null?void 0:t.params)===null||n===void 0?void 0:n.apikey;if(s&&(this.accessTokenValue=s,this.apiKey=s),this.reconnectAfterMs=t!=null&&t.reconnectAfterMs?t.reconnectAfterMs:i=>[1e3,2e3,5e3,1e4][i-1]||1e4,this.encode=t!=null&&t.encode?t.encode:(i,a)=>a(JSON.stringify(i)),this.decode=t!=null&&t.decode?t.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new Pi(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(t==null?void 0:t.fetch),t!=null&&t.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(t==null?void 0:t.worker)||!1,this.workerUrl=t==null?void 0:t.workerUrl}this.accessToken=(t==null?void 0:t.accessToken)||null}connect(){if(!this.conn){if(this.transport){this.conn=new this.transport(this.endpointURL(),void 0,{headers:this.headers});return}if(mu){this.conn=new WebSocket(this.endpointURL()),this.setupConnection();return}this.conn=new vu(this.endpointURL(),void 0,{close:()=>{this.conn=null}}),Nt(async()=>{const{default:e}=await import("./browser-D_wwIK8g.js").then(t=>t.b);return{default:e}},__vite__mapDeps([0,1])).then(({default:e})=>{this.conn=new e(this.endpointURL(),void 0,{headers:this.headers}),this.setupConnection()})}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:au}))}disconnect(e,t){this.conn&&(this.conn.onclose=function(){},e?this.conn.close(e,t??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset())}getChannels(){return this.channels}async removeChannel(e){const t=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),t}async removeAllChannels(){const e=await Promise.all(this.channels.map(t=>t.unsubscribe()));return this.disconnect(),e}log(e,t,n){this.logger(e,t,n)}connectionState(){switch(this.conn&&this.conn.readyState){case Dt.connecting:return ht.Connecting;case Dt.open:return ht.Open;case Dt.closing:return ht.Closing;default:return ht.Closed}}isConnected(){return this.connectionState()===ht.Open}channel(e,t={config:{}}){const n=new zn(`realtime:${e}`,t,this);return this.channels.push(n),n}push(e){const{topic:t,event:n,payload:s,ref:i}=e,a=()=>{this.encode(e,o=>{var u;(u=this.conn)===null||u===void 0||u.send(o)})};this.log("push",`${t} ${n} (${i})`,s),this.isConnected()?a():this.sendBuffer.push(a)}async setAuth(e=null){let t=e||this.accessToken&&await this.accessToken()||this.accessTokenValue;if(t){let n=null;try{n=JSON.parse(atob(t.split(".")[1]))}catch{}if(n&&n.exp&&!(Math.floor(Date.now()/1e3)-n.exp<0))return this.log("auth",`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${n.exp}`),Promise.reject(`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${n.exp}`);this.accessTokenValue=t,this.channels.forEach(s=>{t&&s.updateJoinPayload({access_token:t}),s.joinedOnce&&s._isJoined()&&s._push(Ae.access_token,{access_token:t})})}}async sendHeartbeat(){var e;if(this.isConnected()){if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),(e=this.conn)===null||e===void 0||e.close(ou,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.setAuth()}}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let t=this.channels.find(n=>n.topic===e&&(n._isJoined()||n._isJoining()));t&&(this.log("transport",`leaving duplicate topic "${e}"`),t.unsubscribe())}_remove(e){this.channels=this.channels.filter(t=>t._joinRef()!==e._joinRef())}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_onConnMessage(e){this.decode(e.data,t=>{let{topic:n,event:s,payload:i,ref:a}=t;a&&a===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${i.status||""} ${n} ${s} ${a&&"("+a+")"||""}`,i),this.channels.filter(o=>o._isMember(n)).forEach(o=>o._trigger(s,i,a)),this.stateChangeCallbacks.message.forEach(o=>o(t))})}async _onConnOpen(){if(this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),!this.worker)this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs);else{this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=t=>{this.log("worker","worker error",t.message),this.workerRef.terminate()},this.workerRef.onmessage=t=>{t.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}this.stateChangeCallbacks.open.forEach(e=>e())}_onConnClose(e){this.log("transport","close",e),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(t=>t(e))}_onConnError(e){this.log("transport",e.message),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(t=>t(e))}_triggerChanError(){this.channels.forEach(e=>e._trigger(Ae.error))}_appendParams(e,t){if(Object.keys(t).length===0)return e;const n=e.match(/\?/)?"&":"?",s=new URLSearchParams(t);return`${e}${n}${s}`}_workerObjectUrl(e){let t;if(e)t=e;else{const n=new Blob([yu],{type:"application/javascript"});t=URL.createObjectURL(n)}return t}}class vu{constructor(e,t,n){this.binaryType="arraybuffer",this.onclose=()=>{},this.onerror=()=>{},this.onmessage=()=>{},this.onopen=()=>{},this.readyState=Dt.connecting,this.send=()=>{},this.url=null,this.url=e,this.close=n.close}}class Vn extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function Z(r){return typeof r=="object"&&r!==null&&"__isStorageError"in r}class _u extends Vn{constructor(e,t){super(e),this.name="StorageApiError",this.status=t}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class Sn extends Vn{constructor(e,t){super(e),this.name="StorageUnknownError",this.originalError=t}}var wu=function(r,e,t,n){function s(i){return i instanceof t?i:new t(function(a){a(i)})}return new(t||(t=Promise))(function(i,a){function o(d){try{l(n.next(d))}catch(c){a(c)}}function u(d){try{l(n.throw(d))}catch(c){a(c)}}function l(d){d.done?i(d.value):s(d.value).then(o,u)}l((n=n.apply(r,e||[])).next())})};const Fi=r=>{let e;return r?e=r:typeof fetch>"u"?e=(...t)=>Nt(async()=>{const{default:n}=await Promise.resolve().then(()=>Ut);return{default:n}},void 0).then(({default:n})=>n(...t)):e=fetch,(...t)=>e(...t)},xu=()=>wu(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield Nt(()=>Promise.resolve().then(()=>Ut),void 0)).Response:Response}),Tn=r=>{if(Array.isArray(r))return r.map(t=>Tn(t));if(typeof r=="function"||r!==Object(r))return r;const e={};return Object.entries(r).forEach(([t,n])=>{const s=t.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));e[s]=Tn(n)}),e};var yt=function(r,e,t,n){function s(i){return i instanceof t?i:new t(function(a){a(i)})}return new(t||(t=Promise))(function(i,a){function o(d){try{l(n.next(d))}catch(c){a(c)}}function u(d){try{l(n.throw(d))}catch(c){a(c)}}function l(d){d.done?i(d.value):s(d.value).then(o,u)}l((n=n.apply(r,e||[])).next())})};const ln=r=>r.msg||r.message||r.error_description||r.error||JSON.stringify(r),Su=(r,e,t)=>yt(void 0,void 0,void 0,function*(){const n=yield xu();r instanceof n&&!(t!=null&&t.noResolveJson)?r.json().then(s=>{e(new _u(ln(s),r.status||500))}).catch(s=>{e(new Sn(ln(s),s))}):e(new Sn(ln(r),r))}),Tu=(r,e,t,n)=>{const s={method:r,headers:(e==null?void 0:e.headers)||{}};return r==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),n&&(s.body=JSON.stringify(n)),Object.assign(Object.assign({},s),t))};function sr(r,e,t,n,s,i){return yt(this,void 0,void 0,function*(){return new Promise((a,o)=>{r(t,Tu(e,n,s,i)).then(u=>{if(!u.ok)throw u;return n!=null&&n.noResolveJson?u:u.json()}).then(u=>a(u)).catch(u=>Su(u,o,n))})})}function Or(r,e,t,n){return yt(this,void 0,void 0,function*(){return sr(r,"GET",e,t,n)})}function et(r,e,t,n,s){return yt(this,void 0,void 0,function*(){return sr(r,"POST",e,n,s,t)})}function Eu(r,e,t,n,s){return yt(this,void 0,void 0,function*(){return sr(r,"PUT",e,n,s,t)})}function ku(r,e,t,n){return yt(this,void 0,void 0,function*(){return sr(r,"HEAD",e,Object.assign(Object.assign({},t),{noResolveJson:!0}),n)})}function Di(r,e,t,n,s){return yt(this,void 0,void 0,function*(){return sr(r,"DELETE",e,n,s,t)})}var ie=function(r,e,t,n){function s(i){return i instanceof t?i:new t(function(a){a(i)})}return new(t||(t=Promise))(function(i,a){function o(d){try{l(n.next(d))}catch(c){a(c)}}function u(d){try{l(n.throw(d))}catch(c){a(c)}}function l(d){d.done?i(d.value):s(d.value).then(o,u)}l((n=n.apply(r,e||[])).next())})};const $u={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Ts={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class Ou{constructor(e,t={},n,s){this.url=e,this.headers=t,this.bucketId=n,this.fetch=Fi(s)}uploadOrUpdate(e,t,n,s){return ie(this,void 0,void 0,function*(){try{let i;const a=Object.assign(Object.assign({},Ts),s);let o=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(a.upsert)});const u=a.metadata;typeof Blob<"u"&&n instanceof Blob?(i=new FormData,i.append("cacheControl",a.cacheControl),u&&i.append("metadata",this.encodeMetadata(u)),i.append("",n)):typeof FormData<"u"&&n instanceof FormData?(i=n,i.append("cacheControl",a.cacheControl),u&&i.append("metadata",this.encodeMetadata(u))):(i=n,o["cache-control"]=`max-age=${a.cacheControl}`,o["content-type"]=a.contentType,u&&(o["x-metadata"]=this.toBase64(this.encodeMetadata(u)))),s!=null&&s.headers&&(o=Object.assign(Object.assign({},o),s.headers));const l=this._removeEmptyFolders(t),d=this._getFinalPath(l),c=yield this.fetch(`${this.url}/object/${d}`,Object.assign({method:e,body:i,headers:o},a!=null&&a.duplex?{duplex:a.duplex}:{})),f=yield c.json();return c.ok?{data:{path:l,id:f.Id,fullPath:f.Key},error:null}:{data:null,error:f}}catch(i){if(Z(i))return{data:null,error:i};throw i}})}upload(e,t,n){return ie(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,t,n)})}uploadToSignedUrl(e,t,n,s){return ie(this,void 0,void 0,function*(){const i=this._removeEmptyFolders(e),a=this._getFinalPath(i),o=new URL(this.url+`/object/upload/sign/${a}`);o.searchParams.set("token",t);try{let u;const l=Object.assign({upsert:Ts.upsert},s),d=Object.assign(Object.assign({},this.headers),{"x-upsert":String(l.upsert)});typeof Blob<"u"&&n instanceof Blob?(u=new FormData,u.append("cacheControl",l.cacheControl),u.append("",n)):typeof FormData<"u"&&n instanceof FormData?(u=n,u.append("cacheControl",l.cacheControl)):(u=n,d["cache-control"]=`max-age=${l.cacheControl}`,d["content-type"]=l.contentType);const c=yield this.fetch(o.toString(),{method:"PUT",body:u,headers:d}),f=yield c.json();return c.ok?{data:{path:i,fullPath:f.Key},error:null}:{data:null,error:f}}catch(u){if(Z(u))return{data:null,error:u};throw u}})}createSignedUploadUrl(e,t){return ie(this,void 0,void 0,function*(){try{let n=this._getFinalPath(e);const s=Object.assign({},this.headers);t!=null&&t.upsert&&(s["x-upsert"]="true");const i=yield et(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:s}),a=new URL(this.url+i.url),o=a.searchParams.get("token");if(!o)throw new Vn("No token returned by API");return{data:{signedUrl:a.toString(),path:e,token:o},error:null}}catch(n){if(Z(n))return{data:null,error:n};throw n}})}update(e,t,n){return ie(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,t,n)})}move(e,t,n){return ie(this,void 0,void 0,function*(){try{return{data:yield et(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:t,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers}),error:null}}catch(s){if(Z(s))return{data:null,error:s};throw s}})}copy(e,t,n){return ie(this,void 0,void 0,function*(){try{return{data:{path:(yield et(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:t,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers})).Key},error:null}}catch(s){if(Z(s))return{data:null,error:s};throw s}})}createSignedUrl(e,t,n){return ie(this,void 0,void 0,function*(){try{let s=this._getFinalPath(e),i=yield et(this.fetch,`${this.url}/object/sign/${s}`,Object.assign({expiresIn:t},n!=null&&n.transform?{transform:n.transform}:{}),{headers:this.headers});const a=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${a}`)},{data:i,error:null}}catch(s){if(Z(s))return{data:null,error:s};throw s}})}createSignedUrls(e,t,n){return ie(this,void 0,void 0,function*(){try{const s=yield et(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:t,paths:e},{headers:this.headers}),i=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:s.map(a=>Object.assign(Object.assign({},a),{signedUrl:a.signedURL?encodeURI(`${this.url}${a.signedURL}${i}`):null})),error:null}}catch(s){if(Z(s))return{data:null,error:s};throw s}})}download(e,t){return ie(this,void 0,void 0,function*(){const s=typeof(t==null?void 0:t.transform)<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString((t==null?void 0:t.transform)||{}),a=i?`?${i}`:"";try{const o=this._getFinalPath(e);return{data:yield(yield Or(this.fetch,`${this.url}/${s}/${o}${a}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(o){if(Z(o))return{data:null,error:o};throw o}})}info(e){return ie(this,void 0,void 0,function*(){const t=this._getFinalPath(e);try{const n=yield Or(this.fetch,`${this.url}/object/info/${t}`,{headers:this.headers});return{data:Tn(n),error:null}}catch(n){if(Z(n))return{data:null,error:n};throw n}})}exists(e){return ie(this,void 0,void 0,function*(){const t=this._getFinalPath(e);try{return yield ku(this.fetch,`${this.url}/object/${t}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(Z(n)&&n instanceof Sn){const s=n.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:n}}throw n}})}getPublicUrl(e,t){const n=this._getFinalPath(e),s=[],i=t!=null&&t.download?`download=${t.download===!0?"":t.download}`:"";i!==""&&s.push(i);const o=typeof(t==null?void 0:t.transform)<"u"?"render/image":"object",u=this.transformOptsToQueryString((t==null?void 0:t.transform)||{});u!==""&&s.push(u);let l=s.join("&");return l!==""&&(l=`?${l}`),{data:{publicUrl:encodeURI(`${this.url}/${o}/public/${n}${l}`)}}}remove(e){return ie(this,void 0,void 0,function*(){try{return{data:yield Di(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(t){if(Z(t))return{data:null,error:t};throw t}})}list(e,t,n){return ie(this,void 0,void 0,function*(){try{const s=Object.assign(Object.assign(Object.assign({},$u),t),{prefix:e||""});return{data:yield et(this.fetch,`${this.url}/object/list/${this.bucketId}`,s,{headers:this.headers},n),error:null}}catch(s){if(Z(s))return{data:null,error:s};throw s}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const t=[];return e.width&&t.push(`width=${e.width}`),e.height&&t.push(`height=${e.height}`),e.resize&&t.push(`resize=${e.resize}`),e.format&&t.push(`format=${e.format}`),e.quality&&t.push(`quality=${e.quality}`),t.join("&")}}const Au="2.7.1",ju={"X-Client-Info":`storage-js/${Au}`};var At=function(r,e,t,n){function s(i){return i instanceof t?i:new t(function(a){a(i)})}return new(t||(t=Promise))(function(i,a){function o(d){try{l(n.next(d))}catch(c){a(c)}}function u(d){try{l(n.throw(d))}catch(c){a(c)}}function l(d){d.done?i(d.value):s(d.value).then(o,u)}l((n=n.apply(r,e||[])).next())})};class Cu{constructor(e,t={},n){this.url=e,this.headers=Object.assign(Object.assign({},ju),t),this.fetch=Fi(n)}listBuckets(){return At(this,void 0,void 0,function*(){try{return{data:yield Or(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(e){if(Z(e))return{data:null,error:e};throw e}})}getBucket(e){return At(this,void 0,void 0,function*(){try{return{data:yield Or(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(t){if(Z(t))return{data:null,error:t};throw t}})}createBucket(e,t={public:!1}){return At(this,void 0,void 0,function*(){try{return{data:yield et(this.fetch,`${this.url}/bucket`,{id:e,name:e,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(Z(n))return{data:null,error:n};throw n}})}updateBucket(e,t){return At(this,void 0,void 0,function*(){try{return{data:yield Eu(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(Z(n))return{data:null,error:n};throw n}})}emptyBucket(e){return At(this,void 0,void 0,function*(){try{return{data:yield et(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(t){if(Z(t))return{data:null,error:t};throw t}})}deleteBucket(e){return At(this,void 0,void 0,function*(){try{return{data:yield Di(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(t){if(Z(t))return{data:null,error:t};throw t}})}}class Pu extends Cu{constructor(e,t={},n){super(e,t,n)}from(e){return new Ou(this.url,this.headers,e,this.fetch)}}const Ru="2.47.16";let Kt="";typeof Deno<"u"?Kt="deno":typeof document<"u"?Kt="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Kt="react-native":Kt="node";const Iu={"X-Client-Info":`supabase-js-${Kt}/${Ru}`},Fu={headers:Iu},Du={schema:"public"},Nu={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},Lu={};var Mu=function(r,e,t,n){function s(i){return i instanceof t?i:new t(function(a){a(i)})}return new(t||(t=Promise))(function(i,a){function o(d){try{l(n.next(d))}catch(c){a(c)}}function u(d){try{l(n.throw(d))}catch(c){a(c)}}function l(d){d.done?i(d.value):s(d.value).then(o,u)}l((n=n.apply(r,e||[])).next())})};const Uu=r=>{let e;return r?e=r:typeof fetch>"u"?e=_i:e=fetch,(...t)=>e(...t)},Bu=()=>typeof Headers>"u"?wi:Headers,zu=(r,e,t)=>{const n=Uu(t),s=Bu();return(i,a)=>Mu(void 0,void 0,void 0,function*(){var o;const u=(o=yield e())!==null&&o!==void 0?o:r;let l=new s(a==null?void 0:a.headers);return l.has("apikey")||l.set("apikey",r),l.has("Authorization")||l.set("Authorization",`Bearer ${u}`),n(i,Object.assign(Object.assign({},a),{headers:l}))})};var Vu=function(r,e,t,n){function s(i){return i instanceof t?i:new t(function(a){a(i)})}return new(t||(t=Promise))(function(i,a){function o(d){try{l(n.next(d))}catch(c){a(c)}}function u(d){try{l(n.throw(d))}catch(c){a(c)}}function l(d){d.done?i(d.value):s(d.value).then(o,u)}l((n=n.apply(r,e||[])).next())})};function Hu(r){return r.replace(/\/$/,"")}function qu(r,e){const{db:t,auth:n,realtime:s,global:i}=r,{db:a,auth:o,realtime:u,global:l}=e,d={db:Object.assign(Object.assign({},a),t),auth:Object.assign(Object.assign({},o),n),realtime:Object.assign(Object.assign({},u),s),global:Object.assign(Object.assign({},l),i),accessToken:()=>Vu(this,void 0,void 0,function*(){return""})};return r.accessToken?d.accessToken=r.accessToken:delete d.accessToken,d}const Ni="2.67.3",Gu="http://localhost:9999",Wu="supabase.auth.token",Ku={"X-Client-Info":`gotrue-js/${Ni}`},Es=10,En="X-Supabase-Api-Version",Li={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}};function Ju(r){return Math.round(Date.now()/1e3)+r}function Yu(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(r){const e=Math.random()*16|0;return(r=="x"?e:e&3|8).toString(16)})}const Ie=()=>typeof window<"u"&&typeof document<"u",lt={tested:!1,writable:!1},Yt=()=>{if(!Ie())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(lt.tested)return lt.writable;const r=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(r,r),globalThis.localStorage.removeItem(r),lt.tested=!0,lt.writable=!0}catch{lt.tested=!0,lt.writable=!1}return lt.writable};function Zu(r){const e={},t=new URL(r);if(t.hash&&t.hash[0]==="#")try{new URLSearchParams(t.hash.substring(1)).forEach((s,i)=>{e[i]=s})}catch{}return t.searchParams.forEach((n,s)=>{e[s]=n}),e}const Mi=r=>{let e;return r?e=r:typeof fetch>"u"?e=(...t)=>Nt(async()=>{const{default:n}=await Promise.resolve().then(()=>Ut);return{default:n}},void 0).then(({default:n})=>n(...t)):e=fetch,(...t)=>e(...t)},Xu=r=>typeof r=="object"&&r!==null&&"status"in r&&"ok"in r&&"json"in r&&typeof r.json=="function",Ui=async(r,e,t)=>{await r.setItem(e,JSON.stringify(t))},yr=async(r,e)=>{const t=await r.getItem(e);if(!t)return null;try{return JSON.parse(t)}catch{return t}},br=async(r,e)=>{await r.removeItem(e)};function Qu(r){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";let t="",n,s,i,a,o,u,l,d=0;for(r=r.replace("-","+").replace("_","/");d<r.length;)a=e.indexOf(r.charAt(d++)),o=e.indexOf(r.charAt(d++)),u=e.indexOf(r.charAt(d++)),l=e.indexOf(r.charAt(d++)),n=a<<2|o>>4,s=(o&15)<<4|u>>2,i=(u&3)<<6|l,t=t+String.fromCharCode(n),u!=64&&s!=0&&(t=t+String.fromCharCode(s)),l!=64&&i!=0&&(t=t+String.fromCharCode(i));return t}class Lr{constructor(){this.promise=new Lr.promiseConstructor((e,t)=>{this.resolve=e,this.reject=t})}}Lr.promiseConstructor=Promise;function ks(r){const e=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}=?$|[a-z0-9_-]{2}(==)?$)$/i,t=r.split(".");if(t.length!==3)throw new Error("JWT is not valid: not a JWT structure");if(!e.test(t[1]))throw new Error("JWT is not valid: payload is not in base64url format");const n=t[1];return JSON.parse(Qu(n))}async function el(r){return await new Promise(e=>{setTimeout(()=>e(null),r)})}function tl(r,e){return new Promise((n,s)=>{(async()=>{for(let i=0;i<1/0;i++)try{const a=await r(i);if(!e(i,null,a)){n(a);return}}catch(a){if(!e(i,a)){s(a);return}}})()})}function rl(r){return("0"+r.toString(16)).substr(-2)}function nl(){const e=new Uint32Array(56);if(typeof crypto>"u"){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=t.length;let s="";for(let i=0;i<56;i++)s+=t.charAt(Math.floor(Math.random()*n));return s}return crypto.getRandomValues(e),Array.from(e,rl).join("")}async function sl(r){const t=new TextEncoder().encode(r),n=await crypto.subtle.digest("SHA-256",t),s=new Uint8Array(n);return Array.from(s).map(i=>String.fromCharCode(i)).join("")}function il(r){return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function al(r){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),r;const t=await sl(r);return il(t)}async function jt(r,e,t=!1){const n=nl();let s=n;t&&(s+="/PASSWORD_RECOVERY"),await Ui(r,`${e}-code-verifier`,s);const i=await al(n);return[i,n===i?"plain":"s256"]}const ol=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function ul(r){const e=r.headers.get(En);if(!e||!e.match(ol))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}class Hn extends Error{constructor(e,t,n){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=t,this.code=n}}function k(r){return typeof r=="object"&&r!==null&&"__isAuthError"in r}class ll extends Hn{constructor(e,t,n){super(e,t,n),this.name="AuthApiError",this.status=t,this.code=n}}function cl(r){return k(r)&&r.name==="AuthApiError"}class Bi extends Hn{constructor(e,t){super(e),this.name="AuthUnknownError",this.originalError=t}}class bt extends Hn{constructor(e,t,n,s){super(e,n,s),this.name=t,this.status=n}}class Ze extends bt{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function dl(r){return k(r)&&r.name==="AuthSessionMissingError"}class cn extends bt{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class vr extends bt{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class _r extends bt{constructor(e,t=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=t}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function fl(r){return k(r)&&r.name==="AuthImplicitGrantRedirectError"}class $s extends bt{constructor(e,t=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=t}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class kn extends bt{constructor(e,t){super(e,"AuthRetryableFetchError",t,void 0)}}function dn(r){return k(r)&&r.name==="AuthRetryableFetchError"}class Os extends bt{constructor(e,t,n){super(e,"AuthWeakPasswordError",t,"weak_password"),this.reasons=n}}var hl=function(r,e){var t={};for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&e.indexOf(n)<0&&(t[n]=r[n]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(r);s<n.length;s++)e.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(r,n[s])&&(t[n[s]]=r[n[s]]);return t};const dt=r=>r.msg||r.message||r.error_description||r.error||JSON.stringify(r),pl=[502,503,504];async function As(r){var e;if(!Xu(r))throw new kn(dt(r),0);if(pl.includes(r.status))throw new kn(dt(r),r.status);let t;try{t=await r.json()}catch(i){throw new Bi(dt(i),i)}let n;const s=ul(r);if(s&&s.getTime()>=Li["2024-01-01"].timestamp&&typeof t=="object"&&t&&typeof t.code=="string"?n=t.code:typeof t=="object"&&t&&typeof t.error_code=="string"&&(n=t.error_code),n){if(n==="weak_password")throw new Os(dt(t),r.status,((e=t.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(n==="session_not_found")throw new Ze}else if(typeof t=="object"&&t&&typeof t.weak_password=="object"&&t.weak_password&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.reasons.reduce((i,a)=>i&&typeof a=="string",!0))throw new Os(dt(t),r.status,t.weak_password.reasons);throw new ll(dt(t),r.status||500,n)}const gl=(r,e,t,n)=>{const s={method:r,headers:(e==null?void 0:e.headers)||{}};return r==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),s.body=JSON.stringify(n),Object.assign(Object.assign({},s),t))};async function j(r,e,t,n){var s;const i=Object.assign({},n==null?void 0:n.headers);i[En]||(i[En]=Li["2024-01-01"].name),n!=null&&n.jwt&&(i.Authorization=`Bearer ${n.jwt}`);const a=(s=n==null?void 0:n.query)!==null&&s!==void 0?s:{};n!=null&&n.redirectTo&&(a.redirect_to=n.redirectTo);const o=Object.keys(a).length?"?"+new URLSearchParams(a).toString():"",u=await ml(r,e,t+o,{headers:i,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(u):{data:Object.assign({},u),error:null}}async function ml(r,e,t,n,s,i){const a=gl(e,n,s,i);let o;try{o=await r(t,Object.assign({},a))}catch(u){throw console.error(u),new kn(dt(u),0)}if(o.ok||await As(o),n!=null&&n.noResolveJson)return o;try{return await o.json()}catch(u){await As(u)}}function Xe(r){var e;let t=null;_l(r)&&(t=Object.assign({},r),r.expires_at||(t.expires_at=Ju(r.expires_in)));const n=(e=r.user)!==null&&e!==void 0?e:r;return{data:{session:t,user:n},error:null}}function js(r){const e=Xe(r);return!e.error&&r.weak_password&&typeof r.weak_password=="object"&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.message&&typeof r.weak_password.message=="string"&&r.weak_password.reasons.reduce((t,n)=>t&&typeof n=="string",!0)&&(e.data.weak_password=r.weak_password),e}function tt(r){var e;return{data:{user:(e=r.user)!==null&&e!==void 0?e:r},error:null}}function yl(r){return{data:r,error:null}}function bl(r){const{action_link:e,email_otp:t,hashed_token:n,redirect_to:s,verification_type:i}=r,a=hl(r,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),o={action_link:e,email_otp:t,hashed_token:n,redirect_to:s,verification_type:i},u=Object.assign({},a);return{data:{properties:o,user:u},error:null}}function vl(r){return r}function _l(r){return r.access_token&&r.refresh_token&&r.expires_in}var wl=function(r,e){var t={};for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&e.indexOf(n)<0&&(t[n]=r[n]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(r);s<n.length;s++)e.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(r,n[s])&&(t[n[s]]=r[n[s]]);return t};class xl{constructor({url:e="",headers:t={},fetch:n}){this.url=e,this.headers=t,this.fetch=Mi(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(e,t="global"){try{return await j(this.fetch,"POST",`${this.url}/logout?scope=${t}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(n){if(k(n))return{data:null,error:n};throw n}}async inviteUserByEmail(e,t={}){try{return await j(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:t.data},headers:this.headers,redirectTo:t.redirectTo,xform:tt})}catch(n){if(k(n))return{data:{user:null},error:n};throw n}}async generateLink(e){try{const{options:t}=e,n=wl(e,["options"]),s=Object.assign(Object.assign({},n),t);return"newEmail"in n&&(s.new_email=n==null?void 0:n.newEmail,delete s.newEmail),await j(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:bl,redirectTo:t==null?void 0:t.redirectTo})}catch(t){if(k(t))return{data:{properties:null,user:null},error:t};throw t}}async createUser(e){try{return await j(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:tt})}catch(t){if(k(t))return{data:{user:null},error:t};throw t}}async listUsers(e){var t,n,s,i,a,o,u;try{const l={nextPage:null,lastPage:0,total:0},d=await j(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(t=e==null?void 0:e.page)===null||t===void 0?void 0:t.toString())!==null&&n!==void 0?n:"",per_page:(i=(s=e==null?void 0:e.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:vl});if(d.error)throw d.error;const c=await d.json(),f=(a=d.headers.get("x-total-count"))!==null&&a!==void 0?a:0,p=(u=(o=d.headers.get("link"))===null||o===void 0?void 0:o.split(","))!==null&&u!==void 0?u:[];return p.length>0&&(p.forEach(y=>{const _=parseInt(y.split(";")[0].split("=")[1].substring(0,1)),m=JSON.parse(y.split(";")[1].split("=")[1]);l[`${m}Page`]=_}),l.total=parseInt(f)),{data:Object.assign(Object.assign({},c),l),error:null}}catch(l){if(k(l))return{data:{users:[]},error:l};throw l}}async getUserById(e){try{return await j(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:tt})}catch(t){if(k(t))return{data:{user:null},error:t};throw t}}async updateUserById(e,t){try{return await j(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:t,headers:this.headers,xform:tt})}catch(n){if(k(n))return{data:{user:null},error:n};throw n}}async deleteUser(e,t=!1){try{return await j(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:t},xform:tt})}catch(n){if(k(n))return{data:{user:null},error:n};throw n}}async _listFactors(e){try{const{data:t,error:n}=await j(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:t,error:n}}catch(t){if(k(t))return{data:null,error:t};throw t}}async _deleteFactor(e){try{return{data:await j(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(t){if(k(t))return{data:null,error:t};throw t}}}const Sl={getItem:r=>Yt()?globalThis.localStorage.getItem(r):null,setItem:(r,e)=>{Yt()&&globalThis.localStorage.setItem(r,e)},removeItem:r=>{Yt()&&globalThis.localStorage.removeItem(r)}};function Cs(r={}){return{getItem:e=>r[e]||null,setItem:(e,t)=>{r[e]=t},removeItem:e=>{delete r[e]}}}function Tl(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const Ct={debug:!!(globalThis&&Yt()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class zi extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class El extends zi{}async function kl(r,e,t){Ct.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",r,e);const n=new globalThis.AbortController;return e>0&&setTimeout(()=>{n.abort(),Ct.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",r)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(r,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async s=>{if(s){Ct.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",r,s.name);try{return await t()}finally{Ct.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",r,s.name)}}else{if(e===0)throw Ct.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",r),new El(`Acquiring an exclusive Navigator LockManager lock "${r}" immediately failed`);if(Ct.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await t()}}))}Tl();const $l={url:Gu,storageKey:Wu,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:Ku,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1},Gt=30*1e3,Ps=3;async function Rs(r,e,t){return await t()}class Qt{constructor(e){var t,n;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Qt.nextInstanceID,Qt.nextInstanceID+=1,this.instanceID>0&&Ie()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const s=Object.assign(Object.assign({},$l),e);if(this.logDebugMessages=!!s.debug,typeof s.debug=="function"&&(this.logger=s.debug),this.persistSession=s.persistSession,this.storageKey=s.storageKey,this.autoRefreshToken=s.autoRefreshToken,this.admin=new xl({url:s.url,headers:s.headers,fetch:s.fetch}),this.url=s.url,this.headers=s.headers,this.fetch=Mi(s.fetch),this.lock=s.lock||Rs,this.detectSessionInUrl=s.detectSessionInUrl,this.flowType=s.flowType,this.hasCustomAuthorizationHeader=s.hasCustomAuthorizationHeader,s.lock?this.lock=s.lock:Ie()&&(!((t=globalThis==null?void 0:globalThis.navigator)===null||t===void 0)&&t.locks)?this.lock=kl:this.lock=Rs,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?s.storage?this.storage=s.storage:Yt()?this.storage=Sl:(this.memoryStorage={},this.storage=Cs(this.memoryStorage)):(this.memoryStorage={},this.storage=Cs(this.memoryStorage)),Ie()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(i){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",i)}(n=this.broadcastChannel)===null||n===void 0||n.addEventListener("message",async i=>{this._debug("received broadcast notification from other tab or client",i),await this._notifyAllSubscribers(i.data.event,i.data.session,!1)})}this.initialize()}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${Ni}) ${new Date().toISOString()}`,...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{const t=Zu(window.location.href);let n="none";if(this._isImplicitGrantCallback(t)?n="implicit":await this._isPKCECallback(t)&&(n="pkce"),Ie()&&this.detectSessionInUrl&&n!=="none"){const{data:s,error:i}=await this._getSessionFromURL(t,n);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),fl(i)){const u=(e=i.details)===null||e===void 0?void 0:e.code;if(u==="identity_already_exists"||u==="identity_not_found"||u==="single_identity_not_deletable")return{error:i}}return await this._removeSession(),{error:i}}const{session:a,redirectType:o}=s;return this._debug("#_initialize()","detected session in URL",a,"redirect type",o),await this._saveSession(a),setTimeout(async()=>{o==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",a):await this._notifyAllSubscribers("SIGNED_IN",a)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(t){return k(t)?{error:t}:{error:new Bi("Unexpected error during initialization",t)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var t,n,s;try{const i=await j(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(t=e==null?void 0:e.options)===null||t===void 0?void 0:t.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(s=e==null?void 0:e.options)===null||s===void 0?void 0:s.captchaToken}},xform:Xe}),{data:a,error:o}=i;if(o||!a)return{data:{user:null,session:null},error:o};const u=a.session,l=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",u)),{data:{user:l,session:u},error:null}}catch(i){if(k(i))return{data:{user:null,session:null},error:i};throw i}}async signUp(e){var t,n,s;try{let i;if("email"in e){const{email:d,password:c,options:f}=e;let p=null,y=null;this.flowType==="pkce"&&([p,y]=await jt(this.storage,this.storageKey)),i=await j(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:f==null?void 0:f.emailRedirectTo,body:{email:d,password:c,data:(t=f==null?void 0:f.data)!==null&&t!==void 0?t:{},gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken},code_challenge:p,code_challenge_method:y},xform:Xe})}else if("phone"in e){const{phone:d,password:c,options:f}=e;i=await j(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:c,data:(n=f==null?void 0:f.data)!==null&&n!==void 0?n:{},channel:(s=f==null?void 0:f.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken}},xform:Xe})}else throw new vr("You must provide either an email or phone number and a password");const{data:a,error:o}=i;if(o||!a)return{data:{user:null,session:null},error:o};const u=a.session,l=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",u)),{data:{user:l,session:u},error:null}}catch(i){if(k(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithPassword(e){try{let t;if("email"in e){const{email:i,password:a,options:o}=e;t=await j(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:a,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:js})}else if("phone"in e){const{phone:i,password:a,options:o}=e;t=await j(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:a,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:js})}else throw new vr("You must provide either an email or phone number and a password");const{data:n,error:s}=t;return s?{data:{user:null,session:null},error:s}:!n||!n.session||!n.user?{data:{user:null,session:null},error:new cn}:(n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),{data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:s})}catch(t){if(k(t))return{data:{user:null,session:null},error:t};throw t}}async signInWithOAuth(e){var t,n,s,i;return await this._handleProviderSignIn(e.provider,{redirectTo:(t=e.options)===null||t===void 0?void 0:t.redirectTo,scopes:(n=e.options)===null||n===void 0?void 0:n.scopes,queryParams:(s=e.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(i=e.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async _exchangeCodeForSession(e){const t=await yr(this.storage,`${this.storageKey}-code-verifier`),[n,s]=(t??"").split("/");try{const{data:i,error:a}=await j(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:n},xform:Xe});if(await br(this.storage,`${this.storageKey}-code-verifier`),a)throw a;return!i||!i.session||!i.user?{data:{user:null,session:null,redirectType:null},error:new cn}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign(Object.assign({},i),{redirectType:s??null}),error:a})}catch(i){if(k(i))return{data:{user:null,session:null,redirectType:null},error:i};throw i}}async signInWithIdToken(e){try{const{options:t,provider:n,token:s,access_token:i,nonce:a}=e,o=await j(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:s,access_token:i,nonce:a,gotrue_meta_security:{captcha_token:t==null?void 0:t.captchaToken}},xform:Xe}),{data:u,error:l}=o;return l?{data:{user:null,session:null},error:l}:!u||!u.session||!u.user?{data:{user:null,session:null},error:new cn}:(u.session&&(await this._saveSession(u.session),await this._notifyAllSubscribers("SIGNED_IN",u.session)),{data:u,error:l})}catch(t){if(k(t))return{data:{user:null,session:null},error:t};throw t}}async signInWithOtp(e){var t,n,s,i,a;try{if("email"in e){const{email:o,options:u}=e;let l=null,d=null;this.flowType==="pkce"&&([l,d]=await jt(this.storage,this.storageKey));const{error:c}=await j(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:o,data:(t=u==null?void 0:u.data)!==null&&t!==void 0?t:{},create_user:(n=u==null?void 0:u.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:u==null?void 0:u.captchaToken},code_challenge:l,code_challenge_method:d},redirectTo:u==null?void 0:u.emailRedirectTo});return{data:{user:null,session:null},error:c}}if("phone"in e){const{phone:o,options:u}=e,{data:l,error:d}=await j(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:o,data:(s=u==null?void 0:u.data)!==null&&s!==void 0?s:{},create_user:(i=u==null?void 0:u.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:u==null?void 0:u.captchaToken},channel:(a=u==null?void 0:u.channel)!==null&&a!==void 0?a:"sms"}});return{data:{user:null,session:null,messageId:l==null?void 0:l.message_id},error:d}}throw new vr("You must provide either an email or phone number.")}catch(o){if(k(o))return{data:{user:null,session:null},error:o};throw o}}async verifyOtp(e){var t,n;try{let s,i;"options"in e&&(s=(t=e.options)===null||t===void 0?void 0:t.redirectTo,i=(n=e.options)===null||n===void 0?void 0:n.captchaToken);const{data:a,error:o}=await j(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:i}}),redirectTo:s,xform:Xe});if(o)throw o;if(!a)throw new Error("An error occurred on token verification.");const u=a.session,l=a.user;return u!=null&&u.access_token&&(await this._saveSession(u),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",u)),{data:{user:l,session:u},error:null}}catch(s){if(k(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithSSO(e){var t,n,s;try{let i=null,a=null;return this.flowType==="pkce"&&([i,a]=await jt(this.storage,this.storageKey)),await j(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(n=(t=e.options)===null||t===void 0?void 0:t.redirectTo)!==null&&n!==void 0?n:void 0}),!((s=e==null?void 0:e.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:i,code_challenge_method:a}),headers:this.headers,xform:yl})}catch(i){if(k(i))return{data:null,error:i};throw i}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:t},error:n}=e;if(n)throw n;if(!t)throw new Ze;const{error:s}=await j(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:t.access_token});return{data:{user:null,session:null},error:s}})}catch(e){if(k(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{const t=`${this.url}/resend`;if("email"in e){const{email:n,type:s,options:i}=e,{error:a}=await j(this.fetch,"POST",t,{headers:this.headers,body:{email:n,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return{data:{user:null,session:null},error:a}}else if("phone"in e){const{phone:n,type:s,options:i}=e,{data:a,error:o}=await j(this.fetch,"POST",t,{headers:this.headers,body:{phone:n,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return{data:{user:null,session:null,messageId:a==null?void 0:a.message_id},error:o}}throw new vr("You must provide either an email or phone number and a type")}catch(t){if(k(t))return{data:{user:null,session:null},error:t};throw t}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async t=>t))}async _acquireLock(e,t){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await n,await t()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=t();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const t=await this.__loadSession();return await e(t)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const t=await yr(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",t),t!==null&&(this._isValidSession(t)?e=t:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const n=e.expires_at?e.expires_at<=Date.now()/1e3:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",e.expires_at),!n){if(this.storage.isServer){let a=this.suppressGetSessionWarning;e=new Proxy(e,{get:(u,l,d)=>(!a&&l==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),a=!0,this.suppressGetSessionWarning=!0),Reflect.get(u,l,d))})}return{data:{session:e},error:null}}const{session:s,error:i}=await this._callRefreshToken(e.refresh_token);return i?{data:{session:null},error:i}:{data:{session:s},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await j(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:tt}):await this._useSession(async t=>{var n,s,i;const{data:a,error:o}=t;if(o)throw o;return!(!((n=a.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Ze}:await j(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(s=a.session)===null||s===void 0?void 0:s.access_token)!==null&&i!==void 0?i:void 0,xform:tt})})}catch(t){if(k(t))return dl(t)&&(await this._removeSession(),await br(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:t};throw t}}async updateUser(e,t={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,t))}async _updateUser(e,t={}){try{return await this._useSession(async n=>{const{data:s,error:i}=n;if(i)throw i;if(!s.session)throw new Ze;const a=s.session;let o=null,u=null;this.flowType==="pkce"&&e.email!=null&&([o,u]=await jt(this.storage,this.storageKey));const{data:l,error:d}=await j(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:t==null?void 0:t.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:o,code_challenge_method:u}),jwt:a.access_token,xform:tt});if(d)throw d;return a.user=l.user,await this._saveSession(a),await this._notifyAllSubscribers("USER_UPDATED",a),{data:{user:a.user},error:null}})}catch(n){if(k(n))return{data:{user:null},error:n};throw n}}_decodeJWT(e){return ks(e)}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new Ze;const t=Date.now()/1e3;let n=t,s=!0,i=null;const a=ks(e.access_token);if(a.exp&&(n=a.exp,s=n<=t),s){const{session:o,error:u}=await this._callRefreshToken(e.refresh_token);if(u)return{data:{user:null,session:null},error:u};if(!o)return{data:{user:null,session:null},error:null};i=o}else{const{data:o,error:u}=await this._getUser(e.access_token);if(u)throw u;i={access_token:e.access_token,refresh_token:e.refresh_token,user:o.user,token_type:"bearer",expires_in:n-t,expires_at:n},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return{data:{user:i.user,session:i},error:null}}catch(t){if(k(t))return{data:{session:null,user:null},error:t};throw t}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async t=>{var n;if(!e){const{data:a,error:o}=t;if(o)throw o;e=(n=a.session)!==null&&n!==void 0?n:void 0}if(!(e!=null&&e.refresh_token))throw new Ze;const{session:s,error:i}=await this._callRefreshToken(e.refresh_token);return i?{data:{user:null,session:null},error:i}:s?{data:{user:s.user,session:s},error:null}:{data:{user:null,session:null},error:null}})}catch(t){if(k(t))return{data:{user:null,session:null},error:t};throw t}}async _getSessionFromURL(e,t){try{if(!Ie())throw new _r("No browser detected.");if(e.error||e.error_description||e.error_code)throw new _r(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(t){case"implicit":if(this.flowType==="pkce")throw new $s("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new _r("Not a valid implicit grant flow url.");break;default:}if(t==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new $s("No code detected.");const{data:O,error:q}=await this._exchangeCodeForSession(e.code);if(q)throw q;const H=new URL(window.location.href);return H.searchParams.delete("code"),window.history.replaceState(window.history.state,"",H.toString()),{data:{session:O.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:s,access_token:i,refresh_token:a,expires_in:o,expires_at:u,token_type:l}=e;if(!i||!o||!a||!l)throw new _r("No session defined in URL");const d=Math.round(Date.now()/1e3),c=parseInt(o);let f=d+c;u&&(f=parseInt(u));const p=f-d;p*1e3<=Gt&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${p}s, should have been closer to ${c}s`);const y=f-c;d-y>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",y,f,d):d-y<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",y,f,d);const{data:_,error:m}=await this._getUser(i);if(m)throw m;const x={provider_token:n,provider_refresh_token:s,access_token:i,expires_in:c,expires_at:f,refresh_token:a,token_type:l,user:_.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:x,redirectType:e.type},error:null}}catch(n){if(k(n))return{data:{session:null,redirectType:null},error:n};throw n}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const t=await yr(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&t)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async t=>{var n;const{data:s,error:i}=t;if(i)return{error:i};const a=(n=s.session)===null||n===void 0?void 0:n.access_token;if(a){const{error:o}=await this.admin.signOut(a,e);if(o&&!(cl(o)&&(o.status===404||o.status===401||o.status===403)))return{error:o}}return e!=="others"&&(await this._removeSession(),await br(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(e){const t=Yu(),n={id:t,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",t),this.stateChangeEmitters.delete(t)}};return this._debug("#onAuthStateChange()","registered callback with id",t),this.stateChangeEmitters.set(t,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(t)})))(),{data:{subscription:n}}}async _emitInitialSession(e){return await this._useSession(async t=>{var n,s;try{const{data:{session:i},error:a}=t;if(a)throw a;await((n=this.stateChangeEmitters.get(e))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",e,"session",i)}catch(i){await((s=this.stateChangeEmitters.get(e))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",i),console.error(i)}})}async resetPasswordForEmail(e,t={}){let n=null,s=null;this.flowType==="pkce"&&([n,s]=await jt(this.storage,this.storageKey,!0));try{return await j(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:n,code_challenge_method:s,gotrue_meta_security:{captcha_token:t.captchaToken}},headers:this.headers,redirectTo:t.redirectTo})}catch(i){if(k(i))return{data:null,error:i};throw i}}async getUserIdentities(){var e;try{const{data:t,error:n}=await this.getUser();if(n)throw n;return{data:{identities:(e=t.user.identities)!==null&&e!==void 0?e:[]},error:null}}catch(t){if(k(t))return{data:null,error:t};throw t}}async linkIdentity(e){var t;try{const{data:n,error:s}=await this._useSession(async i=>{var a,o,u,l,d;const{data:c,error:f}=i;if(f)throw f;const p=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(a=e.options)===null||a===void 0?void 0:a.redirectTo,scopes:(o=e.options)===null||o===void 0?void 0:o.scopes,queryParams:(u=e.options)===null||u===void 0?void 0:u.queryParams,skipBrowserRedirect:!0});return await j(this.fetch,"GET",p,{headers:this.headers,jwt:(d=(l=c.session)===null||l===void 0?void 0:l.access_token)!==null&&d!==void 0?d:void 0})});if(s)throw s;return Ie()&&!(!((t=e.options)===null||t===void 0)&&t.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),{data:{provider:e.provider,url:n==null?void 0:n.url},error:null}}catch(n){if(k(n))return{data:{provider:e.provider,url:null},error:n};throw n}}async unlinkIdentity(e){try{return await this._useSession(async t=>{var n,s;const{data:i,error:a}=t;if(a)throw a;return await j(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(s=(n=i.session)===null||n===void 0?void 0:n.access_token)!==null&&s!==void 0?s:void 0})})}catch(t){if(k(t))return{data:null,error:t};throw t}}async _refreshAccessToken(e){const t=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(t,"begin");try{const n=Date.now();return await tl(async s=>(s>0&&await el(200*Math.pow(2,s-1)),this._debug(t,"refreshing attempt",s),await j(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:Xe})),(s,i)=>{const a=200*Math.pow(2,s);return i&&dn(i)&&Date.now()+a-n<Gt})}catch(n){if(this._debug(t,"error",n),k(n))return{data:{session:null,user:null},error:n};throw n}finally{this._debug(t,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,t){const n=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:t.redirectTo,scopes:t.scopes,queryParams:t.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",t,"url",n),Ie()&&!t.skipBrowserRedirect&&window.location.assign(n),{data:{provider:e,url:n},error:null}}async _recoverAndRefresh(){var e;const t="#_recoverAndRefresh()";this._debug(t,"begin");try{const n=await yr(this.storage,this.storageKey);if(this._debug(t,"session from storage",n),!this._isValidSession(n)){this._debug(t,"session is not valid"),n!==null&&await this._removeSession();return}const s=Math.round(Date.now()/1e3),i=((e=n.expires_at)!==null&&e!==void 0?e:1/0)<s+Es;if(this._debug(t,`session has${i?"":" not"} expired with margin of ${Es}s`),i){if(this.autoRefreshToken&&n.refresh_token){const{error:a}=await this._callRefreshToken(n.refresh_token);a&&(console.error(a),dn(a)||(this._debug(t,"refresh failed with a non-retryable error, removing the session",a),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",n)}catch(n){this._debug(t,"error",n),console.error(n);return}finally{this._debug(t,"end")}}async _callRefreshToken(e){var t,n;if(!e)throw new Ze;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new Lr;const{data:i,error:a}=await this._refreshAccessToken(e);if(a)throw a;if(!i.session)throw new Ze;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const o={session:i.session,error:null};return this.refreshingDeferred.resolve(o),o}catch(i){if(this._debug(s,"error",i),k(i)){const a={session:null,error:i};return dn(i)||await this._removeSession(),(t=this.refreshingDeferred)===null||t===void 0||t.resolve(a),a}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(i),i}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(e,t,n=!0){const s=`#_notifyAllSubscribers(${e})`;this._debug(s,"begin",t,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:e,session:t});const i=[],a=Array.from(this.stateChangeEmitters.values()).map(async o=>{try{await o.callback(e,t)}catch(u){i.push(u)}});if(await Promise.all(a),i.length>0){for(let o=0;o<i.length;o+=1)console.error(i[o]);throw i[0]}}finally{this._debug(s,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0,await Ui(this.storage,this.storageKey,e)}async _removeSession(){this._debug("#_removeSession()"),await br(this.storage,this.storageKey),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&Ie()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(t){console.error("removing visibilitychange callback failed",t)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),Gt);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async t=>{const{data:{session:n}}=t;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((n.expires_at*1e3-e)/Gt);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${Gt}ms, refresh threshold is ${Ps} ticks`),s<=Ps&&await this._callRefreshToken(n.refresh_token)})}catch(t){console.error("Auto refresh tick failed with error. This is likely a transient error.",t)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof zi)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Ie()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const t=`#_onVisibilityChanged(${e})`;this._debug(t,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(t,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,t,n){const s=[`provider=${encodeURIComponent(t)}`];if(n!=null&&n.redirectTo&&s.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&s.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[i,a]=await jt(this.storage,this.storageKey),o=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(a)}`});s.push(o.toString())}if(n!=null&&n.queryParams){const i=new URLSearchParams(n.queryParams);s.push(i.toString())}return n!=null&&n.skipBrowserRedirect&&s.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${e}?${s.join("&")}`}async _unenroll(e){try{return await this._useSession(async t=>{var n;const{data:s,error:i}=t;return i?{data:null,error:i}:await j(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token})})}catch(t){if(k(t))return{data:null,error:t};throw t}}async _enroll(e){try{return await this._useSession(async t=>{var n,s;const{data:i,error:a}=t;if(a)return{data:null,error:a};const o=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:{issuer:e.issuer}),{data:u,error:l}=await j(this.fetch,"POST",`${this.url}/factors`,{body:o,headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token});return l?{data:null,error:l}:(e.factorType==="totp"&&(!((s=u==null?void 0:u.totp)===null||s===void 0)&&s.qr_code)&&(u.totp.qr_code=`data:image/svg+xml;utf-8,${u.totp.qr_code}`),{data:u,error:null})})}catch(t){if(k(t))return{data:null,error:t};throw t}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async t=>{var n;const{data:s,error:i}=t;if(i)return{data:null,error:i};const{data:a,error:o}=await j(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:{code:e.code,challenge_id:e.challengeId},headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token});return o?{data:null,error:o}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+a.expires_in},a)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",a),{data:a,error:o})})}catch(t){if(k(t))return{data:null,error:t};throw t}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async t=>{var n;const{data:s,error:i}=t;return i?{data:null,error:i}:await j(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:{channel:e.channel},headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token})})}catch(t){if(k(t))return{data:null,error:t};throw t}})}async _challengeAndVerify(e){const{data:t,error:n}=await this._challenge({factorId:e.factorId});return n?{data:null,error:n}:await this._verify({factorId:e.factorId,challengeId:t.id,code:e.code})}async _listFactors(){const{data:{user:e},error:t}=await this.getUser();if(t)return{data:null,error:t};const n=(e==null?void 0:e.factors)||[],s=n.filter(a=>a.factor_type==="totp"&&a.status==="verified"),i=n.filter(a=>a.factor_type==="phone"&&a.status==="verified");return{data:{all:n,totp:s,phone:i},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async e=>{var t,n;const{data:{session:s},error:i}=e;if(i)return{data:null,error:i};if(!s)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const a=this._decodeJWT(s.access_token);let o=null;a.aal&&(o=a.aal);let u=o;((n=(t=s.user.factors)===null||t===void 0?void 0:t.filter(c=>c.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(u="aal2");const d=a.amr||[];return{data:{currentLevel:o,nextLevel:u,currentAuthenticationMethods:d},error:null}}))}}Qt.nextInstanceID=0;const Ol=Qt;class Al extends Ol{constructor(e){super(e)}}var jl=function(r,e,t,n){function s(i){return i instanceof t?i:new t(function(a){a(i)})}return new(t||(t=Promise))(function(i,a){function o(d){try{l(n.next(d))}catch(c){a(c)}}function u(d){try{l(n.throw(d))}catch(c){a(c)}}function l(d){d.done?i(d.value):s(d.value).then(o,u)}l((n=n.apply(r,e||[])).next())})};class Cl{constructor(e,t,n){var s,i,a;if(this.supabaseUrl=e,this.supabaseKey=t,!e)throw new Error("supabaseUrl is required.");if(!t)throw new Error("supabaseKey is required.");const o=Hu(e);this.realtimeUrl=`${o}/realtime/v1`.replace(/^http/i,"ws"),this.authUrl=`${o}/auth/v1`,this.storageUrl=`${o}/storage/v1`,this.functionsUrl=`${o}/functions/v1`;const u=`sb-${new URL(this.authUrl).hostname.split(".")[0]}-auth-token`,l={db:Du,realtime:Lu,auth:Object.assign(Object.assign({},Nu),{storageKey:u}),global:Fu},d=qu(n??{},l);this.storageKey=(s=d.auth.storageKey)!==null&&s!==void 0?s:"",this.headers=(i=d.global.headers)!==null&&i!==void 0?i:{},d.accessToken?(this.accessToken=d.accessToken,this.auth=new Proxy({},{get:(c,f)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(f)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((a=d.auth)!==null&&a!==void 0?a:{},this.headers,d.global.fetch),this.fetch=zu(t,this._getAccessToken.bind(this),d.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},d.realtime)),this.rest=new nu(`${o}/rest/v1`,{headers:this.headers,schema:d.db.schema,fetch:this.fetch}),d.accessToken||this._listenForAuthEvents()}get functions(){return new Ro(this.functionsUrl,{headers:this.headers,customFetch:this.fetch})}get storage(){return new Pu(this.storageUrl,this.headers,this.fetch)}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,t={},n={}){return this.rest.rpc(e,t,n)}channel(e,t={config:{}}){return this.realtime.channel(e,t)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var e,t;return jl(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:n}=yield this.auth.getSession();return(t=(e=n.session)===null||e===void 0?void 0:e.access_token)!==null&&t!==void 0?t:null})}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:t,detectSessionInUrl:n,storage:s,storageKey:i,flowType:a,lock:o,debug:u},l,d){const c={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new Al({url:this.authUrl,headers:Object.assign(Object.assign({},c),l),storageKey:i,autoRefreshToken:e,persistSession:t,detectSessionInUrl:n,storage:s,flowType:a,lock:o,debug:u,fetch:d,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(e){return new bu(this.realtimeUrl,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((t,n)=>{this._handleTokenChanged(t,"CLIENT",n==null?void 0:n.access_token)})}_handleTokenChanged(e,t,n){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==n?this.changedAccessToken=n:e==="SIGNED_OUT"&&(this.realtime.setAuth(),t=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const Pl=(r,e,t)=>new Cl(r,e,t),Rl="https://rhibyqyxpkcouaxhicgr.supabase.co",Il="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InJoaWJ5cXl4cGtjb3VheGhpY2dyIiwicm9sZSI6ImFub24iLCJpYXQiOjE3MzY3NjQwMDAsImV4cCI6MjA1MjM0MDAwMH0.La6DhxuaSSOoEvwiTHh6AL0geOJliwPzg3l7dw9ZBME",Vi=Pl(Rl,Il);function Is(r,e){if(typeof r=="function")return r(e);r!=null&&(r.current=e)}function Hi(...r){return e=>{let t=!1;const n=r.map(s=>{const i=Is(s,e);return!t&&typeof i=="function"&&(t=!0),i});if(t)return()=>{for(let s=0;s<n.length;s++){const i=n[s];typeof i=="function"?i():Is(r[s],null)}}}}function Fl(...r){return g.useCallback(Hi(...r),r)}var qi=g.forwardRef((r,e)=>{const{children:t,...n}=r,s=g.Children.toArray(t),i=s.find(Nl);if(i){const a=i.props.children,o=s.map(u=>u===i?g.Children.count(a)>1?g.Children.only(null):g.isValidElement(a)?a.props.children:null:u);return W.jsx($n,{...n,ref:e,children:g.isValidElement(a)?g.cloneElement(a,void 0,o):null})}return W.jsx($n,{...n,ref:e,children:t})});qi.displayName="Slot";var $n=g.forwardRef((r,e)=>{const{children:t,...n}=r;if(g.isValidElement(t)){const s=Ml(t),i=Ll(n,t.props);return t.type!==g.Fragment&&(i.ref=e?Hi(e,s):s),g.cloneElement(t,i)}return g.Children.count(t)>1?g.Children.only(null):null});$n.displayName="SlotClone";var Dl=({children:r})=>W.jsx(W.Fragment,{children:r});function Nl(r){return g.isValidElement(r)&&r.type===Dl}function Ll(r,e){const t={...e};for(const n in e){const s=r[n],i=e[n];/^on[A-Z]/.test(n)?s&&i?t[n]=(...o)=>{i(...o),s(...o)}:s&&(t[n]=s):n==="style"?t[n]={...s,...i}:n==="className"&&(t[n]=[s,i].filter(Boolean).join(" "))}return{...r,...t}}function Ml(r){var n,s;let e=(n=Object.getOwnPropertyDescriptor(r.props,"ref"))==null?void 0:n.get,t=e&&"isReactWarning"in e&&e.isReactWarning;return t?r.ref:(e=(s=Object.getOwnPropertyDescriptor(r,"ref"))==null?void 0:s.get,t=e&&"isReactWarning"in e&&e.isReactWarning,t?r.props.ref:r.props.ref||r.ref)}const Gi=g.forwardRef(({className:r,type:e,...t},n)=>W.jsx("input",{type:e,className:Ft(" w-full rounded-md  bg-background px-3 py-1 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",r),ref:n,...t}));Gi.displayName="Input";function Rg(r,e,{checkForDefaultPrevented:t=!0}={}){return function(s){if(r==null||r(s),t===!1||!s.defaultPrevented)return e==null?void 0:e(s)}}function Ig(r,e){const t=g.createContext(e),n=i=>{const{children:a,...o}=i,u=g.useMemo(()=>o,Object.values(o));return W.jsx(t.Provider,{value:u,children:a})};n.displayName=r+"Provider";function s(i){const a=g.useContext(t);if(a)return a;if(e!==void 0)return e;throw new Error(`\`${i}\` must be used within \`${r}\``)}return[n,s]}function Fg(r,e=[]){let t=[];function n(i,a){const o=g.createContext(a),u=t.length;t=[...t,a];const l=c=>{var x;const{scope:f,children:p,...y}=c,_=((x=f==null?void 0:f[r])==null?void 0:x[u])||o,m=g.useMemo(()=>y,Object.values(y));return W.jsx(_.Provider,{value:m,children:p})};l.displayName=i+"Provider";function d(c,f){var _;const p=((_=f==null?void 0:f[r])==null?void 0:_[u])||o,y=g.useContext(p);if(y)return y;if(a!==void 0)return a;throw new Error(`\`${c}\` must be used within \`${i}\``)}return[l,d]}const s=()=>{const i=t.map(a=>g.createContext(a));return function(o){const u=(o==null?void 0:o[r])||i;return g.useMemo(()=>({[`__scope${r}`]:{...o,[r]:u}}),[o,u])}};return s.scopeName=r,[n,Ul(s,...e)]}function Ul(...r){const e=r[0];if(r.length===1)return e;const t=()=>{const n=r.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const a=n.reduce((o,{useScope:u,scopeName:l})=>{const c=u(i)[`__scope${l}`];return{...o,...c}},{});return g.useMemo(()=>({[`__scope${e.scopeName}`]:a}),[a])}};return t.scopeName=e.scopeName,t}var Bl=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],Dg=Bl.reduce((r,e)=>{const t=g.forwardRef((n,s)=>{const{asChild:i,...a}=n,o=i?qi:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),W.jsx(o,{...a,ref:s})});return t.displayName=`Primitive.${e}`,{...r,[e]:t}},{});function Ng(r,e){r&&Ka.flushSync(()=>r.dispatchEvent(e))}function Wi(r){const e=g.useRef(r);return g.useEffect(()=>{e.current=r}),g.useMemo(()=>(...t)=>{var n;return(n=e.current)==null?void 0:n.call(e,...t)},[])}var On=globalThis!=null&&globalThis.document?g.useLayoutEffect:()=>{};function Lg(r){const[e,t]=g.useState(void 0);return On(()=>{if(r){t({width:r.offsetWidth,height:r.offsetHeight});const n=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const i=s[0];let a,o;if("borderBoxSize"in i){const u=i.borderBoxSize,l=Array.isArray(u)?u[0]:u;a=l.inlineSize,o=l.blockSize}else a=r.offsetWidth,o=r.offsetHeight;t({width:a,height:o})});return n.observe(r,{box:"border-box"}),()=>n.unobserve(r)}else t(void 0)},[r]),e}function zl(r,e){return g.useReducer((t,n)=>e[t][n]??t,r)}var Vl=r=>{const{present:e,children:t}=r,n=Hl(e),s=typeof t=="function"?t({present:n.isPresent}):g.Children.only(t),i=Fl(n.ref,ql(s));return typeof t=="function"||n.isPresent?g.cloneElement(s,{ref:i}):null};Vl.displayName="Presence";function Hl(r){const[e,t]=g.useState(),n=g.useRef({}),s=g.useRef(r),i=g.useRef("none"),a=r?"mounted":"unmounted",[o,u]=zl(a,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return g.useEffect(()=>{const l=wr(n.current);i.current=o==="mounted"?l:"none"},[o]),On(()=>{const l=n.current,d=s.current;if(d!==r){const f=i.current,p=wr(l);r?u("MOUNT"):p==="none"||(l==null?void 0:l.display)==="none"?u("UNMOUNT"):u(d&&f!==p?"ANIMATION_OUT":"UNMOUNT"),s.current=r}},[r,u]),On(()=>{if(e){let l;const d=e.ownerDocument.defaultView??window,c=p=>{const _=wr(n.current).includes(p.animationName);if(p.target===e&&_&&(u("ANIMATION_END"),!s.current)){const m=e.style.animationFillMode;e.style.animationFillMode="forwards",l=d.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=m)})}},f=p=>{p.target===e&&(i.current=wr(n.current))};return e.addEventListener("animationstart",f),e.addEventListener("animationcancel",c),e.addEventListener("animationend",c),()=>{d.clearTimeout(l),e.removeEventListener("animationstart",f),e.removeEventListener("animationcancel",c),e.removeEventListener("animationend",c)}}else u("ANIMATION_END")},[e,u]),{isPresent:["mounted","unmountSuspended"].includes(o),ref:g.useCallback(l=>{l&&(n.current=getComputedStyle(l)),t(l)},[])}}function wr(r){return(r==null?void 0:r.animationName)||"none"}function ql(r){var n,s;let e=(n=Object.getOwnPropertyDescriptor(r.props,"ref"))==null?void 0:n.get,t=e&&"isReactWarning"in e&&e.isReactWarning;return t?r.ref:(e=(s=Object.getOwnPropertyDescriptor(r,"ref"))==null?void 0:s.get,t=e&&"isReactWarning"in e&&e.isReactWarning,t?r.props.ref:r.props.ref||r.ref)}function Mg({prop:r,defaultProp:e,onChange:t=()=>{}}){const[n,s]=Gl({defaultProp:e,onChange:t}),i=r!==void 0,a=i?r:n,o=Wi(t),u=g.useCallback(l=>{if(i){const c=typeof l=="function"?l(r):l;c!==r&&o(c)}else s(l)},[i,r,s,o]);return[a,u]}function Gl({defaultProp:r,onChange:e}){const t=g.useState(r),[n]=t,s=g.useRef(n),i=Wi(e);return g.useEffect(()=>{s.current!==n&&(i(n),s.current=n)},[n,s,i]),t}function Ug(r){const e=g.useRef({value:r,previous:r});return g.useMemo(()=>(e.current.value!==r&&(e.current.previous=e.current.value,e.current.value=r),e.current.previous),[r])}function Bg({className:r}){return W.jsx("svg",{width:"27px",height:"27px",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:Ft("stroke-primary",r),children:W.jsx("path",{d:"M4 12.6111L8.92308 17.5L20 6.5",stroke:"#fff",strokeWidth:"4",strokeLinecap:"round",strokeLinejoin:"round"})})}var Wl=function(e){return Kl(e)&&!Jl(e)};function Kl(r){return!!r&&typeof r=="object"}function Jl(r){var e=Object.prototype.toString.call(r);return e==="[object RegExp]"||e==="[object Date]"||Xl(r)}var Yl=typeof Symbol=="function"&&Symbol.for,Zl=Yl?Symbol.for("react.element"):60103;function Xl(r){return r.$$typeof===Zl}function Ql(r){return Array.isArray(r)?[]:{}}function Ar(r,e){return e.clone!==!1&&e.isMergeableObject(r)?er(Ql(r),r,e):r}function ec(r,e,t){return r.concat(e).map(function(n){return Ar(n,t)})}function tc(r,e,t){var n={};return t.isMergeableObject(r)&&Object.keys(r).forEach(function(s){n[s]=Ar(r[s],t)}),Object.keys(e).forEach(function(s){!t.isMergeableObject(e[s])||!r[s]?n[s]=Ar(e[s],t):n[s]=er(r[s],e[s],t)}),n}function er(r,e,t){t=t||{},t.arrayMerge=t.arrayMerge||ec,t.isMergeableObject=t.isMergeableObject||Wl;var n=Array.isArray(e),s=Array.isArray(r),i=n===s;return i?n?t.arrayMerge(r,e,t):tc(r,e,t):Ar(e,t)}er.all=function(e,t){if(!Array.isArray(e))throw new Error("first argument should be an array");return e.reduce(function(n,s){return er(n,s,t)},{})};var An=er,Ki=typeof global=="object"&&global&&global.Object===Object&&global,rc=typeof self=="object"&&self&&self.Object===Object&&self,De=Ki||rc||Function("return this")(),it=De.Symbol,Ji=Object.prototype,nc=Ji.hasOwnProperty,sc=Ji.toString,Wt=it?it.toStringTag:void 0;function ic(r){var e=nc.call(r,Wt),t=r[Wt];try{r[Wt]=void 0;var n=!0}catch{}var s=sc.call(r);return n&&(e?r[Wt]=t:delete r[Wt]),s}var ac=Object.prototype,oc=ac.toString;function uc(r){return oc.call(r)}var lc="[object Null]",cc="[object Undefined]",Fs=it?it.toStringTag:void 0;function vt(r){return r==null?r===void 0?cc:lc:Fs&&Fs in Object(r)?ic(r):uc(r)}function Yi(r,e){return function(t){return r(e(t))}}var qn=Yi(Object.getPrototypeOf,Object);function _t(r){return r!=null&&typeof r=="object"}var dc="[object Object]",fc=Function.prototype,hc=Object.prototype,Zi=fc.toString,pc=hc.hasOwnProperty,gc=Zi.call(Object);function Ds(r){if(!_t(r)||vt(r)!=dc)return!1;var e=qn(r);if(e===null)return!0;var t=pc.call(e,"constructor")&&e.constructor;return typeof t=="function"&&t instanceof t&&Zi.call(t)==gc}function mc(){this.__data__=[],this.size=0}function Xi(r,e){return r===e||r!==r&&e!==e}function Mr(r,e){for(var t=r.length;t--;)if(Xi(r[t][0],e))return t;return-1}var yc=Array.prototype,bc=yc.splice;function vc(r){var e=this.__data__,t=Mr(e,r);if(t<0)return!1;var n=e.length-1;return t==n?e.pop():bc.call(e,t,1),--this.size,!0}function _c(r){var e=this.__data__,t=Mr(e,r);return t<0?void 0:e[t][1]}function wc(r){return Mr(this.__data__,r)>-1}function xc(r,e){var t=this.__data__,n=Mr(t,r);return n<0?(++this.size,t.push([r,e])):t[n][1]=e,this}function He(r){var e=-1,t=r==null?0:r.length;for(this.clear();++e<t;){var n=r[e];this.set(n[0],n[1])}}He.prototype.clear=mc;He.prototype.delete=vc;He.prototype.get=_c;He.prototype.has=wc;He.prototype.set=xc;function Sc(){this.__data__=new He,this.size=0}function Tc(r){var e=this.__data__,t=e.delete(r);return this.size=e.size,t}function Ec(r){return this.__data__.get(r)}function kc(r){return this.__data__.has(r)}function ir(r){var e=typeof r;return r!=null&&(e=="object"||e=="function")}var $c="[object AsyncFunction]",Oc="[object Function]",Ac="[object GeneratorFunction]",jc="[object Proxy]";function Qi(r){if(!ir(r))return!1;var e=vt(r);return e==Oc||e==Ac||e==$c||e==jc}var fn=De["__core-js_shared__"],Ns=function(){var r=/[^.]+$/.exec(fn&&fn.keys&&fn.keys.IE_PROTO||"");return r?"Symbol(src)_1."+r:""}();function Cc(r){return!!Ns&&Ns in r}var Pc=Function.prototype,Rc=Pc.toString;function wt(r){if(r!=null){try{return Rc.call(r)}catch{}try{return r+""}catch{}}return""}var Ic=/[\\^$.*+?()[\]{}|]/g,Fc=/^\[object .+?Constructor\]$/,Dc=Function.prototype,Nc=Object.prototype,Lc=Dc.toString,Mc=Nc.hasOwnProperty,Uc=RegExp("^"+Lc.call(Mc).replace(Ic,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function Bc(r){if(!ir(r)||Cc(r))return!1;var e=Qi(r)?Uc:Fc;return e.test(wt(r))}function zc(r,e){return r==null?void 0:r[e]}function xt(r,e){var t=zc(r,e);return Bc(t)?t:void 0}var tr=xt(De,"Map"),rr=xt(Object,"create");function Vc(){this.__data__=rr?rr(null):{},this.size=0}function Hc(r){var e=this.has(r)&&delete this.__data__[r];return this.size-=e?1:0,e}var qc="__lodash_hash_undefined__",Gc=Object.prototype,Wc=Gc.hasOwnProperty;function Kc(r){var e=this.__data__;if(rr){var t=e[r];return t===qc?void 0:t}return Wc.call(e,r)?e[r]:void 0}var Jc=Object.prototype,Yc=Jc.hasOwnProperty;function Zc(r){var e=this.__data__;return rr?e[r]!==void 0:Yc.call(e,r)}var Xc="__lodash_hash_undefined__";function Qc(r,e){var t=this.__data__;return this.size+=this.has(r)?0:1,t[r]=rr&&e===void 0?Xc:e,this}function mt(r){var e=-1,t=r==null?0:r.length;for(this.clear();++e<t;){var n=r[e];this.set(n[0],n[1])}}mt.prototype.clear=Vc;mt.prototype.delete=Hc;mt.prototype.get=Kc;mt.prototype.has=Zc;mt.prototype.set=Qc;function ed(){this.size=0,this.__data__={hash:new mt,map:new(tr||He),string:new mt}}function td(r){var e=typeof r;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?r!=="__proto__":r===null}function Ur(r,e){var t=r.__data__;return td(e)?t[typeof e=="string"?"string":"hash"]:t.map}function rd(r){var e=Ur(this,r).delete(r);return this.size-=e?1:0,e}function nd(r){return Ur(this,r).get(r)}function sd(r){return Ur(this,r).has(r)}function id(r,e){var t=Ur(this,r),n=t.size;return t.set(r,e),this.size+=t.size==n?0:1,this}function at(r){var e=-1,t=r==null?0:r.length;for(this.clear();++e<t;){var n=r[e];this.set(n[0],n[1])}}at.prototype.clear=ed;at.prototype.delete=rd;at.prototype.get=nd;at.prototype.has=sd;at.prototype.set=id;var ad=200;function od(r,e){var t=this.__data__;if(t instanceof He){var n=t.__data__;if(!tr||n.length<ad-1)return n.push([r,e]),this.size=++t.size,this;t=this.__data__=new at(n)}return t.set(r,e),this.size=t.size,this}function zt(r){var e=this.__data__=new He(r);this.size=e.size}zt.prototype.clear=Sc;zt.prototype.delete=Tc;zt.prototype.get=Ec;zt.prototype.has=kc;zt.prototype.set=od;function ud(r,e){for(var t=-1,n=r==null?0:r.length;++t<n&&e(r[t],t,r)!==!1;);return r}var Ls=function(){try{var r=xt(Object,"defineProperty");return r({},"",{}),r}catch{}}();function ea(r,e,t){e=="__proto__"&&Ls?Ls(r,e,{configurable:!0,enumerable:!0,value:t,writable:!0}):r[e]=t}var ld=Object.prototype,cd=ld.hasOwnProperty;function ta(r,e,t){var n=r[e];(!(cd.call(r,e)&&Xi(n,t))||t===void 0&&!(e in r))&&ea(r,e,t)}function Br(r,e,t,n){var s=!t;t||(t={});for(var i=-1,a=e.length;++i<a;){var o=e[i],u=void 0;u===void 0&&(u=r[o]),s?ea(t,o,u):ta(t,o,u)}return t}function dd(r,e){for(var t=-1,n=Array(r);++t<r;)n[t]=e(t);return n}var fd="[object Arguments]";function Ms(r){return _t(r)&&vt(r)==fd}var ra=Object.prototype,hd=ra.hasOwnProperty,pd=ra.propertyIsEnumerable,gd=Ms(function(){return arguments}())?Ms:function(r){return _t(r)&&hd.call(r,"callee")&&!pd.call(r,"callee")},ar=Array.isArray;function md(){return!1}var na=typeof exports=="object"&&exports&&!exports.nodeType&&exports,Us=na&&typeof module=="object"&&module&&!module.nodeType&&module,yd=Us&&Us.exports===na,Bs=yd?De.Buffer:void 0,bd=Bs?Bs.isBuffer:void 0,sa=bd||md,vd=9007199254740991,_d=/^(?:0|[1-9]\d*)$/;function wd(r,e){var t=typeof r;return e=e??vd,!!e&&(t=="number"||t!="symbol"&&_d.test(r))&&r>-1&&r%1==0&&r<e}var xd=9007199254740991;function ia(r){return typeof r=="number"&&r>-1&&r%1==0&&r<=xd}var Sd="[object Arguments]",Td="[object Array]",Ed="[object Boolean]",kd="[object Date]",$d="[object Error]",Od="[object Function]",Ad="[object Map]",jd="[object Number]",Cd="[object Object]",Pd="[object RegExp]",Rd="[object Set]",Id="[object String]",Fd="[object WeakMap]",Dd="[object ArrayBuffer]",Nd="[object DataView]",Ld="[object Float32Array]",Md="[object Float64Array]",Ud="[object Int8Array]",Bd="[object Int16Array]",zd="[object Int32Array]",Vd="[object Uint8Array]",Hd="[object Uint8ClampedArray]",qd="[object Uint16Array]",Gd="[object Uint32Array]",z={};z[Ld]=z[Md]=z[Ud]=z[Bd]=z[zd]=z[Vd]=z[Hd]=z[qd]=z[Gd]=!0;z[Sd]=z[Td]=z[Dd]=z[Ed]=z[Nd]=z[kd]=z[$d]=z[Od]=z[Ad]=z[jd]=z[Cd]=z[Pd]=z[Rd]=z[Id]=z[Fd]=!1;function Wd(r){return _t(r)&&ia(r.length)&&!!z[vt(r)]}function Gn(r){return function(e){return r(e)}}var aa=typeof exports=="object"&&exports&&!exports.nodeType&&exports,Zt=aa&&typeof module=="object"&&module&&!module.nodeType&&module,Kd=Zt&&Zt.exports===aa,hn=Kd&&Ki.process,Mt=function(){try{var r=Zt&&Zt.require&&Zt.require("util").types;return r||hn&&hn.binding&&hn.binding("util")}catch{}}(),zs=Mt&&Mt.isTypedArray,Jd=zs?Gn(zs):Wd,Yd=Object.prototype,Zd=Yd.hasOwnProperty;function oa(r,e){var t=ar(r),n=!t&&gd(r),s=!t&&!n&&sa(r),i=!t&&!n&&!s&&Jd(r),a=t||n||s||i,o=a?dd(r.length,String):[],u=o.length;for(var l in r)(e||Zd.call(r,l))&&!(a&&(l=="length"||s&&(l=="offset"||l=="parent")||i&&(l=="buffer"||l=="byteLength"||l=="byteOffset")||wd(l,u)))&&o.push(l);return o}var Xd=Object.prototype;function Wn(r){var e=r&&r.constructor,t=typeof e=="function"&&e.prototype||Xd;return r===t}var Qd=Yi(Object.keys,Object),ef=Object.prototype,tf=ef.hasOwnProperty;function rf(r){if(!Wn(r))return Qd(r);var e=[];for(var t in Object(r))tf.call(r,t)&&t!="constructor"&&e.push(t);return e}function ua(r){return r!=null&&ia(r.length)&&!Qi(r)}function Kn(r){return ua(r)?oa(r):rf(r)}function nf(r,e){return r&&Br(e,Kn(e),r)}function sf(r){var e=[];if(r!=null)for(var t in Object(r))e.push(t);return e}var af=Object.prototype,of=af.hasOwnProperty;function uf(r){if(!ir(r))return sf(r);var e=Wn(r),t=[];for(var n in r)n=="constructor"&&(e||!of.call(r,n))||t.push(n);return t}function Jn(r){return ua(r)?oa(r,!0):uf(r)}function lf(r,e){return r&&Br(e,Jn(e),r)}var la=typeof exports=="object"&&exports&&!exports.nodeType&&exports,Vs=la&&typeof module=="object"&&module&&!module.nodeType&&module,cf=Vs&&Vs.exports===la,Hs=cf?De.Buffer:void 0,qs=Hs?Hs.allocUnsafe:void 0;function df(r,e){if(e)return r.slice();var t=r.length,n=qs?qs(t):new r.constructor(t);return r.copy(n),n}function ca(r,e){var t=-1,n=r.length;for(e||(e=Array(n));++t<n;)e[t]=r[t];return e}function ff(r,e){for(var t=-1,n=r==null?0:r.length,s=0,i=[];++t<n;){var a=r[t];e(a,t,r)&&(i[s++]=a)}return i}function da(){return[]}var hf=Object.prototype,pf=hf.propertyIsEnumerable,Gs=Object.getOwnPropertySymbols,Yn=Gs?function(r){return r==null?[]:(r=Object(r),ff(Gs(r),function(e){return pf.call(r,e)}))}:da;function gf(r,e){return Br(r,Yn(r),e)}function fa(r,e){for(var t=-1,n=e.length,s=r.length;++t<n;)r[s+t]=e[t];return r}var mf=Object.getOwnPropertySymbols,ha=mf?function(r){for(var e=[];r;)fa(e,Yn(r)),r=qn(r);return e}:da;function yf(r,e){return Br(r,ha(r),e)}function pa(r,e,t){var n=e(r);return ar(r)?n:fa(n,t(r))}function bf(r){return pa(r,Kn,Yn)}function vf(r){return pa(r,Jn,ha)}var jn=xt(De,"DataView"),Cn=xt(De,"Promise"),Pn=xt(De,"Set"),Rn=xt(De,"WeakMap"),Ws="[object Map]",_f="[object Object]",Ks="[object Promise]",Js="[object Set]",Ys="[object WeakMap]",Zs="[object DataView]",wf=wt(jn),xf=wt(tr),Sf=wt(Cn),Tf=wt(Pn),Ef=wt(Rn),Be=vt;(jn&&Be(new jn(new ArrayBuffer(1)))!=Zs||tr&&Be(new tr)!=Ws||Cn&&Be(Cn.resolve())!=Ks||Pn&&Be(new Pn)!=Js||Rn&&Be(new Rn)!=Ys)&&(Be=function(r){var e=vt(r),t=e==_f?r.constructor:void 0,n=t?wt(t):"";if(n)switch(n){case wf:return Zs;case xf:return Ws;case Sf:return Ks;case Tf:return Js;case Ef:return Ys}return e});var kf=Object.prototype,$f=kf.hasOwnProperty;function Of(r){var e=r.length,t=new r.constructor(e);return e&&typeof r[0]=="string"&&$f.call(r,"index")&&(t.index=r.index,t.input=r.input),t}var Xs=De.Uint8Array;function Zn(r){var e=new r.constructor(r.byteLength);return new Xs(e).set(new Xs(r)),e}function Af(r,e){var t=e?Zn(r.buffer):r.buffer;return new r.constructor(t,r.byteOffset,r.byteLength)}var jf=/\w*$/;function Cf(r){var e=new r.constructor(r.source,jf.exec(r));return e.lastIndex=r.lastIndex,e}var Qs=it?it.prototype:void 0,ei=Qs?Qs.valueOf:void 0;function Pf(r){return ei?Object(ei.call(r)):{}}function Rf(r,e){var t=e?Zn(r.buffer):r.buffer;return new r.constructor(t,r.byteOffset,r.length)}var If="[object Boolean]",Ff="[object Date]",Df="[object Map]",Nf="[object Number]",Lf="[object RegExp]",Mf="[object Set]",Uf="[object String]",Bf="[object Symbol]",zf="[object ArrayBuffer]",Vf="[object DataView]",Hf="[object Float32Array]",qf="[object Float64Array]",Gf="[object Int8Array]",Wf="[object Int16Array]",Kf="[object Int32Array]",Jf="[object Uint8Array]",Yf="[object Uint8ClampedArray]",Zf="[object Uint16Array]",Xf="[object Uint32Array]";function Qf(r,e,t){var n=r.constructor;switch(e){case zf:return Zn(r);case If:case Ff:return new n(+r);case Vf:return Af(r,t);case Hf:case qf:case Gf:case Wf:case Kf:case Jf:case Yf:case Zf:case Xf:return Rf(r,t);case Df:return new n;case Nf:case Uf:return new n(r);case Lf:return Cf(r);case Mf:return new n;case Bf:return Pf(r)}}var ti=Object.create,eh=function(){function r(){}return function(e){if(!ir(e))return{};if(ti)return ti(e);r.prototype=e;var t=new r;return r.prototype=void 0,t}}();function th(r){return typeof r.constructor=="function"&&!Wn(r)?eh(qn(r)):{}}var rh="[object Map]";function nh(r){return _t(r)&&Be(r)==rh}var ri=Mt&&Mt.isMap,sh=ri?Gn(ri):nh,ih="[object Set]";function ah(r){return _t(r)&&Be(r)==ih}var ni=Mt&&Mt.isSet,oh=ni?Gn(ni):ah,uh=1,lh=2,ch=4,ga="[object Arguments]",dh="[object Array]",fh="[object Boolean]",hh="[object Date]",ph="[object Error]",ma="[object Function]",gh="[object GeneratorFunction]",mh="[object Map]",yh="[object Number]",ya="[object Object]",bh="[object RegExp]",vh="[object Set]",_h="[object String]",wh="[object Symbol]",xh="[object WeakMap]",Sh="[object ArrayBuffer]",Th="[object DataView]",Eh="[object Float32Array]",kh="[object Float64Array]",$h="[object Int8Array]",Oh="[object Int16Array]",Ah="[object Int32Array]",jh="[object Uint8Array]",Ch="[object Uint8ClampedArray]",Ph="[object Uint16Array]",Rh="[object Uint32Array]",U={};U[ga]=U[dh]=U[Sh]=U[Th]=U[fh]=U[hh]=U[Eh]=U[kh]=U[$h]=U[Oh]=U[Ah]=U[mh]=U[yh]=U[ya]=U[bh]=U[vh]=U[_h]=U[wh]=U[jh]=U[Ch]=U[Ph]=U[Rh]=!0;U[ph]=U[ma]=U[xh]=!1;function Xt(r,e,t,n,s,i){var a,o=e&uh,u=e&lh,l=e&ch;if(a!==void 0)return a;if(!ir(r))return r;var d=ar(r);if(d){if(a=Of(r),!o)return ca(r,a)}else{var c=Be(r),f=c==ma||c==gh;if(sa(r))return df(r,o);if(c==ya||c==ga||f&&!s){if(a=u||f?{}:th(r),!o)return u?yf(r,lf(a,r)):gf(r,nf(a,r))}else{if(!U[c])return s?r:{};a=Qf(r,c,o)}}i||(i=new zt);var p=i.get(r);if(p)return p;i.set(r,a),oh(r)?r.forEach(function(m){a.add(Xt(m,e,t,m,r,i))}):sh(r)&&r.forEach(function(m,x){a.set(x,Xt(m,e,t,x,r,i))});var y=l?u?vf:bf:u?Jn:Kn,_=d?void 0:y(r);return ud(_||r,function(m,x){_&&(x=m,m=r[x]),ta(a,x,Xt(m,e,t,x,r,i))}),a}var Ih=1,Fh=4;function xr(r){return Xt(r,Ih|Fh)}var si=Array.isArray,ii=Object.keys,Dh=Object.prototype.hasOwnProperty,Nh=typeof Element<"u";function In(r,e){if(r===e)return!0;if(r&&e&&typeof r=="object"&&typeof e=="object"){var t=si(r),n=si(e),s,i,a;if(t&&n){if(i=r.length,i!=e.length)return!1;for(s=i;s--!==0;)if(!In(r[s],e[s]))return!1;return!0}if(t!=n)return!1;var o=r instanceof Date,u=e instanceof Date;if(o!=u)return!1;if(o&&u)return r.getTime()==e.getTime();var l=r instanceof RegExp,d=e instanceof RegExp;if(l!=d)return!1;if(l&&d)return r.toString()==e.toString();var c=ii(r);if(i=c.length,i!==ii(e).length)return!1;for(s=i;s--!==0;)if(!Dh.call(e,c[s]))return!1;if(Nh&&r instanceof Element&&e instanceof Element)return r===e;for(s=i;s--!==0;)if(a=c[s],!(a==="_owner"&&r.$$typeof)&&!In(r[a],e[a]))return!1;return!0}return r!==r&&e!==e}var Lh=function(e,t){try{return In(e,t)}catch(n){if(n.message&&n.message.match(/stack|recursion/i)||n.number===-2146828260)return console.warn("Warning: react-fast-compare does not handle circular references.",n.name,n.message),!1;throw n}};const ft=bi(Lh);var Mh=4;function ai(r){return Xt(r,Mh)}function ba(r,e){for(var t=-1,n=r==null?0:r.length,s=Array(n);++t<n;)s[t]=e(r[t],t,r);return s}var Uh="[object Symbol]";function Xn(r){return typeof r=="symbol"||_t(r)&&vt(r)==Uh}var Bh="Expected a function";function Qn(r,e){if(typeof r!="function"||e!=null&&typeof e!="function")throw new TypeError(Bh);var t=function(){var n=arguments,s=e?e.apply(this,n):n[0],i=t.cache;if(i.has(s))return i.get(s);var a=r.apply(this,n);return t.cache=i.set(s,a)||i,a};return t.cache=new(Qn.Cache||at),t}Qn.Cache=at;var zh=500;function Vh(r){var e=Qn(r,function(n){return t.size===zh&&t.clear(),n}),t=e.cache;return e}var Hh=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,qh=/\\(\\)?/g,Gh=Vh(function(r){var e=[];return r.charCodeAt(0)===46&&e.push(""),r.replace(Hh,function(t,n,s,i){e.push(s?i.replace(qh,"$1"):n||t)}),e});function Wh(r){if(typeof r=="string"||Xn(r))return r;var e=r+"";return e=="0"&&1/r==-1/0?"-0":e}var oi=it?it.prototype:void 0,ui=oi?oi.toString:void 0;function va(r){if(typeof r=="string")return r;if(ar(r))return ba(r,va)+"";if(Xn(r))return ui?ui.call(r):"";var e=r+"";return e=="0"&&1/r==-1/0?"-0":e}function Kh(r){return r==null?"":va(r)}function _a(r){return ar(r)?ba(r,Wh):Xn(r)?[r]:ca(Gh(Kh(r)))}var wa={exports:{}},N={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var X=typeof Symbol=="function"&&Symbol.for,es=X?Symbol.for("react.element"):60103,ts=X?Symbol.for("react.portal"):60106,zr=X?Symbol.for("react.fragment"):60107,Vr=X?Symbol.for("react.strict_mode"):60108,Hr=X?Symbol.for("react.profiler"):60114,qr=X?Symbol.for("react.provider"):60109,Gr=X?Symbol.for("react.context"):60110,rs=X?Symbol.for("react.async_mode"):60111,Wr=X?Symbol.for("react.concurrent_mode"):60111,Kr=X?Symbol.for("react.forward_ref"):60112,Jr=X?Symbol.for("react.suspense"):60113,Jh=X?Symbol.for("react.suspense_list"):60120,Yr=X?Symbol.for("react.memo"):60115,Zr=X?Symbol.for("react.lazy"):60116,Yh=X?Symbol.for("react.block"):60121,Zh=X?Symbol.for("react.fundamental"):60117,Xh=X?Symbol.for("react.responder"):60118,Qh=X?Symbol.for("react.scope"):60119;function be(r){if(typeof r=="object"&&r!==null){var e=r.$$typeof;switch(e){case es:switch(r=r.type,r){case rs:case Wr:case zr:case Hr:case Vr:case Jr:return r;default:switch(r=r&&r.$$typeof,r){case Gr:case Kr:case Zr:case Yr:case qr:return r;default:return e}}case ts:return e}}}function xa(r){return be(r)===Wr}N.AsyncMode=rs;N.ConcurrentMode=Wr;N.ContextConsumer=Gr;N.ContextProvider=qr;N.Element=es;N.ForwardRef=Kr;N.Fragment=zr;N.Lazy=Zr;N.Memo=Yr;N.Portal=ts;N.Profiler=Hr;N.StrictMode=Vr;N.Suspense=Jr;N.isAsyncMode=function(r){return xa(r)||be(r)===rs};N.isConcurrentMode=xa;N.isContextConsumer=function(r){return be(r)===Gr};N.isContextProvider=function(r){return be(r)===qr};N.isElement=function(r){return typeof r=="object"&&r!==null&&r.$$typeof===es};N.isForwardRef=function(r){return be(r)===Kr};N.isFragment=function(r){return be(r)===zr};N.isLazy=function(r){return be(r)===Zr};N.isMemo=function(r){return be(r)===Yr};N.isPortal=function(r){return be(r)===ts};N.isProfiler=function(r){return be(r)===Hr};N.isStrictMode=function(r){return be(r)===Vr};N.isSuspense=function(r){return be(r)===Jr};N.isValidElementType=function(r){return typeof r=="string"||typeof r=="function"||r===zr||r===Wr||r===Hr||r===Vr||r===Jr||r===Jh||typeof r=="object"&&r!==null&&(r.$$typeof===Zr||r.$$typeof===Yr||r.$$typeof===qr||r.$$typeof===Gr||r.$$typeof===Kr||r.$$typeof===Zh||r.$$typeof===Xh||r.$$typeof===Qh||r.$$typeof===Yh)};N.typeOf=be;wa.exports=N;var ep=wa.exports,Sa=ep,tp={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},rp={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},Ta={};Ta[Sa.ForwardRef]=tp;Ta[Sa.Memo]=rp;function V(){return V=Object.assign||function(r){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(r[n]=t[n])}return r},V.apply(this,arguments)}function Rt(r,e){if(r==null)return{};var t={},n=Object.keys(r),s,i;for(i=0;i<n.length;i++)s=n[i],!(e.indexOf(s)>=0)&&(t[s]=r[s]);return t}var Xr=g.createContext(void 0);Xr.displayName="FormikContext";var np=Xr.Provider;Xr.Consumer;function ns(){var r=g.useContext(Xr);return r}var ye=function(e){return typeof e=="function"},or=function(e){return e!==null&&typeof e=="object"},sp=function(e){return String(Math.floor(Number(e)))===e},pn=function(e){return Object.prototype.toString.call(e)==="[object String]"},ip=function(e){return g.Children.count(e)===0},gn=function(e){return or(e)&&ye(e.then)};function me(r,e,t,n){n===void 0&&(n=0);for(var s=_a(e);r&&n<s.length;)r=r[s[n++]];return n!==s.length&&!r||r===void 0?t:r}function pt(r,e,t){for(var n=ai(r),s=n,i=0,a=_a(e);i<a.length-1;i++){var o=a[i],u=me(r,a.slice(0,i+1));if(u&&(or(u)||Array.isArray(u)))s=s[o]=ai(u);else{var l=a[i+1];s=s[o]=sp(l)&&Number(l)>=0?[]:{}}}return(i===0?r:s)[a[i]]===t?r:(t===void 0?delete s[a[i]]:s[a[i]]=t,i===0&&t===void 0&&delete n[a[i]],n)}function Ea(r,e,t,n){t===void 0&&(t=new WeakMap),n===void 0&&(n={});for(var s=0,i=Object.keys(r);s<i.length;s++){var a=i[s],o=r[a];or(o)?t.get(o)||(t.set(o,!0),n[a]=Array.isArray(o)?[]:{},Ea(o,e,t,n[a])):n[a]=e}return n}function ap(r,e){switch(e.type){case"SET_VALUES":return V({},r,{values:e.payload});case"SET_TOUCHED":return V({},r,{touched:e.payload});case"SET_ERRORS":return ft(r.errors,e.payload)?r:V({},r,{errors:e.payload});case"SET_STATUS":return V({},r,{status:e.payload});case"SET_ISSUBMITTING":return V({},r,{isSubmitting:e.payload});case"SET_ISVALIDATING":return V({},r,{isValidating:e.payload});case"SET_FIELD_VALUE":return V({},r,{values:pt(r.values,e.payload.field,e.payload.value)});case"SET_FIELD_TOUCHED":return V({},r,{touched:pt(r.touched,e.payload.field,e.payload.value)});case"SET_FIELD_ERROR":return V({},r,{errors:pt(r.errors,e.payload.field,e.payload.value)});case"RESET_FORM":return V({},r,e.payload);case"SET_FORMIK_STATE":return e.payload(r);case"SUBMIT_ATTEMPT":return V({},r,{touched:Ea(r.values,!0),isSubmitting:!0,submitCount:r.submitCount+1});case"SUBMIT_FAILURE":return V({},r,{isSubmitting:!1});case"SUBMIT_SUCCESS":return V({},r,{isSubmitting:!1});default:return r}}var ct={},Sr={};function op(r){var e=r.validateOnChange,t=e===void 0?!0:e,n=r.validateOnBlur,s=n===void 0?!0:n,i=r.validateOnMount,a=i===void 0?!1:i,o=r.isInitialValid,u=r.enableReinitialize,l=u===void 0?!1:u,d=r.onSubmit,c=Rt(r,["validateOnChange","validateOnBlur","validateOnMount","isInitialValid","enableReinitialize","onSubmit"]),f=V({validateOnChange:t,validateOnBlur:s,validateOnMount:a,onSubmit:d},c),p=g.useRef(f.initialValues),y=g.useRef(f.initialErrors||ct),_=g.useRef(f.initialTouched||Sr),m=g.useRef(f.initialStatus),x=g.useRef(!1),O=g.useRef({});g.useEffect(function(){return x.current=!0,function(){x.current=!1}},[]);var q=g.useState(0),H=q[1],C=g.useRef({values:xr(f.initialValues),errors:xr(f.initialErrors)||ct,touched:xr(f.initialTouched)||Sr,status:xr(f.initialStatus),isSubmitting:!1,isValidating:!1,submitCount:0}),$=C.current,A=g.useCallback(function(h){var v=C.current;C.current=ap(v,h),v!==C.current&&H(function(w){return w+1})},[]),qe=g.useCallback(function(h,v){return new Promise(function(w,S){var T=f.validate(h,v);T==null?w(ct):gn(T)?T.then(function(I){w(I||ct)},function(I){S(I)}):w(T)})},[f.validate]),ve=g.useCallback(function(h,v){var w=f.validationSchema,S=ye(w)?w(v):w,T=v&&S.validateAt?S.validateAt(v,h):lp(h,S);return new Promise(function(I,J){T.then(function(){I(ct)},function(he){he.name==="ValidationError"?I(up(he)):J(he)})})},[f.validationSchema]),Ce=g.useCallback(function(h,v){return new Promise(function(w){return w(O.current[h].validate(v))})},[]),R=g.useCallback(function(h){var v=Object.keys(O.current).filter(function(S){return ye(O.current[S].validate)}),w=v.length>0?v.map(function(S){return Ce(S,me(h,S))}):[Promise.resolve("DO_NOT_DELETE_YOU_WILL_BE_FIRED")];return Promise.all(w).then(function(S){return S.reduce(function(T,I,J){return I==="DO_NOT_DELETE_YOU_WILL_BE_FIRED"||I&&(T=pt(T,v[J],I)),T},{})})},[Ce]),ee=g.useCallback(function(h){return Promise.all([R(h),f.validationSchema?ve(h):{},f.validate?qe(h):{}]).then(function(v){var w=v[0],S=v[1],T=v[2],I=An.all([w,S,T],{arrayMerge:cp});return I})},[f.validate,f.validationSchema,R,qe,ve]),K=Se(function(h){return h===void 0&&(h=$.values),A({type:"SET_ISVALIDATING",payload:!0}),ee(h).then(function(v){return x.current&&(A({type:"SET_ISVALIDATING",payload:!1}),A({type:"SET_ERRORS",payload:v})),v})});g.useEffect(function(){a&&x.current===!0&&ft(p.current,f.initialValues)&&K(p.current)},[a,K]);var _e=g.useCallback(function(h){var v=h&&h.values?h.values:p.current,w=h&&h.errors?h.errors:y.current?y.current:f.initialErrors||{},S=h&&h.touched?h.touched:_.current?_.current:f.initialTouched||{},T=h&&h.status?h.status:m.current?m.current:f.initialStatus;p.current=v,y.current=w,_.current=S,m.current=T;var I=function(){A({type:"RESET_FORM",payload:{isSubmitting:!!h&&!!h.isSubmitting,errors:w,touched:S,status:T,values:v,isValidating:!!h&&!!h.isValidating,submitCount:h&&h.submitCount&&typeof h.submitCount=="number"?h.submitCount:0}})};if(f.onReset){var J=f.onReset($.values,cr);gn(J)?J.then(I):I()}else I()},[f.initialErrors,f.initialStatus,f.initialTouched,f.onReset]);g.useEffect(function(){x.current===!0&&!ft(p.current,f.initialValues)&&l&&(p.current=f.initialValues,_e(),a&&K(p.current))},[l,f.initialValues,_e,a,K]),g.useEffect(function(){l&&x.current===!0&&!ft(y.current,f.initialErrors)&&(y.current=f.initialErrors||ct,A({type:"SET_ERRORS",payload:f.initialErrors||ct}))},[l,f.initialErrors]),g.useEffect(function(){l&&x.current===!0&&!ft(_.current,f.initialTouched)&&(_.current=f.initialTouched||Sr,A({type:"SET_TOUCHED",payload:f.initialTouched||Sr}))},[l,f.initialTouched]),g.useEffect(function(){l&&x.current===!0&&!ft(m.current,f.initialStatus)&&(m.current=f.initialStatus,A({type:"SET_STATUS",payload:f.initialStatus}))},[l,f.initialStatus,f.initialTouched]);var de=Se(function(h){if(O.current[h]&&ye(O.current[h].validate)){var v=me($.values,h),w=O.current[h].validate(v);return gn(w)?(A({type:"SET_ISVALIDATING",payload:!0}),w.then(function(S){return S}).then(function(S){A({type:"SET_FIELD_ERROR",payload:{field:h,value:S}}),A({type:"SET_ISVALIDATING",payload:!1})})):(A({type:"SET_FIELD_ERROR",payload:{field:h,value:w}}),Promise.resolve(w))}else if(f.validationSchema)return A({type:"SET_ISVALIDATING",payload:!0}),ve($.values,h).then(function(S){return S}).then(function(S){A({type:"SET_FIELD_ERROR",payload:{field:h,value:me(S,h)}}),A({type:"SET_ISVALIDATING",payload:!1})});return Promise.resolve()}),P=g.useCallback(function(h,v){var w=v.validate;O.current[h]={validate:w}},[]),ke=g.useCallback(function(h){delete O.current[h]},[]),we=Se(function(h,v){A({type:"SET_TOUCHED",payload:h});var w=v===void 0?s:v;return w?K($.values):Promise.resolve()}),ne=g.useCallback(function(h){A({type:"SET_ERRORS",payload:h})},[]),Ge=Se(function(h,v){var w=ye(h)?h($.values):h;A({type:"SET_VALUES",payload:w});var S=v===void 0?t:v;return S?K(w):Promise.resolve()}),F=g.useCallback(function(h,v){A({type:"SET_FIELD_ERROR",payload:{field:h,value:v}})},[]),D=Se(function(h,v,w){A({type:"SET_FIELD_VALUE",payload:{field:h,value:v}});var S=w===void 0?t:w;return S?K(pt($.values,h,v)):Promise.resolve()}),L=g.useCallback(function(h,v){var w=v,S=h,T;if(!pn(h)){h.persist&&h.persist();var I=h.target?h.target:h.currentTarget,J=I.type,he=I.name,Pe=I.id,Et=I.value,Je=I.checked;I.outerHTML;var hr=I.options,sn=I.multiple;w=v||he||Pe,S=/number|range/.test(J)?(T=parseFloat(Et),isNaN(T)?"":T):/checkbox/.test(J)?fp(me($.values,w),Je,Et):hr&&sn?dp(hr):Et}w&&D(w,S)},[D,$.values]),te=Se(function(h){if(pn(h))return function(v){return L(v,h)};L(h)}),se=Se(function(h,v,w){v===void 0&&(v=!0),A({type:"SET_FIELD_TOUCHED",payload:{field:h,value:v}});var S=w===void 0?s:w;return S?K($.values):Promise.resolve()}),B=g.useCallback(function(h,v){h.persist&&h.persist();var w=h.target,S=w.name,T=w.id;w.outerHTML;var I=v||S||T;se(I,!0)},[se]),Ne=Se(function(h){if(pn(h))return function(v){return B(v,h)};B(h)}),Le=g.useCallback(function(h){ye(h)?A({type:"SET_FORMIK_STATE",payload:h}):A({type:"SET_FORMIK_STATE",payload:function(){return h}})},[]),We=g.useCallback(function(h){A({type:"SET_STATUS",payload:h})},[]),Ke=g.useCallback(function(h){A({type:"SET_ISSUBMITTING",payload:h})},[]),Vt=Se(function(){return A({type:"SUBMIT_ATTEMPT"}),K().then(function(h){var v=h instanceof Error,w=!v&&Object.keys(h).length===0;if(w){var S;try{if(S=Ht(),S===void 0)return}catch(T){throw T}return Promise.resolve(S).then(function(T){return x.current&&A({type:"SUBMIT_SUCCESS"}),T}).catch(function(T){if(x.current)throw A({type:"SUBMIT_FAILURE"}),T})}else if(x.current&&(A({type:"SUBMIT_FAILURE"}),v))throw h})}),lr=Se(function(h){h&&h.preventDefault&&ye(h.preventDefault)&&h.preventDefault(),h&&h.stopPropagation&&ye(h.stopPropagation)&&h.stopPropagation(),Vt().catch(function(v){console.warn("Warning: An unhandled error was caught from submitForm()",v)})}),cr={resetForm:_e,validateForm:K,validateField:de,setErrors:ne,setFieldError:F,setFieldTouched:se,setFieldValue:D,setStatus:We,setSubmitting:Ke,setTouched:we,setValues:Ge,setFormikState:Le,submitForm:Vt},Ht=Se(function(){return d($.values,cr)}),tn=Se(function(h){h&&h.preventDefault&&ye(h.preventDefault)&&h.preventDefault(),h&&h.stopPropagation&&ye(h.stopPropagation)&&h.stopPropagation(),_e()}),dr=g.useCallback(function(h){return{value:me($.values,h),error:me($.errors,h),touched:!!me($.touched,h),initialValue:me(p.current,h),initialTouched:!!me(_.current,h),initialError:me(y.current,h)}},[$.errors,$.touched,$.values]),ot=g.useCallback(function(h){return{setValue:function(w,S){return D(h,w,S)},setTouched:function(w,S){return se(h,w,S)},setError:function(w){return F(h,w)}}},[D,se,F]),fr=g.useCallback(function(h){var v=or(h),w=v?h.name:h,S=me($.values,w),T={name:w,value:S,onChange:te,onBlur:Ne};if(v){var I=h.type,J=h.value,he=h.as,Pe=h.multiple;I==="checkbox"?J===void 0?T.checked=!!S:(T.checked=!!(Array.isArray(S)&&~S.indexOf(J)),T.value=J):I==="radio"?(T.checked=S===J,T.value=J):he==="select"&&Pe&&(T.value=T.value||[],T.multiple=!0)}return T},[Ne,te,$.values]),fe=g.useMemo(function(){return!ft(p.current,$.values)},[p.current,$.values]),rn=g.useMemo(function(){return typeof o<"u"?fe?$.errors&&Object.keys($.errors).length===0:o!==!1&&ye(o)?o(f):o:$.errors&&Object.keys($.errors).length===0},[o,fe,$.errors,f]),nn=V({},$,{initialValues:p.current,initialErrors:y.current,initialTouched:_.current,initialStatus:m.current,handleBlur:Ne,handleChange:te,handleReset:tn,handleSubmit:lr,resetForm:_e,setErrors:ne,setFormikState:Le,setFieldTouched:se,setFieldValue:D,setFieldError:F,setStatus:We,setSubmitting:Ke,setTouched:we,setValues:Ge,submitForm:Vt,validateForm:K,validateField:de,isValid:rn,dirty:fe,unregisterField:ke,registerField:P,getFieldProps:fr,getFieldMeta:dr,getFieldHelpers:ot,validateOnBlur:s,validateOnChange:t,validateOnMount:a});return nn}function zg(r){var e=op(r),t=r.component,n=r.children,s=r.render,i=r.innerRef;return g.useImperativeHandle(i,function(){return e}),g.createElement(np,{value:e},t?g.createElement(t,e):s?s(e):n?ye(n)?n(e):ip(n)?null:g.Children.only(n):null)}function up(r){var e={};if(r.inner){if(r.inner.length===0)return pt(e,r.path,r.message);for(var s=r.inner,t=Array.isArray(s),n=0,s=t?s:s[Symbol.iterator]();;){var i;if(t){if(n>=s.length)break;i=s[n++]}else{if(n=s.next(),n.done)break;i=n.value}var a=i;me(e,a.path)||(e=pt(e,a.path,a.message))}}return e}function lp(r,e,t,n){t===void 0&&(t=!1);var s=Fn(r);return e[t?"validateSync":"validate"](s,{abortEarly:!1,context:s})}function Fn(r){var e=Array.isArray(r)?[]:{};for(var t in r)if(Object.prototype.hasOwnProperty.call(r,t)){var n=String(t);Array.isArray(r[n])===!0?e[n]=r[n].map(function(s){return Array.isArray(s)===!0||Ds(s)?Fn(s):s!==""?s:void 0}):Ds(r[n])?e[n]=Fn(r[n]):e[n]=r[n]!==""?r[n]:void 0}return e}function cp(r,e,t){var n=r.slice();return e.forEach(function(i,a){if(typeof n[a]>"u"){var o=t.clone!==!1,u=o&&t.isMergeableObject(i);n[a]=u?An(Array.isArray(i)?[]:{},i,t):i}else t.isMergeableObject(i)?n[a]=An(r[a],i,t):r.indexOf(i)===-1&&n.push(i)}),n}function dp(r){return Array.from(r).filter(function(e){return e.selected}).map(function(e){return e.value})}function fp(r,e,t){if(typeof r=="boolean")return!!e;var n=[],s=!1,i=-1;if(Array.isArray(r))n=r,i=r.indexOf(t),s=i>=0;else if(!t||t=="true"||t=="false")return!!e;return e&&t&&!s?n.concat(t):s?n.slice(0,i).concat(n.slice(i+1)):n}var hp=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u"?g.useLayoutEffect:g.useEffect;function Se(r){var e=g.useRef(r);return hp(function(){e.current=r}),g.useCallback(function(){for(var t=arguments.length,n=new Array(t),s=0;s<t;s++)n[s]=arguments[s];return e.current.apply(void 0,n)},[])}function Vg(r){var e=ns(),t=e.getFieldProps,n=e.getFieldMeta,s=e.getFieldHelpers,i=e.registerField,a=e.unregisterField,o=or(r),u=o?r:{name:r},l=u.name,d=u.validate;g.useEffect(function(){return l&&i(l,{validate:d}),function(){l&&a(l)}},[i,a,l,d]);var c=g.useMemo(function(){return s(l)},[s,l]);return[t(u),n(l),c]}function pp(r){var e=r.validate,t=r.name,n=r.render,s=r.children,i=r.as,a=r.component,o=r.className,u=Rt(r,["validate","name","render","children","as","component","className"]),l=ns(),d=Rt(l,["validate","validationSchema"]),c=d.registerField,f=d.unregisterField;g.useEffect(function(){return c(t,{validate:e}),function(){f(t)}},[c,f,t,e]);var p=d.getFieldProps(V({name:t},u)),y=d.getFieldMeta(t),_={field:p,form:d};if(n)return n(V({},_,{meta:y}));if(ye(s))return s(V({},_,{meta:y}));if(a){if(typeof a=="string"){var m=u.innerRef,x=Rt(u,["innerRef"]);return g.createElement(a,V({ref:m},p,x,{className:o}),s)}return g.createElement(a,V({field:p,form:d},u,{className:o}),s)}var O=i||"input";if(typeof O=="string"){var q=u.innerRef,H=Rt(u,["innerRef"]);return g.createElement(O,V({ref:q},p,H,{className:o}),s)}return g.createElement(O,V({},p,u,{className:o}),s)}var gp=g.forwardRef(function(r,e){var t=r.action,n=Rt(r,["action"]),s=t??"#",i=ns(),a=i.handleReset,o=i.handleSubmit;return g.createElement("form",V({onSubmit:o,ref:e,onReset:a,action:s},n))});gp.displayName="Form";function St(r){this._maxSize=r,this.clear()}St.prototype.clear=function(){this._size=0,this._values=Object.create(null)};St.prototype.get=function(r){return this._values[r]};St.prototype.set=function(r,e){return this._size>=this._maxSize&&this.clear(),r in this._values||this._size++,this._values[r]=e};var mp=/[^.^\]^[]+|(?=\[\]|\.\.)/g,ka=/^\d+$/,yp=/^\d/,bp=/[~`!#$%\^&*+=\-\[\]\\';,/{}|\\":<>\?]/g,vp=/^\s*(['"]?)(.*?)(\1)\s*$/,ss=512,li=new St(ss),ci=new St(ss),di=new St(ss),gt={Cache:St,split:Dn,normalizePath:mn,setter:function(r){var e=mn(r);return ci.get(r)||ci.set(r,function(n,s){for(var i=0,a=e.length,o=n;i<a-1;){var u=e[i];if(u==="__proto__"||u==="constructor"||u==="prototype")return n;o=o[e[i++]]}o[e[i]]=s})},getter:function(r,e){var t=mn(r);return di.get(r)||di.set(r,function(s){for(var i=0,a=t.length;i<a;)if(s!=null||!e)s=s[t[i++]];else return;return s})},join:function(r){return r.reduce(function(e,t){return e+(is(t)||ka.test(t)?"["+t+"]":(e?".":"")+t)},"")},forEach:function(r,e,t){_p(Array.isArray(r)?r:Dn(r),e,t)}};function mn(r){return li.get(r)||li.set(r,Dn(r).map(function(e){return e.replace(vp,"$2")}))}function Dn(r){return r.match(mp)||[""]}function _p(r,e,t){var n=r.length,s,i,a,o;for(i=0;i<n;i++)s=r[i],s&&(Sp(s)&&(s='"'+s+'"'),o=is(s),a=!o&&/^\d+$/.test(s),e.call(t,s,o,a,i,r))}function is(r){return typeof r=="string"&&r&&["'",'"'].indexOf(r.charAt(0))!==-1}function wp(r){return r.match(yp)&&!r.match(ka)}function xp(r){return bp.test(r)}function Sp(r){return!is(r)&&(wp(r)||xp(r))}const Tp=/[A-Z\xc0-\xd6\xd8-\xde]?[a-z\xdf-\xf6\xf8-\xff]+(?:['](?:d|ll|m|re|s|t|ve))?(?=[\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000]|[A-Z\xc0-\xd6\xd8-\xde]|$)|(?:[A-Z\xc0-\xd6\xd8-\xde]|[^\ud800-\udfff\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\d+\u2700-\u27bfa-z\xdf-\xf6\xf8-\xffA-Z\xc0-\xd6\xd8-\xde])+(?:['](?:D|LL|M|RE|S|T|VE))?(?=[\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000]|[A-Z\xc0-\xd6\xd8-\xde](?:[a-z\xdf-\xf6\xf8-\xff]|[^\ud800-\udfff\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\d+\u2700-\u27bfa-z\xdf-\xf6\xf8-\xffA-Z\xc0-\xd6\xd8-\xde])|$)|[A-Z\xc0-\xd6\xd8-\xde]?(?:[a-z\xdf-\xf6\xf8-\xff]|[^\ud800-\udfff\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\d+\u2700-\u27bfa-z\xdf-\xf6\xf8-\xffA-Z\xc0-\xd6\xd8-\xde])+(?:['](?:d|ll|m|re|s|t|ve))?|[A-Z\xc0-\xd6\xd8-\xde]+(?:['](?:D|LL|M|RE|S|T|VE))?|\d*(?:1ST|2ND|3RD|(?![123])\dTH)(?=\b|[a-z_])|\d*(?:1st|2nd|3rd|(?![123])\dth)(?=\b|[A-Z_])|\d+|(?:[\u2700-\u27bf]|(?:\ud83c[\udde6-\uddff]){2}|[\ud800-\udbff][\udc00-\udfff])[\ufe0e\ufe0f]?(?:[\u0300-\u036f\ufe20-\ufe2f\u20d0-\u20ff]|\ud83c[\udffb-\udfff])?(?:\u200d(?:[^\ud800-\udfff]|(?:\ud83c[\udde6-\uddff]){2}|[\ud800-\udbff][\udc00-\udfff])[\ufe0e\ufe0f]?(?:[\u0300-\u036f\ufe20-\ufe2f\u20d0-\u20ff]|\ud83c[\udffb-\udfff])?)*/g,Qr=r=>r.match(Tp)||[],en=r=>r[0].toUpperCase()+r.slice(1),as=(r,e)=>Qr(r).join(e).toLowerCase(),$a=r=>Qr(r).reduce((e,t)=>`${e}${e?t[0].toUpperCase()+t.slice(1).toLowerCase():t.toLowerCase()}`,""),Ep=r=>en($a(r)),kp=r=>as(r,"_"),$p=r=>as(r,"-"),Op=r=>en(as(r," ")),Ap=r=>Qr(r).map(en).join(" ");var yn={words:Qr,upperFirst:en,camelCase:$a,pascalCase:Ep,snakeCase:kp,kebabCase:$p,sentenceCase:Op,titleCase:Ap},os={exports:{}};os.exports=function(r){return Oa(jp(r),r)};os.exports.array=Oa;function Oa(r,e){var t=r.length,n=new Array(t),s={},i=t,a=Cp(e),o=Pp(r);for(e.forEach(function(l){if(!o.has(l[0])||!o.has(l[1]))throw new Error("Unknown node. There is an unknown node in the supplied edges.")});i--;)s[i]||u(r[i],i,new Set);return n;function u(l,d,c){if(c.has(l)){var f;try{f=", node was:"+JSON.stringify(l)}catch{f=""}throw new Error("Cyclic dependency"+f)}if(!o.has(l))throw new Error("Found unknown node. Make sure to provided all involved nodes. Unknown node: "+JSON.stringify(l));if(!s[d]){s[d]=!0;var p=a.get(l)||new Set;if(p=Array.from(p),d=p.length){c.add(l);do{var y=p[--d];u(y,o.get(y),c)}while(d);c.delete(l)}n[--t]=l}}}function jp(r){for(var e=new Set,t=0,n=r.length;t<n;t++){var s=r[t];e.add(s[0]),e.add(s[1])}return Array.from(e)}function Cp(r){for(var e=new Map,t=0,n=r.length;t<n;t++){var s=r[t];e.has(s[0])||e.set(s[0],new Set),e.has(s[1])||e.set(s[1],new Set),e.get(s[0]).add(s[1])}return e}function Pp(r){for(var e=new Map,t=0,n=r.length;t<n;t++)e.set(r[t],t);return e}var Rp=os.exports;const Ip=bi(Rp),Fp=Object.prototype.toString,Dp=Error.prototype.toString,Np=RegExp.prototype.toString,Lp=typeof Symbol<"u"?Symbol.prototype.toString:()=>"",Mp=/^Symbol\((.*)\)(.*)$/;function Up(r){return r!=+r?"NaN":r===0&&1/r<0?"-0":""+r}function fi(r,e=!1){if(r==null||r===!0||r===!1)return""+r;const t=typeof r;if(t==="number")return Up(r);if(t==="string")return e?`"${r}"`:r;if(t==="function")return"[Function "+(r.name||"anonymous")+"]";if(t==="symbol")return Lp.call(r).replace(Mp,"Symbol($1)");const n=Fp.call(r).slice(8,-1);return n==="Date"?isNaN(r.getTime())?""+r:r.toISOString(r):n==="Error"||r instanceof Error?"["+Dp.call(r)+"]":n==="RegExp"?Np.call(r):null}function st(r,e){let t=fi(r,e);return t!==null?t:JSON.stringify(r,function(n,s){let i=fi(this[n],e);return i!==null?i:s},2)}function Aa(r){return r==null?[]:[].concat(r)}let ja,Ca,Pa,Bp=/\$\{\s*(\w+)\s*\}/g;ja=Symbol.toStringTag;class hi{constructor(e,t,n,s){this.name=void 0,this.message=void 0,this.value=void 0,this.path=void 0,this.type=void 0,this.params=void 0,this.errors=void 0,this.inner=void 0,this[ja]="Error",this.name="ValidationError",this.value=t,this.path=n,this.type=s,this.errors=[],this.inner=[],Aa(e).forEach(i=>{if(ce.isError(i)){this.errors.push(...i.errors);const a=i.inner.length?i.inner:[i];this.inner.push(...a)}else this.errors.push(i)}),this.message=this.errors.length>1?`${this.errors.length} errors occurred`:this.errors[0]}}Ca=Symbol.hasInstance;Pa=Symbol.toStringTag;class ce extends Error{static formatError(e,t){const n=t.label||t.path||"this";return t=Object.assign({},t,{path:n,originalPath:t.path}),typeof e=="string"?e.replace(Bp,(s,i)=>st(t[i])):typeof e=="function"?e(t):e}static isError(e){return e&&e.name==="ValidationError"}constructor(e,t,n,s,i){const a=new hi(e,t,n,s);if(i)return a;super(),this.value=void 0,this.path=void 0,this.type=void 0,this.params=void 0,this.errors=[],this.inner=[],this[Pa]="Error",this.name=a.name,this.message=a.message,this.type=a.type,this.value=a.value,this.path=a.path,this.errors=a.errors,this.inner=a.inner,Error.captureStackTrace&&Error.captureStackTrace(this,ce)}static[Ca](e){return hi[Symbol.hasInstance](e)||super[Symbol.hasInstance](e)}}let Fe={default:"${path} is invalid",required:"${path} is a required field",defined:"${path} must be defined",notNull:"${path} cannot be null",oneOf:"${path} must be one of the following values: ${values}",notOneOf:"${path} must not be one of the following values: ${values}",notType:({path:r,type:e,value:t,originalValue:n})=>{const s=n!=null&&n!==t?` (cast from the value \`${st(n,!0)}\`).`:".";return e!=="mixed"?`${r} must be a \`${e}\` type, but the final value was: \`${st(t,!0)}\``+s:`${r} must match the configured type. The validated value was: \`${st(t,!0)}\``+s}},ae={length:"${path} must be exactly ${length} characters",min:"${path} must be at least ${min} characters",max:"${path} must be at most ${max} characters",matches:'${path} must match the following: "${regex}"',email:"${path} must be a valid email",url:"${path} must be a valid URL",uuid:"${path} must be a valid UUID",datetime:"${path} must be a valid ISO date-time",datetime_precision:"${path} must be a valid ISO date-time with a sub-second precision of exactly ${precision} digits",datetime_offset:'${path} must be a valid ISO date-time with UTC "Z" timezone',trim:"${path} must be a trimmed string",lowercase:"${path} must be a lowercase string",uppercase:"${path} must be a upper case string"},Qe={min:"${path} must be greater than or equal to ${min}",max:"${path} must be less than or equal to ${max}",lessThan:"${path} must be less than ${less}",moreThan:"${path} must be greater than ${more}",positive:"${path} must be a positive number",negative:"${path} must be a negative number",integer:"${path} must be an integer"},Nn={min:"${path} field must be later than ${min}",max:"${path} field must be at earlier than ${max}"},Ln={isValue:"${path} field must be ${value}"},kr={noUnknown:"${path} field has unspecified keys: ${unknown}",exact:"${path} object contains unknown properties: ${properties}"},zp={min:"${path} field must have at least ${min} items",max:"${path} field must have less than or equal to ${max} items",length:"${path} must have ${length} items"},Vp={notType:r=>{const{path:e,value:t,spec:n}=r,s=n.types.length;if(Array.isArray(t)){if(t.length<s)return`${e} tuple value has too few items, expected a length of ${s} but got ${t.length} for value: \`${st(t,!0)}\``;if(t.length>s)return`${e} tuple value has too many items, expected a length of ${s} but got ${t.length} for value: \`${st(t,!0)}\``}return ce.formatError(Fe.notType,r)}};Object.assign(Object.create(null),{mixed:Fe,string:ae,number:Qe,date:Nn,object:kr,array:zp,boolean:Ln,tuple:Vp});const us=r=>r&&r.__isYupSchema__;class jr{static fromOptions(e,t){if(!t.then&&!t.otherwise)throw new TypeError("either `then:` or `otherwise:` is required for `when()` conditions");let{is:n,then:s,otherwise:i}=t,a=typeof n=="function"?n:(...o)=>o.every(u=>u===n);return new jr(e,(o,u)=>{var l;let d=a(...o)?s:i;return(l=d==null?void 0:d(u))!=null?l:u})}constructor(e,t){this.fn=void 0,this.refs=e,this.refs=e,this.fn=t}resolve(e,t){let n=this.refs.map(i=>i.getValue(t==null?void 0:t.value,t==null?void 0:t.parent,t==null?void 0:t.context)),s=this.fn(n,e,t);if(s===void 0||s===e)return e;if(!us(s))throw new TypeError("conditions must return a schema object");return s.resolve(t)}}const Tr={context:"$",value:"."};class Tt{constructor(e,t={}){if(this.key=void 0,this.isContext=void 0,this.isValue=void 0,this.isSibling=void 0,this.path=void 0,this.getter=void 0,this.map=void 0,typeof e!="string")throw new TypeError("ref must be a string, got: "+e);if(this.key=e.trim(),e==="")throw new TypeError("ref must be a non-empty string");this.isContext=this.key[0]===Tr.context,this.isValue=this.key[0]===Tr.value,this.isSibling=!this.isContext&&!this.isValue;let n=this.isContext?Tr.context:this.isValue?Tr.value:"";this.path=this.key.slice(n.length),this.getter=this.path&&gt.getter(this.path,!0),this.map=t.map}getValue(e,t,n){let s=this.isContext?n:this.isValue?e:t;return this.getter&&(s=this.getter(s||{})),this.map&&(s=this.map(s)),s}cast(e,t){return this.getValue(e,t==null?void 0:t.parent,t==null?void 0:t.context)}resolve(){return this}describe(){return{type:"ref",key:this.key}}toString(){return`Ref(${this.key})`}static isRef(e){return e&&e.__isYupRef}}Tt.prototype.__isYupRef=!0;const je=r=>r==null;function Pt(r){function e({value:t,path:n="",options:s,originalValue:i,schema:a},o,u){const{name:l,test:d,params:c,message:f,skipAbsent:p}=r;let{parent:y,context:_,abortEarly:m=a.spec.abortEarly,disableStackTrace:x=a.spec.disableStackTrace}=s;function O(R){return Tt.isRef(R)?R.getValue(t,y,_):R}function q(R={}){const ee=Object.assign({value:t,originalValue:i,label:a.spec.label,path:R.path||n,spec:a.spec,disableStackTrace:R.disableStackTrace||x},c,R.params);for(const _e of Object.keys(ee))ee[_e]=O(ee[_e]);const K=new ce(ce.formatError(R.message||f,ee),t,ee.path,R.type||l,ee.disableStackTrace);return K.params=ee,K}const H=m?o:u;let C={path:n,parent:y,type:l,from:s.from,createError:q,resolve:O,options:s,originalValue:i,schema:a};const $=R=>{ce.isError(R)?H(R):R?u(null):H(q())},A=R=>{ce.isError(R)?H(R):o(R)};if(p&&je(t))return $(!0);let ve;try{var Ce;if(ve=d.call(C,t,C),typeof((Ce=ve)==null?void 0:Ce.then)=="function"){if(s.sync)throw new Error(`Validation test of type: "${C.type}" returned a Promise during a synchronous validate. This test will finish after the validate call has returned`);return Promise.resolve(ve).then($,A)}}catch(R){A(R);return}$(ve)}return e.OPTIONS=r,e}function Hp(r,e,t,n=t){let s,i,a;return e?(gt.forEach(e,(o,u,l)=>{let d=u?o.slice(1,o.length-1):o;r=r.resolve({context:n,parent:s,value:t});let c=r.type==="tuple",f=l?parseInt(d,10):0;if(r.innerType||c){if(c&&!l)throw new Error(`Yup.reach cannot implicitly index into a tuple type. the path part "${a}" must contain an index to the tuple element, e.g. "${a}[0]"`);if(t&&f>=t.length)throw new Error(`Yup.reach cannot resolve an array item at index: ${o}, in the path: ${e}. because there is no value at that index. `);s=t,t=t&&t[f],r=c?r.spec.types[f]:r.innerType}if(!l){if(!r.fields||!r.fields[d])throw new Error(`The schema does not contain the path: ${e}. (failed at: ${a} which is a type: "${r.type}")`);s=t,t=t&&t[d],r=r.fields[d]}i=d,a=u?"["+o+"]":"."+o}),{schema:r,parent:s,parentPath:i}):{parent:s,parentPath:e,schema:r}}class Cr extends Set{describe(){const e=[];for(const t of this.values())e.push(Tt.isRef(t)?t.describe():t);return e}resolveAll(e){let t=[];for(const n of this.values())t.push(e(n));return t}clone(){return new Cr(this.values())}merge(e,t){const n=this.clone();return e.forEach(s=>n.add(s)),t.forEach(s=>n.delete(s)),n}}function It(r,e=new Map){if(us(r)||!r||typeof r!="object")return r;if(e.has(r))return e.get(r);let t;if(r instanceof Date)t=new Date(r.getTime()),e.set(r,t);else if(r instanceof RegExp)t=new RegExp(r),e.set(r,t);else if(Array.isArray(r)){t=new Array(r.length),e.set(r,t);for(let n=0;n<r.length;n++)t[n]=It(r[n],e)}else if(r instanceof Map){t=new Map,e.set(r,t);for(const[n,s]of r.entries())t.set(n,It(s,e))}else if(r instanceof Set){t=new Set,e.set(r,t);for(const n of r)t.add(It(n,e))}else if(r instanceof Object){t={},e.set(r,t);for(const[n,s]of Object.entries(r))t[n]=It(s,e)}else throw Error(`Unable to clone ${r}`);return t}class Ee{constructor(e){this.type=void 0,this.deps=[],this.tests=void 0,this.transforms=void 0,this.conditions=[],this._mutate=void 0,this.internalTests={},this._whitelist=new Cr,this._blacklist=new Cr,this.exclusiveTests=Object.create(null),this._typeCheck=void 0,this.spec=void 0,this.tests=[],this.transforms=[],this.withMutation(()=>{this.typeError(Fe.notType)}),this.type=e.type,this._typeCheck=e.check,this.spec=Object.assign({strip:!1,strict:!1,abortEarly:!0,recursive:!0,disableStackTrace:!1,nullable:!1,optional:!0,coerce:!0},e==null?void 0:e.spec),this.withMutation(t=>{t.nonNullable()})}get _type(){return this.type}clone(e){if(this._mutate)return e&&Object.assign(this.spec,e),this;const t=Object.create(Object.getPrototypeOf(this));return t.type=this.type,t._typeCheck=this._typeCheck,t._whitelist=this._whitelist.clone(),t._blacklist=this._blacklist.clone(),t.internalTests=Object.assign({},this.internalTests),t.exclusiveTests=Object.assign({},this.exclusiveTests),t.deps=[...this.deps],t.conditions=[...this.conditions],t.tests=[...this.tests],t.transforms=[...this.transforms],t.spec=It(Object.assign({},this.spec,e)),t}label(e){let t=this.clone();return t.spec.label=e,t}meta(...e){if(e.length===0)return this.spec.meta;let t=this.clone();return t.spec.meta=Object.assign(t.spec.meta||{},e[0]),t}withMutation(e){let t=this._mutate;this._mutate=!0;let n=e(this);return this._mutate=t,n}concat(e){if(!e||e===this)return this;if(e.type!==this.type&&this.type!=="mixed")throw new TypeError(`You cannot \`concat()\` schema's of different types: ${this.type} and ${e.type}`);let t=this,n=e.clone();const s=Object.assign({},t.spec,n.spec);return n.spec=s,n.internalTests=Object.assign({},t.internalTests,n.internalTests),n._whitelist=t._whitelist.merge(e._whitelist,e._blacklist),n._blacklist=t._blacklist.merge(e._blacklist,e._whitelist),n.tests=t.tests,n.exclusiveTests=t.exclusiveTests,n.withMutation(i=>{e.tests.forEach(a=>{i.test(a.OPTIONS)})}),n.transforms=[...t.transforms,...n.transforms],n}isType(e){return e==null?!!(this.spec.nullable&&e===null||this.spec.optional&&e===void 0):this._typeCheck(e)}resolve(e){let t=this;if(t.conditions.length){let n=t.conditions;t=t.clone(),t.conditions=[],t=n.reduce((s,i)=>i.resolve(s,e),t),t=t.resolve(e)}return t}resolveOptions(e){var t,n,s,i;return Object.assign({},e,{from:e.from||[],strict:(t=e.strict)!=null?t:this.spec.strict,abortEarly:(n=e.abortEarly)!=null?n:this.spec.abortEarly,recursive:(s=e.recursive)!=null?s:this.spec.recursive,disableStackTrace:(i=e.disableStackTrace)!=null?i:this.spec.disableStackTrace})}cast(e,t={}){let n=this.resolve(Object.assign({value:e},t)),s=t.assert==="ignore-optionality",i=n._cast(e,t);if(t.assert!==!1&&!n.isType(i)){if(s&&je(i))return i;let a=st(e),o=st(i);throw new TypeError(`The value of ${t.path||"field"} could not be cast to a value that satisfies the schema type: "${n.type}". 

attempted value: ${a} 
`+(o!==a?`result of cast: ${o}`:""))}return i}_cast(e,t){let n=e===void 0?e:this.transforms.reduce((s,i)=>i.call(this,s,e,this),e);return n===void 0&&(n=this.getDefault(t)),n}_validate(e,t={},n,s){let{path:i,originalValue:a=e,strict:o=this.spec.strict}=t,u=e;o||(u=this._cast(u,Object.assign({assert:!1},t)));let l=[];for(let d of Object.values(this.internalTests))d&&l.push(d);this.runTests({path:i,value:u,originalValue:a,options:t,tests:l},n,d=>{if(d.length)return s(d,u);this.runTests({path:i,value:u,originalValue:a,options:t,tests:this.tests},n,s)})}runTests(e,t,n){let s=!1,{tests:i,value:a,originalValue:o,path:u,options:l}=e,d=_=>{s||(s=!0,t(_,a))},c=_=>{s||(s=!0,n(_,a))},f=i.length,p=[];if(!f)return c([]);let y={value:a,originalValue:o,path:u,options:l,schema:this};for(let _=0;_<i.length;_++){const m=i[_];m(y,d,function(O){O&&(Array.isArray(O)?p.push(...O):p.push(O)),--f<=0&&c(p)})}}asNestedTest({key:e,index:t,parent:n,parentPath:s,originalParent:i,options:a}){const o=e??t;if(o==null)throw TypeError("Must include `key` or `index` for nested validations");const u=typeof o=="number";let l=n[o];const d=Object.assign({},a,{strict:!0,parent:n,value:l,originalValue:i[o],key:void 0,[u?"index":"key"]:o,path:u||o.includes(".")?`${s||""}[${u?o:`"${o}"`}]`:(s?`${s}.`:"")+e});return(c,f,p)=>this.resolve(d)._validate(l,d,f,p)}validate(e,t){var n;let s=this.resolve(Object.assign({},t,{value:e})),i=(n=t==null?void 0:t.disableStackTrace)!=null?n:s.spec.disableStackTrace;return new Promise((a,o)=>s._validate(e,t,(u,l)=>{ce.isError(u)&&(u.value=l),o(u)},(u,l)=>{u.length?o(new ce(u,l,void 0,void 0,i)):a(l)}))}validateSync(e,t){var n;let s=this.resolve(Object.assign({},t,{value:e})),i,a=(n=t==null?void 0:t.disableStackTrace)!=null?n:s.spec.disableStackTrace;return s._validate(e,Object.assign({},t,{sync:!0}),(o,u)=>{throw ce.isError(o)&&(o.value=u),o},(o,u)=>{if(o.length)throw new ce(o,e,void 0,void 0,a);i=u}),i}isValid(e,t){return this.validate(e,t).then(()=>!0,n=>{if(ce.isError(n))return!1;throw n})}isValidSync(e,t){try{return this.validateSync(e,t),!0}catch(n){if(ce.isError(n))return!1;throw n}}_getDefault(e){let t=this.spec.default;return t==null?t:typeof t=="function"?t.call(this,e):It(t)}getDefault(e){return this.resolve(e||{})._getDefault(e)}default(e){return arguments.length===0?this._getDefault():this.clone({default:e})}strict(e=!0){return this.clone({strict:e})}nullability(e,t){const n=this.clone({nullable:e});return n.internalTests.nullable=Pt({message:t,name:"nullable",test(s){return s===null?this.schema.spec.nullable:!0}}),n}optionality(e,t){const n=this.clone({optional:e});return n.internalTests.optionality=Pt({message:t,name:"optionality",test(s){return s===void 0?this.schema.spec.optional:!0}}),n}optional(){return this.optionality(!0)}defined(e=Fe.defined){return this.optionality(!1,e)}nullable(){return this.nullability(!0)}nonNullable(e=Fe.notNull){return this.nullability(!1,e)}required(e=Fe.required){return this.clone().withMutation(t=>t.nonNullable(e).defined(e))}notRequired(){return this.clone().withMutation(e=>e.nullable().optional())}transform(e){let t=this.clone();return t.transforms.push(e),t}test(...e){let t;if(e.length===1?typeof e[0]=="function"?t={test:e[0]}:t=e[0]:e.length===2?t={name:e[0],test:e[1]}:t={name:e[0],message:e[1],test:e[2]},t.message===void 0&&(t.message=Fe.default),typeof t.test!="function")throw new TypeError("`test` is a required parameters");let n=this.clone(),s=Pt(t),i=t.exclusive||t.name&&n.exclusiveTests[t.name]===!0;if(t.exclusive&&!t.name)throw new TypeError("Exclusive tests must provide a unique `name` identifying the test");return t.name&&(n.exclusiveTests[t.name]=!!t.exclusive),n.tests=n.tests.filter(a=>!(a.OPTIONS.name===t.name&&(i||a.OPTIONS.test===s.OPTIONS.test))),n.tests.push(s),n}when(e,t){!Array.isArray(e)&&typeof e!="string"&&(t=e,e=".");let n=this.clone(),s=Aa(e).map(i=>new Tt(i));return s.forEach(i=>{i.isSibling&&n.deps.push(i.key)}),n.conditions.push(typeof t=="function"?new jr(s,t):jr.fromOptions(s,t)),n}typeError(e){let t=this.clone();return t.internalTests.typeError=Pt({message:e,name:"typeError",skipAbsent:!0,test(n){return this.schema._typeCheck(n)?!0:this.createError({params:{type:this.schema.type}})}}),t}oneOf(e,t=Fe.oneOf){let n=this.clone();return e.forEach(s=>{n._whitelist.add(s),n._blacklist.delete(s)}),n.internalTests.whiteList=Pt({message:t,name:"oneOf",skipAbsent:!0,test(s){let i=this.schema._whitelist,a=i.resolveAll(this.resolve);return a.includes(s)?!0:this.createError({params:{values:Array.from(i).join(", "),resolved:a}})}}),n}notOneOf(e,t=Fe.notOneOf){let n=this.clone();return e.forEach(s=>{n._blacklist.add(s),n._whitelist.delete(s)}),n.internalTests.blacklist=Pt({message:t,name:"notOneOf",test(s){let i=this.schema._blacklist,a=i.resolveAll(this.resolve);return a.includes(s)?this.createError({params:{values:Array.from(i).join(", "),resolved:a}}):!0}}),n}strip(e=!0){let t=this.clone();return t.spec.strip=e,t}describe(e){const t=(e?this.resolve(e):this).clone(),{label:n,meta:s,optional:i,nullable:a}=t.spec;return{meta:s,label:n,optional:i,nullable:a,default:t.getDefault(e),type:t.type,oneOf:t._whitelist.describe(),notOneOf:t._blacklist.describe(),tests:t.tests.map(u=>({name:u.OPTIONS.name,params:u.OPTIONS.params})).filter((u,l,d)=>d.findIndex(c=>c.name===u.name)===l)}}}Ee.prototype.__isYupSchema__=!0;for(const r of["validate","validateSync"])Ee.prototype[`${r}At`]=function(e,t,n={}){const{parent:s,parentPath:i,schema:a}=Hp(this,e,t,n.context);return a[r](s&&s[i],Object.assign({},n,{parent:s,path:e}))};for(const r of["equals","is"])Ee.prototype[r]=Ee.prototype.oneOf;for(const r of["not","nope"])Ee.prototype[r]=Ee.prototype.notOneOf;function qp(){return new Ra}class Ra extends Ee{constructor(){super({type:"boolean",check(e){return e instanceof Boolean&&(e=e.valueOf()),typeof e=="boolean"}}),this.withMutation(()=>{this.transform((e,t,n)=>{if(n.spec.coerce&&!n.isType(e)){if(/^(true|1)$/i.test(String(e)))return!0;if(/^(false|0)$/i.test(String(e)))return!1}return e})})}isTrue(e=Ln.isValue){return this.test({message:e,name:"is-value",exclusive:!0,params:{value:"true"},test(t){return je(t)||t===!0}})}isFalse(e=Ln.isValue){return this.test({message:e,name:"is-value",exclusive:!0,params:{value:"false"},test(t){return je(t)||t===!1}})}default(e){return super.default(e)}defined(e){return super.defined(e)}optional(){return super.optional()}required(e){return super.required(e)}notRequired(){return super.notRequired()}nullable(){return super.nullable()}nonNullable(e){return super.nonNullable(e)}strip(e){return super.strip(e)}}qp.prototype=Ra.prototype;const Gp=/^(\d{4}|[+-]\d{6})(?:-?(\d{2})(?:-?(\d{2}))?)?(?:[ T]?(\d{2}):?(\d{2})(?::?(\d{2})(?:[,.](\d{1,}))?)?(?:(Z)|([+-])(\d{2})(?::?(\d{2}))?)?)?$/;function Wp(r){const e=Mn(r);if(!e)return Date.parse?Date.parse(r):Number.NaN;if(e.z===void 0&&e.plusMinus===void 0)return new Date(e.year,e.month,e.day,e.hour,e.minute,e.second,e.millisecond).valueOf();let t=0;return e.z!=="Z"&&e.plusMinus!==void 0&&(t=e.hourOffset*60+e.minuteOffset,e.plusMinus==="+"&&(t=0-t)),Date.UTC(e.year,e.month,e.day,e.hour,e.minute+t,e.second,e.millisecond)}function Mn(r){var e,t;const n=Gp.exec(r);return n?{year:Me(n[1]),month:Me(n[2],1)-1,day:Me(n[3],1),hour:Me(n[4]),minute:Me(n[5]),second:Me(n[6]),millisecond:n[7]?Me(n[7].substring(0,3)):0,precision:(e=(t=n[7])==null?void 0:t.length)!=null?e:void 0,z:n[8]||void 0,plusMinus:n[9]||void 0,hourOffset:Me(n[10]),minuteOffset:Me(n[11])}:null}function Me(r,e=0){return Number(r)||e}let Kp=/^[a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,Jp=/^((https?|ftp):)?\/\/(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(\#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i,Yp=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i,Zp="^\\d{4}-\\d{2}-\\d{2}",Xp="\\d{2}:\\d{2}:\\d{2}",Qp="(([+-]\\d{2}(:?\\d{2})?)|Z)",eg=new RegExp(`${Zp}T${Xp}(\\.\\d+)?${Qp}$`),tg=r=>je(r)||r===r.trim(),rg={}.toString();function ng(){return new Ia}class Ia extends Ee{constructor(){super({type:"string",check(e){return e instanceof String&&(e=e.valueOf()),typeof e=="string"}}),this.withMutation(()=>{this.transform((e,t,n)=>{if(!n.spec.coerce||n.isType(e)||Array.isArray(e))return e;const s=e!=null&&e.toString?e.toString():e;return s===rg?e:s})})}required(e){return super.required(e).withMutation(t=>t.test({message:e||Fe.required,name:"required",skipAbsent:!0,test:n=>!!n.length}))}notRequired(){return super.notRequired().withMutation(e=>(e.tests=e.tests.filter(t=>t.OPTIONS.name!=="required"),e))}length(e,t=ae.length){return this.test({message:t,name:"length",exclusive:!0,params:{length:e},skipAbsent:!0,test(n){return n.length===this.resolve(e)}})}min(e,t=ae.min){return this.test({message:t,name:"min",exclusive:!0,params:{min:e},skipAbsent:!0,test(n){return n.length>=this.resolve(e)}})}max(e,t=ae.max){return this.test({name:"max",exclusive:!0,message:t,params:{max:e},skipAbsent:!0,test(n){return n.length<=this.resolve(e)}})}matches(e,t){let n=!1,s,i;return t&&(typeof t=="object"?{excludeEmptyString:n=!1,message:s,name:i}=t:s=t),this.test({name:i||"matches",message:s||ae.matches,params:{regex:e},skipAbsent:!0,test:a=>a===""&&n||a.search(e)!==-1})}email(e=ae.email){return this.matches(Kp,{name:"email",message:e,excludeEmptyString:!0})}url(e=ae.url){return this.matches(Jp,{name:"url",message:e,excludeEmptyString:!0})}uuid(e=ae.uuid){return this.matches(Yp,{name:"uuid",message:e,excludeEmptyString:!1})}datetime(e){let t="",n,s;return e&&(typeof e=="object"?{message:t="",allowOffset:n=!1,precision:s=void 0}=e:t=e),this.matches(eg,{name:"datetime",message:t||ae.datetime,excludeEmptyString:!0}).test({name:"datetime_offset",message:t||ae.datetime_offset,params:{allowOffset:n},skipAbsent:!0,test:i=>{if(!i||n)return!0;const a=Mn(i);return a?!!a.z:!1}}).test({name:"datetime_precision",message:t||ae.datetime_precision,params:{precision:s},skipAbsent:!0,test:i=>{if(!i||s==null)return!0;const a=Mn(i);return a?a.precision===s:!1}})}ensure(){return this.default("").transform(e=>e===null?"":e)}trim(e=ae.trim){return this.transform(t=>t!=null?t.trim():t).test({message:e,name:"trim",test:tg})}lowercase(e=ae.lowercase){return this.transform(t=>je(t)?t:t.toLowerCase()).test({message:e,name:"string_case",exclusive:!0,skipAbsent:!0,test:t=>je(t)||t===t.toLowerCase()})}uppercase(e=ae.uppercase){return this.transform(t=>je(t)?t:t.toUpperCase()).test({message:e,name:"string_case",exclusive:!0,skipAbsent:!0,test:t=>je(t)||t===t.toUpperCase()})}}ng.prototype=Ia.prototype;let sg=r=>r!=+r;function ig(){return new Fa}class Fa extends Ee{constructor(){super({type:"number",check(e){return e instanceof Number&&(e=e.valueOf()),typeof e=="number"&&!sg(e)}}),this.withMutation(()=>{this.transform((e,t,n)=>{if(!n.spec.coerce)return e;let s=e;if(typeof s=="string"){if(s=s.replace(/\s/g,""),s==="")return NaN;s=+s}return n.isType(s)||s===null?s:parseFloat(s)})})}min(e,t=Qe.min){return this.test({message:t,name:"min",exclusive:!0,params:{min:e},skipAbsent:!0,test(n){return n>=this.resolve(e)}})}max(e,t=Qe.max){return this.test({message:t,name:"max",exclusive:!0,params:{max:e},skipAbsent:!0,test(n){return n<=this.resolve(e)}})}lessThan(e,t=Qe.lessThan){return this.test({message:t,name:"max",exclusive:!0,params:{less:e},skipAbsent:!0,test(n){return n<this.resolve(e)}})}moreThan(e,t=Qe.moreThan){return this.test({message:t,name:"min",exclusive:!0,params:{more:e},skipAbsent:!0,test(n){return n>this.resolve(e)}})}positive(e=Qe.positive){return this.moreThan(0,e)}negative(e=Qe.negative){return this.lessThan(0,e)}integer(e=Qe.integer){return this.test({name:"integer",message:e,skipAbsent:!0,test:t=>Number.isInteger(t)})}truncate(){return this.transform(e=>je(e)?e:e|0)}round(e){var t;let n=["ceil","floor","round","trunc"];if(e=((t=e)==null?void 0:t.toLowerCase())||"round",e==="trunc")return this.truncate();if(n.indexOf(e.toLowerCase())===-1)throw new TypeError("Only valid options for round() are: "+n.join(", "));return this.transform(s=>je(s)?s:Math[e](s))}}ig.prototype=Fa.prototype;let Da=new Date(""),ag=r=>Object.prototype.toString.call(r)==="[object Date]";function Na(){return new ur}class ur extends Ee{constructor(){super({type:"date",check(e){return ag(e)&&!isNaN(e.getTime())}}),this.withMutation(()=>{this.transform((e,t,n)=>!n.spec.coerce||n.isType(e)||e===null?e:(e=Wp(e),isNaN(e)?ur.INVALID_DATE:new Date(e)))})}prepareParam(e,t){let n;if(Tt.isRef(e))n=e;else{let s=this.cast(e);if(!this._typeCheck(s))throw new TypeError(`\`${t}\` must be a Date or a value that can be \`cast()\` to a Date`);n=s}return n}min(e,t=Nn.min){let n=this.prepareParam(e,"min");return this.test({message:t,name:"min",exclusive:!0,params:{min:e},skipAbsent:!0,test(s){return s>=this.resolve(n)}})}max(e,t=Nn.max){let n=this.prepareParam(e,"max");return this.test({message:t,name:"max",exclusive:!0,params:{max:e},skipAbsent:!0,test(s){return s<=this.resolve(n)}})}}ur.INVALID_DATE=Da;Na.prototype=ur.prototype;Na.INVALID_DATE=Da;function og(r,e=[]){let t=[],n=new Set,s=new Set(e.map(([a,o])=>`${a}-${o}`));function i(a,o){let u=gt.split(a)[0];n.add(u),s.has(`${o}-${u}`)||t.push([o,u])}for(const a of Object.keys(r)){let o=r[a];n.add(a),Tt.isRef(o)&&o.isSibling?i(o.path,a):us(o)&&"deps"in o&&o.deps.forEach(u=>i(u,a))}return Ip.array(Array.from(n),t).reverse()}function pi(r,e){let t=1/0;return r.some((n,s)=>{var i;if((i=e.path)!=null&&i.includes(n))return t=s,!0}),t}function La(r){return(e,t)=>pi(r,e)-pi(r,t)}const ug=(r,e,t)=>{if(typeof r!="string")return r;let n=r;try{n=JSON.parse(r)}catch{}return t.isType(n)?n:r};function $r(r){if("fields"in r){const e={};for(const[t,n]of Object.entries(r.fields))e[t]=$r(n);return r.setFields(e)}if(r.type==="array"){const e=r.optional();return e.innerType&&(e.innerType=$r(e.innerType)),e}return r.type==="tuple"?r.optional().clone({types:r.spec.types.map($r)}):"optional"in r?r.optional():r}const lg=(r,e)=>{const t=[...gt.normalizePath(e)];if(t.length===1)return t[0]in r;let n=t.pop(),s=gt.getter(gt.join(t),!0)(r);return!!(s&&n in s)};let gi=r=>Object.prototype.toString.call(r)==="[object Object]";function mi(r,e){let t=Object.keys(r.fields);return Object.keys(e).filter(n=>t.indexOf(n)===-1)}const cg=La([]);function dg(r){return new Ma(r)}class Ma extends Ee{constructor(e){super({type:"object",check(t){return gi(t)||typeof t=="function"}}),this.fields=Object.create(null),this._sortErrors=cg,this._nodes=[],this._excludedEdges=[],this.withMutation(()=>{e&&this.shape(e)})}_cast(e,t={}){var n;let s=super._cast(e,t);if(s===void 0)return this.getDefault(t);if(!this._typeCheck(s))return s;let i=this.fields,a=(n=t.stripUnknown)!=null?n:this.spec.noUnknown,o=[].concat(this._nodes,Object.keys(s).filter(c=>!this._nodes.includes(c))),u={},l=Object.assign({},t,{parent:u,__validating:t.__validating||!1}),d=!1;for(const c of o){let f=i[c],p=c in s;if(f){let y,_=s[c];l.path=(t.path?`${t.path}.`:"")+c,f=f.resolve({value:_,context:t.context,parent:u});let m=f instanceof Ee?f.spec:void 0,x=m==null?void 0:m.strict;if(m!=null&&m.strip){d=d||c in s;continue}y=!t.__validating||!x?f.cast(s[c],l):s[c],y!==void 0&&(u[c]=y)}else p&&!a&&(u[c]=s[c]);(p!==c in u||u[c]!==s[c])&&(d=!0)}return d?u:s}_validate(e,t={},n,s){let{from:i=[],originalValue:a=e,recursive:o=this.spec.recursive}=t;t.from=[{schema:this,value:a},...i],t.__validating=!0,t.originalValue=a,super._validate(e,t,n,(u,l)=>{if(!o||!gi(l)){s(u,l);return}a=a||l;let d=[];for(let c of this._nodes){let f=this.fields[c];!f||Tt.isRef(f)||d.push(f.asNestedTest({options:t,key:c,parent:l,parentPath:t.path,originalParent:a}))}this.runTests({tests:d,value:l,originalValue:a,options:t},n,c=>{s(c.sort(this._sortErrors).concat(u),l)})})}clone(e){const t=super.clone(e);return t.fields=Object.assign({},this.fields),t._nodes=this._nodes,t._excludedEdges=this._excludedEdges,t._sortErrors=this._sortErrors,t}concat(e){let t=super.concat(e),n=t.fields;for(let[s,i]of Object.entries(this.fields)){const a=n[s];n[s]=a===void 0?i:a}return t.withMutation(s=>s.setFields(n,[...this._excludedEdges,...e._excludedEdges]))}_getDefault(e){if("default"in this.spec)return super._getDefault(e);if(!this._nodes.length)return;let t={};return this._nodes.forEach(n=>{var s;const i=this.fields[n];let a=e;(s=a)!=null&&s.value&&(a=Object.assign({},a,{parent:a.value,value:a.value[n]})),t[n]=i&&"getDefault"in i?i.getDefault(a):void 0}),t}setFields(e,t){let n=this.clone();return n.fields=e,n._nodes=og(e,t),n._sortErrors=La(Object.keys(e)),t&&(n._excludedEdges=t),n}shape(e,t=[]){return this.clone().withMutation(n=>{let s=n._excludedEdges;return t.length&&(Array.isArray(t[0])||(t=[t]),s=[...n._excludedEdges,...t]),n.setFields(Object.assign(n.fields,e),s)})}partial(){const e={};for(const[t,n]of Object.entries(this.fields))e[t]="optional"in n&&n.optional instanceof Function?n.optional():n;return this.setFields(e)}deepPartial(){return $r(this)}pick(e){const t={};for(const n of e)this.fields[n]&&(t[n]=this.fields[n]);return this.setFields(t,this._excludedEdges.filter(([n,s])=>e.includes(n)&&e.includes(s)))}omit(e){const t=[];for(const n of Object.keys(this.fields))e.includes(n)||t.push(n);return this.pick(t)}from(e,t,n){let s=gt.getter(e,!0);return this.transform(i=>{if(!i)return i;let a=i;return lg(i,e)&&(a=Object.assign({},i),n||delete a[e],a[t]=s(i)),a})}json(){return this.transform(ug)}exact(e){return this.test({name:"exact",exclusive:!0,message:e||kr.exact,test(t){if(t==null)return!0;const n=mi(this.schema,t);return n.length===0||this.createError({params:{properties:n.join(", ")}})}})}stripUnknown(){return this.clone({noUnknown:!0})}noUnknown(e=!0,t=kr.noUnknown){typeof e!="boolean"&&(t=e,e=!0);let n=this.test({name:"noUnknown",exclusive:!0,message:t,test(s){if(s==null)return!0;const i=mi(this.schema,s);return!e||i.length===0||this.createError({params:{unknown:i.join(", ")}})}});return n.spec.noUnknown=e,n}unknown(e=!0,t=kr.noUnknown){return this.noUnknown(!e,t)}transformKeys(e){return this.transform(t=>{if(!t)return t;const n={};for(const s of Object.keys(t))n[e(s)]=t[s];return n})}camelCase(){return this.transformKeys(yn.camelCase)}snakeCase(){return this.transformKeys(yn.snakeCase)}constantCase(){return this.transformKeys(e=>yn.snakeCase(e).toUpperCase())}describe(e){const t=(e?this.resolve(e):this).clone(),n=super.describe(e);n.fields={};for(const[i,a]of Object.entries(t.fields)){var s;let o=e;(s=o)!=null&&s.value&&(o=Object.assign({},o,{parent:o.value,value:o.value[i]})),n.fields[i]=a.describe(o)}return n}}dg.prototype=Ma.prototype;const Hg=async(r="",e)=>{let t=Vi.from("Patients").select("*");return r.trim().length>0&&(t=t.ilike("name",`%${r}%`)),e?await t.abortSignal(e):await t},qg=async r=>{const{error:e}=await Vi.from("Patients").insert([r]).select("*");e?ms.error("     "):ms.success("   ")};function Gg({label:r,disabled:e}){return W.jsx("button",{disabled:e,type:"submit",className:"p-3 bg-primary max-sm:w-full w-24 hover:opacity-80 transition rounded-xl mt-3 text-muted font-semibold disabled:bg-gray-400",children:r})}function fg(r){const{label:e,icon:t,error:n,className:s,...i}=r;return W.jsxs("div",{className:Ft("flex flex-col gap-1 ",s),children:[e&&W.jsx("label",{className:"",htmlFor:r.id,children:e}),W.jsxs("div",{className:Ft("flex items-center gap-2 h-10 bg-white rounded-xl px-2 ring-offset-background data-[placeholder]:!text-grey-grey1 text-text-black focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 border border-transparent",{"border-red-500":!!n}),children:[t&&t,W.jsx(Gi,{...i,className:Ft("rounded-xl bg-transparent focus-visible:outline-none focus-visible:ring-0 border-none focus-visible:border-none focus-visible:ring-offset-transparent focus-visible:ring-transparent px-1 w-full flex-1 ")})]}),W.jsx("span",{className:"text-red-600 text-xs h-4",children:n})]})}function Wg(r){return W.jsx(pp,{name:r.name,children:({field:e,form:{touched:t,errors:n},meta:s})=>W.jsx(fg,{error:s.touched&&s.error,...r,...e})})}function Kg({className:r}){return W.jsx("svg",{width:"27px",height:"27px",className:Ft("",r),viewBox:"0 0 48 48",version:"1.1",xmlns:"http://www.w3.org/2000/svg",children:W.jsx("g",{id:"Icons",stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd",children:W.jsx("g",{id:"Color-",transform:"translate(-700.000000, -360.000000)",fill:"#67C15E",children:W.jsx("path",{d:"M723.993033,360 C710.762252,360 700,370.765287 700,383.999801 C700,389.248451 701.692661,394.116025 704.570026,398.066947 L701.579605,406.983798 L710.804449,404.035539 C714.598605,406.546975 719.126434,408 724.006967,408 C737.237748,408 748,397.234315 748,384.000199 C748,370.765685 737.237748,360.000398 724.006967,360.000398 L723.993033,360.000398 L723.993033,360 Z M717.29285,372.190836 C716.827488,371.07628 716.474784,371.034071 715.769774,371.005401 C715.529728,370.991464 715.262214,370.977527 714.96564,370.977527 C714.04845,370.977527 713.089462,371.245514 712.511043,371.838033 C711.806033,372.557577 710.056843,374.23638 710.056843,377.679202 C710.056843,381.122023 712.567571,384.451756 712.905944,384.917648 C713.258648,385.382743 717.800808,392.55031 724.853297,395.471492 C730.368379,397.757149 732.00491,397.545307 733.260074,397.27732 C735.093658,396.882308 737.393002,395.527239 737.971421,393.891043 C738.54984,392.25405 738.54984,390.857171 738.380255,390.560912 C738.211068,390.264652 737.745308,390.095816 737.040298,389.742615 C736.335288,389.389811 732.90737,387.696673 732.25849,387.470894 C731.623543,387.231179 731.017259,387.315995 730.537963,387.99333 C729.860819,388.938653 729.198006,389.89831 728.661785,390.476494 C728.238619,390.928051 727.547144,390.984595 726.969123,390.744481 C726.193254,390.420348 724.021298,389.657798 721.340985,387.273388 C719.267356,385.42535 717.856938,383.125756 717.448104,382.434484 C717.038871,381.729275 717.405907,381.319529 717.729948,380.938852 C718.082653,380.501232 718.421026,380.191036 718.77373,379.781688 C719.126434,379.372738 719.323884,379.160897 719.549599,378.681068 C719.789645,378.215575 719.62006,377.735746 719.450874,377.382942 C719.281687,377.030139 717.871269,373.587317 717.29285,372.190836 Z",id:"Whatsapp"})})})})}var hg=(r,e,t,n,s,i,a,o)=>{let u=document.documentElement,l=["light","dark"];function d(p){(Array.isArray(r)?r:[r]).forEach(y=>{let _=y==="class",m=_&&i?s.map(x=>i[x]||x):s;_?(u.classList.remove(...m),u.classList.add(p)):u.setAttribute(y,p)}),c(p)}function c(p){o&&l.includes(p)&&(u.style.colorScheme=p)}function f(){return window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"}if(n)d(n);else try{let p=localStorage.getItem(e)||t,y=a&&p==="system"?f():p;d(y)}catch{}},pg=g.createContext(void 0),gg={setTheme:r=>{},themes:[]},mg=()=>{var r;return(r=g.useContext(pg))!=null?r:gg};g.memo(({forcedTheme:r,storageKey:e,attribute:t,enableSystem:n,enableColorScheme:s,defaultTheme:i,value:a,themes:o,nonce:u,scriptProps:l})=>{let d=JSON.stringify([t,e,i,r,o,a,n,s]).slice(1,-1);return g.createElement("script",{...l,suppressHydrationWarning:!0,nonce:typeof window>"u"?u:"",dangerouslySetInnerHTML:{__html:`(${hg.toString()})(${d})`}})});const Jg=({...r})=>{const{theme:e="system"}=mg();return W.jsx(Eo,{theme:e,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...r})};export{Na as A,fg as B,Bg as C,zg as F,Gi as I,Dg as P,qi as S,Jg as T,Kg as W,Rg as a,Vl as b,Fg as c,Mg as d,Ug as e,Lg as f,Hg as g,Vg as h,dg as i,ng as j,ig as k,qp as l,xg as m,gp as n,Wg as o,Gg as p,qg as q,Za as r,Ya as s,Vi as t,Fl as u,ms as v,Wi as w,Ng as x,On as y,Ig as z};
