import{t as p,w as g}from"./index-BgLhhEyI.js";import{n as e,r as b,q as f}from"./chunk-SYFQ2XB5-CAR-RVZs.js";import{c as v,r as i,k as d,u as h,j as y}from"./Input-Ds7IvxaM.js";import{c as j,d as l,f as w,F as N,I as m}from"./index.esm-CYuaNCqE.js";import{s as E}from"./auth-TXR1wPIW.js";function F({label:r,disabled:a,className:o,variant:t="primary",type:s="submit"}){return e.jsx("button",{disabled:a,type:s,className:v("border border-transparent p-3 font-semibold transition hover:opacity-80 disabled:bg-gray-400 max-sm:w-full",{"rounded-xl bg-primary text-muted":t==="primary","border-foreground bg-transparent text-foreground":t==="secondary"},o),children:r})}function S({children:r}){return e.jsx("span",{className:"border-s-4 border-s-secondary bg-secondary/10 px-2 py-3 text-center text-sm font-semibold text-secondary max-sm:text-xs",children:r})}const{invalidEmail:C}=d.error.auth,q=j({email:l().email(C).required(i),password:l().required(i)});function M(){const[r,a]=b.useState(null),o=f(),{mutate:t,isPending:s}=h({mutationFn:E,onMutate:()=>a(null),onSuccess:()=>o("/"),onError:n=>{const{code:c,statusCode:u}=n;if(u===400&&c==="invalid_credentials"){const{invalidCredentials:x}=d.error.auth;a(x)}else p.error(y)}});return e.jsx(w,{initialValues:{email:"",password:""},validationSchema:q,onSubmit:n=>t(n),children:e.jsx(N,{className:"flex-1",children:e.jsxs("div",{className:"flex flex-1 flex-col gap-3 overflow-auto px-7",children:[e.jsx(m,{className:"[&>div]:border-primary/50 [&>div]:transition",name:"email",label:"البريد الإلكتروني",disabled:s,autoComplete:"on"}),e.jsx(m,{className:"[&>div]:border-primary/50 [&>div]:transition",name:"password",label:"كلمة السر",disabled:s,type:"password",autoComplete:"on"}),r&&e.jsx(S,{children:r}),e.jsx(F,{variant:"primary",label:"تسجيل الدخول",className:"w-full",disabled:s,type:"submit"})]})})})}const B=g(function(){return e.jsx("div",{className:"flex h-full w-full items-center justify-center bg-[linear-gradient(45deg,rgb(var(--secondary)),rgb(var(--primary)))]",children:e.jsxs("div",{className:"flex max-h-[90%] min-h-[28rem] w-[25rem] flex-col gap-5 rounded-[50px] bg-white pb-8 pt-3 max-sm:max-w-[90%] max-sm:rounded-3xl",children:[e.jsx("img",{src:"/images/full-logo.png",alt:"logo",className:"mx-auto w-48 object-contain max-sm:w-40"}),e.jsx(M,{})]})})});export{B as default};
